00:00:05.450 - 00:01:03.626, Speaker A: Welcome to Zero Knowledge. I'm your host, Anna Rose. In this podcast, we will be exploring the latest in zero knowledge research and the decentralized web, as well as new paradigms that promise to change the way we interact and transact online. You this week I chat with Zucky Munyan, a long standing member of the Cosmos community and the co founder of the iclusion Validator. In this chat, we explore his new project, sommelier, and how they aim to develop strategies to better use the more sophisticated emerging D five projects like Uniswap V three, and how this would allow an average user to actually benefit from these new, powerful tools. We chat about his vision for multichain DFI and how the space has evolved over the last few years. But before we start in, I want to let you know about Zkhack, a multiround weekly online event consisting of workshops and puzzle solving competitions.
00:01:03.626 - 00:01:34.780, Speaker A: This is put together by the podcast and the ZK validator, and it's supported by a group of fantastic sponsors. It will kick off a weekly cadence starting October 26. Think Hackathon meets CTF meets dark force round based competition. There will be a leaderboard and prizes and deep dive learning sessions with the best teams in the space. This is the event that we're putting together this fall and I hope you will check it out. If you're interested, do head over to the website now and sign up if you've already signed up. We will be in touch with you shortly with more details about the event.
00:01:34.780 - 00:02:36.730, Speaker A: I also want to thank this week's sponsor, Anoma. Anoma is a multivariate and multivariable bartering protocol that enables bartering among end parties of arbitrary assets, including nfts, all with zero knowledge privacy. Anoma makes large scale settlements extremely efficient, as the design of Anoma's state machine is not based on step by step execution model and it removes the requirements of double coincidence of wants or direct matches. I've added a link to co founder AwA's Twitter thread in the show notes, where she goes into more detail about this project. Quick note, we did have Adrienne on the show back in June in case you want to learn more, and since that recording, the ZK validator has become an investor in the project. So be sure to stay tuned for Anoma's first public testnet in which you will be able to play with Anoma's proof of stake, intent, gossip, matchmaking layer, and custom validity predicates. Also check Enoma's codebase on GitHub and just a note the team building Inoma is hiring, so if you're interested in finding out more, check the links in the show notes for their jobs.
00:02:36.730 - 00:02:53.710, Speaker A: So thank you again, Anoma. Now, here is my conversation with Zucky. So today I'm here with Zucky Munyan, the co founder of Sommelier Cosmos Core from the validator iclusion. Welcome back to the show, Zucky.
00:02:53.870 - 00:02:59.154, Speaker B: It's great to be back, as always. This is my favorite show. It's my favorite podcast.
00:02:59.282 - 00:03:25.450, Speaker A: Yes. This is the third time you're on the show. I think it was like two years ago, we did an episode mostly focused on your work at occlusion, I believe, like validation and cosmos. You were on another episode this year where it was like a combo episode all about the Cosmos Stargate upgrade. But today we're going to be focusing on your new project, sommelier. Sommelier. Sommelier.
00:03:25.450 - 00:03:41.410, Speaker A: Cool. But why don't you tell us a little bit what you've been up to? If you want, we could even start in on that. What is sommelier? And also, how does this in any way connect to the other work you've been doing? I'd love to hear your journey to this kind of.
00:03:41.560 - 00:04:54.298, Speaker B: Yeah, absolutely. Let's talk about the journey that has brought sommelier to this point. So I think one of the questions has been, I probably have had this opinion for a very long time, which is, like, what is the cosmos stack uniquely for, and how does it fit into this ecosystem of blockchains? And I've sort of been less excited about sort of building another ethereum. I think that that dream of building, like, building another ethereum, building a better ethereum, has been kind of very pervasive. And there's certainly people in the Cosmos ecosystem who have that dream, but that's never been my dream. My dream has always been, I've been very fascinated by this idea that chains could compose together, that there are going to be different chains which have different strengths and weaknesses, and we can actually sort of meld them together in order to build more complex systems. And that's always been what's excited to me.
00:04:54.298 - 00:05:36.840, Speaker B: And sommelier is a sort of manifestation of that vision, sort of manifesting sort of post defi summer, which is kind of like where I'm at right now. And it's funny, we just finished Mainnet in New York, which was this sort of interesting conference. It was, for me, was my first conference since the beginning of the pandemic. It's very interesting to me, like, going to these conferences and seeing all of these new generations of people who come into the blockchain space, and I'm kind of the elder generation of people who built consensus protocols and l one infrastructure and that layer of the system.
00:05:37.930 - 00:05:57.902, Speaker A: I'm wondering. The first episode that we did was all about, as far as I remember, it was like all about occlusion and being a validator and all of that. So I'm curious, what is the relationship? Sommelier is a new project. Is this a related project? Does it come out of your work doing validation? Or do you feel like there was other influences that prompted this?
00:05:58.036 - 00:06:07.060, Speaker B: I mean, a big part of what we're trying to do in sommelier is we are trying to show how validators can move up the value.
00:06:07.910 - 00:06:08.466, Speaker A: Interesting.
00:06:08.568 - 00:07:33.370, Speaker B: Like that's a big part of it, because Defi changes the nature of validation. I think that's one of the biggest sort of views that we have in similar day project that I have a view in general, whereas really the business of doing, of just executing the consensus protocol is sort of fairly commoditized. Right. And so what you actually are seeing more and more in sort of the emerging validation business is more intersections between Defi and validation. And so one example I could point out would be like Lido, where you have this community of validators, but what they're building is fundamentally like a staking derivative, a liquid staking primitive, and how it interacts with Ethereum DFI. And sort of the validation part of validating E 2.0 is more of an implementation detail of how this larger system of a financial primitive that is designed to be sort of based on eats two staking, but is essentially supposed to be one for one, equivalent to ETH, and may someday displace eth as the unit of account inside of the ethereum ecosystem.
00:07:33.710 - 00:08:06.790, Speaker A: So it's this idea of building up the stack, the actual validation. I mean, this came up like, what was it like two years ago? It was like, I think some of Tarun's work, this idea that the staking derivative of a staked token could actually potentially undermine the strength of the network if the liquid token started to offer better rewards in the DFI market. And I remember that being like a worry. And it sort of sounds like there's validators or validator like entities that are starting to try to bridge that maybe, or try to make sure that they can continue to balance this out correctly.
00:08:07.130 - 00:08:44.370, Speaker B: So it's like one of the things that you just generally see is right, is like, again, the validator market is evolving. If you look at sort of the primordial cosmos validator set from the beginning, every one of them has gone in different directions. Certus, one, who is, like, one of the earliest independent validators, was acquired by jump trading. In some sense, that was obviously going to happen, but that is very clearly like, look, one of the formative and most highly skilled validators in the system has already been acquired by what is primarily a market making and trading firm.
00:08:44.790 - 00:08:48.850, Speaker A: And then you have Bison trails, who was also acquired by Coinbase.
00:08:48.930 - 00:10:12.960, Speaker B: Yeah, Bison Trails was acquired by Coinbase. Figment has raised lots of money, is part of a bunch of protocol dev grants, and they have also a fund. You are seeing the early validators all migrating into these different parts of the stack. And sommelier is really saying validators can facilitate a marketplace of sort of DeFi data feeds that can be executed on different chains where there is DeFi activity happening and really facilitate accessibility of the increasing complexity of DeFi. We are still in the early, simple era of DeFi, but we are starting to see a transition into this more complex world. And similier is trying to build a set of primitives for that more complex world of DeFi that leverages the increasing capability and skill sets of validators and still provides sort of democratized access to DeFi primitives and protocols. I think the biggest risk right now that I see to sort of democratize access to DeFi, it'll be cut off for regulatory reasons and more that as sort of natural protocol competition sort of continues to move.
00:10:12.960 - 00:10:33.000, Speaker B: Interacting with these protocols becomes so complex that people are like, well, I just can't keep up. And it's all institutional players who are able to. And so, in many ways, what sommelier is trying to do is build a decentralized liquidity management institution, which is kind of where the name comes from.
00:10:33.370 - 00:10:36.982, Speaker A: Tell me about the name. Isn't that the wine guy at the.
00:10:37.116 - 00:10:48.010, Speaker B: Yeah. A sommelier is there to help a consumer navigate the complex world of wine and sort of get the best out of their experience.
00:10:48.160 - 00:10:52.950, Speaker A: Got it. And so this is like the curator, the person who's going to lead you.
00:10:53.040 - 00:11:05.540, Speaker B: To the best, deploy your liquidity in the way that gets you the best experience. Got it. What we are trying to do is we're trying to build an architecture that facilitates this. Cool.
00:11:05.910 - 00:11:25.494, Speaker A: I do wonder, though, we just talked about sort of the validators moving up and starting to build out more tools. Having been a validator, does it position you differently than had you been, like, a new DeFi project that's just coming on? Do you see any sort of learnings or anything that you kind of brought with you in the design of this.
00:11:25.612 - 00:12:12.562, Speaker B: This is what I would kind of portray as the sort of asymmetric advantage of the is, you know, a number of us who are building sommelier run validators. Jack runs a validator. I run a know, we have people in the team. We have people who are data people who are Defi people. We run, like, a phenomenal amount of infrastructure in the project. And one of the things that is sort of notable among sort of, again, this generation that is certainly coming to this project is the infrastructure is all provided for them, and they're trying to figure out what is it that can be built. On top of everything from indexing protocols like the graph, you have all of these frameworks that exist.
00:12:12.562 - 00:12:35.280, Speaker B: You have smart contract execution environments, and a lot of DeFi has been about what can you execute, assuming these pieces of infrastructure. By sort of having this team that is sort of a little bit more used to building infrastructure from the ground up, we're attempting something that is a little bit more challenging in the DeFi space, and I think, if we're successful, important.
00:12:35.970 - 00:12:55.170, Speaker A: Got it. I want to link this to cosmos itself, too. You were talking about this cross chainness, like sommelier helping you deploy liquidity. But is it cross chain? Does it live across a bunch of places, and it's like, this standalone entity, or does it live on top of an existing network?
00:12:55.590 - 00:13:21.210, Speaker B: The core logic of sommelier is truly cross chain. Okay. And that's, like, one of the things that I think is fun and exciting and challenging about what it is that we're building. I. E. We are building a truly integrated system in which there is a part of it that lives on right now, EVM chains and Ethereum itself. But we want to scale out to all of the l two s, and it's relatively doable to do this.
00:13:21.210 - 00:13:54.402, Speaker B: But the scalability work that we announced recently with Mystin Labs is all about ensuring that we have enough scaling in the cosmos stack to support a large number of different EVM execution environments. But this is what's cool, is it's like the unique skill set of the SOM team is able to allow us to do this, which is provide a user experience. That is, if you are a liquidity provider who's interacting with Som, you don't experience interacting with a cosmos chain. You experience interacting with Ethereum or another other EVM.
00:13:54.546 - 00:13:58.690, Speaker A: Okay, going back to this, underneath it, is it kind of like a zone?
00:13:58.770 - 00:14:00.410, Speaker B: It is a zone. It is an l one.
00:14:00.480 - 00:14:06.182, Speaker A: Okay. It's an l one. It's a zone. Would you see this as like a bridging zone?
00:14:06.326 - 00:15:10.798, Speaker B: So again, the bridging functionality is an implementation detail. What is the user experience that someone experiences interacting with Somilia, which is they experience? There are a set of sellers on their Ethereum environment that they're in. They say, I want to provide liquidity into this uniswap v three pair with this strategy. I want to provide liquidity into this ave contract with this strategy. And then from their point of view, they're just putting money into a smart contract, they're putting resources into a smart contract. And behind the scenes, the validator set is ensuring that data continues to flow into the system, that there is fault tolerance, that there is a marketplace of data providers, those data providers vote on the next updates, the actions that the smart contract will take, and then the bridge ensures that those actually get delivered and executed. On the Ethereum side, is it sort.
00:15:10.804 - 00:15:16.778, Speaker A: Of like all of these evms, though? You'd have a bridge between the EVM chains or EVM compatible chains and Ethereum?
00:15:16.794 - 00:15:58.880, Speaker B: Yeah, one of the things that is. So there's this bridge technology that has been gestating the cosmos for years that we are using, which is called the gravity bridge, and we're not the only ones using it. Injective has it running in production right now. We have it running in production right now. There are a bunch of other chains that are adopting and watching with the gravity bridge technology. Again, it's the cosmos strategy of we build, like, a foundational piece of technology, and then it manifests in a bunch of different chains for a bunch of different applications. That is sort of core to my nature as a builder in this space, that I like to build things that way.
00:15:58.880 - 00:16:10.594, Speaker B: So one of the things that about the gravity bridge that I think is very cool is it was designed from the ground up to be agnostic about what EvM it's connected to.
00:16:10.712 - 00:16:11.442, Speaker A: Got it.
00:16:11.576 - 00:16:33.946, Speaker B: Because we always anticipated that there would be lots of evms to connect to. And lo and behold, there we are. That's why we picked the gravity bridge for sommelier and why we've invested in it. We've been a big part of helping sort of build the gravity technology for the last 18 months because we wanted to be able to be agnostic about what EVM we ended up deploying it to.
00:16:34.048 - 00:16:49.834, Speaker A: Understood. As it stands, do you plan on using IBC as well to interact with other zones, or is this not currently? Because it sounds like it's very EVM focused. It's very much focused on the existing defi stack that tends to live on EVM compatible chains.
00:16:49.962 - 00:17:14.642, Speaker B: What does sommelier need? What isn't a good target for sommelier execution environment? So again, right now, sommelier is not concerned with doing any sort of defi execution, I. E. Having know, people trading, et cetera, on the sommelier chain.
00:17:14.706 - 00:17:15.078, Speaker A: Okay.
00:17:15.164 - 00:17:23.146, Speaker B: It's focused primarily on being a marketplace for data flowing through sommelier to execution somewhere else.
00:17:23.248 - 00:17:23.946, Speaker A: I see.
00:17:24.048 - 00:17:52.930, Speaker B: Just to answer your question about how we think about IBC, what we need is there to be sort of the higher end of complexity of defi protocols to sort of start existing, I. E. Where there are multiple knobs to turn when you're providing liquidity. If the system is still in sort of the earlier stages of DFI evolution, it's not really compelling to add somalier as a layer on.
00:17:53.000 - 00:18:19.482, Speaker A: Understood. Does it have something to do a little bit with this? Almost like uniswap v two versus uniswap v three. Like uniswap v two being quite simple. And maybe we're starting to see parts of that, or like maybe more simple d five projects. We see this in cosmos now, or in different zones, but you're not made for those. You're not made for the kind of easy. If it's very easy, then maybe it's easier for the user to just use that.
00:18:19.536 - 00:18:22.186, Speaker B: The easy d five way it goes, we don't add a lot of value.
00:18:22.288 - 00:18:34.980, Speaker A: Okay. But you might be more useful for the complex stuff. I mean, the only example I have in my mind, because we had them on the show at some point, was like, uniswap and v three, and how that was like, a more complicated product.
00:18:35.430 - 00:18:42.242, Speaker B: We view v three, and we view this as the direction DFI will be pushed by competitive price.
00:18:42.296 - 00:18:42.980, Speaker A: I see.
00:18:43.350 - 00:19:05.210, Speaker B: And I think you can see that sushi swap announced Trident, which we are very excited about, which has this concentrated liquidity capability that Uniswap V three also pioneered. And basically, just the natural competitive pressure of DFI is going to push the world of users towards that.
00:19:05.360 - 00:19:27.986, Speaker A: And the problem we see sometimes with that, what you just said earlier in this episode, the more complicated it becomes, the less the kind of average deFi user, or not very sophisticated defi user can actually benefit from these things. It's more likely they're going to lose gas fees, they're going to not be able to work these strategies. Unless they had a team, maybe, or a lot of funds. I don't know. I don't know which fund you need.
00:19:28.008 - 00:20:31.046, Speaker B: More, but what you end up needing is like, you need engineering and data teams, okay? Is really what it is, is you, as a uniswap V two user, there were only two decision points, right? I'm talking about in the liquidity provider role, okay? In the liquidity provider role. In the Uniswap V two world, it was like, I can either put my liquidity in and I can take it out. That's the extent of the decision. Now the question is, in the Uniswap b three world, it now becomes a much more interesting question of, I can provide liquidity at different price ranges. I can have as a sort of portfolio of positions. I can own multiple different price ranges where I'm providing liquidity, and each one of these is going to have different performance characteristics. And now my question is, how do I make a decision? How do I make a decision about this? The reality of the situation is there are some simple decisions that users can make that can be guided by data.
00:20:31.046 - 00:20:58.922, Speaker B: And we offered that as like an initial sort of business intelligence tool on top of Uniswap V three that we called pairings, which was sort of just guiding people into like, here's a good liquidity range that you might be able to pick. And honestly, users did pretty well with that in the market. We had about $10 million of liquidity deployed via the pairings app, and people generated about a million dollars of just fee returns.
00:20:58.986 - 00:20:59.694, Speaker A: Nice.
00:20:59.892 - 00:21:40.150, Speaker B: Using the pairings product, pairings was just sort of our initial stab at building something on top of V three and learning about it while we continue to build out the sellers products on top of V three. And we are going to be launching shortly, probably. I would say our current target is October. We are going to be launching a number of now validator managed data feed managed Uniswap B three products. But it's just like the amount of stuff we've had to build. Like we are running custom sub graphs that are extracting custom data feeds that are going into a data warehouse. We have a data science team that is analyzing it.
00:21:40.150 - 00:22:38.590, Speaker B: We are constantly evolving that whole piece and picture. And then there's a bunch of fundamental research about economic primitives. Because I'm pretty convinced that the long run actual, that if you, for instance, don't have the ability to put and call options in addition to liquidity ranges, you can't actually build a market making position on top of uniswap V three that is robust. And so it's just like continuous r and d is kind of the story. And if you're an end user, you're just like, I can't do any of this right. The best strategy for an end user today is like, hey, I would be buying ETH at $1,000 and I would be selling ETH at $5,000 and I'll stick that range in, and it will not be optimal from a fee generation point of view, but it does earn me some fees and allows me to be essentially earned yield on being long eth.
00:22:39.170 - 00:23:02.434, Speaker A: The first time I heard about the project, the splash across the screen or the headline was something about impermanent loss and, like, ending impermanent loss. And I kind of understand from what you described, sort of how that was understood, but do you actually see it as actually ending it or minimizing it, maybe, or just like helping with strategies?
00:23:02.562 - 00:23:43.682, Speaker B: I would say that what happened was our first target about what we were building this infrastructure on was uniswap V two. And so we were building on top of uniswap V two. We were like, happily building on top of uniswap V two. We knew that some V three thing was coming and didn't have any details. Everybody was keeping all of the details pretty close to their vest. And then the V three paper came out and we made sort of this decision right when the V three paper came out that we were going to just pivot entirely and sort of focus on V three. Now, since then, our scope has broadened because of two things.
00:23:43.682 - 00:23:50.310, Speaker B: One is V three and things like it, and how to manage liquidity on it is an r and d, like rabbit hole.
00:23:50.650 - 00:23:51.810, Speaker A: They're powerful.
00:23:51.970 - 00:24:32.626, Speaker B: It's very powerful. But it's also like, there's just so much to learn and there's so much research to do and there's so much general work to do. We were launching Ave and compound based sellers in addition to our V three based sellers. And is our prediction that our V three sellers will be our highest TVL sellers? Probably not. Like, we think we'll probably generate most of it. Like, the biggest TvL sellers maybe are avian compound sellers, which are a bit more well defined and well understood systems, whereas V three is very much like an ongoing r and D project that we are participating in.
00:24:32.728 - 00:24:36.818, Speaker A: Would you almost say you're still developing your own internal strategies for this?
00:24:36.984 - 00:25:14.814, Speaker B: We are going to launch systems and we are going to launch strategies, and we are going to say that this represents kind of the state of the art of our current r and D, but to say that we have come to something that is like steady state or optimized completely. Yeah, it's hard for me to foresee what v three type world steady state might even look like. I think there's still so many open questions. It is a continuous and interesting r and D project, and we will continue to invest in that r and D, but we view our scope as much broader than just building a v three.
00:25:14.852 - 00:25:51.290, Speaker A: Rebalancer in what you're saying. It's making me think a little bit of like urine. But then you mentioned this TVL sellers. This maybe will help me understand a little bit more about what's actually happening. Because with urine, there are strategies, but you're like investing into a smart contract that's doing behind the scenes a lot of kind of defi trades with the liquidity tokens or governance tokens, selling that for you, kind of giving you a cut, saving you gas fees. And we've talked about different strategies happening under the hood. In your case, it's not using necessarily the governance tokens, is it returning funds to people? You said before it was more focused on data.
00:25:51.290 - 00:25:55.150, Speaker A: So I'm just curious, what are these sellers? How does it actually work?
00:25:55.220 - 00:26:54.126, Speaker B: Yeah, so I would say the biggest way that we are differentiated from what yearn is doing is if you look at urine's TVL. Urine's TVL is highly focused on strategies that are basically optimized yield farms. They will optimize your yield farm, they will optimize your stablecoin yield farm for you, so that you are just generating the fees. The reason why a yearn is generating these fees for you is because, one, they're sort of whitelisted into certain advantageous yield farms to begin with, which is basically bizdev work. And then there's this cascaded sequence of actions that are complex and have to be sort of densely built together. And urine just does an extraordinarily good job of putting those pieces together. But they are also fairly static and stable.
00:26:54.126 - 00:27:27.290, Speaker B: Right. Like a good urine strategy basically doesn't evolve over time. The strategy is basically like fairly static. It's fairly stable. Typically returns sort of tend to tail off as more capital gets invested into a specific strategy. And what sommelier is trying to do is do things that require sort of a lot more dynamic adaptation, which is not urine strength. Urine strength is stable, predictable, really high quality composability.
00:27:27.290 - 00:28:00.086, Speaker B: We will compose these yield farms together, and in a ways that's very advantageous to you. And so far, Somilia is right now looking less at yield farming and governance tokens as our source of sort of alpha and more. We can turn the knobs on this defi protocol. In the right ways to give you maximum sort of capital, efficiency, fees and.
00:28:00.108 - 00:28:07.606, Speaker A: Utilization, and maybe minimize going back to that impermanent loss. Is that still a thing or the.
00:28:07.788 - 00:28:43.410, Speaker B: Extent to which impermanent loss is a thing in sort of the concentrated liquidity world actually comes down to how you use it. So if you provide sort of wide band liquidity, you do incur interminent loss over that range, but it's also bounded. Right. So the thing is that if you provide liquidity over the 1000 to USDC to 5000 USDC range, if you go below $1,000, you will be entirely in ETH.
00:28:44.070 - 00:28:44.578, Speaker A: Okay.
00:28:44.664 - 00:28:49.458, Speaker B: And if the price of ETH goes above $5,000, you will be entirely in USDC.
00:28:49.554 - 00:28:50.198, Speaker A: Yeah.
00:28:50.364 - 00:29:33.918, Speaker B: So the nature of impermanent loss is different. The rebalancers actually have a far more thorny problem, which sort of doesn't manifest in the V two world, which is the need. If you want to provide liquidity over a narrower range, you decide to provide liquidity. Where ETH is from like $2500 to $2,800. Then ETH goes to 3000. And so now if you want to move your liquidity from 2500 to maybe like 2800 to 2900, you're not changing the inventory of assets that you hold. You're still only holding USDC.
00:29:34.014 - 00:29:34.578, Speaker A: I see.
00:29:34.664 - 00:29:37.458, Speaker B: But you're changing the liquidity that you're provided over.
00:29:37.624 - 00:29:49.622, Speaker A: Yeah, I remember. I mean, we did do an episode on uniswap V three, and I remember learning a little bit about those ranges. I haven't actually had a chance to look that closely at them. It does seem like a beast of a machine that I just haven't.
00:29:49.766 - 00:29:52.218, Speaker B: Yeah. It's a fun thing to use, though.
00:29:52.384 - 00:29:53.050, Speaker A: Cool.
00:29:53.200 - 00:30:07.200, Speaker B: Again, we have lots of people who've been very nicely earning fees using the tooling that is available now. This idea is that you incur cost, really, when you cross the spot price.
00:30:07.730 - 00:30:08.382, Speaker A: Yeah.
00:30:08.516 - 00:30:31.320, Speaker B: When you move your liquidity across the spot price, that is this rebalance cost. This cost of crossing the spot price and having to buy new inventory of tokens is the cost that sort of represents the crux of the r and D that everyone is doing on uniswap V three, which is. How do you manage that?
00:30:32.090 - 00:30:32.742, Speaker A: Got it.
00:30:32.796 - 00:30:45.690, Speaker B: That has become the thing that doesn't have yet a term that is sort of widely accepted in the industry, but has been a thing in market making forever, which is like the cost of crossing the spread.
00:30:47.310 - 00:30:49.530, Speaker A: We need a different word. It's just not.
00:30:49.680 - 00:31:30.090, Speaker B: Yeah, it's not impermanent loss anymore. It is the cost of crossing the spread. And as people try to figure out all of these, you're starting to see this type of concentrated liquidity protocol emerging. It's emerging in the perp market in decentralized settings. It's emerging in the sort of hybrid Amm lending markets, like what sushi swap is doing with Trident and bento box. And it's emerging wherever uniswap V three s pop up. And now that you have more permissively licensed concentrated liquidity that sushi swap has built with trident, it's going to pop up everywhere.
00:31:30.090 - 00:31:50.830, Speaker B: And so there's just this sort of general tidal wave that's coming. It's really fun to build all that stuff. I don't know. I don't have as much of a desire to build an automated market maker or decks myself, but I really like building on top of them. I find them just like, utterly fascinating to money legos.
00:31:51.250 - 00:32:02.962, Speaker A: Do you feel like you get a bit of a better sense for their real world game breakdown, like how it actually works, how the simulation is actually working? Kind of, yeah.
00:32:03.096 - 00:32:16.386, Speaker B: You learned so much about how they work that to a certain extent, I think to a certain extent, the teams that are building them are somewhat divorced from this reality.
00:32:16.578 - 00:32:17.174, Speaker A: Interesting.
00:32:17.292 - 00:32:21.580, Speaker B: They get feedback from all of the market makers and everyone who are trying to use them.
00:32:22.350 - 00:32:40.654, Speaker A: So I want to take one step back because there's a word that you've used a couple of times. I want to kind of go back to the seller part of sommelier. Like, would I put money into sommelier? You do something and then you give something back. Or am I using something from sommelier? And then I put my money somewhere else? This is what I'm not clear on.
00:32:40.692 - 00:32:42.122, Speaker B: There's a set of sellers.
00:32:42.266 - 00:32:42.622, Speaker A: Okay.
00:32:42.676 - 00:32:52.466, Speaker B: Each seller is like a product. So the seller will provide liquidity into Uniswap, or like ETh USDC on uniswap e three.
00:32:52.568 - 00:32:55.570, Speaker A: But who is the seller? Is the seller the user?
00:32:55.990 - 00:32:58.626, Speaker B: Seller is a smart contract on Ethereum.
00:32:58.818 - 00:33:04.502, Speaker A: Oh, okay, so it's not the end user. The seller is a smart contract on Ethereum. Got it.
00:33:04.556 - 00:33:40.542, Speaker B: And liquidity is aggregated across many users who get liquidity shares. And particular to the seller, there might be some rules about when you can withdraw, when you can add. Different things have different rules to sort of, again, optimize for returns. But the idea is, it's the uniswap v two, like experience, right? It's like, I put my money in, I have a liquidity share. I can redeem that liquidity share for a set of underlying assets. And that is the seller user experience with some constraints.
00:33:40.686 - 00:33:44.978, Speaker A: Are they depositing that though into individual sellers or are they doing it through you?
00:33:45.064 - 00:33:47.640, Speaker B: You as a user, pick the sellers that you want.
00:33:48.090 - 00:33:57.110, Speaker A: Do you have a UI or something that like, we have an ad liquidity UI to work on? The sommelier l one, do you need to have Somalia tokens?
00:33:57.450 - 00:34:16.026, Speaker B: So if you're using the l one, the l one is like, you can run a validator, you can participate in governance that decides what new sellers are going to be deployed. You can help shape which data feeds are driving which sellers.
00:34:16.138 - 00:34:16.730, Speaker A: Understood.
00:34:16.810 - 00:34:23.386, Speaker B: The sort of governance activity is all moved onto the l one, and that you need some tokens to really be an active participant.
00:34:23.498 - 00:34:23.870, Speaker A: Okay.
00:34:23.940 - 00:34:45.590, Speaker B: And right now, the holders of Som tokens are like some validators, a bunch of initial project contributors, a bunch of vcs. Those are the current token holders. But we want to. Now that we've launched Mainnet, that now gives us the opportunity to sort of expand the token holder supply as we get into the sort of end of the year.
00:34:45.740 - 00:35:06.046, Speaker A: Cool. I'm just thinking like, going back to that urine example. Like, urine is a DAP. Smart contract on Ethereum. And then the governance is also a smart contract on Ethereum. In your case, Samilia is a smart contract on EVM and Ethereum, like EVM compatible chains and Ethereum. And then there's a separate chain where the governance is actually happening.
00:35:06.046 - 00:35:13.106, Speaker A: And I guess there's data feeds and this is where the bridging would happen, but there's no token feeds, is there?
00:35:13.208 - 00:35:39.160, Speaker B: This is a little bit of the cosmos critique of Ethereum. Defi is because you don't have something like the gravity bridge. Governance in Ethereum frequently has to be executed via a multi sick. Right. And it depends on the protocol on Ethereum. But frequently it's like the governance doesn't actually execute its will itself.
00:35:40.170 - 00:35:42.610, Speaker A: Yes, it's more like a signal.
00:35:42.770 - 00:36:03.258, Speaker B: Signal that then the multi sig goes out and does. And one of the things that we've been really wanting to do with the gravity bridge technology is really make, like, execute your governance on Cosmos. And the validator set just executes the will of governance on the EVM chain, like directly via the gravity.
00:36:03.354 - 00:36:06.458, Speaker A: Got it. But that doesn't happen yet.
00:36:06.644 - 00:36:07.426, Speaker B: Yeah.
00:36:07.608 - 00:36:10.962, Speaker A: What would need to happen on the Ethereum side for something to be executed, though?
00:36:11.016 - 00:36:40.634, Speaker B: So what we do is we deploy what is called a logic contract. That's what I'm debugging. Like, right now, there's Abi encoding nonsense that I'm trying to figure out. I've got the whole thing printed out and I can see what bytes are wrong, and I'm like, I figure out why. But I think hopefully, by the time this episode is out, I've fixed that. And we are gleefully executing arbitrary smart contracts on Ethereum from Cosmos hub governance.
00:36:40.762 - 00:37:04.322, Speaker A: Very cool. How does things like MeV affect what you're doing? Like MEV on different chains? These special strategies to either democratize MeV or remove or minimize MeV, does that impact in any way your strategies or the way that you're building this product or the data?
00:37:04.456 - 00:37:54.510, Speaker B: Yeah, I mean, we as an industry are still trying to grapple with l one mev as a whole. But interoperability, which has been a point that has come up a lot in this sort of flashbots and MeV research community, is interoperability is going to create, like, a whole new layer of MeV in the system. The tricky pieces with Similia are both. We have to mitigate MeV where we're executing, which is an ongoing project, and we want to make sure that what MeV there is on the cosmos chain is actually aligned so that validators can't manipulate the operations of sellers in ways that are advantageous to them and they're aligned with. I'm not going to lie, this is going to be tricky.
00:37:54.590 - 00:37:59.606, Speaker A: I thought MEV on proof of stake chains wasn't such an issue, though.
00:37:59.788 - 00:39:06.870, Speaker B: Okay, so if you are running a proof of stake chain that offers finality, avalanche, Cosmos chain, Solana, et cetera, the worst thing that can happen with MeV is consensus instability. Right. It's where the Mev battle goes on between the different consensus nodes, and they're actually no, like, they forked the chain to try and figure out. And this is sort of the worst case scenario for me. People call it the time bandit attack, where you see an mev opportunity that someone else mined and then you try to mine it yourself in sort of modern proof of stake chains, that is less of an issue because you have finality. Someone will get slashed for trying to do that in change. With slashing, it requires a huge fraction of the validator set if you were trying to succeed with it, all of these things, but you still have mev issues around deciding what transactions to censor and what transactions to include in any given block.
00:39:06.870 - 00:40:26.822, Speaker B: And there's some really exciting work that the osmosis and anoma teams have been spearheading on the cosmos side about using encrypted transactions. There's basically two things that can be done in a proof of stake setting. And these things are interesting because, again, they go to the power of Cosmos to build customized l ones and environments like Cosmos Avalanche, et cetera, that support this idea of building custom l ones, because you need new services at the l one layer to fully mitigate or to provide these services of mev mitigation, because having sort of native randomness or having native encryption and decryption primitives where the validators are all being sent encrypted transactions which are opaque to them, which they then include, and only later you need the validators have to form a threshold key and decrypt them. These kinds of things are really the power of having sort of native l one anti mev services in the system. And this is why we built Cosmos. I think probably the first time we started talking about mev was like, 2014, and Cosmos was built for this world. It really was.
00:40:26.822 - 00:41:10.594, Speaker B: It was built for this world of competing DeFi protocols, interoperability, consensus level attacks, fault isolation between consensus systems. This is what we built for, and it's really exciting to start to see it manifesting in reality. And Somilia is a piece of that picture. But that's the joyous thing of having been working in this space for so long. I've contributed and put so many ideas out there, and so many things are being built by different people who I've worked with in the past who are trying to solve all of the different aspects of this sort of complex, holistic system. And so I get to focus on sommelier and somewhat narrower constrained problems at. But it's really fun.
00:41:10.712 - 00:41:41.786, Speaker A: There's been a lot of work put into it. So I actually got a chance to speak with Dave from osmosis just yesterday and told him that I was interviewing you, and he actually gave me a few questions. So I'm actually going to ask some of his questions, if you're up for it. The first one's about kind of touching on the MeV and Uniswap v three, and then the others are a little bit more cosmos focused. But one of his questions was like, what do you think about flash LP as a new mev problem with uni V three on other chains? And I'm guessing he's meaning, like, the.
00:41:41.808 - 00:42:04.882, Speaker B: L two s. Okay, so first, thanks for us. This is what I mean about the final form of concentrated liquidity being really unknown, and this may end up being the final form of concentrated liquidity, and it's like building some stuff around. This is an active project inside of sommelier right now. I got to chug through a bunch of bugs before I can start building some stuff.
00:42:04.936 - 00:42:09.126, Speaker A: Wait, do you want to create the flash LP, or what part are you building?
00:42:09.308 - 00:43:23.726, Speaker B: So one of the things that we do at sommelier, that's part of our process is every single idea that we have, we first build like a single Ethereum address version of it, just to see how it works in production. It's only after we've kind of run it for a couple, a little bit of time that we try to build it as a distributed system. So we typically build prototypes as a distributed system. I talked about earlier about this rebalance cost, the sort of overwhelming thing that hangs over providing liquidity in uniswap b three type setting. So what is the world in which that rebalance cost essentially is nearly negligible? The world in which that rebalance cost is nearly negligible is you see in the Mem pool, a trade coming in, you provide one tick of liquidity, exactly where that trade is going to land, because you can calculate all of this. You provide one tick of liquidity there, and then you withdraw it in the same block or the end of the block. Or you could do like a flash bots bundle that does this right, that bundles the trade with putting in the liquidity, executing the trade, and taking the liquidity out.
00:43:23.726 - 00:44:02.394, Speaker B: And your inventory has now changed in a very predictable way. From a user's point of view, this is great. This is not like a sandwich attack. You get lower slippage than you thought, you get better prices than you expected on the trade, but gas prices being what they are, on Ethereum, l one, this has happened, this has been done. We've seen this in real world, but it really only works in north of a million dollar trades. And that's like a relatively large and infrequent trade size. So you see that people have done experiments with this, but nobody seems to be doing this on a regular ongoing basis on l one, but on l.
00:44:02.432 - 00:44:08.986, Speaker A: Two, gas prices are cheap. Mev is figured out. It's like a wild west mev, because.
00:44:09.008 - 00:44:12.686, Speaker B: It'S not, well, right now you have a sequencer. Most of the l two s have.
00:44:12.708 - 00:44:15.070, Speaker A: A single sequence sequencer. True.
00:44:15.220 - 00:45:15.410, Speaker B: There's like only one position to do mev, and they're going to do what they're going to do with it. And so the other thing that would be really tricky if this turns out to be the sort of dominant modality of uniswap is it's going to make the whole routing world, because most trades through amms are not done directly on the uniswap interface. They go through one inch, they go through cowswap, they go through. I think matcha, matcha is the zero x product. You have these routers, and the routers are looking at what is the liquidity available for the trade, and then routing to the low slippage. But if this flash lping thing takes off, you don't actually know, because it's not on chain, how much liquidity is actually available anymore. And it's sort of like an interesting question about whether or not this ends up being the sort of steady state at which anything operates.
00:45:15.410 - 00:45:48.890, Speaker B: And that would be a tricky thing to also to decentralize, because you have a lot of. Just latency for a centralized player, is a huge advantage there, though I don't think it's impossible to decentralize that. It's sort of an interesting question of whether or not. But right now, what we have, we have one system that does concentrated liquidity. It's running in a high gas environment, with most of its liquidity in a high gas environment. And so we know we have three months of data about what that looks like. And that's it.
00:45:48.890 - 00:46:11.826, Speaker B: That's what we know right now. And the future is concentrated liquidity in low gas environments in a lot more places, and not in a crazy bull market like bear markets will occur. So we still have a lot to learn. And this is why these things are such an interesting research and development project.
00:46:12.008 - 00:46:28.214, Speaker A: We just said that on the actual other chain or on the l two, the MEV is not an issue. But where is the issue of this is the MEV as you're bringing it back onto the l one after a flash LP? Like, no, eh, no, there's no issue here.
00:46:28.252 - 00:46:31.162, Speaker B: This is not a problem. This is basically a good thing.
00:46:31.296 - 00:46:31.930, Speaker A: Okay?
00:46:32.080 - 00:46:51.482, Speaker B: Flash lping is not an attack. Flash lping is. I delivered the user exactly what they want, which was a better price than they were expecting to get. I wanted to go buy some tokens. Turns out they were on sale. I got a better price than I anticipated. Flash LP is amazing for users.
00:46:51.482 - 00:47:57.926, Speaker B: It sort of poses these challenges to how amms are integrated into the rest of the ecosystem. And we haven't even really started to explore those challenges because of the way uniswap v three is operating only in this high gas world right now. But as we start seeing it in concentrated liquidity from sushiswap and from uniswap in these low gas environments, now suddenly, what does this even look like? But then it also poses these challenges for the ecosystem, because one inch it wants to do is know you want to sell some eth for USDC, it wants to look at all of the different amms it could possibly route to and other systems that are not amm based and get an idea of what price would be best. But if there's a flash LP you don't actually know because it's not yet on chain, how much liquidity you actually have access to for the trade. So it's going to make all of these systems behave in different ways if this is what the sort of final state of, or like what the next state of concentrated liquidity in low gas environments looks like.
00:47:58.028 - 00:47:58.550, Speaker A: Got it.
00:47:58.620 - 00:48:18.010, Speaker B: But also the other thing to point out is that in the most sort of extreme version of this scenario, also everything rebalancing, all rebalancers are obsolete. Rebalancing becomes completely obsolete because there is no strategy that you can engage with a rebalancer that is going to beat out flash liquidity.
00:48:18.590 - 00:48:33.630, Speaker A: Okay, I have two or three more questions, again from Dave. Another one was what does the future of cross chain trade routing or aggregators look like? Would you need hops or not? Kind of.
00:48:33.700 - 00:49:51.020, Speaker B: It's sort of been an interesting question as to again, what does this look like in its final form? And it also is a question of how do people use ams? One of the things you could build sort of on top of the sommelier stack and people are building on top of other stacks is this idea of routers. Like I want to buy some sushi tokens or like some uni or link or whatever. I want to not only ask the question what amm on the current l one that I'm on, or current l two that I'm on offers the best price. But can I look at the entire world, factor in all of the l ones, look at the entire Internet of blockchains that has emerged. I don't mean just cosmos, I mean like all of everything, polygon, avalanche, salana, all of these things and say, including execution cost, gas costs, moving over bridges, all of these things, what is best for me? But frequently people trade into tokens because they want to do something with them. It's like I want to buy some near tokens and stake them. I did this recently, I bought some near tokens on sushi swap, moved them over the rainbow bridge, and I stake them.
00:49:51.020 - 00:50:29.400, Speaker B: And so routing of trades is something that's, I think, a fairly constrained problem and potentially manageable. But now if you want to consider an entire workflow like that, if I was doing that workflow, and I end up with near tokens on avalanche. I'm like, no, this doesn't help me because I need to go back over the rainbow bridge. I have to cross two bridges. This wasn't good. I think one of the tricky things that is going to be there is you have to consider entire workflows in these sorts of solutions. And I don't know how effective that's going to be.
00:50:29.400 - 00:51:45.040, Speaker B: And this is where a thing like cross chain order routing via something like natively built in as like an IBC protocol, which is something that we've been thinking about in cosmos for many years, is potentially the right way of doing this because you can plug into the protocol exactly what you want from an entire workflow point of view. I want these tokens traded and then delivered to this chain because I want to use them for part two of my workflow. And potentially things that are expressible in the cosmos world. You could program into, like, an agoric type chain or in a cosmosm type chain, like, the entire workflow, just like step one, step two, step three, step four, and that's all programmatically executed. And that's kind of what the world that we've been building for, for a very long time, and it sort of seems within grasp now. But, yeah, so this is one of the reasons why we didn't build, like, a trade routing protocol for sommelier, because it's unclear are how to think about that in terms of the entire workflow today.
00:51:45.490 - 00:51:53.394, Speaker A: What are the cross chain privacy guarantees that, in general, folks should be aiming to design? This is very on brand for this.
00:51:53.432 - 00:52:54.850, Speaker B: Show, but holy smokes, a hard problem. The best we can do right now is you can have these privacy zones. Right? And by that, I mean maybe a cosmo zone, but just like, conceptually, you have these private domains, but these private domains, you see what goes into the private domain, you see what comes out of the private domain. And one of the things that's important in general when you're constructing these systems is to actually give people reasons to sort of hold funds in the private domain for a longer period of time. And so you're starting to see a lot of that being applied in things like anoma and penumbra, in the cosmos ecosystem, and maybe in other ecosystems that I don't know about. So you could lp or stake privately. Also inside of penumbra, you can do similar things inside of, you know, gives you more sort of temporal variability of how long people stay in the private.
00:52:56.630 - 00:53:05.720, Speaker A: But this, I think this question really is focused more on this cross chain. Like, the zone being private is, but like, is there a way to do it across?
00:53:06.090 - 00:53:45.140, Speaker B: I was talking with Henry Devalence last night about this. What he thinks, and I think I agree with this, is there's this fundamental trade off. So one of the properties of cosmos that we really value is this idea of what we call fault isolation, I. E. Osmosis, can experience some sort of catastrophic chain failure and, you know, wildness, fault, et cetera, like what we saw with Solana recently. But the rest of the cosmos ecosystem keeps going and doesn't care. Wiveness is preserved across many blockchains, and we get resilience against faults from that.
00:53:45.140 - 00:54:09.340, Speaker B: And that fault isolation property is at ods with any sort of cross chain privacy, I think, in a very deep way that you can either have fault isolation or you can have cross chain privacy. And it's like maybe a dial that you can turn back. This again, this is Henry's phrasing, really, that I'm stealing, but I think it's the correct answer to the problem.
00:54:10.590 - 00:54:18.298, Speaker A: What about Somalia itself? Do you want to have any sort of privacy tech in there, or is it almost also antithetical to what you're.
00:54:18.314 - 00:54:59.690, Speaker B: Trying to would be. So it would be a huge advantage to the system if we could have strong correctness guarantees while preserving privacy as long as possible. Because it would make it harder for people to front run us. Yeah, the system at sort of maturity has a huge front running problem, because what we want to have is preserve decentralization, which requires multiple validators inputs before anything gets executed on the chain. But you can foresee what those validators are likely to do. All the inputs are being gathered and run ahead of them and execute it. So we have this huge front running problem to what we're doing with sellers, where privacy is the solution.
00:54:59.690 - 00:55:06.046, Speaker B: The only plausible answer that I really see there is enclaves like SGX type things.
00:55:06.228 - 00:55:23.460, Speaker A: No, I'm saying this for on behalf of my ZK focused audience here, but. Okay, so you think that's the only way to do it? You couldn't do it cryptographically, maybe. I realize I'm supposed to not have an opinion here, but it's tricky, right.
00:55:23.910 - 00:55:55.502, Speaker B: Enclaves offer some appealing properties that are really hard to get in other ways in terms of having computing over encrypted data. And so I do think that may be where we end up for something like sommelier. But, yeah, I'm interested in that. I think we are inevitably going to have to do privacy tech inside of sommelier the long run, but right now, I'm mostly looking in the enclave direction. Cool.
00:55:55.556 - 00:56:17.206, Speaker A: Well, thank you so much for coming on the show and exploring sommelier with me. I have a way better understanding of what this is. And also, I think it was kind of nice to hear also the evolving vision for this kind of interchange communication space, how it looks now versus how it looked maybe like two years ago. Yeah. So thanks again.
00:56:17.308 - 00:56:45.966, Speaker B: Yeah, I mean, we are just at the beginning of interchange communication, right? It's so early. We were like, assume l ones are boring now, and interchange communication is where it's at, like five years ago, but over 2022, 2023, we should probably have most of the l ones that we're going to have for a while, as always in sort of cosmos and my work, trying to be, you know, excited to keep building.
00:56:46.148 - 00:56:55.770, Speaker A: Cool. Well, thanks again. And I want to say thank you to the podcast producer, Tanya, the podcast editor, Henrik, and to our listeners. Thanks for listening.
