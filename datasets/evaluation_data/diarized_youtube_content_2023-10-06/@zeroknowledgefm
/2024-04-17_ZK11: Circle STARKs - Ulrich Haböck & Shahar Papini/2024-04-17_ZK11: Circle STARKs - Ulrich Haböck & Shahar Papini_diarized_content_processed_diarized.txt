00:00:07.280 - 00:01:10.446, Speaker A: I'm gonna me, let's say schacha and me, we're gonna talk about, at least from my point of view, quite exciting piece of work for me, personally. Exciting because when I initially approached the subject, I didn't have any clue about algebraic geometry and elliptic curves and isogenies. All these abstract math was like a book with seven seals on it. I didn't want to open Pandora's box. And actually it turned out that for that piece of work, one can study these notions if one wants by something that is very easy to understand and very elementary, and that's the circle, and that's what's the presentation will be about. But first, let me just for completeness, talk a little bit about the history, the line of research. I mean, when I talk about regular stocks, I mean univariate stocks.
00:01:10.446 - 00:02:04.604, Speaker A: So not something like Venus or Fribinius. So nothing like multivariate. Some check I'm staying today just in the realm of univariate starks. And typically, what do you need for an univariate stark? You need a finite field. Often you choose a prime field, but there is one specific property that makes the prime useful, and it's called FD friendliness. And so classical starts, you could say the space where you place everything, where you place your domain, where you place your trace on the domain is the line just depicted f, the prime field as a line. You have some action on it of symmetry.
00:02:04.604 - 00:02:30.254, Speaker A: That's the multiplicative group. It's a smooth group. Considering that p minus one is. So that means it's fft friendly. So that's the key ingredient you need to build a stark, to have a smooth group acting on something. In this case, it's not even worth to think it's a curve. No, it's a line.
00:02:30.254 - 00:03:10.984, Speaker A: And the object you obtain. So you have witness data. You place it on your favorite domain and you encode it into polynomials. So this is the algebraic objects you work for. Once you have polynomials, you know polynomial IOP, Schwarz Cippo. It's always the same. Then quite recently, actually, there was the seminal work of Ben Sassen, Dan Karman, Swastikopathy and David Leviticus about the easy FFD, the easystarc.
00:03:10.984 - 00:03:39.604, Speaker A: So what they do is because often in many applications, you would like to work with a prime field where p minus one is not smooth, which is not fFD friendly. So what can you do here? And what they do is here just change the space. Just move from the straight line to something that is well studied. It's a curve. It's an elliptic curve that's well studied. It's abstract even for me. Still, though.
00:03:39.604 - 00:04:28.572, Speaker A: But they say, okay, work on an elliptic curve, because if you know from algebraic geometry, that's a group, and you even can sample, there's a rich manifold of curves you can construct. Sample. And if you do it in the right way, you sample your curve on which you have a subgroup that is exactly that smooth as you wish it should be. And so the whole starc works over an elliptic curve. It gets a bit abstract. What are the algebraic objects here you encode witness data into? They become rational functions over that curve. That's essentially what you get.
00:04:28.572 - 00:05:03.164, Speaker A: But you can argue similar Schwartz simple. There is an EC ffft. And there's a big misconception, the CK about the EC fft. It's really as efficient as the ordinary koolaid. Two k two arctic fft. So, but anyway, why is there this misconception? I suppose for the same reason as I also thought, or we at Polygon, we thought, oh no, easy fft. It's not as efficient because it's 280 pages of abstract math was too much for me.
00:05:03.164 - 00:05:49.168, Speaker A: So the question started, at least when I was thinking about in this direction, is, can we do with something simpler? There was even some preliminary work that we published last year. It was called something like Reed Solomon codes over the circle group, but that already was pathway to the circle. And then I met Zhacha. I fell in love with him, with this guy, and would you like to marry me? So. Applause please. No, unfortunately, he's almost married already, so no luck for me here. Okay.
00:05:49.168 - 00:06:38.076, Speaker A: But the full thing was, can we carry the whole abstract math, the whole machinery, almost nobody is willing to understand, to the simple, simple curve, the circle curve. That brings us to the circle stark. So it's a simpler construction over. Everybody knows what the unit circle is. I mean, you can grab it, you can turn it around, you can play frisbee with it or whatever you like. So that's a very simple thing. And if now it's not p minus one, if p plus one is smooth, it's a power of two, or decomposes sufficiently into small factors, then this is a good choice because the number of points, we are finite fields I'm hiding here that did this.
00:06:38.076 - 00:07:07.422, Speaker A: The number of points of a quadratic curve is p plus one. That's not obvious. Look in the paper if you want to see a proof of it. Elementary, self contained. It's not difficult, but it's. Yeah, it's not obvious if you've never seen it before. Okay, so in particular, p one smooth, the prime that we have in mind, the polygon.
00:07:07.422 - 00:07:41.486, Speaker A: Also stockware is our favorite prime, which makes, which is heaven for us. It's the nascent prime, M 31. Why it's heaven for us. Look at this. It's two to the 31 minus one. And it's even better than two if it would be something like two to the 32 minus one, which isn't prime, by the way. Because if you talk to the people that know how to optimize field arithmetics with AVX or neon instruction vector instructions set on standard cpu architectures, like he knows better, he will talk about it.
00:07:41.486 - 00:08:03.694, Speaker A: Probably. So this is extremely fast. I mean there is from RisC Zero, just some attribution here. They really moved to a very cool 32 bit field. It's a baby bear prime, which is already quite fast. And we were thinking a lot about should we choose baby bear. But we managed to do it with something that is even faster.
00:08:03.694 - 00:08:17.054, Speaker A: And that's the reason for that work. So it means for. For mm 31, p one is smooth. So the circle curve is a rich curve. It's a good curve. It's a group. You just rotate by rotation.
00:08:17.054 - 00:08:32.354, Speaker A: You know, take one point, consider its angle. Just think of it. You compute, don't compute it that way. And Q is another angle. So you make the additions of the angles. That gives you the new point here. That's the group operation.
00:08:32.354 - 00:08:57.073, Speaker A: It's the same group operation, you know, from a complex unit circle. If people still have some calculus background. So, okay, so how does it work? It's a regular stock. Like a regular stock. There's almost no difference. I already said everything. But just for clarity, let me recap.
00:08:57.073 - 00:09:43.420, Speaker A: So your trace domain, that's where you put your data on is a subgroup on the curve or a causet of it. Witness data which is placed on the trace domain is encoded into polynomials again. And that's nice feature of the circle group versus the elliptic curve fft. So you get still b, varied polynomials, but at least polynomials. And you can argue Schwarz simple, like the usual concept. You sample a random point. The whole space is the circle curve.
00:09:43.420 - 00:09:59.160, Speaker A: You sample it on the circle curve. I have to say here over a sufficiently large extension for soundness. And then you test the constraints at this point. So this is the circle suck. This is how it works like. And it has two main ingredients. One is the so called circle.
00:09:59.160 - 00:10:17.784, Speaker A: FFD is simplification of the EC FFD for efficient encoding and polynomial. And then tightly readily related. The concept of circle fry. Low degree test. So it is, again, on the circle. This, for just a matter of time, will be only about the circle FFD. And now I hand over to Schacher.
00:10:17.784 - 00:10:24.004, Speaker A: He will explain you the circle FFD by means of a very elementary, explicit example.
00:10:27.104 - 00:11:10.780, Speaker B: Thank you. Hi, there. Yeah, no, when I started working with Ulrich, I really enjoyed working with this guy. He's obviously a genius. When he started, he didn't know a lot of algebraic geometry. As opposed to him, I still don't know any algebra geometry. Okay, so I want to show you guys a concrete example of the circle FFT, just to show you that it's really, it's similar to regular FFT.
00:11:10.780 - 00:12:05.082, Speaker B: It doesn't use any group operations, just simple field operations. And if you want to implement or do something about it, maybe this could help you. All right, so we are at the circle over the field, the domains we are working on, unlike regular FFT, which is a cyclic group, it's cyclic group, and this is a generator. It's two points this time, two coordinates, x and y. And this is how the domain of size eight looks like. You can think about it as if it's the unit circle in a complex values, like a plus ib. And it's turning around, but it's on the group, circle group.
00:12:05.082 - 00:13:13.374, Speaker B: All right, so I want to try to interpolate these values, which means to find some polynomial of a total degree, in this case, at most, four, because I have eight values. That's how it works in circle FD. So how do I start with finding a polynomial that evaluates to these points? All right, the idea is to do a decomposition almost exactly like in regular FFT. In regular FFT, you're taking a polynomial and you're splitting it to even in odd powers with a very similar formula. Well, this is almost the same. And we're splitting it into two polynomials of x, and we have this multiply of y. This formula is really simple for the circle, because if you put x xy and another point, x minus y, into the first equation, you can extract the values of the decomposed polynomials.
00:13:13.374 - 00:13:49.058, Speaker B: As you can see there, f zero is just the average. As you can see, for example, we have the, .2 and the point develops to eight, the symmetric one. Their average is five. So this is going to be an evaluation of the first polynomial, f zero. So we do kind of an FFT bottom line on these two symmetric points. And the blue polynomial decompose will be the difference, the anti average divided by the y coordinate, which is a.
00:13:49.058 - 00:14:34.784, Speaker B: So we started with this, these eight values, and we decomposed them into two polynomials, the f zero, which is the averages, and the anti averages, and the polynomials on the right, actually, they are symmetric. So I only need to specify them on the four points and their polynomials. Only in x. So if we look at the operations with it, it's just basic field operations. There is no circle operation involved anywhere. It's just taking the average and taking their difference and dividing by this field element a. Okay.
00:14:37.924 - 00:15:16.674, Speaker A: I just would like, at least for me to clarify something. If you step back here, you know, even a not look at this first function, you take a point, you take its opposite point with the same x coordinate. That's the reason why we need to locate the domain. It was slightly shifted. The identity was not sitting here where you would expect it. So you just have the action of the conjugation map, let's call it that way, the involution, which just switches the sign of y. And this involution gives you.
00:15:16.674 - 00:15:32.544, Speaker A: The first one doesn't change under involution, it's even. The second one changes the sign. Under evolution, it's odd. So in this case, it's really fully analog. Sorry to interrupt here, maybe you said it before, but I love you.
00:15:34.244 - 00:16:02.918, Speaker B: It is great. Thank you. Thank you for the notes and clarification. Okay, so this is how we start the FFT with a decomposition to even in odd polynomials. And these polynomials are now just polynomials in a single variable, which is nice. We can continue from here on only in single variable. So we do this, another decomposition.
00:16:02.918 - 00:16:37.138, Speaker B: Again, I'll just show f zero, but f one will go the same decomposition. So in f zero, we have a similar decomposition. This time we need to take a point and it's antipodal point, as you can see above. We decompose it into. Decompose f zero into two point numbers. F zero zero and f zero one, which is again same as even an odd part. So this time it's almost exactly, it's the same even odd parts, only in a bit different basis.
00:16:37.138 - 00:17:23.200, Speaker B: We'll show later. But yeah, it's taking even odd coefficients and the split splitting them. So again, we will take these two points and we take their average and anti average and split it to left and right like this. Their average is six, as you can see, and the anti average is minus one over the point b. So this way we can decompose it. And now it's a bit weird to see, but this polynomial has a symmetry, so we only need two to represent as two points in a smaller domain. The details are details.
00:17:23.200 - 00:17:56.660, Speaker B: But basically, once we take out the domain. We get two small polynomials on twice less points. Start with one polynomial with four values. Get the decomposition, decompose the polynomials each on two values. And we continue with this decomposition again, to take this polynomial that we have two values on it. And we decompose it into two polynomials of size one. Which is just a constant.
00:17:56.660 - 00:18:15.174, Speaker B: So, let's go over the entire decomposition. And see what we actually did. We start with the f. We decomposed it into 2.0. With f of x plus y f. One decomposed each one into, again, even an odd. And each one of these decomposed again.
00:18:15.174 - 00:18:38.166, Speaker B: So, what have we got? This is kind of a polynomial. If we expand the terms a bit. Basically, get this representation as a polynomial with different basis. This is the free term. This multiplies two x squared minus one. Instead of x squared in the line case. But this is still a polynomial of degree.
00:18:38.166 - 00:19:00.544, Speaker B: At most three in x and one at y. And substituting the values you just got. This is the start of the polynomial. So, again, simple fft. Butterflies. The same butterflies as irregular fft. The twiddle factors are different.
00:19:00.544 - 00:19:20.044, Speaker B: The Y and x values. And we got the value. So this is the fft. And Fry is almost the same. In Fry, you just take the even all parts. And actually combine them with random linear combination. All right, so that was the example.
00:19:20.044 - 00:19:26.174, Speaker B: Okay. I think, unless you have some ending notes, it's time for a q and a.
00:19:28.554 - 00:19:29.894, Speaker A: Do you love me, too?
00:19:41.594 - 00:19:42.698, Speaker C: Great presentation.
00:19:42.786 - 00:19:43.562, Speaker B: Thank you.
00:19:43.698 - 00:19:55.988, Speaker C: I was wondering, when breaking down the. I think it was the third decomposition. There was an operation where the six moved 90 degrees, I think, on that slide.
00:19:56.036 - 00:20:00.260, Speaker B: If you go back. Next slide. Next slide.
00:20:00.332 - 00:20:02.664, Speaker C: Yeah, a couple more.
00:20:03.444 - 00:20:06.516, Speaker B: Yeah. Here to here. Right. I'm sorry.
00:20:06.540 - 00:20:19.144, Speaker C: The last slide here. So where I'm. I think it's 25 over two and six. How do we make it so that the decomposition make six and 25 over two opposite.
00:20:19.604 - 00:20:23.724, Speaker B: It's 15 over 215 over two. How do we make. What can you repeat.
00:20:23.844 - 00:20:27.068, Speaker C: So in the next slide, the decomposition shows.
00:20:27.116 - 00:20:27.580, Speaker B: Yes.
00:20:27.692 - 00:20:29.028, Speaker C: On the opposite side of the circle.
00:20:29.076 - 00:20:41.860, Speaker B: Yeah. I mean, if you take this polynomial. And you put inside. You take f zero, zero at two x squared minus one. What two x squared minus one actually does. Is. Does a doubling of the point.
00:20:41.860 - 00:20:58.500, Speaker B: So this point number, when I put in this point, actually first doubles and valves on the next polynomial. And this one, it doubles and goes to the same point. And get this polynomial. So this doubling actually does the repetition, basically.
00:20:58.572 - 00:20:58.804, Speaker A: Again.
00:20:58.844 - 00:21:12.720, Speaker B: So if we had this point only we start with this point and then doubled. We got this. Or if we started with this, this point and then doubled, we got this again. Okay, got you.
00:21:12.792 - 00:21:13.768, Speaker C: Thank you very much.
00:21:13.896 - 00:21:14.564, Speaker A: Sure.
00:21:18.304 - 00:21:19.684, Speaker B: Pass the microphone.
00:21:27.864 - 00:21:29.016, Speaker C: Hi, good talk.
00:21:29.080 - 00:21:29.724, Speaker A: Thanks.
00:21:30.424 - 00:21:34.484, Speaker C: How does this compare to doing ecfft over M 31?
00:21:36.924 - 00:22:00.504, Speaker B: You can also do ac 50 with m 31. There are curves for that. The difference is a lot of things become a lot simpler here. First you use polynomials and not rational functions. And also it's easier to choose your domains, I think. Do you want to add something?
00:22:02.384 - 00:22:44.848, Speaker A: Yeah, I mean you're right. Efficiency is the same. There are some features just the way how the EC FFD does proves for sake of succiness. I suppose though it's even an Aot major. So we can do something. It's just a very subtle technical feature that the circle is globally isomorphic to the projective line. I know that you understand that and therefore you can carry over a lot of explicit results for Reed Solomon codes over to the circuit.
00:22:44.848 - 00:23:55.924, Speaker A: And the helps that we can do batching step fry directly over the curve itself. So the way we commit theories even much more we used in the univariate regular case. So we extrapolate to some causet domain double the size, say, and we commit to it and we do the by value in the ECFD they have a workaround not to work explicitly on that elliptic curve because the elliptic curve is not isomorphic, has not a global parameterization and things would get much more difficult. Just technically I believe it's the results are still valid and possible, but technically it becomes much more difficult over the elliptic curve. So this is one extra feature. And this extra feature helps us to even work in some configuration of the starks which don't target seeking serial knowledge where we take the trace domain and just extrapolate to another call set of it which is just let's say the complementing cause sets of both together a subgroup of double the size. And this especially this situation would be hard to prove over the EC FFT.
00:23:55.924 - 00:24:02.604, Speaker A: So short story, a slight technical advantage.
00:24:05.584 - 00:24:09.164, Speaker D: So these points are making a subgroup, right?
00:24:09.904 - 00:24:10.832, Speaker B: They what?
00:24:11.008 - 00:24:13.134, Speaker D: Like the point that you're doing fft.
00:24:13.794 - 00:24:17.254, Speaker B: Over them like the domain points.
00:24:17.794 - 00:24:18.362, Speaker D: Yeah.
00:24:18.458 - 00:24:20.770, Speaker B: Are there the a minus a and b?
00:24:20.882 - 00:24:21.730, Speaker D: This one?
00:24:21.882 - 00:24:22.354, Speaker B: Yeah.
00:24:22.434 - 00:24:32.218, Speaker D: What about so, so and this two x squared minus one is the basically parallel addition formula and elliptic curve is right?
00:24:32.386 - 00:24:57.564, Speaker B: Yeah. It comes from the doubling formula. You can think about it as a complex element. If you take a plus ib squared, you get a squared minus something else which is also like it's the same as a cosine of a double angle. Cosine double angle is two cosine squared minus one. So it's the same here. You get the same thing.
00:24:58.784 - 00:25:41.724, Speaker D: Okay, so I'm just wondering what is, what is the fundamental that a circle is not elliptic here? Basically, why is genus, why is genus zero, right. And elliptica is genus one. Like what is the fundamental difference between the groups? Like the coordinate ring that was on the last slide you talked about where the polynomials actually come from, the quotient ring, where the quotient of the, so the place that the polynomial p x y come from, f divided by the like mod the equation of the circle.
00:25:42.464 - 00:25:46.284, Speaker B: Or before in the previous slides, in Ulrich's slides.
00:25:46.944 - 00:25:48.976, Speaker D: Okay, the slider not, which are not here.
00:25:49.040 - 00:26:08.758, Speaker B: Yeah, this is like the polynomial space. Take just by the polynomial and the quotient by x squared plus y squared minus one, which is the formula. You will have to take a polynomials modulus, the Ec curve on Ec, and you have there another group operation, which is the, so this is the ring.
00:26:08.806 - 00:26:22.314, Speaker D: Or that, that was it, yeah, sorry. Okay, backward. I think that one, no, no, after, after, yeah, here, here. Okay, so this is a ring, right? It's not a field.
00:26:22.414 - 00:26:22.626, Speaker A: Right.
00:26:22.650 - 00:26:23.934, Speaker B: It's a polynomial ring.
00:26:25.354 - 00:26:35.490, Speaker D: And then, and then if you take the caution, the, you add the denominator, then you get the field, but you say you never hit a, you never hit a rational function, right?
00:26:35.602 - 00:27:27.090, Speaker A: Yeah, yeah. I mean, one thing, just the classical regular case, you know, you can only get polynomials up to some degree bound, some strict degree bound. It's real Solomon code, right? It's already also not a field. So the thing here is, looking at the circle in the most natural way, involves two coordinates, x and y. And therefore, just if you write down polynomials, they're in two variables, but it's still univariate in some because it's a linear one dimensional thing and the relation imposed on a circle, it's that. So algebraically, it means you take the unrestricted polynomial ring in two variables of arbitrary high degree and so on, and then you factor by the relation given over the circle. That's the ideal round brackets.
00:27:27.090 - 00:27:50.642, Speaker A: So it's still a ring. It's a ring of the FFT, produces an elegant subspace of these polynomials, also with some degree boundaries. And therefore we can argue what's sipple like. So this degree bound is very important to have a good code with good distance.
00:27:50.818 - 00:28:03.338, Speaker D: Yeah, I understand. The problem comes with ECFFT is that when you apply the group operation on the point of the FFT point, like the doubling. Exactly. But here you never get into that, right?
00:28:03.386 - 00:28:49.654, Speaker A: The point is exactly so you could. The short answer is given the representation of the circle as an affine curve in the plane, the rotation group is an affine group. Therefore everything you get by it is polynomials. The complete picture would be look at the projective closure and that means you have only poles at the points at infinity. The funny thing is I had a picture here but I'm not gonna find it because I'm gonna lose time and I don't want to make delays here. But if you look at this circle curve in a projective closure over the even a degree two extension is good enough. It looks like the Riemann sphere.
00:28:49.654 - 00:29:05.904, Speaker A: You have two poles, actually two points at infinity. This was in the beginning, very much contraintuitive. And these are fixed points under the rotation action. These are the good points to choose your poles. This is.
00:29:07.764 - 00:29:12.004, Speaker D: Thank you very much. If you have more questions I guess you guys will still be around but thank you very much.
