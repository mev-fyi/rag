00:00:07.930 - 00:00:57.902, Speaker A: Welcome to Zero Knowledge, a podcast where we talk about the latest in zero knowledge research and the decentralized web. The show is hosted by me, Anna and me Frederick. Before we start in on this week's episode, I want to remind you all of an upcoming AMA episode with Frederick and I. This will be hosted by our friend Alexandra Heller. If you have any questions or topics that you'd like to see us cover, please head over to the ZK podcast subreddit and leave your questions there. I will also link to a tweet that Alexandra sent out last week where you can also leave some questions. Be sure to ask us about production blockchains, zero knowledge proofs, or where we see the space going.
00:00:57.902 - 00:01:33.674, Speaker A: Ask us about our hopes, dreams and aspirations. Whatever you've wanted to know, but we're too afraid to ask. So links are in the show notes and hope to hear from you. I also want to say a big thank you to this week's sponsor, trail of bits. For this spot, they asked that I share a recent update about crytic. Crytic is a GitHub app that continuously assures your Ethereum smart contracts are safe and functional, reporting build status on every commit, and running a suite of security analyses so that you get immediate feedback. Upgradable contracts are not as safe as you think.
00:01:33.674 - 00:02:10.402, Speaker A: Architectures for upgradability can be flawed, locking contracts, losing data, or sabotaging your ability to recover from an incident. Every contract upgrade must be carefully reviewed to avoid mistakes. Crytic now includes a comprehensive suite of 17 upgradability checks to help you avoid these pitfalls. This tool allows devs to stress test their upgradable contracts as they go, saving time and potentially catastrophic headaches down the line. For more, check out their blog post where they describe how to use this tool. I've added the link in the show notes, so thank you again. Trail of bits.
00:02:10.402 - 00:02:23.958, Speaker A: And now here is my conversation with Alex Evans and Tarun Sheetra this week. I want to welcome back one of my favorite guests and our sometimes guest host, Tarun.
00:02:24.134 - 00:02:24.954, Speaker B: Hey.
00:02:25.152 - 00:02:31.850, Speaker A: For this episode, we're actually speaking with Alex Evans, who's a researcher at Placeholder. Welcome, Alex.
00:02:31.930 - 00:02:32.974, Speaker C: Hi, thanks for having me.
00:02:33.012 - 00:02:52.578, Speaker A: And Alex and Tarun recently published a blog post where they talked about the kind of challenges around Pos staking derivatives and the batching of those derivatives. And that's going to be the majority of this episode. So Tarun, today you're going to be sort of a combo guest host. Guest hope you're ready for it.
00:02:52.664 - 00:02:57.890, Speaker B: Yeah, I like to think of it as I rehypothecated myself as a staking deride as a guest.
00:02:59.590 - 00:03:12.826, Speaker A: Cool. And Alex, this is the first time that you're on the show. Tarun knows you quite well, but I don't. And maybe it would be great for you to introduce yourself a little bit to our audience. Who are you and what are you working on?
00:03:12.928 - 00:03:13.242, Speaker B: Sure.
00:03:13.296 - 00:03:49.746, Speaker C: So, as you said in the intro, I'm a researcher at Placeholder, so a little bit of context. Placeholder is a venture capital firm in New York. We invest in open crypto networks and the infrastructure that supports their development. We have a specific focus on governance and economics. And so a lot of what we end up spending our time thinking about is things like what makes protocols efficient, what ways do communities have of governing themselves, what drives value to these networks, and those sorts of things. So my role within placeholder in that context is kind of twofold. So one is relatively typical of a VC firm.
00:03:49.746 - 00:04:44.406, Speaker C: Like, I take a lot of calls with entrepreneurs, developers, project leads. Once upon a time, I also used to do in person meetings with those people, if you can imagine, and I do some research on particular areas that we potentially ultimately end up investing in. So that part is relatively typical and vanilla as far as the BC world goes. Then I also have this other, and perhaps for the purposes of this podcast, more interesting version to my job, which is I end up doing a lot of thematic research in vertical areas that I find interesting, where I have the opportunity to dig a little bit deeper. And so in the past, that's included things like credit risk, in lending protocols, like Maker. More recently, it's included this paper that we wrote with Tarun on staking derivatives, as well as another recent paper on liquidity provider returns in automated market makers. So it's two sort of opposed roles that I have.
00:04:44.406 - 00:05:08.174, Speaker C: One is very vertical, very horizontal, I should say, where it's mile wide, inch deep, talking to a lot of different projects, seeing what's going on in the ecosystem. And then there's the supplementary piece where it's more vertical and I get the opportunity to dig deeper. And those perspectives kind of inform each other, I think, in interesting ways. And so far that's produced some papers that people like and has given light some opportunities that as a firm, we've been able to pursue as a.
00:05:08.372 - 00:05:50.310, Speaker B: So, you know, Alex and I started working together because we had both, around the same time, realized there's a deep theory around uniswap. And it was at that time that I realized Alex was actually kind of a weird self taught savant in that he didn't really come from a math background, but he had taught himself a lot of formal probability theory and stuff at a level that people in the cryptocurrency space never have. And so we both just ended up being really great because he has a lot of experience in venture, but for some reason knows a lot of financial mathematics. And it was very complimentary.
00:05:50.470 - 00:06:47.790, Speaker A: Cool. So this episode should be pretty defi heavy. And this is something that, it's so funny because I think on our New Year's episode, I said something along the lines of like, defi is boring, or I said memes was boring, whatever. I made two bad calls and I've actually been called out a little bit for it. And it's funny because I do find that there's been so much activity in defi that it inevitably starts to kind of come into this podcast, into the topics that we cover on this podcast as well. And I think this episode is going to be looking at first at the state of Defi, and then we're going to dig into a paper that Tarun and Alex co authored, looking at how POS systems can be impacted by these staking derivatives. So since I have you both on the episode, I wanted to ask you a little bit more about just general state of Defi.
00:06:47.790 - 00:06:57.498, Speaker A: What's going on right now. If you could highlight one or two main trends that you're seeing at this point, what would they be?
00:06:57.604 - 00:08:20.566, Speaker B: Well, I think the easiest, at least, like market dynamic changes that have happened are know, people have basically used these decentralized platforms to replicate financial services offered by centralized platforms like Coinbase or Bitmex or Blockfi. And I think people had this sort of growth hacking issue where the only people who wanted to use DeFi for a long time were those who had really poor access to capital. But the people who have really poor access to capital are oftentimes not very technically sophisticated. So you have this chicken and the egg thing, like how do we get people using this stuff, even though it might be too technically complicated? And over the last six months, I would say the UX plus very complicated incentive mechanisms have actually made it cheaper in a lot of ways to use the decentralized versions of these products than the centralized versions, which has brought on a lot of has migrated a lot of people over. And so we're witnessing one of the great growth hacks in history. I don't think I've ever personally seen anything that's come close to this. And that has been the sort of catalyst of migrating people from centralized crypto trading to kind of end lending to decentralized trading and lending.
00:08:20.566 - 00:08:23.006, Speaker B: And I would say thematically, that's what's happening.
00:08:23.108 - 00:08:46.838, Speaker A: Do you think, though, that I remember back in 2017, you were also seeing more traditional financial entities entering crypto? Would you say that now it's like centralized crypto is moving to decentralized crypto, but are there also traditional finance also getting excited about this part of it, or are they still kind of staying out of this?
00:08:46.924 - 00:09:37.934, Speaker B: It's still pretty complicated. I think it's still too complicated for very traditional finance folks. It's too complicated for centralized trading folks in a lot of ways, because you have to understand a lot more of the blockchain mechanics and engineering and low level details about the virtual machine. If you're really making good investments in DeFi, you need to actually understand a lot of the engineering details, which is very different than normal finance, where you only really care about the financial details. And the centralized exchanges usually act as this abstraction layer, so that when you're buying bitcoin on Coinbase, you're not actually buying bitcoin on Coinbase, you're buying the right to Coinbase issuing you bitcoin later. But they could just be like, hey, sorry, we're going to exit scam and take all the bitcoin and not pay you back. Defi doesn't have this problem.
00:09:37.934 - 00:10:07.518, Speaker B: It's very much non custodial. So if you have your own keys, you can keep track of all the funds you have on these exchanges. And you also can check whether the exchange itself is under collateralized, or is trying to pull a scam, or whether there's amount gox happening. These decentralized finance entities can actually make sure that those don't happen, but they are more difficult to use. And there's this trade off surface. And that trade off surface is captured by the sort of difficulty in engineering problem.
00:10:07.684 - 00:11:23.670, Speaker C: Yeah. So on that engineering problem, there's a couple of interesting things that we're noticing, as well as we're seeing a lot of engineering talent try to focus on building some of these opportunities. A lot of them are more traditional developers that come from more software backgrounds that maybe don't have as much of the finance background, but just have an opportunity to play with these different primitives and assemble things that potentially users find interesting. One of the things that we hear repeatedly from people is that they pursue the opportunity because the underlying infrastructure is potentially more neutral to the things that are on top of it. So if I was building a lending system back in the day, potentially I might have to compete with a whole bunch of banks, and then Goldman Sachs launches Marcus, and I have to compete with them and a whole bunch of things like that. Now we're getting this opportunity where I can build things on top of lending protocols, knowing very, very specifically what types of behaviors I can expect. I mean, barring hacks and that sort of thing, which are still all too frequent in DeFi, but especially as that infrastructure ossifies, it's relatively predictable in terms of somebody who's building a financial service to know that the underlying infrastructure is ideally neutral to them, at least at this point in time, such that they can build with confidence and know what functionality they're offering to the end user.
00:11:24.090 - 00:12:52.926, Speaker B: And one other thing I would say that's sort of an extension of that is over the last 15 years, we saw the evolution of financial technology go from, you know, things in 2006 and seven of Venmo, kind of figuring out how to make social networks useful in payments as an evolution from PayPal. And then you started to see Stripe and plaid come out in 2013 and 2012, which offered sort of these API access to banks. So people who are developers could sort of write programs that programmatically borrowed and lent for the end user so that the end user could have experiences like Robinhood or these other, like Coinbase itself uses plaid heavily, right? So these end users or Mint.com and these end user experiences rely on being able to have a single API to every possible bank, right? Because there's hundreds of banks, they all have different server stacks. Some of them have servers from the 1960s using cobalt. And you, as the end developer who's making this app, don't want to learn 500 different bank schemas, right? You want a single API. And so the growth in stripe and plaid and revolute and monzo and all of that type of stuff, transfer wise, that all was driven by this kind of API layer that made access to banking very easy to use and uniform, but it didn't give you access to risky capital.
00:12:52.926 - 00:13:34.234, Speaker B: You could only do kind of read only bank operations where you can read someone's balance and say, hey, you can start an ACH transfer to Robinhood, or you can say, hey, you can do some very minimal amount of transfers, but there's a lot of centralized gatekeeping and there's a lot of, like, it's still not a very efficient system. Whereas crypto lets the risk operations take place on the smart contract platform. And DeFi is those risk operations, whether they're borrowing and lending, whether they're issuing derivatives, these are just things that stripe and plaid cannot do. And I'd say this is sort of that evolution arc, if that makes sense.
00:13:34.292 - 00:14:44.998, Speaker C: Yeah. The other thing on there is, let's say there are certain APIs that you have the capability to change system state I write access to. It's not exactly always clear in centralized finance. If I'm stitching together two or three different services by accessing their APIs, that if I change something in a state of the first of three, that then in subsequent transactions, that state doesn't propagate. So if I borrow some amount of money in order to make a trade, when I go to trade, potentially something's changed at that latter venue. So in crypto, one of the things that you're able to do, and in some ways it's good, in some ways it's enabled things like flash lending that can be good and promote efficiency, but can also be dangerous if you have exploits where I can guarantee the behavior within a transaction, so I can say execute this transaction if XYZ conditions hold, and I can have guarantees about how these things are being stitched together in the context of a single transaction, as opposed to having to worry about different databases that may not be in sync with each other and where you have to deal with this dynamical system of I'm changing the state of one system and therefore something maybe moves against me in another. Interesting.
00:14:45.084 - 00:15:10.894, Speaker A: And I wonder, would you say that a lot of the D five protocols, I'm assuming a lot of them are at least semi open source, and so there's this way of locking into them, whereas these other kind of older systems would have been more siloed and more closed. Let me ask the question. Would you say that is the case, is part of the reason why you can do this programmatic thing more accurately? Because it's open.
00:15:11.092 - 00:15:53.562, Speaker B: It's open plus consensus. So I think to Alex's point, without a consensus algorithm, you can't enforce this atomicity of risk operations. Right? Now, when you go to Robinhood and you say, hey, I want to transfer $10,000 from my bank, and then Robinhood gives you the experience of like, hey, we just increased your account by 10,000. You can go buy Amazon shares, they're actually taking risk. They're assuming that your bank transfer will work, and if it doesn't, then they liquidate all your stocks, right? In a crypto system, you don't have to do that. Once I do the transfer, the money is there. So I can just make everything conditionally dependent programmatically, which just doesn't exist in normal finance.
00:15:53.562 - 00:16:03.194, Speaker B: All of the hacks that make it look like that's happening for you are all like some centralized entity assuming risk and lending money to you implicitly.
00:16:03.242 - 00:16:32.314, Speaker A: Yeah. Oh, wow. Yeah, that totally actually makes sense. But do you feel like, is there. No, I mean, and that's sort of speaking to the centralized version as well, where the centralized version was also sort of just like, where the actual things were held weren't necessarily reflected in the user's experience of where those things were held or when things transferred wasn't exactly reflective of the actual underlying transfers happening. But now it is through Defi. That's cool.
00:16:32.314 - 00:16:57.338, Speaker A: I have another sort of part of Defi that I have not explored very much. And Tarun, I know you do something around this, and Alex, I don't know if you do, but liquidity farming, I feel like I heard this word like three, four months ago. I'm sorry, I know I must sound so out of the loop, but what is that? Does that exist in every. Is that a finance term?
00:16:57.514 - 00:17:49.214, Speaker B: So a phrase I like to say about Defi is arbitrage is the proof of work of defi. In order for these systems to work, someone has to be able to perform a profitable arbitrage. Otherwise the states of different contracts won't reflect the true value that they're supposed to reflect. So there has to be kind of these pennies you can pick up in front of a steamroller. And the smart contract emits the pennies in the form of tokens. Liquidity mining is something where a very kind of clever idea from compound to basically encourage you to use the system by paying you in tokens if you found an arbitrage. And this became this thing where now a lot of people were able to net borrow from compound at negative interest rates because they were earning more money in the token than the amount they're spending borrowing.
00:17:49.214 - 00:18:13.018, Speaker B: And it's a growth hack, but it's a growth hack that the smart contract pays for itself. There's no softbank subsidizing Uber for ten years or wework or whatever. It's a growth hack where if it stops, then basically it just means that the market price the value of this incentive down to zero. So there's like a market value to growth hack. I don't know if that, Alex, is.
00:18:13.104 - 00:19:02.326, Speaker C: There's two additional things that I'd layer in there. One is that it's often used to distribute tokens. So you have a bunch of tokens as a project and potentially your project that says, I want my project to be community owned and governed through this governance token. And so the question then becomes, how do I get that in the hands of my community? In the past, you would maybe do an ICO or figure out some other way of getting that into people's hands through investment. Now you're basically saying, come use my protocol, and depending on how much you use it, you get more of it. And there's advantages and disadvantages to these different approaches. The second thing I'll add to that is the question that I think a lot of people are asking, or the question they should be asking is, what is residually left over at the point at which the incentive stops, right? So you are incentivizing people to come pick up these pennies from the steamroller.
00:19:02.326 - 00:19:31.474, Speaker C: You're creating an ability for people to be set up to perform these arbitrage opportunities. When that stops, do they continue to stick around? And here you might see some differences actually across different protocols. So, for instance, you might, in the case of a amm, say, well, as the protocol gets bigger, it gets more liquidity, it's easier to trade. In some sense. There is kind of this network effect that as it gets bigger, the experience gets better. Some lending protocols have the same effect in that they are also implemented as amms. You can do a bigger trade without moving the interest rate curve too much.
00:19:31.592 - 00:19:35.220, Speaker A: But then also potentially as, wait, what is an.
00:19:37.110 - 00:19:37.982, Speaker C: Amm?
00:19:38.126 - 00:19:40.440, Speaker A: You're talking to a defi new.
00:19:43.050 - 00:20:04.240, Speaker C: Amm. And I think, tarun, you might supplement my definition here, but at least how I define an Amm is an algorithmic trading agent. In the simplest case, you have a contract, like uniswap on Ethereum, users contribute, let's say, 50% dai, 50% eth to that contract. And then that contract offers that ETH and Dai to traders for pairwise swaps at an algorithmically determined price.
00:20:05.410 - 00:20:58.350, Speaker B: Maybe something I'm unraveling something that's simpler. Amm stands for automated market maker. So the idea is on centralized exchanges, like know, people like my old employer or jump or other trading firms will be doing what's called market making. So they quote prices, they say, hey, we're willing to buy bitcoin at $9,000 and we're willing to sell bitcoin at 9100. And by having people who are quoting prices that they're willing to buy and sell at, the market is liquid in the sense that, or many people, it's liquid. And there's a notion of a price that is discovered. Now, if you want to decentralize that, just like the oracle problem, you need some way of being able to quote a price that is correct without having to have these humans in the loop.
00:20:58.350 - 00:21:52.462, Speaker B: And automated market makers were sort of first invented in the early two thousand s to try to capture this. They were actually invented for online ads, because online ads had this problem with liquidity, where each ad that was sold was a not fungible. If I went to booking.com and I saw an ad for the ZK podcast, and then I go to, I don't know what's another site that exists that people see ads at Facebook and I see a ZK podcast ad, those are actually different products, right? They're not both ZK podcast ads. They are at some level of that abstraction, but at the level of who's selling the ad. They're two different markets technically, right? One is the booking.com market and one is the Facebook market.
00:21:52.462 - 00:22:45.070, Speaker B: And so the problem is, it's very expensive. You have to pay some incentives for people to market make. And when you have millions of markets, every ad online ad is kind of a non fungible market, like an NFT. When you have millions or billions of those, it's impossible for market makers to market make all of them. And so one question is, can you make an algorithm that can correctly quote you the price based on how much people are interacting with that, right? So there's all this algorithmic data of, oh, there's like 500 people going to this site. So this is how much you should pay for the ZK podcast ad. So they were invented to kind of get over this liquidity crisis of like, there's a fixed amount of capital, but there's an infinite number of online ads, and somehow you have to allocate, and how do you do that? Algorithmically, you make these things called automated market makers.
00:22:45.070 - 00:24:03.814, Speaker B: People over time were like, hey, why don't we just get rid of trading order book venues and replace them with automated market makers? Well, they have an engineering trade off. The engineering trade off is their latency is much worse, and their ability to cover their losses in some sense is actually really bad, because if someone makes a really big trade against an automated market maker, it's a piece of code that has to fulfill that trade, but it potentially is trading against itself if someone finds an exploit in a certain sequence of trades. So it was hard to develop these things. I think people who are now algorithmic game theorists who are looking at crypto, like Tim Rothgarden, they invented theory for a lot of this stuff in the 2008 era, and then automated market makers made a jump to cryptocurrency in 2015 in this kind of blog post. Reddit, sorry, Reddit post between Vitalik and Martin Coppelman of Gnosis, where they were like, hey, can we get rid of these exchanges? And this has to do with the whole Dow hack. Can you stop trading thing that I don't know if you're familiar with from Ethereum history, but I think they wanted to have an automated market maker on ethereum selling you Ethereum. And that led to uniswap.
00:24:03.862 - 00:24:05.606, Speaker A: Is uniswap an amm?
00:24:05.718 - 00:24:15.280, Speaker B: Yes, it is an amm. It used to be the most used on chain Amm. It's now the second most used on chain Amm. The first.
00:24:16.130 - 00:24:32.018, Speaker A: Thank you so much for defining that, by the way, and sorry, Alex, we interrupted you. You were actually describing, I want to take a step back to what you were talking about when you were basically adding to the conversation around liquidity farming. Sorry that we did the detour, but actually, this is awesome.
00:24:32.104 - 00:25:17.474, Speaker C: No, thank you. That was actually very helpful because it clarifies what I think is a distinction. What I was talking about was there's this difference between just the general amm that's reporting the price between two different assets like Uniswap, and what Sharun described, what's the price of ETh versus the price of Dai? And then there's this other amm that is something like compound, where you're trying to quote an interest rate. You have supply and demand, people borrowing and lending, and your output is some interest rate. So in the former case, it's pretty clear that as you get more liquidity inside of this, let's say e to die pair, that the experience kind of gets better in a lending protocol. Potentially it may not. I mean, in a certain sense it does, because you can do bigger trades without moving the interest rate.
00:25:17.474 - 00:25:51.280, Speaker C: But let's say if you have 90% of ether supply inside of compound, that may be pretty risky. And actually, Teruna has done some really good work explaining some of those limits. And so potentially, some of these amms that are lending protocols may have to scale horizontally, that you can't get too big in any particular market, but you have to include multiple markets. So you're doing all this liquidity farming, you're building basically horizontal scale, while some of these specific amms, like uniswap pools or curve pools or balancer pools, don't have that as much in any one particular market, if that makes sense.
00:25:53.250 - 00:26:04.378, Speaker A: But I want to go back to that comparison to traditional finance. That first question I had was like, does it exist? Is liquidity farming a thing? What is the equivalent of liquidity farming?
00:26:04.474 - 00:26:45.206, Speaker B: Yes, it does exist, but it exists in weird esoterica that I think the majority of people would never actually interact with. They just don't realize it. But in high frequency trading and market making exchanges, in order to drive liquidity to their exchange, pay incentives in the form of rebates. And these rebates are things that are like, if you trade more than a million shares a day, instead of paying 10% in fees, you pay 2% in fees. Right? And these incentives are meant to like. And you can see this in crypto exchanges. It's, like, exactly the same incentivized crypto exchange.
00:26:45.206 - 00:27:45.502, Speaker B: It's exactly the same incentive thing of, like, hey, if you quote prices a lot, and the people who use the platform the most are the people who are market makers, because every time there's a trade, they need to update and say, like, this is what we think the best price is, right? And then the market equals sort of an aggregated average of everyone's view on the best price. But basically, exchanges have to pay these rebates. And these rebates are, in fact, the reason that you have Robinhood and free trading, because Robinhood trading isn't really free. They're selling your orders to citadel jump, my old employers people, algorithmic trading firms, and those people are actually executing it, and then they're, on average earning, let's say, like execution, and they give Robinhood three cents of that. So Robinhood is really selling your data to them, and they're executing it. And that whole system only works because of this incentive mechanism where the exchanges are rebating.
00:27:45.646 - 00:27:47.026, Speaker A: Oh, I see. Okay.
00:27:47.208 - 00:28:23.680, Speaker C: Well, one of the things that's interesting here, too, is that on exchanges, the different orders, it's not always necessarily, or at least historically, hasn't always been clear what the different rebates and incentives are. So some exchanges may charge takers, some may charge makers, some may have different orders. In fact, there's been a lot of controversy around hidden orders, where people don't really know what the orders are, and so your orders aren't executing correctly, and you have no idea why. Versus there's a relatively set number of functions that these amms have. And so it's pretty clear what rebates you get at any individual time and what the costs are to trading are a little bit more predictable at times.
00:28:24.930 - 00:28:50.306, Speaker B: Yeah. One point of clarification is when Alex says takers, a taker is a person who makes an active market order. So it's a person who says, hey, currently people are quoting, I'm willing to buy the dollar, I'm willing to sell at a dollar. And taker is a person who says, you know what, I'm just going to buy at a dollar and don't care. I just need to buy right now. I think the financial terminology might be somewhat confusing.
00:28:50.418 - 00:29:12.518, Speaker A: Well, not confusing. It's more like when you're talking about liquidity farming and then you're talking about these rebates, are they different mechanisms to incentivize the same action, or are they because from what I've understood of liquidity farming, it's more like you're earning something. It's not that you're getting discounted something or rebated.
00:29:12.694 - 00:29:37.102, Speaker B: So you could think of it as a rebate though, because in compound, let's say I'm borrowing, I put up $100 of Ethereum, I borrow $50 of die or USDC, and I'm paying 8% interest, but I'm earning like 9% worth of comp by borrowing. Well, now that's a rebate.
00:29:37.166 - 00:29:37.666, Speaker A: Oh, I see.
00:29:37.688 - 00:30:20.174, Speaker B: You okay, right? Yeah. It could be viewed as you can always kind of eventually turn it into looking like a rebate, but it's a proof of work thing more than a proof of stake thing. So I think one of the points Alex made earlier about token distribution being very different when you follow these liquidity mining incentives is that they're more fair in a lot of ways. They're much closer to proof of work, where it's people competing to earn portions of the network. It's like versus proof of stake, or icos, where the token distribution is where the initial token distribution is right. And you have to go figure out how to disperse it to as many people as possible. Here you're saying, hey, look, I have something where if you use it, you earn my token.
00:30:20.174 - 00:30:47.690, Speaker B: And if the more clever you are at using it, the more you'll earn. So you're kind of competing on whose algorithm is best. And so in that sense, it's a lot more fair of a distribution than like, hey, I'm an investor, I'm going to buy 10% of this thing relative to what the community who uses it says. It's as if stripe, every time you use stripe, gave you a little bit of stripe equity, right? And so I think that might be like a way of contextualizing.
00:30:48.110 - 00:30:56.640, Speaker A: All right, I want to move on to some other topics. And actually, Tarun, do you want to take a lead and ask one of those questions that we.
00:30:57.410 - 00:31:41.722, Speaker B: So, you know, I think one thing that I've noticed certainly in the zero knowledge community and layer one community is that people kind of are like, well, Defi or this thing is just writing a smart contract. Is there any real engineering? Is there any hard problem? Someone on this call, on this podcast is guilty of this. There's no hard problems there isn't it just like moving the state of numbers around. So I think, Alex, maybe, do you want to talk about comparing the differences in mindset in engineering in Defi versus Azer and knowledge proof system, especially since you are an investor in matter labs and are seeing kind of both sides of this?
00:31:41.776 - 00:32:48.674, Speaker C: Well, in many ways, and I definitely don't want to be cheeky with the answer to your question, which is a good question. The investment in Matterlabs and what excites us about matter labs is bringing together those two perspectives. Right. The zero knowledge community has a lot of focus on diligent engineering and the mathematics behind building these different systems, and is driving a lot of fundamental improvements on software and hardware and so forth that are making these systems more viable while DeFi. Maybe we're just playing with numbers, but we're having fun with them, frankly. And so bringing those technologies to bear in DeFi is something that we're incredibly excited about. In particular, we feel that some of these, the core things that make DeFi exciting, the security aspects of it, ultimately, the openness of it, the decentralized infrastructure that is neutral to the interfaces that we talked about earlier, I think are better served in systems that reason very carefully about security and so matter labs, for instance, should there be a DeFi layer, two would be positioned to do something like that.
00:32:48.674 - 00:33:13.020, Speaker C: There are obviously lots of others that are vying for that. So we believe that ultimately, the differences in engineering culture are just one is at a higher layer and is potentially promoting a service that is for traders, for users, and so forth, while the other is building enabling infrastructure. But we very much are believers in this idea that the two ultimately converge, as they have really in every technological trend and platform shift that we've seen.
00:33:13.550 - 00:34:45.506, Speaker B: Yeah, I will say in the normal world, the places that are the biggest cash aggregators in terms of Google's ad exchange and sort of like Citadel, like high frequency trading, those places are places where they're the exact intersection of the type of people who build layer ones with people who think about finance. And I think that's kind of what you need to actually make a lot of these crypto products viable to the end user who doesn't really want to think about gas prices, doesn't really care about the zero knowledge proof generation process. They just want to be able to use it. It's like, if I want my grandmother to use any of these crypto products, we need to actually get the finance part working well enough that you get the Robin Hood experience, but it's really powered by people who are kind of both low level engineering mixed with finance. But I would say one thing is one of the ways I personally like to think about the difference, especially since there are a lot of cryptographers that listen to this podcast, is that cryptographers like to think of the stochasticity and randomness in the universe as coming only from one particular way. Everything needs to look like the uniform distribution, and you can only be a little bit far away from the uniform distribution, because if you have a set of things and you're like, hey, I want to be able to sample it, but you can't identify that. I picked something with high probability, then the uniform distribution is this sort of maximal entropy distribution.
00:34:45.506 - 00:35:10.222, Speaker B: But people in finance and Defi and ad auctions, stuff like that, it's the opposite. It's much more like machine learning, where you're trying to learn a lot of properties about probability distributions that are not uniform. And somehow that, to me, is the fundamental mismatch between the two cultures and why they kind of are antagonistic to each other. At least my observation, we should definitely.
00:35:10.276 - 00:35:29.334, Speaker A: Explore that further as we go on. I want to lead us towards this conversation about this article that you created. And I think a question that could lead into that is, what are the similarities and differences between Pos and Defi? Is pos defi in a way.
00:35:29.452 - 00:36:20.958, Speaker C: Right. So there's the general answer, and then there's the answer that's a little bit more specific to some of the work that we did, which kind of incorporates a little bit of both, and maybe that gives us an opportunity to transition to discussing that is, in some sense, proof of stake. And Defi do use stake and liquidity in somewhat analogous ways. So there's a number of different proof of stake protocols. Well, all the different proof of stake protocols use this idea of a coin as your collateral in providing some marginal security to the network. Similarly, I think a lot of D five protocols, maybe innately or maybe inspired by that approach, have been pursuing something similar in that you back some amount of collateral, and then you issue assets against that collateral or provide insurance, as we've seen in a number of different DeFi protocols that try to ensure the own functionality that they enable. We're seeing this a lot with lending protocols.
00:36:20.958 - 00:36:49.962, Speaker C: So that context, some of the ways in which you think about these things may end up being quite similar, and they do end up being very much probabilistic. As Tarun said a minute ago, that you have to think about what the probabilities would say of default are, or what the probability that somebody does something malicious or messes with something in this part of the system, and how that propagates to the rest of the system. So in that sense, there are some frameworks that can sort of incorporate both, and that's the non tagline version of PoS's DeFi.
00:36:50.106 - 00:37:15.880, Speaker A: And yet it's. I feel like when POS was really being developed, like the early ideas around it, Defi didn't really exist the same way it does now, or it hadn't come to fruition. Like, even if some of the ideas were floated, we didn't know if it would be adopted. I mean, think back to. I actually don't know this, but POS first proposed maybe like five years ago, six years ago.
00:37:16.250 - 00:37:50.190, Speaker B: Well, actually, technically it goes back to a 2012 bitcoin talk post, as far as easy from someone whose name is quantum mechanic, but the first PoS systems were like NXT in 2013 and purecoin around the same time. But this kind of current level of PoS systems that have verifiable random functions for sampling and vdfs and stuff like that, that all I would say was really spurned by Tezos and Algorand circa 2015 16.
00:37:50.270 - 00:38:04.210, Speaker A: Okay, yeah, that's sort of the time frame. But going back to that question, at the development point when the concepts for these systems came into being, DFI wasn't on the radar.
00:38:04.290 - 00:39:26.106, Speaker C: Yeah, I think that shows in some sense in some of the early designs in particular, as Tarun mentioned, some of the next generation of proof of stake protocols do take a lot of inspiration from some of the more financial work that's been happening, and that is incorporated in the way they think about randomness and all these different problems that are fundamentally financial problems. But at their core, DeFi protocols, the core incentive is that you're getting some amount of yield on your assets by being a validator. What ends up happening once you mesh those two worlds together? That in some sense were, up to a certain point considered parallel is a bunch of Frankenstein like effects. And I think that the first person that I read that articulated this well was Tarun, actually, when he wrote this paper on competitive equilibrium between staking and lending, where you have these potential effects, where the returns to DeFi could be sufficiently high such that you can destabilize the proof of stake system by incentivizing people to leave it and go to DeFi protocols that the proof of stake system was supposed to be securing in the first place. And so as a consequence, you get these really weird dynamics. And so the retort to that is, well, if you think about both at the same time, you kind of bring those two perspectives and design with the idea that, yes, there will be alternative yield opportunities on chain. I think then you can start to think a little bit more rigorously and systematically about the types of risks that exist in these systems.
00:39:26.106 - 00:39:33.380, Speaker C: And that's the work that we tried to do with Tarune. It's work that we've both kind of done in parallel, separately. And that's kind of what inspired this.
00:39:33.990 - 00:39:42.520, Speaker A: Staking to risk paper, to dig into this paper. I mean, Tarune, when did you publish that sort of staking and lending paper?
00:39:43.050 - 00:39:48.550, Speaker B: October 2019. And then it was presented at SBC in February.
00:39:49.050 - 00:40:29.654, Speaker A: Okay. Yeah. So for me, it really opened my eyes to just like, a problem space I didn't know existed. And I mentioned it a couple of times on the podcast. In a nutshell, if I can summarize, maybe you can expand on this, but it was basically, if you create sort of these tokens, if you are staking tokens and then can create replicas of them that are liquid and potentially lend those that, you end up with a problem of incentives or price differentials that could cause staking to become less viable. Is that roughly what you talked about?
00:40:29.852 - 00:40:32.758, Speaker B: Yeah, more or less. You can think of it that way? Yeah, definitely.
00:40:32.844 - 00:40:57.466, Speaker A: That's always the way that I've understood it. Now I want to dive into the work that you've done together because that took it kind of an extra step, and you were able to find kind of historic examples for what could happen if this wasn't properly managed. I thought that was quite powerful. So why don't you explain what this paper basically is describing?
00:40:57.578 - 00:41:38.042, Speaker C: Sure. So we talked a little bit about the context, too, and that Turudin was doing this work in parallel that I was introduced to. And at the same time, I think we were both noticing back to this idea of doing some horizontal work, noticing a lot of different protocols try to address this issue of liquidity and how you wanted to lock people in proof of stake in order to provide you security, but then you're depriving them of other opportunities. And so how do the incentives work that way. So they were proposing all these different mechanisms to resolve that problem. We wanted to first of all, ask the question of what these mechanisms were, and then ultimately what their impact might be. And so that's kind of what motivated this work.
00:41:38.042 - 00:42:13.986, Speaker C: So maybe a little bit before that, since we did this with amms very well, we can define what staking derivatives are. So my best definition, I hope you can supplement me here. Tarun is the easiest way to think about them for me, is as loans. And so I'm a validator, as we actually have a validator on the call. So I am a validator. I have 100 etH, let's say Amy 2.0, and then I borrow 25 synthetic eth against my eth collateral at some price point that is determined by some curve either set by the network or an external lender.
00:42:13.986 - 00:42:41.920, Speaker C: I, at the end of that loan, either repay the 25 synthetic eth and unlock my 100 real eth, so to speak, or if I perform some malicious action, like I'm not online at a certain point where I'm supposed to be online, or I do something else that the protocol doesn't like, I could get slashed and not have the capacity to repay my loan. The protocol will, in some sense, foreclose on my loan, delete my debt, but then seize my collateral and then burn it or redistribute it as it sees fit.
00:42:43.490 - 00:42:59.046, Speaker A: You use the term synthetic token in this case. Are you referring to synthetic as the kind of project synthetic? Are you talking about? Like, is that the terminology for these kind of copies of the stake in liquid form?
00:42:59.228 - 00:43:32.720, Speaker C: I use that term generally. In this case, not synthetics in particular. Got it. General, to describe sort of an iou that you have issued against some amount of stake. And the reason you have the subscript synthetic to the ether that you're borrowing is that technically, it's not always one to one. And actually, one of the important things is figure out what the relative price of those two things is, so they kind of look and feel similar ways, and that one can give you access to another. But the dynamics of the interaction between those two prices are really what drives a lot of the interesting mechanics and the work that we.
00:43:34.290 - 00:44:25.486, Speaker B: You know, I think Alex started to point out, I think that thinking as loans is probably the great, most correct way to do it. For some reason, people in crypto love calling everything a derivative. And yes, it's a derivative, but it's just simpler sometimes to talk about it as a loan. But the main thing that I think all these things are trying to address is this concept of capital efficiency of, like, I have a bunch of capital, I've allocated it to something that's earning interest. But optimally, the yield I can get might not be optimal. It might not be optimal to keep it in these networks, but the networks need to incentivize people somehow to keep their capital there. And offering them alternative ways to at least borrow a little bit against it, to maybe pay their electricity bill for their validator or something else, is kind of the main goal.
00:44:25.486 - 00:45:05.870, Speaker B: And there are a bunch of proof of stake networks that are learning from the lessons of what's happening in DeFi, because DeFi is basically this gigantic exercise in optimizing capital efficiency. And proof of stake is a particular subset where it's really the insurance fund for the blockchain itself. There are a bunch of staking derivatives that exist right now. Some of them are cross chain. So Terra just announced this cosmos staking derivative called anchor, which will basically. And polkadot is going to. There's going to be a cross chain link between Cosmos and Polkadot for this, where you can borrow dollars.
00:45:05.870 - 00:45:55.310, Speaker B: So Terra is a stable coin that's in the dollar, and you can borrow dollars against your. You normally, in the synthetic world that Alex was talking about, you're borrowing synthetic atoms, let's say, right? You're not borrowing against your atoms, but then if you want to get dollar liquidity, you have to take the synthetic atoms and sell them, get the dollars and pay your bills. Right? The idea is, if there's a stablecoin that exists, you could borrow the stablecoin directly. And this is the thing that has driven compound to grow to a billion dollars, really, is that people want to borrow dollars against crypto because they have expenses in the real world, but they're net long, they still want to own their crypto. And so staking derivatives are really starting to take off on cosmos. Polkadot, Terra. I think the only network that's really against them is tezos.
00:45:55.310 - 00:47:02.462, Speaker B: Arthur is very much an anti staking derivative person. But to go back to kind of the paper, the idea that these things in DeFi are actually very similar to these things in proof of stake made us kind of say, is there like a single mathematical structure that represents all of them? You have some parameters you can tune, but you can represent all of the proof of stake with derivatives, and also all of these sort of defi capital efficiency game type of things. And one of the reason to think that is in traditional quantitative finance, you have these sort of very grand theories, like the black Scholes equation. Which black Scholes? Merton, I guess only black and Scholes won the Nobel Prize in economics for it, where you can talk about this notion of replicating portfolios. And I think Alex can give, hopefully also add to this definition. But a replicating portfolio is something where you hold one set of assets. So like asset A, asset B and asset C in some ratio.
00:47:02.462 - 00:47:15.640, Speaker B: And it's equal in terms of the payoffs that you get to holding, say, asset D. And what that means is maybe I own a bond and a stock, but that's equivalent to owning a bunch of options.
00:47:17.050 - 00:47:18.538, Speaker A: Like in terms of your return.
00:47:18.624 - 00:47:32.590, Speaker B: In terms of your return, exactly. Even though physically they're different goods, they have the same price returns to you, same yield curve, same whatever. And this notion of a repcane portfolio is quite powerful.
00:47:32.930 - 00:48:25.818, Speaker C: So one way to think about this, maybe the easiest analogy that I've heard is let's say you are an investment bank and you sell me a derivative. Let's say it's an option, and then you basically short this option. And potentially, if the price moves against you, you could be on the hook for a lot of money. And so your goal then is in order to make money to hedge your bets in some sense. So you could either buy an equivalent option and be net zero, but potentially, if you don't agree with the price, I mean, that's kind of a terrible business to be in because you make zero profits. But if you think the options premium is really high, you could say, well, I will go and assemble that option out of a stock and money market. So the equivalent would be you're a manufacturer.
00:48:25.818 - 00:48:59.626, Speaker C: Instead of thinking about in these financial terms. That can be confusing is you want to sell me a chair and I'm buying that chair for $20. But really, you know, you can buy the screws, the wood, the legs or whatever else and assemble that chair for less. And so let's say $18, you keep $2 in profit. But in any case, no matter what happens to the price of the stock or in this case the different components, you're still ahead if your pricing model and replication model was correct.
00:48:59.808 - 00:49:15.134, Speaker A: But going like. Let's come back to the paper though. So you are doing like it's building towards this formula that's supposed to predict in a way what secure a network is or how expensive it would be to corrupt it.
00:49:15.172 - 00:49:55.366, Speaker B: Yeah. So one way to think about this is let's suppose there's $100 worth of Ethereum staked in Ethereum to you. If you borrow $25 against $100, and then you default on that loan. So you get slashed a bunch of times, or you just don't repay it, or something like, you take the money and you're like, I hate the network. I sold my synthetic ETH for dollars and go to hell. ETH two, right? The network has to pay some cost. And in particular, the network's cost is it just lost 25% of its security budget because 25% that it issued synthetically disappeared.
00:49:55.366 - 00:50:27.298, Speaker B: And now it has to be like, oh, we only have $75 securing ETH two as opposed to 100. So the network is actually losing security every time it issues these loans. Right. But the key thing is if you use these automated market makers, you can have the network figure out how to price these loans itself in such a way that it's measuring how much security it's losing in a very quantifiable way. By issuing these loans and by knowing how much security it's losing, it can kind of put risk guards on itself.
00:50:27.464 - 00:51:00.240, Speaker A: But I think you're going ahead a little bit here, and I want to still kind of COVID that background here. I want to sort of repeat what you just shared, which is the security goes down and say, defi doesn't exist. There's no derivatives. You just have these POS systems that are standalone. They usually have a threshold that you need to reach in order for it to be secure and basically uncorruptible. It's either like two thirds or 50% or something like that. And we've covered this quite a few times.
00:51:00.240 - 00:51:28.422, Speaker A: So this is how it is supposed to work. And that's where the security, a lot of the security models are created. Just like thinking about this now. You've introduced this second feature, the fact that you can do these staking derivatives. If I have tokens, I've staked them, and then I take derivatives. How does that actually lessen the security of the entire system? Because from that, it just sounds like I have duplicates of the same thing that I can do stuff with.
00:51:28.476 - 00:51:46.158, Speaker B: Yeah, I mean, in some sense, if you're doing that, then you're double spending, right? So you need to somehow. The point of these security budgets, at the very minimum, is to prevent double spending. And you're effectively letting someone controllably double spend, but in such a way that they have to pay it back so that it undouble spends themselves.
00:51:46.244 - 00:51:59.502, Speaker A: The idea here, though, is like defaulting would be being slashed, right? If on the staking side, you were slashed, you would have less tokens to be able to repay this loan. That you've taken against the stake.
00:51:59.566 - 00:52:08.302, Speaker B: Exactly. And the POS network itself can execute the loan and default in the smart contract because it itself is its own security.
00:52:08.456 - 00:52:58.834, Speaker A: But this is like a step further. I think we're still at the place where I guess I still think of this as the existing POS systems and then things that are built on top or things that are existing around it, but aren't necessarily deeply integrated. But I do understand that as time has passed and as these findings have become more clear, there are now POS systems that are just launching or still in design phase that have learned to incorporate these derivatives themselves that didn't really exist before Tezos launched without having derivatives included in it cosmos as well. So this is a shift, basically, that we're seeing in the ecosystem that people are, that these networks are now hyper aware of this and trying to plan it into their own systems.
00:52:58.962 - 00:53:52.246, Speaker B: Yeah, I think they've been taking two different tactics. Some of them are integrating it very deeply and some are doing it via a smart contract that is external to the network. They have slightly different security complications and implications in the one where it's deeply embedded in the protocol, the protocol can arbitrate on itself. So it can basically say like, all right, you know what? I'm shutting down all loans because too many people are defaulting right now, and it's just not safe for the network to keep issuing loans. Whereas if it's done in a smart contract external hub, it can't really stop itself in some sense. And the end goal of all of this is if the network itself becomes the biggest lender. So in the staking versus lending case, we have ethereum two and we have compound on ethereum two.
00:53:52.246 - 00:54:39.286, Speaker B: Ethereum two is offering you 5% interest. Compound is offering you seven because of liquidity farming or something. And so all the ethereum stakers are like, I want 7%, so I'm going to unbond and move to compound if instead the network itself was like, hey guys, guys, look, we also can lend to you at 7%. And okay, well, if the network itself is the biggest pool of liquidity for lending, then people are like, why should I take the risk on this smaller compound thing instead of just keeping it staked? Right? So there's this idea that the network is its own best bank, and if you do that, then you can avoid this lending thing where people move their capital out. If the network can offer lending and.
00:54:39.308 - 00:54:43.400, Speaker A: Borrowing services, although I'm sure that it also comes with its own set of.
00:54:45.850 - 00:54:47.494, Speaker B: Alex, did I miss anything?
00:54:47.692 - 00:55:21.614, Speaker C: No, that was, know, one of the things that we try to look at in that context is, as you can see, there's all these different designs that these networks have. And so we try to just abstract to what are the core functions that such a thing would need to embed and enforce? We came across a couple of things that were a little bit tricky to model to begin with. So one of the things was, you get these aggregations of, there's a bunch of different validators. They're all taking out loans, but all their loans were denominated in a common asset, and that's priced on this curve and has all these different characteristics.
00:55:21.662 - 00:55:33.766, Speaker A: Would an example of that be like if you were staking cosmos and you took like a cosmos, synthetic cosmos, that's the same asset, basically, or it's a single asset, right?
00:55:33.868 - 00:55:34.662, Speaker B: Something like that.
00:55:34.716 - 00:56:37.226, Speaker C: Or like the terra example that Tarun mentioned earlier with some of these protocols are embedding the Amms that do that conversion into the actual protocol itself. And so we've seen some examples of that happening as well. So what ends up happening is, one, you have this aggregation is you have different loans, that kind of output, the same thing, and then you also have this idea that in order for the protocol to be secure, it needs to reserve these rights. Basically, what Tarun was just saying of, hey, stop borrowing kind of thing, or this validator has been misbehaving or has exhibited some other risky behavior, I want to basically take back this loan. So those types of things are just options that the protocol has during the term of the loan that can alter the behavior and the actual price of the loan that ultimately are priced in by people that are borrowing this type of thing. And so those two things make it really difficult to analogize it to just traditional lending. So we kind of just scoured the financial math literature to try to figure out a good analogy for this kind of thing.
00:56:37.226 - 00:57:39.054, Speaker C: And really where we had actually a lot of luck was we found some articles from the early 2000s where a lot of people writing about mortgage backed securities and securitization was really all the rage. And there were actually quite a lot of similarities in the types of approaches and stochastic models that those folks used. Similarly, these types of structures were ones where you were pooling together different liabilities and issuing kind of these homogeneous bonds, so to speak, against them. And then also you had these options on behalf of, let's say, the borrower, to, if the interest rate goes up on your home loan, that you can prepay your loan and so forth. So it was kind of a neat framework that incorporated both. And so that's kind of what trum is getting on with the replicating portfolio, is that you have these portfolios of all these different loans, and so you have this outputted asset that really behaves as an aggregation of all sorts of other things that are subsumed by it, in a sense. So that gave us quite a lot of ideas in terms of both the potential stochastic behavior of these things, but also the types of risks that we might see.
00:57:39.054 - 00:57:49.710, Speaker C: In other words, we've kind of seen this stuff before, and we've seen that it can work okay, but it can also be pretty bad. And so that kind of gave us a direction to talk about some of the risk.
00:57:49.790 - 00:58:22.880, Speaker A: I want to understand, when you talk about this combined, this sort of like, portfolio of assets, or I forget how you just said it, but I'm thinking of it like a batch of these assets. Are they different? I want to kind of hear it through example. Where is it something like different staked currencies, like tokens from different networks, are somehow bundled together? Or are you talking about an individual network and their validators, all of their synthetic tokens being bundled together? That's where. I'm not exactly clear what you mean.
00:58:23.330 - 00:59:10.630, Speaker C: The easiest one is the latter, where you have different validators with different risk characteristics, all have different loans, they have different collateral ratios, but they all, let's say, have synthetic atoms as their liability. The extreme case of this, and this gets again to the example of Pos and defi, is something like multicolateral dai, where you have people that are borrowing with different currencies as collateral, but they all owe dai. And actually, Dai is in some sense being backed by all these different heterogeneous loans that have different characteristics and so forth. And so when you're talking about Dai, or you're talking about the interest that you're getting, let's say as an MKR holder, from the different loans that are outstanding, you think about all sorts of different loans and how they aggregate up to ultimately your stake in the network.
00:59:10.790 - 00:59:23.438, Speaker A: Maybe we can talk about the inequality that actually exists in these PoS systems between these large stakeholders and those that don't have that kind of stake. How have these derivatives helped or aggravated?
00:59:23.614 - 01:00:08.506, Speaker C: Actually, maybe before we get there, one thing that helpful is one of the things we looked at a lot in this paper was inequality. And under what conditions proof of stake networks do better on inequality than when they have staking derivatives than otherwise? It was kind of a surprising result to us when we first came across it. But you basically have this effect where potentially a large validator gets slashed, and then that increases returns for everybody else around them. And then also you have the secondary effect where now I, for instance, have less capital than you and can access basically the same opportunity set if I want to take commensurate risk. So you get this more egalitarian like distribution. And so that's kind of a nice result. You do end up having to burn up a lot of stake.
01:00:08.506 - 01:01:14.414, Speaker C: And Turun has these nice simulations, which I guess is his firm's detra, to explore, that you have these nice regions where you don't burn too much and also have these egalitarian effects. But let's say, now in the taking the MBS analogy as a given, and there are differences and similarities, of course, but we found it an instructive analogy for the following reason. Let's say you have a large validator like binance that happens to hold a lot of coins and is running validators, let's say. And they get liquidated in a pretty big way as they're doing these risky activities and borrowing against their stake, lending to Defi, and doing all kinds of tricks like that, they get liquidated. And now you have potentially a large network participant that is incentivized to fork the network, to revert that state where they. And so then basically, all the nice effects of inequality and stuff like that that we talk about in this theoretical sense, all get wiped out immediately, right? In that you actually have the exact reverse effect, where the inequality becomes worse and the effects of concentration more pernicious.
01:01:14.542 - 01:01:18.258, Speaker A: I mean, you pointed this out really nicely in the article, but what are the risks?
01:01:18.354 - 01:01:57.902, Speaker C: Sure. And a lot of the results that we end up proposing, and a lot of the positive ones hold on these regions where we can make some analytical judgment about what's likely to happen. And then outside of those regions, basically, you guys are on your own. And that's actually really what drives and motivates this analogy to some different financial collapse that we've seen. So, for example, what we just mentioned and talked about, about a large validator being bailed out by the system is something that creates a kind of moral hazard that we've seen in other situations in the past. And I don't really have to dive into those. I think they're enough in people's recent memory.
01:01:57.902 - 01:02:57.174, Speaker C: The thing that is kind of different and interesting is that you have different liquidation mechanisms in these types of securities. So traditionally, a loan foreclosure, by the time so if you, for instance, don't pay your loan or don't make interest payments on your mortgage, I, the bank will foreclose on your loan. I'm the originator of your mortgage. I actually probably don't even hold your mortgage. It's somewhere securitized, and somebody's earning those interest payments when you pay them. So I then need to basically propagate that information across an entire chain of different folks in the financial system, and eventually it makes its way to the holder of that mortgage backed security, which could be the federal home loan bank of Seattle somewhere, and they now have to basically mark their positions to market and figure out what's going on with the rest of the market and all that. So in crypto, there might be an opportunity to do liquidations differently and perhaps better.
01:02:57.174 - 01:03:34.186, Speaker C: And one key way that we see that, we see this with centralized exchanges actually in crypto as well, where they're draconian with liquidations. And what that means is they don't then have to go after you or your broker. And so you basically know that you have limited liability when you trade on them, and that's something that's really driven their growth. It's something that's true in defi, because you're pseudonymous, you play around in Defi, you lose your shirt, but then they don't come after your house or anything like that. So the protocol can immediately enforce liquidations if they see you behaving in some way that's not agreeable to consensus, and they can do it immediately.
01:03:34.298 - 01:04:20.510, Speaker B: And I just want to add one thing. This ties back to our earlier discussion of when we kind of talked about stripe and plaid versus DFI, where in the stripe and plaid universe, Robin Hood or Coinbase has to hold risk and give forward, advance you the $10,000. But if you default, then there's like this time lag, because there's no globally agreed upon database. But the moment there's a globally consensus, agreed upon database, you can instantly propagate all of these actions, which is exactly what didn't happen in the home loan crisis. It took a long time for the banks to realize that thousands of people were defaulting. The novelty is in crypto that it's instantly propagated. Everyone can know instantly that all these people are defaulting at the same time, which might.
01:04:20.510 - 01:04:22.962, Speaker B: It's not guaranteed to help, but it might be a good thing.
01:04:23.016 - 01:04:38.502, Speaker A: You make the comparison to the mortgage crisis, the mortgage backed security crisis that prompted the 2008 financial crisis. Do you see parallels, or do you think that speed means that will never.
01:04:38.556 - 01:05:01.414, Speaker B: Happen in the same way I think it'll happen. We've already seen it happen at centralized derivative exchanges because they have a similar liquidation crisis. In fact, I would say one of the reasons I suspect that Coinbase hasn't been quite unsuccessful at building a derivative exchange is that unlike the asian exchanges, I mean, there's legal reasons, but they also just don't understand how to think about liquidations.
01:05:01.462 - 01:05:02.622, Speaker C: They've never had to do them.
01:05:02.676 - 01:06:14.366, Speaker B: And there's this bad case that happened on March Twelveth, for instance, where BitMex had runaway cascading liquidations and the insurance fund was almost drained, and, well, there were some very unhappy Bitmex users who were liquidated and sued Bitmax. But those liquidations are not so different than these liquidations of validators. And there's this cascading effect where one validator being liquidated might cause the price of the synthetic to go up, which causes another validator to be effectively liquidated, and then the price of synthetic goes up. So the synthetic gets more expensive in some sense, or rather, the real asset, buying the real asset with the synthetic, which is how you recover your stake, gets more and more expensive, the more people default. And if a bunch of people keep defaulting, there's this feedback loop that looks like the financial crisis. So that can definitely happen, and it probably will happen, but at least it's a closed observational system, where you can really see all the statistics of this happening, as opposed to the kind of very indirect way this happens in the current banking system, where there's a lot of trust that goes on that leads to message propagation being delayed.
01:06:14.558 - 01:07:29.050, Speaker C: So there's a benefit also to this trust, too, to mention the other side of the equation, in that I, when I extend to you a loan, as a bank, typically will have some more relationship with you, like, I at least know your name, I know who you are, I know where you live, I have a lot of financial information on you that you may say that's a very bad thing, but from the perspective of the bank, it's clearly not. And from the perspective of financial system, you have this entity that is proximate to the borrower, and as such, is able to underwrite the risks associated with that borrower in a way that a decentralized protocol cannot. So the decentralized protocol, by definition, needs to assume the worst and have very high collateral requirements and all that. The other part of it is very often the collateral that we're talking about here isn't Bay Area real estate, whatever you may think of that it's higher quality collateral than a lot of coins that are traded on exchanges and crypto. And as such, these issues, particularly around liquidity, could very much propagate the types of deleveraging cycles that trune just mentioned. So there's some axes upon which we can maybe do a little bit better, but there's some where these things can become worse than their centralized counterparts. They are a lot smaller comparatively to the larger economy, but that may not stay the case for too long.
01:07:29.120 - 01:07:54.286, Speaker B: So one thing that's important in this world is that now that you have this ability to have these sort of instant cascades that you can programmatically use in consensus and in the proof of stake protocol, how do you think developers should take advantage of this? And how does this propagation even happen? In some sense? Maybe we could dive into the details of the pricing of the synthetic asset versus the real asset.
01:07:54.398 - 01:09:02.470, Speaker C: Right? So the way that we've seen this, the ideas that I think most compelling that we've seen for getting that information into the protocol to begin with are through these constant function market makers, which is actually a term that turun coined in an earlier paper with Guillermo and Garris. And they talked about this idea of a amm, as we discussed earlier, the solution to the arbitrage problem of which is easy. In other words, it's very easy for people to figure out how much they should add or remove from the amm in order to have the right true price. And so in this case, what we mean by the right true price is what the probability of default is, what the security budget is, and so forth. So we want to get information from the market about what they believe, what expectations are about the relationship between the derivative and the underlying asset. And so we believe that that information will encapsulate future expectations about default and security. And as such, the protocol can take that information and make certain decisions on it.
01:09:02.470 - 01:09:57.660, Speaker C: Now, there are lots of, and lots of asterisks to that, in other words, how these things are manipulated and so forth, that we don't get into as much. But the fact that there are mechanisms to which these protocol designers are implementing in order to get that information from market participants, the primary mechanism that we've seen are these CFMMs. What's also interesting historically is that some of the existing cfmms that are being used outside of proof of stake altogether seem to have actually been inspired by the staking problem to begin with. So I was listening to this podcast from Michael Igorov from Curve, and he was talking about how he was initially working on a staking derivatives like problem. And that's kind of where the idea of curve came about. So there's this clearly this really tight connection between how do we get information about the relationship between staking and staking derivatives and how we facilitate optimal exchange such that it's easy for people to report the true price to the market.
01:09:58.030 - 01:10:21.554, Speaker A: Going back to this earlier conversation we had about the liquidity mining and the arbitrage, do you feel like the more efficient you get at this, do you not sort of remove arbitrage? Don't you get to this place where it just becomes like there is one price, it is completely correct, and there's no way to benefit from moving it.
01:10:21.592 - 01:10:28.758, Speaker C: Around, well, locally at a specific time. That's kind of the idea that the world's always changing and as such, you.
01:10:28.764 - 01:11:13.730, Speaker B: Have to pay gas. Fundamentally, the problem is that the transaction demand market for the blockchain is what drives the fact that you can never be perfectly arbitraged. There's just some noise from that. This is one of the reasons I think Ethereum competitors actually are at kind of a huge loss, is that they don't have this latent transaction demand coming from exchanges and USDC and USDT and stuff, such that people have to compete at that microstructure level and understand the exact transaction ordering in the mempool and understand how they bid on this so that they can be as close to arbitrage as possible. But there's just enough traffic that it can never be perfect, which is kind of the beauty of these crypto networks. The traffic is all visible.
01:11:14.950 - 01:11:17.240, Speaker C: You had to leak all that alpha at the end.
01:11:18.170 - 01:11:24.040, Speaker B: I mean, if that's alpha, then people are just getting DeFi beta just by SDFI or whatever.
01:11:24.730 - 01:11:39.802, Speaker A: This paper came out a month ago. What are you thinking about now? Are there new phenomenons or new constructions that you see emerging that could have impacts on POS systems and their security that you haven't covered yet?
01:11:39.936 - 01:12:12.614, Speaker B: I'm not quite sure it's pos, but I do think that the fact that I've talked to a bunch of traders in Asia recently and they've told me, hey, we're using curve and skipping the OTC broker on Skype kind of convinces both of us that there's actually some way, at certain times, where DeFi is actually way cheaper than CFI, than centralized finance. And quantifying that and when that happens is kind of something Alex and I have been thinking about.
01:12:12.812 - 01:13:05.560, Speaker C: Right. It's the idea that sometimes these amms as we discuss in the context of stake, can have an opinion about the assets that they have in them, and as such can become more capital efficient by saying, I actually think the price of die and the price of USDC should be really close to each other, and I might be taking some risks that I'm wrong, but insofar as I'm right, I'm able to offer you a much better price as opposed to being completely agnostic. But then the question becomes what Tarun talked about, which is what are the gas costs to me using this exchange? And this is cost that's very reflective in the way that things are being used and the arbitrage opportunities that exist out there that may interfere with how that pricing happens at the microstructure level. And that may hold some answers as to how DeFi trading is potentially more interesting and efficient in some cases as we're seeing with curve and some of these other market makers that are popping up.
01:13:06.170 - 01:14:00.390, Speaker B: Cool. And one last thing I'll add on this is that we've also seen kind of the design space of this grow and different forms of an alternative to this is kind of what gnosis is doing, which is way more complicated for the end user and doesn't like, potentially has some other types of bugs that we've seen over the last week or so. So there's just a lot of different. The design space, I think, has kind of exploded. And I'm just excited because every day I read a new paper that's like, oh, well, we can make a slightly better version of this so that it loses less money than the centralized version or whatever. And I think the fact that there's this burgeoning explosion in this means that 2016 for proof of stake is kind of 2020 for DFI. Cool.
01:14:00.460 - 01:14:01.638, Speaker C: That was a great way to work.
01:14:01.724 - 01:14:02.022, Speaker B: Cool.
01:14:02.076 - 01:14:13.386, Speaker A: Well, listen, thank you to both Alex and Tarun for joining me on the show and sharing with our audience a little bit more about this paper and a little bit more of the work you're doing in that intersection between Pos and DefI.
01:14:13.418 - 01:14:14.286, Speaker C: Thanks. This was fun.
01:14:14.388 - 01:14:14.798, Speaker B: Thanks.
01:14:14.884 - 01:14:17.210, Speaker A: Cool. And to our listeners, thanks for listening.
