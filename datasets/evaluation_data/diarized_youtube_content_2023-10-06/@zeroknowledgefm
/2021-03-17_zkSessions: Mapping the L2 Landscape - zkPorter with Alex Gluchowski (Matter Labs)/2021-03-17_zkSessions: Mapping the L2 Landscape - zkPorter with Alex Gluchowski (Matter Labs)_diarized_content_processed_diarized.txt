00:00:05.190 - 00:00:18.700, Speaker A: So this is Alex from Matterlabs and I just want to check what was the name of the talk is about ZK Porter or what will happen to roll ups if gas prices keep rising. Take it away.
00:00:19.310 - 00:01:20.660, Speaker B: Great, thank you Anna and hi everyone, my name is Alex, I'm from Matterlabs and we're working on ZK sync. And I'm really excited about this talk because it's going to be to me it's one of these magic moments of zero knowledge proofs where you go beyond things that seemed possible and they completely turn over your mind. So we're going to talk about how roll ups are going to affect eth scalability and what are we going to do with the challenge of gas prices that keep rising. But a quick intro into Zksync before I start. Zksync is a ZK roll up. Right now it's live on mainnet for payments, and we're going to add swaps very soon. And currently it's the cheapest roll up for payments you can have on mainnet because we use recursion with plonk and we actually go to the limit of what's possible.
00:01:20.660 - 00:02:14.130, Speaker B: We just closed an ecosystem funding round with a bunch of high profile DFI projects, wallets and exchanges. And this was done to fund the development of ZK Sync 2.0, which will bring smart contracts to layer two on two. ZK roll ups on layer two that will support composability and EVM compatibility. So it will be possible to take any existing code written in solidity, and probably also viper and transcompile it to our virtual machine and deploy it on this contract with absolute minimum modifications required. And it will just work exactly the same way it works on Ethereum. So you will be able to call other contracts, you will have atomic composability.
00:02:14.130 - 00:02:55.514, Speaker B: Everything is going to be permissionless, just like exactly the same way you're used to an Ethereum. And this network is going to be decentralized. We're going to distribute the largest portion of the governance rights to the public. But let's look at, by the way, we're going to launch this summer. So the basic version is going to be working this summer on Mainet. Okay, let's talk about scalability. So when we started working on roll ups two years ago, we made the calculations with ZK roll up and it turned out that we can do approximately 100 x scalability.
00:02:55.514 - 00:04:18.038, Speaker B: So we could go from 20 transactions, 20 payments, let's say on Ethereum with ERC, 20 tokens to 2000 transactions per second, which is a visa scale, and we thought, hey, it will probably bring us 100 times more users. But what happened was that we just got a lot more trading and the gas prices kept rising and the users were kind of pushed away from layer one, because the transactions of $50, $200, $500 for a simple trade are just not sustainable. So this is not the mainstream adoption of Ethereum we're hoping for. And unfortunately the trend will likely continue because the trading is just so lucrative. And all the things around defi make Ethereum really attractive. Everyone wants to be there, everyone wants to have access to this liquidity. But that means that the retail users will face a challenge of either you leave the chain and go to some more centralized, cheaper alternatives, or you just cannot have access to this open and permissionless and inclusive ecosystem, which would be a real pity.
00:04:18.038 - 00:05:05.718, Speaker B: So this is just like what's happening. We see this, the number of users grew ten x approximately, and the gas prices have risen 100 x. There is really nothing that will stop it from being extrapolated this way. Even with e two, it will take some time for the sharding to arrive. So we will still have this problem for a couple of years. So what are the implications? You want to use roll ups as much as possible, especially if security is critical, and preferably use ZK roll ups because they provide the highest degree of security, actually comparable to layer one. But we have to recognize that roll ups are not viable for a lot of use cases and specifically for a lot of user groups.
00:05:05.718 - 00:06:28.754, Speaker B: Like if your users have very small amounts of value, and they just want to have the small transactions, or maybe they want to have some gaming, or maybe they want to trade, but they want to trade in really high frequency, then roll ups are probably not going to be sufficient for these cases. So we need to provide some alternatives. And the alternatives we have now on Ethereum, a naive approach would be to say, okay, let's give up decentralization, sorry, let's be more like this, centralized layer ones, and users will trade off security and decentralized properties for scalability, which will already lead to problems, probably with regulation. It will lead to security problems because the existing solutions, side chains, plasma validium, I don't know what else. They are not offering a balanced security approach. So you will have situations where the incentives of the validators will be to actually break the system under certain conditions, or the incentives for hackers will be very high to try to attack the system. But those are kind of long tail risks which the users might decide to face and take into account.
00:06:28.754 - 00:07:27.554, Speaker B: But we have a third problem, which is really, really big, which is if you go and introduce separate scaling solutions for different levels of security users are willing to take, then you're going to fragment liquidity. Then all the whales and professional traders are going to be on the platforms where you have a lot of liquidity, which are going to be also very expensive, and the smaller users are going to be on isolated silos where you have less liquidity, less opportunities for actually having some reasonable deals. So this is going to affect everyone immediately. So what we can do, well, I'm going to talk now about Ziki Porter. This is the idea we presented last summer. It's based on the idea of volition, introduced first by Eli Ben Sasson. I think it's actually a different class, so it's hard for me to categorize.
00:07:27.554 - 00:08:31.130, Speaker B: It's probably false, it's probably falling under volition, but it has very different properties because we're adding decentralized crypto economic security. The way it works is this. So let's first reiterate how ZQ rollup works in general. You have some state which is kept off chain by the validators, and you have a root hash of this state which you publish on Ethereum for every Ethereum block, sorry, for every block of a roll up. And you also have to publish through the call data of Ethereum network, some data for every transaction or for the entire block of transactions, which will allow the external observers to reconstruct the state so that the data cannot be withheld by the validators. And you keep the security level at layer one. So now imagine a system which is just like that with a subtree.
00:08:31.130 - 00:10:05.306, Speaker B: So you have some of the accounts in the roll up part, they have a separate subtree where all the rules of Zk roll up apply. So whenever you have an account, in an interaction with an account from this part, you will publish all the data. So these accounts will enjoy the maximum security and you will pay the normal ZK roll up prices. But in the right subtree, we are only going to publish the root hash of the subtree to Ethereum, and the roll up data for individual transactions is going to go to the validators, and it's going to be signed by the majority of the validators stake, let's say, by two thirds, potentially. This parameter is variable. What this will mean is these users will have much less security guarantees because the validators will be able, under certain conditions, to freeze their accounts, but they will have very cheap transaction costs because they will not need to publish anything on Ethereum, except for the root hash, which is of just once per block. And they will still be able to interact seamlessly with the accounts on the roll up side, and the accounts on their roll up side will be able to interact with accounts on the ADK porter side.
00:10:05.306 - 00:10:53.298, Speaker B: So what this means in practice is you will have a shared pool of liquidity, because you have essentially the same ecosystem. It's just the same single layer, two fully interaddressable. The roll ups will have layer one security assumptions. The porter accounts will be under what we call honest minority assumption. So if you have at least one third of the stake of honest validators, then nothing bad will happen. The users will retain access at all times. If you have a dishonest majority, they could freeze the funds, but this would also mean that they essentially delete their own stake.
00:10:53.298 - 00:12:04.110, Speaker B: So you will have to burn two thirds of the stake to burn all the assets of the users, which doesn't make sense crypto economically. And it also doesn't make sense to really attack such a system by external hackers, because it's going to be a lot harder to manipulate it. So you can manipulate it, you can do some blackmailing or something, but it's a lot less straightforward than in a case of, let's say, a side chain, or trying to attack an optimistic roll up, where you can just grab all of the assets from the roll up or from that side chain and go away with it. But the great thing is that the transaction costs in the porter account part will be fixed. They will not depend on the gas price of ether, and they will be very low. So the actual cost of data storage, we calculated it to be around like fraction of a cent, maybe one cent at maximum. You will have to pay some additional costs if you interact with the ZK rollup account.
00:12:04.110 - 00:12:44.490, Speaker B: So imagine you have a uniswap on ZK rollup, and all the whales are putting liquidity into it with the guarantees of ZK rollup. Then you have millions of users who are making trades on this uniswap from their porter accounts and paying just like fractions of the cent. So they still have to share some small part in the roll up. State updates, but it's going to be very small. So like, let's say $0.5. Yeah. So this is great for low value transactions such as micro payments gaming.
00:12:44.490 - 00:13:48.222, Speaker B: I don't know, something where you really can pay a lot for this transaction. You can use it really great for high frequency trading. Well, in terms of blockchain, high frequency is just like frequent trading. We're not talking about hundreds of thousands of TPS, but like 10,000 of TPS is already possible here. And this is great for a lot of users who will be just outpriced by the gas costs even on roll ups if things are going to continue on the trajectory where they are now. So just imagine next year, ether price is going, thanks to EAP 1559 to the moon, and the gas price is maybe 1000 gigaway, maybe slightly more like, let's say two times more than all time high, just 2000 gigaway. This is how the cost breakdown is going to look like.
00:13:48.222 - 00:14:29.360, Speaker B: So l one is going to be just for millionaires. Optimistic roll ups and ZK roll ups are going to offer some reasonable prices, but they're still going to be in a pretty high segment. Optimistic roll ups are going to be probably like three, four, three times greater than ZK rollups. But in the ZK reporter accounts part, you will be able to pay like half a dollar, third of a dollar and so on. So yeah, I think this is really interesting. We can also talk about what this means for developers, but I think this is too specific. So I'm only going to talk about this if there are questions.
00:14:29.360 - 00:14:30.960, Speaker B: Thank you very much.
00:14:35.730 - 00:14:53.320, Speaker A: Thank you, Alex, for this presentation. Sorry, I was just typing about how brutal those gas prices look. I had never seen them articulated that slide before. Just so high. I know you're kind of making a few estimates, you're making a few predictions here.
00:14:54.730 - 00:15:43.990, Speaker B: Well, is ten k for ether realistic? I would say it's not unrealistic given all the developments and what we see with all the new ways of using things. Imagine all the people from Wall street bets join Ethereum because they cannot trade there anymore. And imagine everyone wants to do nfts and trade and it goes viral and you just observe really like hundreds of millions of new audiences. This is absolutely not unrealistic. The demand will surge, unless of course the prices are currently holding this demand back. Right. So the prices will always be determining what maximum amount of users we can handle.
00:15:43.990 - 00:16:00.182, Speaker B: If they are at like $10, then you already eliminate large fraction of users for payments, for example. But we need to plan for the best case scenario if we don't want the users to leave Ethereum totally.
00:16:00.326 - 00:16:13.146, Speaker A: There's a lot of questions in the chat and I want to bring some of them up. So the first one was from Sebastian. Are there any l two standards to ensure interoperability from the beginning? So this is a question about standards.
00:16:13.338 - 00:16:56.140, Speaker B: I would say, well, we are going to support solidity. I think the roll ups that support solidity have the standardization out of box. So if you deploy something on optimistic roll up, you will probably be able to migrate to the ZK roll up very easily. Or if you have a state channel that facilitates liquidity moving between roll ups, the same thing, like whatever is possible in Ethereum, you'll be able to deploy it on optimistic roll ups that support EVM and also on ZK sync. Not sure about other ZK rollups, but I think that's very basic. And.
00:17:00.210 - 00:17:09.262, Speaker A: I didn't actually know that. So, yeah, I was expecting a different answer there, but that's good to hear, that there is some sort of standardization. Are you still there, Alex?
00:17:09.406 - 00:17:10.146, Speaker B: Yes.
00:17:10.328 - 00:17:10.818, Speaker A: Okay.
00:17:10.904 - 00:17:13.038, Speaker B: You froze, but I can't see you anymore.
00:17:13.214 - 00:17:31.106, Speaker A: Okay. Yeah, I think when the connections go, one of us loses video. Okay, another question. ZK Porter is an interesting approach, but how does it help with liquidity fragmentation among l ones and various other roll ups?
00:17:31.298 - 00:18:25.418, Speaker B: Oh, it doesn't help for that. What it helps for is you can have liquidity inside the same l two, like, for example, inside ZK sync. And it won't be fragmented between the ZK roller part and the validium part, or like the porter part, because those two parts of the ZK Porter have different security assumptions. Your default option would be to go and build two different systems with different security assumptions, and then you would have to separate liquidity between them. But with ZK Porter, you can unite them together and still give people options. Whoever needs high security goes for ZK rollup. And whoever needs lower security because they just can't afford it.
00:18:25.418 - 00:18:57.300, Speaker B: Well, they have to trust the validators, that the validators are not suicidal because they are not going to burn their stake just for the sake of griefing most of the users. This stake part is very important here. Your security assumptions are lower because people can still do something bad, but it's very unrealistic because they have economic incentives, all economic incentives not to do that. It's completely against their interest.
00:18:57.750 - 00:19:14.300, Speaker A: Cool. So we are actually at time for your talk. There was a little bit more conversation. Maybe you can just jump into the chat after this and help to answer it there. And I hope you'll stick around for the panel, for the park bench panel, and hopefully for gather so we can see you there as well.
00:19:15.070 - 00:19:17.880, Speaker B: Sounds great. Thank you, Anna. Very cool. And thank you. Thank you, everyone.
