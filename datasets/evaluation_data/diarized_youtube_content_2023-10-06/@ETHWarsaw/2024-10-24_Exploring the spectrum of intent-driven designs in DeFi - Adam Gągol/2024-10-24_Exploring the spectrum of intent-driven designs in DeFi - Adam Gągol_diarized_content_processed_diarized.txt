00:00:02.840 - 00:00:46.505, Speaker A: Hey everyone, I'm Adam from Aleph0 and I'm gonna be talking about intent driven designs. So maybe first question, who have heard the buzzword intent in the let's say defi space recently? And who knows what it stands for? Like who could define. I mean I'm not gonna ask for it, but okay, it seems like half of people. So what is intent? Intents are well, basically glorified limit orders. And I could end the presentation here because like really this is what the intents are. They are limit orders. But usually when people are talking about intents, they have some very specific narrative in mind.
00:00:46.505 - 00:01:32.043, Speaker A: And I'll try to show what this narrative is about. So classically in defi, how everything looks. Or I'm going to be focusing on token exchanges because this is like the staple of defi. So how it usually looks in defi is that someone, let's say wants to exchange 1 ETH to USDT, sends 1 ETH to some smart contract, then some logic in this contract happens and then usdt is sent back to the user. The user usually have some idea about how many usdt he's going to get in return. There is a parameter called tolerance, so he's not going to accept too low number. But generally the idea is that he wants to get as much as possible.
00:01:32.043 - 00:02:14.665, Speaker A: And there is no strict requirement when it comes to intents. It looks somewhat different. So what user is actually sending is a very specific intent or actually you could say a limit order. So user says that well he owns one if and he wants exactly 2,400 USDT or more in exchange for this eth. And where this intent lands is like a big pile of intents. It's not a smart contract that's going to execute it by itself. It's just kind of like a heap of intents that are put there by various users.
00:02:14.665 - 00:02:44.883, Speaker A: And then there are guys like solvers, they have thief because this is very competitive market of the solvers. They are kind of aggressive but very useful. So what happens then? They are fighting with each other to get this intent and make it filled. And here like what they are usually doing is kind of their own strategy. So they can do whatever they want. Usually they route this intent for several smart contracts. Maybe they exchange it on different exchanges.
00:02:44.883 - 00:03:39.585, Speaker A: Maybe they use their own personal fund to funds to fill the intent. Anyway, they are trying to find the best way to fill the intent using entire chain and all the smart contracts that are on this chain. So this is like a very competitive market where to fill an intent instead of going to just one smart contract. Like all chain is there and there is a competition among these competitive solvers to use entire chain and everything was there to fill the intent or maybe even get more. So usually the idea is that the user should get slightly more than he asked for. So for example here it's 2408. And the nature of this competition among solvers should be so that the solutions which are giving more to the users are winning.
00:03:39.585 - 00:04:40.619, Speaker A: So the key question when it comes to this intent driven designs is how do we actually choose which solver gets to fill the intent? Because what we want is some kind of a game that on one hand will promote the solvers with better solutions and on the other hand will not incur too much of additional gas costs. I mean what we want is we want as cheap transactions for the users as we can. So first we want to choose the best solutions because that's how user will get cheap transactions. And the other thing is we don't want to user to spend too much on the gas cost for the solver game itself because then that would counter this optimalities that we're fighting for. So there. And by the way, currently this intent driven designs there are two which are well known, Uniswap X and Kofi. And they indeed offer much better prices than any single smart contract.
00:04:40.619 - 00:05:46.785, Speaker A: Like for example Uniswap because this game related overhead is really small and well the solvers can be using all the available dexes, not just the Uniswap one. Okay, so there are two types of games that the solvers are playing and well maybe that's because there are two well known protocols that are intent driven right now. So off chain open bid auction, this is the way that Kaofi is going about it. And on chain Dutch auction, this is what uniflowpx is doing right now. So off chain open bid auction means that there is an intent and the solvers are without using the chain playing bids and saying how much more they can give to the user. And the one who wins the bid gets the right to actually fill the intent. And one can think well why is this game played off chain, not on chain.
00:05:46.785 - 00:06:17.925, Speaker A: So like this is Ethereum, everything on chain is super expensive. We want it to be cheap. So the solver which wins the game then executes a normal transaction on chain. So like there is basically zero game related overhead. So like there are several goals here I'm going to be comparing here. So one of the goal is to be cheap. Like we are fighting for this small fractions of percentages of the price.
00:06:17.925 - 00:07:10.075, Speaker A: So we don't want to lose it all on the gas prices. So when it comes to off chain auction, this is like absolutely optimal gas price. Because all this solver game does not incur any additional gas prices when it comes to on chain Dutch auction. On the other hand, it has somewhat suboptimal gas price in the sense that well, there needs to be a smart contract which is orchestrating this Dutch auction. And while Dutch auction is generally blockchain friendly, still the gas cost is slightly more than it would be if a transaction will be just executed. The other thing it's important. So like when in this off chain open bid auction, when someone wins the auction, it happens off chain and no one else has the right to execute the transaction.
00:07:10.075 - 00:08:02.799, Speaker A: So there is no gas bidding war possible. Like there is no one else who would claim to fill this particular intent. The game is finished off chain, there is one person which can legally fill the intent and like no one should be front running this person because there is no sense in that it's already established who will fill the intent. When it comes to on chain Dutch auction bidding wars are absolutely possible. So Dutch auction usually works in a way where in each time point we ask auctioneers to auctionees to come with solutions with a specific price. And it very much can happen that there is more than one solver with very same solution. So what they can do is they can try to front run each other.
00:08:02.799 - 00:09:08.713, Speaker A: So, so like, so they get first and they actually get to feel the intent. Why is this bad? Well because if solvers are spending some funds on this gas bidding wars, this means that the user does not get optimal solution. I mean optimal solution would be if solver would not spend any excess funds for any kind of fighting and if our kind of games but only optimized for the user price. If solver is spending funds on anything else, that means that well the actor who's going to be paying for that is the user. Because of course no solver will be paying from his own pocket for this kind of games. So what we would like it to be also is relatively trustless or well actually fully trustless and decentralized. So here the situation flips because when it comes to off chain auctions they are not trustless in the sense that whoever wins the auction, well this information about the winner is not on chain.
00:09:08.713 - 00:09:51.749, Speaker A: So, so the solvers needs to respect the game and they need to respect who won the off chain game. That's why in cowfi solvers needs to have Collateral, substantial collateral. Collateral actually right now I think they are, they want half million dollars of collateral just to be a solver. And that's because if a solver would go malicious, he could stop respecting this auction game. The solver could just on chain try to fill every intent without respecting this off chain game on winning the intent to be filled. So if someone would do that, of course the collateral will be slashed. But generally it's somewhat problematic.
00:09:51.749 - 00:10:35.595, Speaker A: I mean this collateral is substantial. It limits the, let's say, let's say the number of solvers available. So when it comes to on chain Dutch auctions this is fully permissionless. So no collateral is required for solvers and it's fully trustless. And it's also much more simple like this. This off chain game that happens in caofi is generally pretty complicated and unfortunately caofi needs some time to do some manual action when it comes to figuring out who is playing fair and who is not. I'm not going to go too much into details, but the rules there are pretty complex.
00:10:35.595 - 00:11:31.315, Speaker A: So there is I think dao there but definitely that requires manual decisions. So next goal is make solvers always submit the best trade possible. And when it comes to on chain Dutch auction this is partially true. So for of you who knows how Dutch auction works or for those who doesn't, Dutch auction is the type of auction where in each moment we are looking for slightly worse solution. So as someone who wants to participate in the auction, I'm waiting for the moment in which my solution will get accepted. Finally because like the bar for acceptance of the solution goes down with time. So in case and like this is where as blockchain is not continuous, it's rather discrete.
00:11:31.315 - 00:12:02.277, Speaker A: Like the blocks are happening every 12 seconds. Like this is granular, it's not continuous. The decline of this bar is pretty granular. So like if the bar goes beyond what I have as a solution, I would probably submit not my best solution but something slightly worse which still goes above the bar. So yes, it's pretty incentivized to give the best solutions. Not exactly. In this regard the off chain auction is doing a better job.
00:12:02.277 - 00:12:57.135, Speaker A: So just also like the comment on the state of business right now, open off chain, open bit auction is definitely better on Ethereum. I mean Kofi has the volume I think 10 or 20 times bigger than Uniswap X. So it seems that this gas prices aspect on Ethereum definitely wins. None of this protocol is deployed on any other chain but Ethereum. Like my, my prediction would be that whenever they get on L2s, the situation can flip because on L2s, the gas price is much less relevant. So I would predict that whenever these two are deployed on Arbitrum, Uniswap X can actually start winning with Cao Phi due to these factors being much less relevant. And the last thing, which is kind of our twist on it.
00:12:57.135 - 00:13:53.923, Speaker A: So what we're working on is a model with what we call reveal conditions. So now what happens is Joe places this intent, let's say or limit order, but it's encrypted and there is a specific reveal condition attached to the order. So then periodically all the review conditions are checked and the orders with reveal conditions which are satisfied are generally decrypted and are becoming active. So why we think it's nice is because first you can create iceberg orders. So you can put your order on chain in such a way that it's encrypted and it automatically gets decrypted part by part. So it's an invisible order until it gets filled. That's when it becomes visible.
00:13:53.923 - 00:14:48.493, Speaker A: So this is akin to what's happening on traditional markets where vast majority of liquidity is actually hidden. So in crypto, to make it so right now you actually need to have some kind of a bot that would be resubmitting transactions. So this is a cryptographic way to avoid having this off chain actor. You can make your action on chain once and it's going to be acting as an iceberg order. So this relates to the second point that like traders without automated systems like bots can automate something by sending transactions on chain once. The other thing is that using the system, I mean, I'm getting a bit out of time, but using the system you can implement this solver games as well. So solvers can also put this encrypted intents which will be decrypted at once and evaluated at this specific point.
00:14:48.493 - 00:15:15.525, Speaker A: So you can write arbitrary rules for this solver game. And it basically fills this framework. So we see it as a programmatic framework for kind of private trading. That's the last slide. Also, we're out of time, so thanks a lot for listening. I think if anyone gets a question, it's better to ask off. Do you have like two minutes for questions? Oh, perfect.
00:15:15.525 - 00:15:23.305, Speaker A: So yeah, if anyone has a question, I'd be happy to answer now. It.
