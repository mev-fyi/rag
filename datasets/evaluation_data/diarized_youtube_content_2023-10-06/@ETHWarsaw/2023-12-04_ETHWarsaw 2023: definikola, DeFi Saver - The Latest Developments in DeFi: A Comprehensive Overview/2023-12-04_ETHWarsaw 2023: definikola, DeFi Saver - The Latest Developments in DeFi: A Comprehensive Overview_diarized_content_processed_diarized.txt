00:00:00.170 - 00:00:24.240, Speaker A: We'll have the next talk on the trends in Defi by Nicola from Defi Saver. So let's welcome him. Thank you. Yeah. Hello, everyone. Thanks for coming once again. I am always glad to see a lot of Defi enthusiasts around.
00:00:24.240 - 00:01:06.510, Speaker A: I'm Defi Nicola. I'm coming from the Defi saver team and I am doing ecosystem research and product. Basically at Defi Saver we are kind of a one stop managing platform for Defi lending positions. Today we're going to talk about latest developments in Defi. Actually, I would like to hear from you, if you have maybe any ideas or assumptions, what could be on the agenda today, just to double check my agenda. Yeah, of course. Say to the mike, liquid stake tokens.
00:01:06.510 - 00:01:34.682, Speaker A: Okay, that's a good. Yep. Oh, I talked with you previously, so. Yeah, that's cheating. Yeah, but maybe new stable coins go CrvusD and such. Okay, cool. Any other suggestions? Sorry, account abstraction maybe? Okay, that would be a good thing.
00:01:34.682 - 00:01:49.582, Speaker A: Like for crypto in general, but yeah. Defi included. Yeah, that's a good guess. Tokenizing. Sorry, tokenizing robo assets. Okay, cool. And one more.
00:01:49.582 - 00:02:04.734, Speaker A: You can just say it loud. I will. Okay, cool. So impact on the swaps on uni v four and Unix. Okay. Cross chain. Okay.
00:02:04.734 - 00:02:34.778, Speaker A: Anyone else? Sorry, liquidity across chain. Okay. Like bridging, cross chain messaging. Okay, well, that's a lot of topics. I think we are a little bit short on time, but yeah. The agenda today would be decentralized perpetual futures. I'm surprised I haven't heard.
00:02:34.778 - 00:03:27.680, Speaker A: I mean, perpetual futures are not a relatively new thing, but are gaining more traction in Defi lately. The second thing we're going to talk about is oracle free lending in Defi. And the first topic we're going to talk is, I think you mentioned it, the leverage eth staking. So the perpetual futures we're going to start with basically on chain derivatives, starting with forward contracts. I'll briefly explain what are the future contracts and then we are going to head to decentralized perpetual futures. Oracle free lending is relatively new movement in Defi, where there are teams trying to shift the oracle risk from the core protocols to the users themselves. We'll talk about that a bit later.
00:03:27.680 - 00:04:31.220, Speaker A: And the leverage is staking as one of the currently most popular defi strategy. How can you basically boost your staking APY with non negligible but very low liquidation risk? Okay, so first off, perpetual futures. So let me just give a brief breakdown of what derivatives are. So derivatives are type of financial instruments that derive value from the underlying asset. In this case, we're going to talk about the crypto assets, but it could basically be anything. A forward contract is basically an agreement between two parties to sell certain amount of certain asset at a certain day and at a certain price. Let's say I make agreement with you to sell you 1000 kilos of apples, like in a year from now.
00:04:31.220 - 00:05:25.526, Speaker A: What futures are future contracts? Those are just standardized version of forward contracts. Let's say we split one forward contract into a bunch of smaller contracts, gave them exactly the same amount, let's say one kilo of apples that I'm going to sell to you at a certain date. So why are we standardizing? But it's because we want to put them on an exchange. So you can basically buy 100 of those future contracts and trade them. The main difference between perpetual futures and normal future contracts is the expiry. So the future contracts have expiry date, whereas perpetual futures are, well, perpetual. They do not have expiry date.
00:05:25.526 - 00:06:14.814, Speaker A: And I will, again, just here, try to break it down in a simple example. So let's say that you do not have ETH, and then I do not have Dai. Okay? But let's pretend that as if I have borrowed ETH from you, and as if you have borrowed the same dollar amount of Dai from me, and we give it some time, let's say one month, it doesn't matter. The ETH price changes. And what happens if ETH price has risen? You would essentially experience a profit because you are essentially having an ETH long position because you lent out eth to me and you borrowed Dai. On the other hand, I would experience a loss because I borrowed eth. I shorted ETH and lent out Dai.
00:06:14.814 - 00:06:53.860, Speaker A: Okay. So we are here just exchanging the profit and loss. We are kind of borrowing the exposure to the underlying asset, not the underlying asset itself. Okay. Which is, for example, the case on margin trading on centralized exchanges. So why are we talking about perpetuals today? Because on centralized exchanges, the average daily volume in 2022 was three times bigger than the spot volume on Texas. So Texas have, like, spot market and the futures market.
00:06:53.860 - 00:07:58.390, Speaker A: The perpetual futures were actually first introduced in the cryptocurrency space. The inception of them was in the cryptocurrency space. They were introduced by Bitmax back in 2016. And why do you think that perpetuals have an average daily volume this higher than the spot market? And the answer lies here. It's that it offers the same trading user experience, but with way more leverage. So when we opened our position, when I borrowed ETH, from you when you borrowed the DAI from me. The necessary step before opening that kind of position was to deposit some kind of collateral, okay? Some kind of margin, so we can keep our position perpetually as long as our loss does not exceed our margin, okay? In that case, we'll be liquidated.
00:07:58.390 - 00:09:12.442, Speaker A: Okay, so what about perpetual futures in DFI on decentralized exchanges? So, derivatives average weekly volume in DFI has increased significantly in 2022 compared to 2021, with a continued growth in this year despite the beer market. What's new is that new protocols trying new designs of decentralized perpetual futures are coming. And the new versions of the current protocols, for example, GMX launched version two of their protocol. Synthetics is launching the version three, et cetera. The main difference between perpetual futures on dexes and the perpetual futures on centralized exchanges is that on centralized exchanges, if you trade perpetual futures, your counterparty is usually another trader or the market maker. While on the decentralized perpetual futures, you are basically trading against a pool which has the liquidity. So we are basically trading against the liquidity providers.
00:09:12.442 - 00:10:18.130, Speaker A: The main task when designing decentralized perpetual future protocol is to create as delta neutral pool as possible. So you want to keep the volatility risk of your liquidity providers low in other way. If you don't do that, they will do that by themselves, by hedging on some other protocol on maybe even tax. Okay, so let's just go over the stats. So, decentralized derivatives volumes were only 56% of the spot market volumes, compared to 300% on Texas. Dex's derivatives account for a mere 1.5% of centralized exchange volume, while the share is closer to 8% to a spot market, mainly thanks to one of the biggest and the more popular decentralized exchange, uniswap.
00:10:18.130 - 00:11:09.214, Speaker A: So what can we prove to increase those volumes in the perpetual futures in defi in the decentralized space? Because being non custodial seems like not enough, if you ask me. It is. But we need to work on the things like UX, onboarding people, on educating them. We also need to work on trading costs. Most of decentralized perpetual future protocols, or I usually call them leverage trading protocols, are on l two s, ethereum, l two s because of the transaction cost, but maybe even layer three, maybe even app specific roll ups. DydX is, for example, doing something similar. We need to introduce more features.
00:11:09.214 - 00:12:27.290, Speaker A: We need to design them to be able to provide more leverage, because last time I checked, GMX had like 50 x max leverage, whereas binance has like 125. We need to lower the price impact. I mean, I say we. I mean, as an industry and as a builders, we need to offer different assets and of course, security can always be improved. So to sum it up, if you look at this graph, we need to move this optimal UX spectrum to the right hand side to the can't be evil side. Okay, so the second topic is the oracle free lending. It's a relatively new movement, as I said, where protocols, I mean, builders got attention of oracle attacks that happened in the previous couple of years in Defi, and they wanted basically to create the primitives, the protocols that avoid that kind of a risk.
00:12:27.290 - 00:13:17.690, Speaker A: They do it by shifting the oracle risk and the oracle dependency from the protocols to the users. Now, the whole point here is that we need to find a way to trigger liquidations, because we're talking about lending protocols to trigger liquidations without an oracle, without the external price feeds. Okay, today I'm going to mention three projects. The first one is porn finance. Sorry. Basically what they're doing, they said, okay, we'll have expirable loans and the loans will only be liquidatable, or you could liquidate them only after the expiry date. So whatever happens before the expiry, you cannot liquidate a loan, even if it represents a bad debt.
00:13:17.690 - 00:14:17.354, Speaker A: Another project called blur lending, it's basically a project from the blur NFT marketplace. They said that, okay, we want to make an oracle free lending protocol, but we want the loans to still be perpetual like we used to in defi, like in compound ave maker liquidity, et cetera. On blur, you can come as a supplier and supply ETH that NFT traders can borrow against some of their nfts. So a borrower comes, deposits an NFT, and borrows ETH and can do whatever they want with that eth. Sorry. They can, for example, buy another NFT. How do they manage liquidations? They said, okay, we'll make the lenders the only ones who can trigger liquidations.
00:14:17.354 - 00:15:20.222, Speaker A: So if I'm a lender, I lend out some ETH and I for some reason want to withdraw that ETH. That's the point where the liquidation will be triggered. So the borrower is given some grace period to either pay his debt back or to find another lender who will just be a substitution to the previous one. The third project I would like to talk about today is a bit more complex than the previous two, but you get the sense where this is going. Azure protocol, it's basically uniswap, be free of lending. What I mean by that, they made the process of managing liquidity. So the tasks of suppliers, way more complex for introducing a new kind of feature, or in this case taking out the oracle risk.
00:15:20.222 - 00:15:48.026, Speaker A: So what they did, Azure is really complex protocol. I don't have time to get into details. I, by the way, wrote about it on Twitter. I have a thread about Ajna, so go check it out if you're interested. But here I just give a brief overview. So Ajna has basically a dynamic liquidation price, which depends on two parameters. The first one is called lowest utilized price.
00:15:48.026 - 00:16:51.626, Speaker A: So basically lenders come and choose at which collateral factor or loan to value ratio. They want to lent out their assets. So let's say I want to lent out Dai at the 90% loan to value, which means that someone deposits collateral and can borrow my die up to 90%, okay, 90% of the collateral. So the loop is the lowest utilized price, meaning that if one lender comes and say, okay, I want to lend my die, I want to lend 1000 die for one eth. And there is a second lender saying, okay, I'm willing to lend 2000 die for my eth. The first liquidity that will be utilized is the one with the higher loan to value the lender with the 2000 die per eth. Okay, so the lowest utilized price is actually the price of the lowest utilized liquidity.
00:16:51.626 - 00:17:49.454, Speaker A: If we take a look at this graph, it's a mock graph basically. But the current lowest utilized price for this token is 80. And this is dynamic and algorithmic basically. So the whole protocol is immutable and it can change from both sides, meaning that if a new supplier comes and supplies more than eighty k of this token, the loop would jump to 85. On the other hand, if there is a new borrower that borrows more than forty k, the loop would slide to the 75. Now, the positions in Ashna can be liquidated if this lowest utilized price falls below the highest threshold price. Now, the highest threshold price is basically explained by this picture.
00:17:49.454 - 00:18:45.434, Speaker A: So if you have a position of one e and one k die, your threshold price is based, you should just divide those two values. So as I said, a bit more complex. But yeah, it's arguably a movement that in my opinion, defi protocols. They are the protocols, the primitives, and they need to stay as simple as possible. This kind of approach really makes the protocol complex, but it's a really cool feature not to have the oracle risk. So it's up for the debate whether lending should have oracles and keep it as simple as possible or try something like this. Once again, Lupu stands for utilized.
00:18:45.434 - 00:19:34.322, Speaker A: Yes, lowest utilized price. Okay, so the third topic today is eth staking. So why I wanted to talk about e staking is that over 20% of all ETH is now staked. At the moment, 40% of all staked ETH is staked via pools. So liquid staking, for example, Lido has the highest DVL in D five at the moment standing at $14 billion. The liquid staking protocols offer a way to contribute to the ethereum security without running your own validator. The whole process is basically pretty simple.
00:19:34.322 - 00:20:27.350, Speaker A: You can just go and stake your ETH and receive some staked eth in return, like an ERC 20 token in return. That is an interest and yield bearing token. And the most important thing is that you can use that token as collateral. Now, since the Shanghai upgrade, this is, selling your staked eth to ETH is not the only option of unwinding your position, because now you can simply go to lido or some other staking provider and say, okay, I want to withdraw my eth to redeem my eth. But you will need to wait for some period of time to wait for the key. So it's not an atomic operation. So yeah, we still need to sometimes to sell it if we want to one wide the position in one transaction.
00:20:27.350 - 00:21:12.126, Speaker A: ETH staking is pretty popular strategy today because it boosts your apy. For example, if you just hold one of the liquid staking tokens, the yield would be about four or 5%. And if you open this kind of position, which I would explain just in a moment, you can earn, let's say for example 10%. So the strategy, let's explain it. The first step, let's say for each eth you have, the first step would be to flash loan another two eth. The second step would to stake all free etH. Now that you have with, let's say lido and receive free staked etH.
00:21:12.126 - 00:22:58.790, Speaker A: So the ratio is always one to one supply that free staked ETH into ave or some other defi money market as collateral and then borrow two eTh against it to repay the flesh loan. So you essentially end up with a free x leverage position, yielding let's say 10% APY. How is this possible? The main point here is that, and the main two values we should compare are eth borrow rate on those underlying protocols, let's say ave or compound or morpho. So as long as etH borrow rate is lower than the staking API, this strategy is profitable, right? It can boost your API now, the cool tools that we could use could utilize is if we could have one click position opening or closing. So if we could do this basically in one transaction, or if we have automated leverage management, because the liquidation risk, as I said, is non negligible because after the Shanghai upgrade that tightened the peg basically of liquid staking tokens. But if you want to unwind this kind of position, you still need to atomically sell your liquid staking token back to like vanilla etH. So you need to keep attention at what leverage are you currently? Because if stake dpegs, meaning if it is trading on the market at a certain discount, you actually can be liquidated.
00:22:58.790 - 00:23:53.830, Speaker A: Automated liquidation protection one click position shifting between underlying protocols. This is in my opinion very useful because you can basically have this kind of position, let's say, in Ave, and after some period of time you find out that the strategy would be more profitable if you switch to compound because eth borrow rate on compound is for some reason lower than Ave. Or simply you want to switch between different liquid staking tokens. Let's say staked Eth is yielding less than, I don't know, rocket pool eth. This is a little bit of a teaser. So we are actually at Defi saver, have worked on something that could provide these kind of tools. We are releasing it on Monday and it's called eth saver.
00:23:53.830 - 00:24:34.350, Speaker A: Not very creative from our side, but yeah, it basically allows you to create those kind of a position in one transaction. What happens under the hood is basically this. We call it a receipt. So you flash loan some eth, you wrap it, you stake it, supply it to some underlying protocol, borrow against it, and then pay that flash loan back. The final state of that position would look something like this. We basically are leaving the full control to the user. So you choose the underlying protocol, you choose the liquid staking token, you choose the leverage, you want to open this kind of position to boost your yield.
00:24:34.350 - 00:25:12.598, Speaker A: We do not pool any of the assets. It's a per user position. Yeah. We also have some useful information like the liquidation price, the off bag percentage, the liquidation, your net apy, et cetera, which protocol you're using, and et cetera. It's actually currently live@ethsaver.com but we are still like testing it. It's in testing phase, but it's going to be official on Monday.
00:25:12.598 - 00:25:52.974, Speaker A: So it's a bit of a teaser. Yeah, that's all for me today. Thanks you. Any questions? Quick ones please. I have a question regarding the transaction. Could you come back to the previous slide. I'm wondering, because we see here the transaction under the hood and what happened if one of the steps fail, for example.
00:25:52.974 - 00:26:42.522, Speaker A: Yes, on the UI, if for some reason one of these steps is not going to happen, we have like a warning message telling you that the transaction would fail. The current support process is like it says, like, contact us on discord and we try to debug why is it failing? But it's not usual situation. Of course it can happen. Sorry. How can this leverage staking fail? Because it seems magical. Meaning if it goes wrong, how can it go wrong? It seems like you conjure Ethereum out of nowhere and get additional percentages, which is magical. Yeah.
00:26:42.522 - 00:27:44.650, Speaker A: I mean, there is already the downside. So the risks of this strategy, as I see it, is basically the liquidation risk. So you could get liquidated, because if you use the liquid staking token as collateral and its market price can be different from the ratio that is like the redemption price on the liquid staking protocol. So. Sorry, price. So if so, the price is correlated to ETH, right? And if it loses that correlation, its value can be less, your collateral value can be suddenly less than your debt. And then, of course, yeah, that's the second reason.
00:27:44.650 - 00:28:14.780, Speaker A: So your ETH borrow rate can basically, the ETH borrow rate can become higher than the ETH staking yield. So that's also risk. Yeah, there's. Do we have time for another question? One quick. One more. Okay. Yeah, hello.
00:28:14.780 - 00:29:14.030, Speaker A: I was a DeFi guy back 2021. I was on top of, on everything. And the question is, how would you compare the period 2020 to what's happening right now? Is it happening more now? Is it, like faster or opposite? Definitely a lot more happenings today because we have a lot more teams developed, bit in different stuff. You basically, in my opinion, do not have an area that is not being explored enough when it comes to defi. I mean, we can talk about, I don't know, the different design approach when trying to build a new stablecoin, different design approaches on automated market makers, on lending primitives in DeFi insurance. I have a list of ideas floating around every day. I think the number of builders has also increased, which is a great thing.
00:29:14.030 - 00:29:18.540, Speaker A: So definitely more happenings today than the previous couple of years. Thank.
