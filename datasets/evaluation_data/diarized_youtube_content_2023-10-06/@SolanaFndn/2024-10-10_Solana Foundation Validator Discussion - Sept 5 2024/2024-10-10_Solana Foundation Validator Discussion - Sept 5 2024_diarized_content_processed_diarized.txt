00:00:02.840 - 00:00:50.313, Speaker A: All right, welcome everyone to the Salon foundation validator Discussion September 5, 2024. Agenda Today is pretty light. Some Validator updates, a reminder again about Breakpoint only 15 days away, and then some topics for discussion. I've got a couple things that I've been seeing talked about in Discord a lot lately, but open to whatever people want to talk about. So first, mainnet updates 11823 is recommended for mainnet just as a logistical thing. There will be no feature activations between now and after breakpoint, so for the next two or three weeks mainnet will just kind of be as is. The 2.0
00:00:50.313 - 00:01:27.997, Speaker A: cycle for bringing 2.0 to mainnet will start sometime after breakpoint. I'm not sure in the exact timing yet because testnet has to be downgraded and upgraded, but sometime after breakpoint you can expect that to start within a few weeks, I'd imagine. Okay, another quick note about 2.0 so 2.0 will be, I mentioned already, recommended for adoption after breakpoint. If people aren't aware already, there are some things that you might need to do as an operator for the 2.0
00:01:27.997 - 00:02:10.945, Speaker A: transition, especially RPC operators. Open up this guide. So there's a guide here that I'll link to in the chat as well, but this sort of outlines all the different things that are changing in the change from 1x to 2.0 agave. So first of all, Solana Validator, Solana Ledger Tool, all these binaries will now be renamed to Agave and the Solana Labs repo will no longer be shipping changes. So if you are currently getting your builds or building from the Solana Labs repo, you have to switch the Agave repo. So this doc walks you through the changes there.
00:02:10.945 - 00:02:50.495, Speaker A: The other big thing again is for RBC operators. So all of these methods have been deprecated for a while in agave. In 2.0 they will be removed and replaced with methods on the right hand side. So confirm transaction, get signature status, et cetera will all be removed in 2.0. If you're an RPC operator or if you use your favorite RPC operator, make sure they're aware of this and aware of what changes are coming. Ideally, RPC operators would also communicate to all their users, but in general these things should be planned for ahead of time.
00:02:50.495 - 00:03:42.857, Speaker A: Yeah, it looks like Slow Blaze already put the link in there. So again, read up more on this transition. It's coming up probably within a month or so, so especially for our PC operators, be aware. Another thing that's a Little bit further down the line is feature activation for this direct memory mapping change that's happening in Agave. The biggest thing here to be aware of, 99% of transactions will be just fine on the cluster or more, but there are some small set of programs that create transactions that actually try to write to read only memory. And because of a quirk in the implementation right now that does not fail, but it will fail when this feature activation happens. So expect more comms about that soon.
00:03:42.857 - 00:04:07.791, Speaker A: I think Jacob has already started that with developers. But just be aware if you have a program that is doing any sort of writing to read only memory, even if you're writing the value that is already there, it will start to fail in agave 2.0 after direct mapping is enabled. Any questions about either of those 2.0 migration or direct mapping? Yeah, Barrett, go ahead. Tim.
00:04:07.823 - 00:04:22.035, Speaker B: I'm just wondering what the plan with documentation is. So if the PRs that get merged into Master, are they going to keep getting deployed to Docs Solana Labs where we then redirect people or.
00:04:22.535 - 00:04:58.665, Speaker A: Yeah, good, that's a great question. So Docs Solana Labs is sort of there for historical reasons. Back when the Anza team was part of Solana Labs, that is going away. So I believe it is already not getting the latest docs on Solana Labs because 2.0 is no longer being pushed to the Solana Labs repo. So I think very soon there should be new docs updated on the Onset XYZ site. I don't know what the status is right now, but it should be up, I think relatively soon.
00:04:58.665 - 00:05:27.627, Speaker A: Thanks. Question? Yeah, Blake, go ahead. Sorry, I was looking for the thumbs up. Oh, no problem. Cool. Any other questions? Okay, again, word of mouth. If anybody knows of someone that's an RPC operator or you know, just a user of RPCs, make sure that they have seen this document because 2.0
00:05:27.627 - 00:05:40.775, Speaker A: may break whatever setup they've got going on. Right. Moving right along. Testnet. Not much going on with Testnet right now. 2.0.8 is recommended for Testnet.
00:05:40.775 - 00:06:15.245, Speaker A: As I mentioned after Breakpoint we'll have the normal downgrade and upgrade and restart cycle before we recommend 2.0 for mainnet adoption. Just want to say thank you to all the operators who participated in the last restart on testnet. I think it was pretty well managed and organized for a testnet restart. It took about 24 hours, but I think that's about the timeframe I'd expect for a restart. So good job all. Any questions about testnet or the restart that happened.
00:06:15.245 - 00:06:45.457, Speaker A: All right, moving along. Breakpoint is 15 days away, so Break Point is coming up fast. I'm going to be leaving next week to be kind of in the area. And yeah, I'm. I'm excited to see people in person. Hopefully some new faces that I haven't seen in person before. So if you haven't gotten your tickets, why wait? Get them now.
00:06:45.457 - 00:07:43.085, Speaker A: Hurry up. See you in Singapore. And of course all of our favorite side events are happening before break point. So Block Zeros on the 18th, stake points on the 19th, and Mev Defi Day is also on the 19th. So really hope to see all of you at all those events. Is anyone from any of those events on the call wants to add any details about content or logistics? Yeah, go ahead, Chris. Chris, I think you're muted or did you want to say something? No, can't hear you.
00:07:43.085 - 00:07:50.665, Speaker A: It looks like you're still muted though, Michael, if you want to add anything as well.
00:07:52.205 - 00:07:59.905, Speaker C: Yeah, so I don't know what Chris was going to say. I thought maybe I could just step in if he's not able to.
00:08:01.685 - 00:08:02.117, Speaker A: But yeah.
00:08:02.141 - 00:08:37.154, Speaker C: So block zero obviously is happening on the 18th and agenda is looking really good. We're going to have Toly and Dan there and the guys from JMP and someone from Anza and some really good topics. We'll talk about validator economics as well and yeah, kind of everything that's been going on with the validated landscape. So we really good event. This is really geared towards validators. So any validators that are going to be in Singapore, this is really for you. So yeah, please come and pull through.
00:08:39.534 - 00:08:45.270, Speaker A: Awesome. Thank you, Michael. I don't know if. Brian, go ahead.
00:08:45.422 - 00:09:17.157, Speaker D: Yeah, I was going to chime in. This is Brian from Judo. Hey everyone. That the attendance for any of these events has been crazy in terms of RCPs, just because it's adjacent to token 2049. And so block zero is definitely targeted to the exact people on this call. To the extent that you haven't had your attendance accepted or anything, then please try and reach out to one of the organizers and we can try and get you accepted. It's like well beyond capacity, but this crew has priority and we'll try and make it work.
00:09:17.157 - 00:09:29.785, Speaker D: But there's like a thousand people to sift through as you can imagine. And so if things can fall through the cracks. So I just wanted to give that disclaimer but that we hope we can accommodate everyone on this call and all your peers.
00:09:34.595 - 00:09:35.147, Speaker C: Cool.
00:09:35.251 - 00:09:58.797, Speaker A: Thank you, Brian. Yeah, like everyone said, really excited to see people at these events. I think, you know, all of them have been a big success in the past and it's just great to see validator focused, validator operator focused events. So really cool. Thank you to all the organizers. All right. And now we don't really have any specific agenda items.
00:09:58.797 - 00:10:25.265, Speaker A: I thought we'd open it up for discussion. There's been a lot of Talk Block 0 content we've already kind of covered. But timely vote credits has been discussed recently and I don't know where that conversation is at right now. It looks like the Discord channel has kind of died down. Zantets who also open sourced some of the voting changes he's made. So I don't know if anyone wants to comment on that or any other topics which are floating around out there.
00:10:34.915 - 00:10:35.803, Speaker C: I guess.
00:10:35.979 - 00:10:42.695, Speaker B: Sorry, I should have raised my hand, but does the foundation have any position on Xan's mods?
00:10:44.115 - 00:11:31.611, Speaker A: I will say that I think I'm glad that he open sourced them. I think it's better to be open sourced than not. I think that largely these changes will have a lot less fun effects once timely vote credits is enabled. So from that standpoint, I think they're find open source. As far as the delegation program specifically, I don't think. Yeah, because of the sort of like everyone has access now. I don't know if the mods will change much, so I don't know if the delegation program will take any sort of stance on them.
00:11:31.611 - 00:12:12.057, Speaker A: I think it's more of like a do your own research and if you think it will help you, you can use it. If not, don't. I would just caution everyone to be aware that if you're going to modify your client, you should be really, really fully aware of what all the mods are doing and how they're working. Don't just blindly take code and apply validator, especially for something as sensitive as voting, because you know, you're also fully, you know, responsible if anything goes wrong. If you get locked out for an hour or something bad happens to your node, that's, you know, again, your responsibility, not the foundation. So I think that's where I'd leave. Yeah.
00:12:12.081 - 00:12:50.957, Speaker E: And that that biggest lockout, the potential for locking yourself out for an extended period of time, you know, even, even past like a day is probably the biggest risk. So if you are going to choose to run something like this, like you really need to understand what the mods are doing, what the parameters you've chosen or, or just, you know, like. Or opt to not do it. If you don't feel comfortable. I really don't think it's a good idea to run code that you don't understand that's not already kind of like fully proven out on the cluster level. So, you know, if these mods like were kind of run through Test Net with everyone running it, you know, with specific parameters, then like, you know, then that would. Everyone would sort of see, okay, this works.
00:12:50.957 - 00:13:00.865, Speaker E: There isn't any danger for mass lockouts. That would be like, I think the biggest risk if one were to run it or if many. If many validators were to run it.
00:13:04.015 - 00:13:05.395, Speaker A: Yeah, Michael, go ahead.
00:13:06.335 - 00:13:49.025, Speaker C: Yeah, I just want to add, I mean, Ben addressed the lockout thing. It's happened to me previously where like two years ago I had like a over a 60 minute lockout. And it's the most stressful thing that you can experience because you. It's really hard to figure out how long you're going to be locked out for. So luckily it was only 60 minutes. But in that moment you're thinking like, wow, like you're done, right? Like this could go on for days. And just in the importance of really reading the code and understanding what those changes are doing, there could be a honeypot in there, right? Like it could be just siphoning off a couple lamp ports from your identity every few minutes or something like that.
00:13:49.025 - 00:14:51.135, Speaker C: And at the same time, like, yeah, how do you know that that's exactly the code that Xan is running? Right? Because we know that his performance has been good, his stability is great, but maybe there's something being held back. Maybe you run that and it's really unstable. So making sure you really like, are able to understand any changes that you run on your validator is really important. The other factor is that this isn't on the JITO validator. So you need to also be able to and be comfortable manually incorporating all of jito's changes, the bundle engine and all of that, and merging all of that and making sure that that resulting Frankenstein validator can run reliably. And then lastly, the kind of configuration. I just want to say that anyone who does try this, please be reasonable with your settings.
00:14:51.135 - 00:15:08.785, Speaker C: Don't go and like set your threshold to like 80% or whatever because you think that's going to like give you the maximum credits, it's probably going to harm you. And if a lot of people do it, it's going to harm the cluster. And that's really an own goal for all of us. Yeah, that's kind of all of it.
00:15:12.645 - 00:15:13.665, Speaker A: Yep. Good.
00:15:14.365 - 00:15:34.343, Speaker B: So I guess I'm kind of lacking historical context here, but does anybody think that this is worth pring back into Ansa core? Or is that. Am I just kind of beating a dead horse here where. I know there were discussions two years ago about moving these in and Ansa wasn't really interested. I'm not sure if that's a dumb idea to do.
00:15:34.399 - 00:16:18.477, Speaker E: Again, it's for the reasons the mods don't exist. Sort of like on the standard client. There is additional risks that those mods take, which is to overcom potentially over commit to a specific fork so that like Anza believes, you know, and the consensus team has believed that it's not worth the additional risk for the cluster to try to get ahead. Hopefully TVC will help the incentives where like backfilling and over committing will become less effective with tvc. And then if everyone's doing it, it would be, it would be no difference at all. Like there wouldn't be an edge to run it. And so that, that's been their stance and then the prioritization.
00:16:18.477 - 00:16:34.385, Speaker E: Right. There's lots of other things within the Anza client that can be optimized and improved and this, this isn't a major concern in TVC then making sure the most possible vote credits are achieved.
00:16:37.165 - 00:16:44.327, Speaker B: Okay, so it sounds like it's not, not worth bringing up with doing another trying to get XANS mods merged in, right?
00:16:44.511 - 00:16:46.235, Speaker E: Yeah, probably not.
00:16:46.895 - 00:16:47.755, Speaker A: Thank you.
00:16:48.055 - 00:17:33.537, Speaker C: If I can just also jump in on that last point. I want to just mention that there's essentially three components to these mods, right? There's one is backfilling, the other is fork choice and the others lagging, which kind of addresses fork choice. So maybe two components. And TVC broadly addresses the lagging aspect. So, you know, waiting to commit to a fork until a certain amount of stake is committed and then only voting for it. So that to some degree is going to be much less effective once we have tvc. But with backfilling, I think it's a little more nuanced and I think there's much less consensus risk.
00:17:33.537 - 00:18:04.283, Speaker C: If you're saying that I voted on my last voted slot was slot one and then slots two, three, four, five, I didn't vote because I wasn't sure. And then slot six, I'm like, okay, cool, that's a good fork. And I'm voting on slot 6. And the parents of slot 6 are 2, 3, 4, 5. So by voting on slot 6, you are implicitly also voting on slots 2, 3, 4, 5. So backfilling is Basically saying, okay, well when you vote on 6, you're also voting on 2, 3, 4, 5, which the standard validator doesn't do. So it's not capturing those credits.
00:18:04.283 - 00:18:52.945, Speaker C: I don't think my opinion that that is really much of a consensus risk. It's a kind of a question of what's neater, what's tidier. Are you kind of leaving credits on the table and maybe you shouldn't vote for them because you didn't explicitly at that point decide that you approve of those blocks or that fork. But that is the biggest, I think, component of the effectiveness of these mods in particular and that is probably less controversial. So Anza is probably not going to take it because they don't really see a point or a value in it. I think Ashwin has spoken on that point previously. I don't remember his exact position and unfortunately Zan's not here to defend his side.
00:18:52.945 - 00:18:55.735, Speaker C: Yeah, Ben Tonto.
00:18:55.855 - 00:19:41.809, Speaker E: Yeah. To add on to that though, the, with tvc, the backfilling becomes significantly less valuable because those happened later. So like the amount of vote credits you get for backfilling things that happened previously is now going to be significantly reduced, almost potentially some of them to the point where they're not valuable at all. Sort of another reason for Anza not to do that. The other sort of slight negative externality here for backfilling is you, you now have committed farther, further into that fork. So when you, when you're look, when, when it's calculating lockouts, it's looking at every single vote down that fork. So if you were to say save, you switched over to that, that fork and kind of at slot 6 and you backfill, you're, you're that much more committed by two to in slots, more committed to that fork.
00:19:41.809 - 00:19:59.825, Speaker E: And so if it things swing back the other way, then you are going to have a harder time switching over. It's going to take you longer. So I think those are the primary reasons why I would imagine that Anza has not had a high appetite to uptake these odds. And with tvc that difference will be less effective.
00:20:10.005 - 00:20:31.185, Speaker C: If I can just throw in one kind of controversial suggestion here, Anza, obviously their interest is network security and everything. JITO could potentially incorporate the odds, the mods on their side. So I don't know if they want to address that. But theoretically we do have a separate client team here that could distribute something.
00:20:32.125 - 00:21:17.983, Speaker F: Yeah, Lucas from Judo here. We've been asked this a few times. I think we generally try not to touch consensus because it's kind of a scary box to touch. So my initial reaction is probably wouldn't add that. I guess people can do what they want with their validators, but I would prefer not to touch and break consensus. Makes sense, but I. I do imagine that the changes are pretty straightforward to apply to the JITO validators because we don't touch consensus.
00:21:17.983 - 00:21:27.315, Speaker F: So the diff between jito, Solana and Agave is on replay and consensus is nonexistent.
00:21:40.225 - 00:21:58.605, Speaker A: How about There's a bit of chat about tvc. I know previously there was some concern brought up by Brian Long about the amount of grace period we have in TVC and potentially changing it. Is there any more discussion on that? It seems like the channel has gone a little quiet.
00:22:15.795 - 00:22:43.795, Speaker E: The only thing on that front that I would like to add is I think that value and a few other values like C limits should be account values at some point in the future. I think we mentioned it last time, but that is something I would like see push forward. I mean maybe, maybe that needs to be assembly, that needs to get written and prioritized. That is something that I see as important and something that I would like to see governance be able to manage over time.
00:22:46.615 - 00:23:23.965, Speaker A: Yeah, I think I'd second that. There's a desire at Anza as well to have these sort of settings for the cluster be more configurable and not just in the code. So you know, I think that's a good opportunity for validator governance to kind of spearhead some of those changes. All right, Any other topics people want to bring up still pretty early in the call. Yeah, you could go ahead.
00:23:29.025 - 00:23:31.545, Speaker G: So do you hear me yet?
00:23:31.705 - 00:23:32.485, Speaker B: Yep.
00:23:33.145 - 00:23:42.485, Speaker G: People here from San foundation and JITA of Top, but very curious. What do you think about if someone filters the bundles with front run?
00:23:44.265 - 00:23:47.645, Speaker E: Are you talking about basically unbundling and rebundling?
00:23:50.115 - 00:24:07.515, Speaker G: It's. It's not kinda, but not. I think I talk about just filter. Just filter front run. It's like a custom client, like a jita. But no. And what do you think? Maybe legal issues or.
00:24:07.515 - 00:24:08.335, Speaker G: I don't know.
00:24:11.195 - 00:24:19.975, Speaker A: I'm not sure about legal issues, but I think the foundation has been clear if, if you're front running as a delegation program participant, you'll be rejected.
00:24:22.715 - 00:24:59.095, Speaker F: Lucas from Cheeto here can talk more about this offline, but that's something that we tried to do earlier this year in like December and January and it just turns into a giant cat and mouse game where people were figuring out what the filter was in adjusting their strategy to get around the filter and it just felt like a. Like we wouldn't feel comfortable saying that this was doing something and it wasn't fully doing it. So. But we should talk more offline about that.
00:24:59.915 - 00:25:13.425, Speaker E: And you're talking about like cat and mouse just so I understand you kind of meaning like. All right, you have one way to detect it. Then searchers may or may not start like obfuscating the actual trade amongst like kind of padded other transactions or other activity.
00:25:14.085 - 00:25:14.749, Speaker F: Yeah.
00:25:14.877 - 00:25:15.181, Speaker A: Yeah.
00:25:15.213 - 00:25:16.345, Speaker C: Okay. That makes sense.
00:25:18.725 - 00:25:19.945, Speaker G: Okay, thank you.
00:25:22.285 - 00:25:37.995, Speaker H: I do want to throw out that Paladin does this. And since it's slightly different than Jito and on top of Jito, it does filter what we consider front running I using the same venue to trade in different directions in different prices by different multi signers.
00:25:40.095 - 00:25:45.755, Speaker E: And that would have that same potential weakness of as soon as someone figured out how you're filtering and they just change how they're sending them.
00:25:47.975 - 00:25:55.875, Speaker H: Disagree, but I don't want to make it about Paladin. Happy to talk about it. If you do it in detail, then it could go somewhere else. I think our solution solves it.
00:25:56.425 - 00:25:58.925, Speaker C: Is Paladin open source yet or are we still waiting?
00:26:00.025 - 00:26:09.925, Speaker H: Currently open source to the validators who are running it. So any validator here, reach out to me, we'll add you to the GitHub, et cetera. We didn't open it completely to everybody else because we're hardening it.
00:26:10.385 - 00:26:11.805, Speaker C: That's not open source.
00:26:13.305 - 00:26:16.965, Speaker H: I agree. That is not open source. It is not open source yet.
00:26:27.315 - 00:26:52.485, Speaker A: All right, any other topics? If not, we can end early. All right, I'll call it a meeting. Thanks, everyone. Hope to see you all at breakpoint. And the call in October will be at the normal time, so the second Thursday of the month. All right, thank you.
