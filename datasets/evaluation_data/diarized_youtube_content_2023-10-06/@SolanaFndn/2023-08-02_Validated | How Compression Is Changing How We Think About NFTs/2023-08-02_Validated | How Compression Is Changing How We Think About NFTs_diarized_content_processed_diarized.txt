00:00:08.200 - 00:00:59.294, Speaker A: I'm Austin and this is validated in today's episode. I'm moderating a panel discussion about state compression on Solana. Joining me are John Wong, head of ecosystem engineering at the Solana Foundation, Noah Prince, head of protocol engineering at the Helium foundation, and Imoi, co founder and CEO of Tensorflow. Each of these folks has spent a lot of time working with compression over the past year, all from very different vantage points. In the simplest terms, compression is a way of storing data on Solana that reduces the cost by orders of magnitude. It leverages a data structure called a concurrent Merkle tree, which is able to create a unique fingerprint for massive amounts of off chain data while storing that fingerprint on chain. John, Noah and Imoy go into details about how this actually works and share developer experience stories of the challenges, frustrations and successes of working with this extremely.
00:00:59.334 - 00:01:02.114, Speaker B: New and extremely complex technology stack.
00:01:02.574 - 00:01:51.104, Speaker A: For now, the use case most often associated with compression is compressed nfts. Thanks to low costs, compression allows brands, creators, or any web3 project to distribute thousands or even millions of nfts, unlocking user experiences that would have been too expensive to even consider. Before using compression, you can mint 100 million nfts for only about $2,000. Thanks to the potential of these distribution mechanisms, we're in a position where we can genuinely rethink what nfts on Solana even mean. For example, ownership of every helium hotspot is minted on chain as a compressed NFT, and helium mobile subscribers are also represented on chain by compressed nfts. These are not 10,000 PFP collection drops. These are not pieces of art, but they are, by definition non fungible tokens.
00:01:51.104 - 00:02:20.644, Speaker A: As John, Noa and Imoi speculate about the future of compression and how it will be used, they also openly brainstorm potential solutions to issues like the growing ledger size of Solana and transaction size limits. If we expect more and more of the worlds systems to move on, chain data storage and retrieval will become a bigger and bigger obstacle to node operators. Compression is one technology that can help address those challenges. If you enjoyed todays panel format and want us to do more of these episodes, let us know@validatedalana.org.
00:02:20.684 - 00:02:46.162, Speaker B: Dot all right, let's dive in everyone. Welcome to Validated Think. This is the largest episode we've ever done. So compression was a new technology that was built in combination with Solana Foundation, Solana Labs, metaplex and a bunch of folks throughout the ecosystem. John, can you kind of walk us through what that original vision of that project was?
00:02:46.308 - 00:03:36.012, Speaker C: Yeah, absolutely. Part of this was a prompt around economics. It was a company you might have heard of called Instagram that was looking to figure out how they could mint millions of nfts on Solana. They had the thoughtfulness to think about how they would sponsor gas fees, transaction fees, deposits, you know, storage deposits, all that sort of stuff. And when doing the math, at the current price of the soul itself, just the tokens, it was going to be just way too inefficient and economically infeasible for them to provide the experience that they wanted to provide for their consumers. And it was at that time that tolle did some whiteboard magic using something called merkle trees, wrote it all out on a whiteboard and said, hey, we can use something called a proof of inclusion, and that'll make everything cheaper. And left it at that.
00:03:36.012 - 00:04:08.732, Speaker C: I joined right about then and sort of had to take on this gargantuan, somewhat ambiguous project to fruition in conjunction, as you mentioned, with Solana Labs, with Metaplex, a whole bunch of work from RPC providers, wallets, all that sort of stuff, all with the goal of creating digital assets that were on the Solana blockchain that could be used in all the same ways that regular nfts could be used, but at, you know, 100 to 1000 x lower price, lower cost. And so, yeah, that was like the origin of everything.
00:04:08.868 - 00:04:28.468, Speaker B: So I want to go into a little bit of like. From a conceptual standpoint, there's a lot of different ways to reduce costs in blockchains. Right? You can go to an l two system, you can do something like what Forte does and just not actually mint stuff on chain. There's a lot of different ways to kind of look at cost reduction. What was the sort of impetus for choosing this method here?
00:04:28.596 - 00:05:04.412, Speaker C: Yeah, we had a few constraints. One, we wanted to make sure that there were no centralized authorities that were responsible for. For hosting the content. We didn't want someone to be able to mint something cheaply, but then get rugged on the backend because another piece of data was missing. So we had to kind of fit together two really important parts of Solana itself, one being an account and the second being the ledger. Both of them are on chain. And the combination of the two meant that anything that was minted, any of these compressed entities is as secure and decentralized as Solana itself.
00:05:04.412 - 00:05:28.408, Speaker C: Even the smart contracts itself. There's actually two smart contracts. There's the state compression one and the bubblegum one. The state compression program was explicitly designed so that the person who was creating the storage box could not take away any NFT from other people. So we designed this from the ground up to make sure that all of these assets that were minted into these trees could operate independently and people wouldn't get rugged.
00:05:28.596 - 00:05:45.656, Speaker B: Yeah. And one of the things you will often see when people are writing documentation or reporting on compression, I mean, even someone like Masari got this wrong, is they describe it as off chain storage. Like, what of compression is on chain? What is on the sort of main salon estate and what is not?
00:05:45.800 - 00:06:29.278, Speaker C: Yeah, it's a good question. And this is a piece that, as you mentioned, a lot of people have been a little tripped up by. But the definition of on chain that we use is, can we derive this from the ledger? Can we replay this state from archive and be able to reconstruct the information that's available? Some of that data ends up in state, and that's in the accounts themselves. Accounts are the prototypical box of data that's being sent in and out of programs and instructions to get executed and all that sort of stuff. And that is typically stored in memory on the validator machines themselves. So when you create an account, you're paying Sol tokens in order to reserve that space so that it's hot and available. And that's the prototypical way that most state is on Solana.
00:06:29.278 - 00:07:09.324, Speaker C: Now, the ledger is a different beast altogether. This is sort of the instruction information. This is like, sometimes it's logs, sometimes it's arguments. It's keeping track of everything that's happening so that you could theoretically replay all that information and get the same results. Ultimately, we combine the two. And I think that's the piece that is the interesting combination, is we're taking both bits of data that we both think are on chain and combining them using the merkle tree structure. So for those of you who don't know, like a merkle tree, you basically take perfectly balanced binary tree, you hash it all the way up, and the very top node of this tree is a hash.
00:07:09.324 - 00:07:18.668, Speaker C: And that hash uniquely identifies the entire state of the tree. That hash is in an account. And all the leaves, all of the nfts, are in the Solana ledger.
00:07:18.796 - 00:07:19.132, Speaker B: Yeah.
00:07:19.188 - 00:07:24.380, Speaker A: So, Noah, back in April, helium successfully migrated its entire state onto Solana from.
00:07:24.412 - 00:07:41.892, Speaker B: Its native l one. I want to go through a little bit of the process that you and helium went through to look at this technology that was sort of originally thought of as something that maybe is suitable for nfts and say, actually, this is a major part of how we can do migration and sort of continuing token minting going forwards.
00:07:42.028 - 00:08:08.974, Speaker D: Yeah. So I think very early on in the process, we were looking at the hotspots, and it just. It made sense that the hotspots should be nfts, right? Like they're these things that prove that you own this physical device that mines helium tokens for providing network coverage. And you can transfer these things, you can hold them. Those are the properties of an NFT. Right. And it's really convenient to go and be able to look in your wallet and see everything that you own.
00:08:08.974 - 00:08:53.340, Speaker D: And you actually see this pattern in helium a lot. I pretty much make anything a token that I want to show up in your wallet as something that you own. So even your positions in our governance, your positions, even though you've deposited tokens, actually come back as nfts. We really broaden the way that you look at nfts past just jpegs of images and collectibles. And really into is why I like the term digital asset a lot better than NFT. Um, because it kind of fully describes what it is. As far as compression, it was a pretty easy decision because I think it would have costed us like $500,000 or something in the price of Sol at the time to go and mint all of these nfts using traditional methods.
00:08:53.340 - 00:09:00.028, Speaker D: And it costs a fraction of that. I think we spent like a total of 300 sol or something like that on these things to mint them in.
00:09:00.036 - 00:09:41.118, Speaker B: The compressed way, the model you're talking about. We're using nfts almost as receipts of actions you've taken on chain. From a governance position standpoint, that's a really interesting approach to getting this stuff to actually be something people can use and understand. And I think a very common problem is people sometimes forget what positions actually do. I have open in certain places in something from Defi, but also from a governance perspective, I kind of love that idea of you get a checkout receipt every time you set something up. I know you went through a pretty extensive process to migrate the helium state into Solana. And most of the time we've seen a layer one migrating to another blockchain.
00:09:41.118 - 00:09:58.434, Speaker B: They do it through the process of becoming a L2. Or there's some sort of direct merger of two different systems, like keep a new cipher where they build something new. But helium just sort of came in and coexisted with all the initial state on Solana. Did compression play a role instead of making that transition possible?
00:09:58.964 - 00:10:39.888, Speaker D: Yeah, so actually we had this problem of a huge amount of state where we needed to run upwards of a million transactions to migrate all the state. But we also had a requirement that we only wanted to shut down the chain and have people not have access to anything for a maximum of 24 hours. And while theoretically Solana had the TPS, that we could have done it, I didn't really want to take that risk. So we actually stole. Well, not stole, borrowed the design of compression and actually compressed all of helium state down into a single Merkle route. And then we use that single Merkle route to actually inflate all of the transactions. And people ran them kind of lazily.
00:10:39.888 - 00:10:57.980, Speaker D: So when they first opened their wallets, it would say migrating you to Solana, and that would send some transactions to the blockchain that would inflate your state, give you your tokens, your hotspots, everything else by using that merkle. So we actually had a merkle that was producing other merkle trees, which is pretty crazy.
00:10:58.132 - 00:11:05.276, Speaker B: Yeah, that's a pretty funny approach on that. What was the sort of multiplier of efficiency you got through going through that type of a system?
00:11:05.460 - 00:11:42.820, Speaker D: Well, I mean, one, you don't have to worry about storing all of that data somewhere on chain, which is a lot of data. With Solana, you pay rent. Rent is expensive. But two, one of the key things when kind of doing a migration this large is you want to make sure that you don't either, a, not send somebody their tokens or hotspots, or b, send them twice. Double spend is a real problem. By doing it this way, we were able to really easily guarantee that every single transaction got executed exactly once. And it was really transparent because we could post this state route and we could post the export of the old blockchain, which we did.
00:11:42.820 - 00:11:51.612, Speaker D: I think they're in Arweave and s three and a couple of other places. It's super transparent. You can see how we went from point a to point b all on day one.
00:11:51.708 - 00:12:34.558, Speaker B: It's funny because, again, the original use case for a bunch of this stuff is nfts. And it's really cool to see this spiraling out into all these different areas. There's folks who've been talking about building Merkle tree compression systems to allow a game to run all of its transactions through something like that as well. But I want to go back to the core original use case, which are nfts. And so the compressed NFT standard has taken a little bit longer to adopt, kind of on the marketplace side. But I think Tensor was one of the first, if not the first, major marketplace to support compressed nfts. What was that like? Both from a product decision to say, this is worth building out for users, and then from an engineering standpoint, yeah.
00:12:34.646 - 00:13:02.968, Speaker E: So we were actually the first to do it. We built the first marketplace for compressed nfts. And the decision to go ahead with it was actually pretty simple. I mean, for us, we're strictly Solana startup, and we're interested in building out features that are quite literally only possible in Solana. There's no point costly replicating stuff from Ethereum or other blockchains, hoping that you can basically build a replica and grow a user base. That's not going to happen. You have to try new stuff.
00:13:02.968 - 00:14:00.514, Speaker E: And this was so obviously a feature that you could only do on Solana because it required, like all three. It required super cheap transactions because you're going to be doing a lot of them. It required them to be fast, because you need to be updating the tree a lot. And it required this whole new mechanism that totally and the gang created and obviously John participated in. Honestly, there's a lot of giants there that we built on top, which basically lets you store just a tiny fraction of the data on chain, which in itself is sufficient to verify that the entire NFT indeed is what you think it is, and it belongs to the person you think it belongs to. And so for us, it was kind of like a no brainer to go ahead with that in terms of actually building it. It was, as people in Solana say, a lot of glass, chewing it sort of really threw me back to the early days of Solana, when I remember joining as a dev and there was like a single large discord channel where everybody would like, ask questions, and whoever was the loudest got the most replies.
00:14:00.514 - 00:14:27.854, Speaker E: And there was like barely any docs. If you wanted to know how something worked, you went source diving. That was the good old Solana days. Today, it's actually not like this anymore. But when we were doing compression, it was kind of like that because there was like, we had like a chat with John, we had a chat with like metaplex guys. And outside of those two, it was just like, yeah, like, go dive into the source code and figure out what it's doing. And so it probably took us like a good two months to build our marketplace.
00:14:27.854 - 00:14:55.674, Speaker E: And let me tell you, even after we built it and we launched it, stuff breaks all the time, because it's just a different paradigm. That contract has done more transactions in 30 days than all of our existing contracts since the beginning. So that is telling you something. It's really unlocking something different here, like a totally different way of using nfts and interacting with them.
00:14:56.094 - 00:15:16.926, Speaker C: I don't think it's a contest, but if there was a leaderboard on how much glass has been chewed, Ilmui and Noah are definitely at the very, very, very top of that. Noah has texted me personally to say, why is there so much glass? My whole mouth is just full of blood. It's bad. It was real bad for a long time.
00:15:17.070 - 00:16:05.684, Speaker B: Well, it's funny because as we sort of start this process right, there's this classic thing we should an episode on block Explorers. And indexing data is hard, and index data on Solana is even harder because that base layer actually is much more flexible than it is on something like Ethereum. And now we're talking about data indexing, like, oh, now you have to worry about all these merkle trees and all this compression side of things as well. And while these things are on chain, they're stored in a meaningfully different way. So, John, I don't know if you want to talk a little bit about the actual process of making data availability for compression something that actually is readily available to both users. Transactions, wallets, block explorers, sort of the whole additional stack that had to be built to go past just building compression and actually operationalize it.
00:16:06.104 - 00:16:49.564, Speaker C: Yeah, this was definitely one of the harder bits to figure out was ultimately the RPC, the indexer side, being able to even parse and construct this stuff for use within an API. Because in this case, it wasn't just that you needed to surface information about the NFTs themselves. You also had to basically do, on the fly, calculate the proof, the merkle proof that you were going to be using to prove the actual data that was the NFT. And you needed to prove it in order to do things like update the NFT to transfer it to other people. Everything except for creation. Creation you do not need that for, but you would still need to do that. And every wallet needed to have an RPC that servers surfaces information.
00:16:49.564 - 00:17:54.014, Speaker C: And all the RPCs needed to index this stuff. And because it's data that's not in an account, but rather is being emitted via CPI into the ledger, you kind of have to listen to all this stuff that's happening and be able to reconcile it and put it into a database and serve information from there. This isn't perfect because not all RPCs implement this particular method. It's definitely a non standard RPC method relative to Solana's RPC, because it's sort of a second order derived piece of information. It's not just the block, it's not just the transaction. You have to analyze it and then keep track of that alongside all of the other pieces of information that you're keeping track of. So there have been folks like Helios and Triton and simple hash that are also fellow glass drewers who had to suffer through parsing bugs, having to deal with stability of the code, having to keep up with the chain, keeping track of, you know, different states of different nfts.
00:17:54.014 - 00:18:11.678, Speaker C: And all of this was brand new. None of this had been figured out yet. And they had to iterate really, really quickly because it went live so quickly that there was just consumer use cases that depended on this. And they kind of didn't expect how many things would start happening with compressed nfts so quickly.
00:18:11.846 - 00:18:49.930, Speaker D: Yeah, I think few people truly understand the heroic effort that was going on. On the indexing side, I mean, like, you had this crazy new technology and then you had us at helium doing insane things like triply nested CPIs that were minting five NFTs from different trees. And you've got mert over at Helios trying to figure out Austin, who was at metaplex then trying to figure out why is this crazy helium transaction not indexing. But the good news is, if you're building on compression now, we kind of pull, pulled all the trees out of the road and it's much more stable now.
00:18:50.082 - 00:19:12.254, Speaker E: Yeah, I will say, even for us, when we started building, you guys already did a lot of the hard work. There were still edge cases that we had to deal with, mainly around people putting stuff into the metadata objects that shouldn't be there. And then obviously when you hash it up, the hash doesn't match and still nothing works. But outside of that, it seemed like you guys have basically done the hard work.
00:19:12.394 - 00:19:46.234, Speaker D: Yeah, compression is really fun because when it's not working, it's very binary. It's like zero, one, it's like it worked or it didn't work and it doesn't tell you why. Which when you said it reminds you of the early days of Solana, that is the early days of Solana to a t, it didn't work. Go check your inputs. Why? But, yeah, I mean, in the early days, it was really fun because you got the. It didn't work and you're like, well, was it my mistake? Was it user error or was it something downstream? And so you really had to understand both your code and the code downstream. But it's not like that anymore.
00:19:46.234 - 00:19:48.506, Speaker D: It's gotten better and it can still get a lot better.
00:19:48.650 - 00:20:40.942, Speaker B: Yeah. One of the things that was really a big talking point back in the day when helium was considering a migration to any blockchain, let alone Solana, was the sort of idea that the security of the network would now be inherited as opposed to explicit, and that the work that was being done before is like, well, we as the helium community run our own super slow, clunky, weird erlying blockchain, but at least it's ours, right? And migrating to someone else's state now by someone else's, not the Solana foundation state, but the Solana network state is not controlled by the helium foundation in that sort of same way. John, you've probably talked to a number of folks who sort of have the same type of concern around, like, oh, if I'm minting nfts on a Merkle tree, is that somehow less secure or different than minting it directly onto the main salon estate? How do you think about and respond to some of those questions?
00:20:41.118 - 00:21:24.154, Speaker C: Yeah, I think we definitely have fielded that line of questioning for a long time. I mean, the primary source of truth is I go to the block explorer and it's like, yeah, this is a hash, but you can run this code and I'll show them the code, you can pull this stuff out. And so, I mean, folks can see in the ledger in the block explorer that all this data exists and that's how you can use to debug things. And I think it's ultimately different than how you use state from an account. But once you do the verifications, all the implications are exactly the same. And I think that's the difference. We've had some folks being like, hey, we could also put Merkel roots on chain and I can mint 10 million nfts on ethereum for basically nothing.
00:21:24.154 - 00:21:59.994, Speaker C: And I'm like, well, yeah, sure, but you can't put the source of truth also on chain. And that's the unlock for those folks. For folks that are trying to run locally, that's definitely a place of continued exploration. I would say that we still need to create more tools to make it easy to reconstruct trees. I know that for things like indexing compressed nfts, there is one account, that's the tree. So there's one marker that you can use to categorize all the transactions that are going through that tree. And there is a specific property on the tree configuration that specifies when it got created.
00:21:59.994 - 00:22:35.162, Speaker C: The combination of the two means that you can figure out when you need to start and all the information that you need to retrieve and all that information is retrievable via any RPC. So any RPC that supports the Solana JSON RPC methods can reconstruct this as well. We need to provide more tools. We need to provide snapshots. We're still maybe two months into the formal launch of the product. I expect in two years it's going to be a little arduous for folks who even know what's going on to pick this stuff up, but I don't think it's going to be impossible to be able to create those things.
00:22:35.338 - 00:22:38.402, Speaker A: Say more about your thinking around the two year timeline of this.
00:22:38.578 - 00:23:39.928, Speaker C: Yeah, I think we've had a lot of conversations with big enterprises about issuing digital assets on chain. There's a lot of reasons why they do or do not pick Solana. Cost has never been something that it's clear that it is inexpensive to do transactions. But when I show them this comparison slide of the absolute minimal cost of issuing a digital asset via compression, that has restarted basically every conversation that has come along, I think that enterprises are going to start changing the kinds of products that they can build with blockchain technologies, and we're starting to see that already dialect with whatever 1.5 million stickers issued they were able to. I think it's not about the scale that was interesting is that they were able to justify covering the minting and transaction costs for every single one of those stickers that gets minted. And that means that a consumer can go with a wallet with zero soul and be able to receive and use digital assets.
00:23:39.928 - 00:24:31.608, Speaker C: I think that fundamentally changes the kinds of products, it changes the kind of audience that folks can build towards. And I think that's going to translate really well to games where games definitely want to issue tons of digital assets on chain, allow them to be tradable and allow them to grow that sort of stuff, as well as enterprises where, coming back to this Instagram example, an enterprise, everything is a million plus, and everything times a million gets pretty expensive except for compression. And I think that's where we're going to start to see folks be able to really justify these, maybe call them sponsored experiences, but make them really clean onboarding experiences for folks to realize the value of the product by itself first, and then the blockchain is either second or you never even see it. And for Solana, that's actually feasible. Yeah.
00:24:31.776 - 00:25:06.736, Speaker B: As we're kind of moving into this very new future, it's kind of funny to think about blockchain started with an incredibly simple idea of, you can build blocks and you can transfer tokens. And then we added smart contracts. Now we added all of the stuff on top of it. And in order for these systems to really scale and become something that is used widely throughout the world, there's an inherent level of complexity that just has to be added in to give developers optionality in this space. What have you guys seen that people are actually now looking to build that are not specifically these kind of use cases of NFT, like get tensor.
00:25:06.760 - 00:25:07.736, Speaker A: When you guys are looking at kind.
00:25:07.760 - 00:25:17.226, Speaker B: Of new projects and the type of work folks are doing, are you seeing different types of stuff getting built on compression than you see getting built through traditional metaplex NFT spec?
00:25:17.370 - 00:25:57.994, Speaker E: 100%. In fact, the reason people typically come to us and ask about compression is because they've run into a wall with traditional nfts. We've had games that come to us and said, oh, well, look, I want to distribute 100,000 of these things to my users. I want it to be free, and I want to do it monthly. And they just can't handle the cost when it comes to normal nfts. One example is migos and the cartridges that they were doing. Then you have artists that have specific creative ideas that they want to execute that, again, require quantity, typically, and typically different distribution mechanics that can only be done with something like compressed nfts.
00:25:57.994 - 00:26:52.436, Speaker E: And, I mean, then there's the elephant in the room, which is drip. And I think Drip has really taken Solana by storm, because they basically discovered this new advertising model for creators, where creators do weekly airdrops to their holders, and in return, they get subscribers, they get attention, they get donations. So this really interesting new thing that is not happening anywhere else, because fundamentally, you basically need the primitives of something that you can give to people, is going to be free and cheap. And so we're like super bullish and compressed nfts at tensor. We just think that this is the moment when Solana really starts to diverge from EVM and starts to show its colors and do interesting things that are simply not possible there. We think that in five years from now, the average NFT project on Solana will be something very different to the average NFT project on EVM. Not better, not worse, just different.
00:26:52.436 - 00:26:56.756, Speaker E: It'll be like the kind of things that you can only do with, like quantities in the millions and billions.
00:26:56.808 - 00:27:44.848, Speaker C: I want to of add a little bit on top of that, having had a chance to talk with plenty of these product companies that are thinking about nfts coming back to, what are these nfts? They're not going to look like the digital collectibles where there's 10,000 of them. They're not going to look the same way. They're not going to be exactly pfps. They're going to be digital assets. As Noah mentioned earlier, they're going to represent just digital identifiers. We've heard cases similar to helium where folks like render are using them to basically tokenize the render scenes. As part of one of their proposals, Lite protocol is using the generic state compression program to basically reduce a private transaction, which previously took like ten to 50 transactions can happen in one because they're able to use this state.
00:27:44.848 - 00:27:56.216, Speaker C: So I think there's a lot of these cool compressed NFT products where they're using the actual product, but it's not a collectible. In the same way that we think about the ten k pfps.
00:27:56.360 - 00:28:55.324, Speaker D: Yeah, I think one of the cool things that is truly only possible on Solana is that we get to question what an NFT even is. Is it just this digital PFP or can it be so much more? I mean, we've got billions of people in the world and the most common asset class is non fungible. And so at helium, we've really played with this, and the hotspots are nfts. Helium mobile is coming out with mobile subscribers, so people who have like, SIM cards and those people actually participate in the network by mapping so they can say where coverage is. And those people, they also have an NFT that represents them as a subscriber. And it's just there are very cool things happening at the micro scale with nfts, with really, really small collections and things like noun style. But there are also really, really interesting things happening at this macro scale where people are even questioning, what can you use nfts for? There's so much we haven't even discovered yet that you can probably use them for.
00:28:55.324 - 00:28:57.556, Speaker D: Nobody even thought of it because they were expensive.
00:28:57.700 - 00:29:10.424, Speaker C: One of the primary things that people ask me about is like, what would I do with a million nfts? And I'm like, it's not about you having as an individual having a million nfts, it's about a million individuals having one NFT.
00:29:10.724 - 00:29:50.802, Speaker E: That's actually a very interesting observation. We sort of went into compressed nfts thinking that we should build an order book, like, you know, like serum style order book, because we sort of thought, well, surely because of quantities, people are going to trade these things in stupid amounts. And so you need this efficient matching engine that lives on chain. But actually, so far, the behaviors that we're seeing indicate that you kind of don't need to build an order book because it's more like what you said. It's not so much that a single person had 10,000 of these things at that point. They might as well have tokens. It's more that you probably have an audience of a million people where each has one, and maybe somebody will go and buy ten of them, or 20 of them, or 100 of them.
00:29:50.802 - 00:30:09.810, Speaker E: Probably not 10,000 of them. Just like you take any sort of things that people buy in the web two world online today, there might be, I don't know, like 10,000 cups on Amazon or a million cups on Amazon, but you don't go and drag the slider and buy 10,000 of them at once. You probably buy one or two.
00:30:09.842 - 00:30:10.274, Speaker D: Right.
00:30:10.394 - 00:30:12.774, Speaker E: So it's probably something similar here.
00:30:13.154 - 00:30:53.504, Speaker D: Yeah. I think the compressed nfts are interesting because they're explicitly not over financialized, which means you can do cool things with them and find PMF in a meaningful way that isn't people trying to gamble on floor price. There's actually a setting on compression where you set the buffer size for the tree, which tells you how many concurrent transfers can it support for helium, we got to save money by setting that buffer value really low because people don't really transfer their hotspots. That's a physical device. If you transfer it, you've got to also go and ship that thing in the mail. And I honestly, I think this is true of a lot of compressed nfts. I have a ton of drip nfts.
00:30:53.504 - 00:30:56.856, Speaker D: Do I move them? No, I have them in my wallet and I go look at them.
00:30:57.040 - 00:31:52.236, Speaker B: Yeah, it's kind of interesting when we think about what are we going to do with all these nfts? I mean, Noah, you were kind of like saying before, oh, what is an NFT? And we all know an NFT is three accounts and a trench coat. But apart from that, the question of like, what is an NFT? Artwork, was that sort of initial use case, I think, because there was no other good use case. Right. But in some ways, like a tokenized bond is probably best represented with something similar to an NFT. Do I care about that specific bond? No, not really, except that I really need to know its serial number and I really need to know its interest rate and really needs to know its expiration date. And that is not something you can turn into a generic token. The details matter, but I don't have any emotional attachment to that specific NFT, the same way I might have a specific emotional attachment to a PFP NFT or a gamefi NFT or something along those lines.
00:31:52.236 - 00:32:13.414, Speaker B: So I think the question of, like, where do we go in this stack is a very interesting one. I guess if I'm looking forward three or four years, I could see a world where 90% of the things that people interact with on chain are actually in some ways, non fungible tokens and at least some capacity. Do you guys think that's likely to happen?
00:32:13.874 - 00:32:34.848, Speaker C: Yeah, when you put it that way, it's like there's actually no semantic difference between a compressed and uncompressed NFT. Like, all the same properties apply, particularly around digital identifiers and provenance and all that sort of stuff. There's some arguments to be made around smart contract composability in certain cases, but ultimately it could be the same exact art.
00:32:34.896 - 00:32:35.104, Speaker B: Right?
00:32:35.144 - 00:33:05.500, Speaker C: So it's like, is that actually fundamentally a different thing? I definitely think that we will see just an egregious. If Vibhu has his way with drip, we're gonna see an egregious amount of nfts showing up in people's wallets. He treats them like email. Right. And I think it's. It's a fascinating comp for something that I hadn't really processed. We're gonna have to build products and services to, like, manage how many things are happening and making sure that all of this stuff is efficient and you're not getting overloaded by it.
00:33:05.500 - 00:33:13.876, Speaker C: But I think that's probably okay because that means that more things are on chain and composable different pieces. Still a long ways to go, for sure.
00:33:14.060 - 00:33:29.740, Speaker D: I love that, though. Treat it like email. I love these things where you are just breaking the way that people think about nfts because honestly, yeah, it is kind of like email. It's a thing. It goes into your inbox. You can move it around to other people's inboxes. Why not?
00:33:29.852 - 00:33:32.364, Speaker B: I mean, we already have spam, so we might as well have email.
00:33:32.524 - 00:33:44.044, Speaker D: Yeah. I'm also like, it's such a bullish symbol if I start getting spam compressed nfts, because that means it's gotten easy enough to mint compressed nfts that the spammers can get access to them.
00:33:44.204 - 00:34:29.572, Speaker B: Yeah. Right. And that is actually not a bad thing. A lot of the times there's this idea of, like, the current thing is precious. And one of the things I really love about this ecosystem is its willingness to destroy the current thing time and time again for the sake of making things cheaper. There are a few vocal folks who are concerned that somehow the creation of compressed nfts would cheapen the value of an NFT, which I think is such an interesting space to be in, that the cost to mint is related to the implicit value of something like that. But it's interesting to look at, we're not actually seeing PFP collections necessarily go to compression and say, I'm building, to use the gaming analogy, or AAA PFP, and I'm going to do it on compression, because that'll save me money.
00:34:29.572 - 00:34:32.948, Speaker B: It's new types of use cases that are popping up on compression.
00:34:33.116 - 00:35:10.014, Speaker D: So I actually think we will eventually see PFP nfts on compression. People complain and say that it's not stored on chain, but it effectively is. To me, it's no different than when you want to get all the token accounts that belong to a wallet. Okay, well, that's not actually how that's stored on chain. The validator runs a thing that indexes to figure out which token accounts belong to which wallet, so that you can go hit the RPC with a nice neat request and give me all the token accounts for this wallet. I kind of view the RPC with compression as the same kind of black box. Like, I go and I mint a compressed NFT, and the black box tells me that I own this compressed NFT.
00:35:10.014 - 00:35:31.240, Speaker D: And so as we just bubble wrap more and more and more of the glass eventually, and if we get like anchor support for compressed nfts, and like a way where you don't have to worry about any of the details about Merkle trees, like, why wouldn't you mint it compressed? There's no reason that the UX is going to be exactly the same. Tensor has a great marketplace for it.
00:35:31.432 - 00:36:02.694, Speaker C: Why not to add on top of that, I think there's a very real world where state compression, the generic version of it, becomes a first class citizen alongside accounts. It already is in the context of compressed nfts, but not just for nfts, but for any arbitrary piece of state. Ilmoy has a great tweet. I use this all the time. Oh man, I can't even remember the words. It was something about, you can literally put infinite, unbounded state in Solana, and this blew my mind or something. And I was like, this is actually kind of true.
00:36:02.694 - 00:36:21.888, Speaker C: I mean, there's some restrictions to that, but I think the capabilities that that introduces go all the way to things like governance where it's prototypically expensive to reserve that in account space, but you don't need it there, right? You just need it on chain. You just need it verified. It doesn't need to sit in that memory place. So lots of possibilities there, too.
00:36:22.016 - 00:37:01.800, Speaker D: Yeah. It's actually the first question that I asked my brother when he was telling me about Solana, because previously I was working in big data, and I was like, well, what happens if someone just goes and creates a ton of accounts? Like, what if you truly wanted to, like, go build Twitter on Solana, and all the tweets would just blow up the validators hard drive and Ram? He's like, well, there's not really an answer to that. There's just, it's expensive to create the rental. But to me, I was like, oh, that kind of sucks, right? Because that means those business models aren't possible. And with compression and account compression, not just NFT compression, it literally is possible. Like, you can just treat Solana like an event bus and have the data scale infinitely. Web two can do that now.
00:37:01.800 - 00:37:02.896, Speaker D: Web three can too.
00:37:03.040 - 00:37:47.862, Speaker C: I'll give you how you actually do this, because the professor, Jerry Shao, who, he shout out to Noah and Jerry, too, that those two sort of masterminded the smart contract part of the concurrent Merkle trees. Jerry, in an offhand conversation at Breakpoint, asked him, I was like, hey, could you build Twitter on using compression? He's like, oh, yeah, totally. You just put the tweets, or whatever we call them, are they sheets? Are they zeits? No one knows. Anyway, you put the tweets as leaves in the tree. For every day, you just amend to create a giant tree, and then at the end of the day, you just close it off, and then you take the root and you put that in another tree. So you have a tree of just more roots. And so you can continually, just add to this thing every day as a new tree.
00:37:47.862 - 00:37:52.438, Speaker C: And there you go. You got x.com right there on Solana.
00:37:52.606 - 00:38:30.862, Speaker B: The real thing here, though, is, again, it's not the technology problem. Right. I think what you just outlined is a really key point here. You can technically build Twitter on chain using compression. Why has no one done it? And this is sort of like, the biggest challenge is, I think, facing any new technology, and compression falls into this category, too, is that usually the research is four years ahead of the tech and the tech is two years ahead of the product. And I think we're seeing a flattening of that in Solana, which is really exciting, like drip embracing compression so quickly. Huge, right? Helium being like, well, this is literally the only way we can do this thing at an economically reasonable scale.
00:38:30.862 - 00:39:00.354, Speaker B: This is great, right? We're functionally six months into compression, and here we are today. This is kind of a huge accomplishment. But at the same time, there is that whole additional piece of, like, if someone were to actually go and try and build Twitter using compression today, what are the challenges you think they would run into that they would have to solve in order to actually do that? Or do you think we actually are ready from a. Like, the infrastructure of compression is ready for something like Twitter to actually be built on it today?
00:39:00.474 - 00:39:09.706, Speaker D: I think there's a guy on Solana vixit that's building solar Plex, and that is basically. I think we're already there. Someone's doing it. I mean, it's Reddit, not Twitter, but.
00:39:09.810 - 00:39:54.848, Speaker C: There'S fixit on server Plex, and then shake building gum. The fundamental primitives of social media can all be stored using compression. So there would be definitely a constraint around how quickly that data could be retrieved. But because it's part of the consensus mechanism, because it's in the ledger itself, that data would be there. The RPCs would probably need to spend a lot of time catching up all the time, but if they're just indexing specific trees, then they probably could keep up. So to me, it's a product problem, really, around talking about why you would even do all this stuff on chain. But I don't think there's a restriction on the technical side, from the solana's perspective.
00:39:54.936 - 00:40:01.024, Speaker D: Well, I think the restriction would probably come in the form of tps. How many tweets per second are there?
00:40:01.064 - 00:40:38.324, Speaker C: Actually, I have long wanted tree service to call it the Department of Forestry, where you just create a large forest of not very large trees, semi large trees, but that are very well configured for composability, using the guidelines from tensor and all the things that Noah has learned from composability and his trees, and making sure that you just have arbitrary buckets, because the trees actually don't matter. They're data storage containers. But you could have a ten K collection where every single one of those NFTs is in a different tree, and you can just treat them like arbitrary storage.
00:40:38.444 - 00:40:48.436, Speaker D: There's that public tree functionality where you can mint to a public tree. I didn't think about that. That's absolutely brilliant. And that would totally eliminate a lot of the glass.
00:40:48.620 - 00:41:14.434, Speaker E: I think that's cool. But can we all use this as a moment to petition Mister Dolly, to increase transaction size further because you guys going to do the forest thing? Well, let me tell you about what it feels like to try and jam a metadata object that's huge into one of these transactions. If you guys think you're going to be composing here, let me tell you, you're not.
00:41:14.734 - 00:41:47.362, Speaker B: There's a few different approaches here, right? One is you increase what you can do in a transaction. The second is you create asynchronous program execution. And so I think the asynchronous program execution model is the one that over the long term is, I think, far more interesting to look at. And the reason for this is like, right, you will always run into transaction size limits, no matter how big we make the transactions. You'll always need to split things up into multiple instances by separating program execution from block production and allowing these things to actually run over a longer time duration.
00:41:47.538 - 00:41:49.082, Speaker A: My hope there is that that actually.
00:41:49.138 - 00:41:53.722, Speaker B: Is the approach that is able to create a more general purpose solution here.
00:41:53.898 - 00:42:03.218, Speaker A: There are trade offs with increasing transaction size, and I think when we see firedancer start to ship, we're going to get a much better sense of what the potential is to increase transaction size.
00:42:03.306 - 00:42:44.130, Speaker B: And what impact that could have on network performance. Positive or negative. The work around token 2022 is to create another token program on the network. It's always very possible that at some state we actually have different types of transactions that have different types of sizes associated with them, which is kind of always an interesting proposal for what the future of this stuff could look like. No one I know is working on that, but just throwing that out there is really one of the cool things about Solana is the base level is very flexible for this stuff to change. We're seeing more and more of these new generation blockchains launch with very opinionated goals.
00:42:44.202 - 00:42:44.410, Speaker C: Right?
00:42:44.442 - 00:43:26.506, Speaker B: Like say C, however you say it sei, like they are very focused just on certain types of trading and nothing else sort of in that spectrum there. Chili's focused just on sports and fan tokens. Like they're not building anything else around other areas. Something like SWE is making intentional compromises around certain types of transactions to speed up other types of transactions. And I guess I'm curious, like, as you guys have seen, compression adopted onto Solana and stuff like neon come to it, if you think that thesis of a fast general purpose chain is something that can actually hold up into the future or specialization in different types of applications, this is really something that's needed.
00:43:26.690 - 00:44:30.234, Speaker C: I think the concern that I have, or at least has been brought up to me has been around the economics of where that storage is going. While we're saving a lot of Sol tokens from moving this data from the account, the ledger size isn't growing at an incredibly high rate. Solana's already got multiple hundreds of terabytes worth of archival data. So this is a problem that would have needed to get solved anyway. And this is only sort of throwing more fuel on the fire in terms of, like, what RPC providers have to do in order to serve all these queries. So I do think that at some point we, and this is coming largely from Brian Longit, Triton is thinking about how do we incentivize the archival node storage too, to make sure that these compressed nfts and anything that uses compression, anything that uses Solana, isn't always subject to just Google, bigtable and some of these other technologies, but that data is more easily accessible and it's incentivized somehow by the network.
00:44:30.594 - 00:45:19.084, Speaker D: Yeah, it's not clear to me yet that I had this thought originally coming into blockchains, that it could be something like databases, where you explicitly make different trade offs and that leads to different consequences. For example, you have postgres, which is storing things in Rowey's format. It's really, really quick for inserting, but querying is slower because you have to pull the entire row out of the hard disk every single time you query, versus redshift, which is a fork of postgres that is columnar. And so the inserts are slower, but the queries are faster. And so I had this thought like, oh, what if blockchains are like that and you could just make these different fundamental decisions that make your transaction slower but you read better. But I just haven't seen evidence of that. Like all these different decisions, I don't see any faster TPS.
00:45:19.084 - 00:45:58.782, Speaker D: You still have the same kind of archival archival storage problems, but to me those are pretty well getting solved right now. In fact, I'm okay even with the web two way of doing it, where you're using geyser with a Kafka pipeline off of it and indexing it in a web two way. Web two is fine, it works. And as long as you've got enough people doing it, it is decentralized because Triton's doing it, Helios is doing it. Hello, moon just showed up and is indexing the compressed nfts. At a certain point, when I've got 2000 different people running the indexer for the compressed NFT, does it matter if it's not stored on Arweave. Probably not.
00:45:58.958 - 00:46:28.022, Speaker B: Interesting. There is sort of this question too, around long term. What of this is actually required to be maintained in the ledger state? Because most nodes today do not run a full ledger. The bigtable instance, that is one place that people store historical data. I think it's over 350 terabytes at this point. So pretty wild to see this stuff scale into the future. But yeah, this is like, I think a big thesis of mine is that the big data problems are coming for blockchain, and compression is a really great example of that.
00:46:28.118 - 00:47:18.714, Speaker E: I think a really good framework that I encountered some time ago was by Multicoin where they said the layer ones themselves are optimized for writes, because that's so far, what's been the bottleneck. If you think about all the work Solana has done, if you think about all the work that L2s have done, it's always been about throughput TPS and how do you write more to the blockchain? And then what's probably going to happen is as there's real apps built in the blockchain that use that data, you now have this opportunity for a layer of startups to exist that are optimized for reads. And so some of them will be more centralized, others will be more decentralized, like the graph for example. But it'll be a spectrum and you'll be trading things off. So you want to be more centralized. Okay, well it's faster and cheaper. You want to be more decentralized.
00:47:18.714 - 00:47:36.454, Speaker E: Okay, well it's more expensive and obviously each application will decide where it wants to sit on that spectrum. But that to me seems like a pretty healthy stack that will emerge over time rather than kind of the blockchain itself, trying to do everything and basically like making all the trade offs and ultimately being good at nothing.
00:47:37.224 - 00:48:12.324, Speaker D: Yeah, and I think it's still decentralized. Even if you have decentralized rights with centralized storage of the history, it doesn't matter. You can't lie. Like, you know, Helios could try to send us a bad proof for an NFT, or like send us, when I query for one person's hotspot in the oracle, send us another person's hotspot. But by the time that that hits the chain, the chain actually verifies it against the tree and it's just going to tell you to f off. And so what point does it matter if anytime you try to take any action it's actually checked? You can't lie.
00:48:12.404 - 00:48:50.420, Speaker E: Actually, that's such an interesting point, because one really interesting realization we had when we were building the marketplace, and especially as it started getting real traction and getting into the million or so transactions that we're now doing, one thing we realized is that we can basically outsource verifying proofs to the compression program itself. You just send the transaction and it either fails or it doesn't. And so you don't need to do any of this, like, complicated stuff off chain, because the program, the Solana itself, tells you, like, yes, this is correct, or no, this isn't. And because transactions are so cheap, you can just, like, do it, you can abuse it.
00:48:50.532 - 00:48:51.564, Speaker B: That's fascinating.
00:48:51.684 - 00:49:10.204, Speaker C: And it's also worth noting, like, that this kind of failure could also happen if the RPC lied about your ownership around a particular account, too, right? And you try to transfer that token, turns out it's already been transferred, it's already been sold, or something like that. The chain ultimately, like, sorts everything out and gets everything straight.
00:49:10.624 - 00:50:15.640, Speaker E: And I think this is, like, a meta point that non developers don't understand about blockchains. So if you're a non developer, you look at blockchains and you say, okay, guys, what is really there? Like, why are people using these things? Is it all for speculation? And is it, like, a bunch of anarchists that believe that the government is bad? When a developer looks at this thing, he looks at this and he says, okay, hold on. I don't need to worry about fault tolerance. I don't need to worry about my database messing up. I don't need to worry about, like, I'll give you a super specific example. We're doing a big airdrop that's coming in at tensor, and we basically have these two options, like, do we do it completely centralized off chain, which is, like, done by us, or do we force everything to go through Solana? And we're going with the latter, because that leaves us no chance to mess it up, because if we do it ourselves, there's a real chance that we airdrop somebody more than we should have or less than we should have. But if everything is going through the Solana's runtime, then the blockchain itself guarantees that everybody receives exactly the amount they should be receiving.
00:50:15.640 - 00:50:27.314, Speaker E: And so, as a developer, you're not looking at blockchains as some decentralized anarchist tool. You're basically seeing it as a faster and cheaper and easier way to build apps.
00:50:27.734 - 00:50:29.086, Speaker A: Well, thank you guys so much for.
00:50:29.110 - 00:50:31.230, Speaker B: Joining us today on validated and talking.
00:50:31.262 - 00:50:34.998, Speaker A: A bit about compression and what the future of this kind of technology might hold.
00:50:35.126 - 00:50:35.678, Speaker C: Thanks, everyone.
00:50:35.726 - 00:50:36.714, Speaker D: Thanks for having us.
00:50:39.574 - 00:50:48.674, Speaker A: Validated is produced by Ray Belli with help from Ross Cohen, Brandon Ector, Emira Valiani and Ainsley Medford engineering by Tyler Morissette.
