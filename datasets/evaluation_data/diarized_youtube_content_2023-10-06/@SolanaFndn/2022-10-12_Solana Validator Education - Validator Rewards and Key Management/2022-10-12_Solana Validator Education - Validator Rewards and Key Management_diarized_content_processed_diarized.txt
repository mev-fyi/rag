00:00:00.200 - 00:00:42.446, Speaker A: All right, we're underway. Thanks, everybody, for coming. This is kind of an experiment, so if it goes horribly wrong, I'm sorry, but this is the, the first educational one we're going to be doing and sort of building on this. So let me get into the goals here. What I plan to talk about today are rewards, key management, best practices, good ideas, and then a little bit about stake accounts. The way I want to structure these is always to have some sort of a topic, educational thing. In the beginning, maybe the first 30 minutes, but after that, really focus on just what people want to talk about.
00:00:42.446 - 00:01:10.554, Speaker A: So more of, like, an open office hours Q and A. And I'll also kick this off by saying, like, you know, I've been in the foundation for about seven months now or so. I'm by no means an expert. You know, there are validators out there that are much more experts than I am. They're running highly staked validators on Mainnet. So questions, feedback, whatever you got. I'll try to do my best to answer the questions, but, you know, I want it to be collaborative as well.
00:01:10.554 - 00:01:51.674, Speaker A: Sorry, one sec. My dog is going nuts. All right. Sorry about that. Okay, so, yeah, before I get started, any questions about that? Anything that people kind of want to dive into, or there's, you know, like, what are people's expectations before I dive in?
00:01:59.054 - 00:02:00.022, Speaker B: Nobody.
00:02:00.198 - 00:02:30.566, Speaker A: Another thing I want to say here is I've taught before in the past. It doesn't mean, like, I'm a great teacher, but the way I tend to teach is more interactive. I'd like it to be more interactive. I find that that's the best way to learn and just to figure out, like, if I'm boring you or if the content is useful or not. So ideally, I'd like to call on people. I'd like to, like, ask questions and get feedback. Nobody should feel like if they give me the wrong answer, that's a bad thing.
00:02:30.566 - 00:02:51.612, Speaker A: The whole point of this is to learn and for all of us to get better. So, you know, if you don't want to be called on or if you don't want to be involved, that's fine. Just, I don't know, ignore me or, you know, do something, message me in the chat. But my. My ideal for this is for us all to answer and be part of it.
00:02:51.668 - 00:02:52.264, Speaker B: So.
00:02:54.444 - 00:02:56.704, Speaker A: Yeah, any, any questions before I start?
00:03:01.004 - 00:03:02.824, Speaker B: Okay, cool. Let's get going.
00:03:03.804 - 00:03:31.824, Speaker A: So, yeah, like I was saying before, these are the goals that I want to cover today. We'll maybe get into more stuff at the end once we get to the Q and A. But those are, like, the main things I want to talk about. Kind of just get like a. Maybe like a thumbs up or thumbs down in the chat. How people feel about these topics. Do you feel, like, strong or not so strong? Plus or minus, maybe? Anybody? Anything.
00:03:32.684 - 00:03:33.780, Speaker C: I'm not even sure how to do.
00:03:33.812 - 00:03:40.646, Speaker A: Plus up, thumbs up or just, like, plus sign? Oh, I see.
00:03:40.670 - 00:03:45.446, Speaker B: In the chat. Yeah. Cool.
00:03:45.550 - 00:03:48.714, Speaker A: Okay, so Brian is feeling strong, at least.
00:03:49.094 - 00:03:49.902, Speaker B: Cool.
00:03:50.078 - 00:04:00.830, Speaker A: All right, well, if. If these things are, you know, too slow, we can go through it quickly, then talk about other things. I do want to get through the material, though, just because there might be other people watching the call later.
00:04:00.902 - 00:04:04.214, Speaker B: So let's talk about it.
00:04:06.314 - 00:04:30.614, Speaker A: Okay, so the first thing to know, and I'm sure a lot of you know, that put the plus signs out there. There are three primary keys that a validator cares about, right. When you create your vote account, you need to give it identity key, a vote key, and a withdrawal key. Maybe. Brian, you're the only one who's answered something so far. If you tell me, like, what the identity key does, why it's important.
00:04:33.834 - 00:04:34.146, Speaker B: Yeah.
00:04:34.170 - 00:04:51.626, Speaker C: I think it's basically the key that controls the validator. It's what goes out into the blockchain world and issues the votes. And if I'm looking up things, I'll look up this identity key, like in gossip or any of those commands.
00:04:51.650 - 00:04:52.554, Speaker B: It's kind of. It's.
00:04:52.674 - 00:04:55.614, Speaker C: I got identity on. On the blockchain.
00:04:56.114 - 00:05:20.354, Speaker A: Yeah. The important part there, which I want to highlight, is that it pays for vote fees and sort of an operational thing. It has to live on the server. So in order to identify that validator, it's part of the runtime. It needs to be one of the command line variables that you add when you start your validator, which is important because that makes it a little less secure than the other keys we'll talk about.
00:05:20.394 - 00:05:22.914, Speaker B: Right. But, yeah. Good.
00:05:23.414 - 00:05:42.870, Speaker A: So the vote account key is. I'll talk about that one. It essentially identifies the vote account for delegators. So you create your vote account key. And if I want to delegate to that validator, I need to know that key. To delegate to the key is not really important on its own.
00:05:42.942 - 00:05:43.174, Speaker B: Right.
00:05:43.214 - 00:05:54.154, Speaker A: Like, the private key doesn't really need to be saved once you create the vote account, you just really need to know the pub key for that vote account. Anyone want to talk about the withdrawal key?
00:05:55.694 - 00:06:06.158, Speaker B: Maybe surge know you're active in the chats? Gary.
00:06:06.246 - 00:06:08.634, Speaker A: Gary, you gave me a plus. Maybe something.
00:06:13.094 - 00:06:13.646, Speaker B: No?
00:06:13.750 - 00:06:32.174, Speaker A: All right, well, that's fine. So the withdrawal key, the important thing there is that it does not need to be on the. On the validator server, right. It is a key that controls the vote account. And it is. It has a lot of power, right. It can withdraw funds from the vote account.
00:06:32.174 - 00:06:37.906, Speaker A: It can change the identity for that vote account. It can change the withdrawal key.
00:06:37.970 - 00:06:38.170, Speaker B: Right.
00:06:38.202 - 00:07:07.412, Speaker A: So you can use the withdrawal authority to change to a new withdrawal authority. So the withdrawal key is really like the. For lack of a better word, is the key that gives you control of that validators account. If you lose that withdrawal key, you're screwed. If you have 500,000 sole stake to your validator and you lose the withdrawal key, you basically lost that validator. Because anyone can go in and change withdrawal authority immediately and you can't recover it.
00:07:07.428 - 00:07:13.484, Speaker B: There's no way to get it back. Cool. Yeah.
00:07:13.524 - 00:07:42.804, Speaker A: So with those basis out of the way, I want to talk about rewards. So there's two types of rewards, essentially, that you can earn by running your validator. Inflationary rewards based on your commission percentage. And rewards from transaction fees for blocks. Blocks that you successfully produced. Yeah, let's get into this. Inflationary rewards.
00:07:42.804 - 00:08:17.172, Speaker A: At the end of an epoch, you earn your inflationary rewards. And that goes into your vote account. So Michael Hubbard, I'm sure a lot of you know, is Lane. He's got a really good write up on all the intricacies of this. If you search for Solana staking rewards and validator economics, you should be able to find it. That's what I read when I first started as kind of like a more detailed description of what's going on here. Essentially, the way you earn rewards is based on a couple things.
00:08:17.172 - 00:08:37.684, Speaker A: So, how many vote credits you earn in epoch, the amount of active stake that you've got and your commission percentage. At the end of every epoch, there is some amount of inflation. That inflation rate. Is there anybody either in the chat or verbally want to tell me how you figure out the inflation rate?
00:08:44.184 - 00:08:45.124, Speaker B: Nobody.
00:08:46.864 - 00:08:50.576, Speaker A: So if I want to know what the inflation rate is right now in.
00:08:50.600 - 00:08:51.364, Speaker B: Solana.
00:08:56.644 - 00:09:47.294, Speaker A: I can just say Solana inflation and the initial rate is 8%. The terminal rate, essentially this will. It'll never get lower than 1.5. But the current rate right now is 6.64. So anyway, based on that inflation rate, how many vote credits you earn and the amount of your stake in your commission, you'll earn your rewards at the end of each epoch. To see your total amount, total balance in your vote account. You could just do Solana balance and then the pub key for your vote account and to see more information about what, what you earn per epoch, you can use Solana vote account with rewards.
00:09:47.294 - 00:10:20.230, Speaker A: So this one's pretty useful if you want to see like oops. Let me get an example here. So let's pick. I think this one might be slightly kraken.
00:10:20.262 - 00:10:21.194, Speaker B: For example.
00:10:24.854 - 00:10:27.902, Speaker A: If I do Solana vote.
00:10:27.918 - 00:10:31.594, Speaker B: Account drama on Mainnet.
00:10:41.514 - 00:10:58.174, Speaker A: Make sure you're using the vote account key here. It's going to make an RPC call to get the info and it's going to take forever.
00:10:58.834 - 00:11:03.478, Speaker B: Maybe I shouldn't have used there we go. It.
00:11:03.478 - 00:11:38.144, Speaker A: So you can see here the amount that they earned in the last epoch, the new balance. So it looks like they empty out the account pretty regularly, which is good. And then the percent change. I don't think this percent change really makes much sense because that's the percent change over what it used to be. So they probably just left rent in the account, which means this is like a gigantic change. You could see here what they did per epoch, how many credits per how many available slots. So a lot of useful information there.
00:11:45.084 - 00:11:51.544, Speaker C: Is that the reward before it's split into the delegated accounts?
00:11:53.244 - 00:11:57.116, Speaker A: Sorry, what was the question? I was reading a question in the chat there.
00:11:57.260 - 00:12:05.984, Speaker C: Yeah, this, this epoch reward, is this going to the vote account or is it split between the person that delegated and the validators vote account?
00:12:06.364 - 00:12:08.692, Speaker A: I believe this is what's going to the vote account.
00:12:08.788 - 00:12:08.996, Speaker B: Right.
00:12:09.020 - 00:12:16.784, Speaker A: So in this case the commission's 100%, so it's kind of hard to tell. We can see another one here.
00:12:20.784 - 00:12:28.048, Speaker B: Doesn'T have 100% commission. Yeah, let's check out this one.
00:12:28.216 - 00:12:30.272, Speaker A: Or maybe I'll take a smaller one.
00:12:30.328 - 00:12:58.624, Speaker B: Let's look at this one. Takes a couple seconds.
00:13:10.364 - 00:13:33.914, Speaker A: While that's going, there was a question in the chat or more of a comment about best practices around the withdrawal authority versus the identity key. I'll cover that a little bit more in a minute. But the key takeaway here is that the withdrawal authority should always be unique and should be stored differently. So we'll talk about that in a minute.
00:13:38.654 - 00:13:39.278, Speaker B: Okay.
00:13:39.366 - 00:13:41.314, Speaker A: I'm not sure why this didn't show the rewards.
00:13:47.314 - 00:14:11.474, Speaker B: Let me try one more. I'll use main or testnet to make it quicker, hopefully. So maybe this one.
00:14:29.494 - 00:14:43.998, Speaker A: Yeah, there we go. Yeah. So pretty sure that this amount here is after the commission, right? Not, not including. It's not like the total amount that that validator is earned. It's the 5%. Once, once the 5% is taken out.
00:14:44.006 - 00:14:58.594, Speaker B: Of the rewards thank you. Okay, so any questions about. Oh, God, so much crap on the desktop.
00:14:59.694 - 00:15:01.154, Speaker A: Any questions about that?
00:15:06.434 - 00:15:08.970, Speaker B: Cool. Okay.
00:15:09.002 - 00:15:18.434, Speaker A: Yeah, so that was Solana vote account. Super useful for figuring out your rewards and kind of what blocks you are aren't doing. Not blocks, but what epochs you are or not doing.
00:15:18.474 - 00:15:19.054, Speaker B: Well.
00:15:21.914 - 00:16:00.726, Speaker A: The other source of rewards for a validator is from transaction fees. So if you look back at this article from Michael, they call them block rewards. But essentially in Solana it's transaction fees. Every transaction has a fee per signature, and 50% of those fees go to the validator that produced the block. The other 50% gets burned and gets taken out of circulation. These rewards go to the identity key, which is different from inflationary rewards. Inflationary rewards go to the vote account.
00:16:00.726 - 00:16:39.234, Speaker A: The identity key is where the transaction fees go. So what that means, and sort of an operational thing to think about is how much you want to keep inside of that identity key, how much soul you want to have in that key. If you're a highly staked validator that produces a lot of blocks successfully, you can get to an equilibrium where your transaction fee rewards sort of cancel out the vote fees. But if you're not, you want to make sure to regularly check the amount in there and make sure that it's not going to zero essentially over time.
00:16:40.734 - 00:16:41.070, Speaker B: Yeah.
00:16:41.102 - 00:17:41.368, Speaker A: So I've got a note here saying that vote fees are taken out of this account. You want to regularly check the balance to make sure that the account stays topped up. I think I have a little bit more in there later on about good practices around this, but maybe I'll get into it now just because I'm talking about it. When you are checking that key, you want to make sure that operationally there's not a lot of soul in there, ideally. Any ideas why? Why wouldn't you want to keep a large amount of soul in your identity key? Let's say I'm Coinbase cloud and I'm producing a lot of blocks, and my rewards from transaction fees are actually greater than my voting costs. So my identity key is actually gaining soul every day. Why wouldn't I just want to let that grow infinitely?
00:17:41.526 - 00:17:44.624, Speaker B: What's the reason for that? Any thoughts?
00:17:46.044 - 00:17:51.784, Speaker C: I'd say one of the reasons is that it's live on the server. So anyone can go into the server and take the soul off of it.
00:17:52.164 - 00:18:11.302, Speaker A: Yeah, exactly. That's the thing. That key is a hotkey. It has to live on the server in order for the validator to operate. So it's vulnerable. Anybody who can hack that server, or in the case of a large operation like Coinbase, anybody internally that has access to that server could potentially drain those funds.
00:18:11.478 - 00:18:11.790, Speaker B: Right?
00:18:11.822 - 00:18:53.334, Speaker A: So you really want to balance out how much soul you have in there to pay for vote fees versus how much risk you're taking on if you had a million sol in that identity key. One, that doesn't make sense because you're losing out on staking rewards, but two, it doesn't make sense because you're leaving a million sol vulnerable on that key for hacker to potentially get. So the ideal world is to have just enough to pay vote fees and not much more. But obviously that adds operational burdens. You don't want to have to top it up every day, worry about it all the time. So you have to figure out what's right for you, how often you want to check it. But the key takeaway here is just don't leave too much or too little in that account.
00:18:59.034 - 00:18:59.934, Speaker B: All right.
00:19:00.414 - 00:19:16.314, Speaker A: Um, some things you might want to do here to check your block production. If you're not aware, you can always check the leader schedule to make sure that you are able to produce blocks. So on testnet here, I can say solana.
00:19:18.054 - 00:19:19.874, Speaker B: UT leaderschedule.
00:19:25.094 - 00:19:41.334, Speaker A: And this just gives me a slot by slot list of every validator's identity key and who should be producing blocks in that slot. So if I am curious about my validator, let's say this one, I can.
00:19:41.374 - 00:19:51.394, Speaker B: Say, oops, let me move this up, do this, and then grep for my pub key.
00:19:53.214 - 00:20:08.772, Speaker A: And that'll give me all the opportunities I've got to produce slots. Produce blocks in a slot. Once I know that I might be interested in block production. How well I did after the fact.
00:20:08.908 - 00:20:09.540, Speaker B: Right?
00:20:09.692 - 00:20:26.456, Speaker A: So I can look at Solana block production Dash V and see more information about how my validator did in the previous epoch. And just like before, you can grep for your identity key to see where you did or didn't produce blocks. This dash v flag.
00:20:26.520 - 00:20:45.324, Speaker B: Whoops. Let me run it real quick. Solana block production. I want to add the dash v.
00:20:56.364 - 00:21:19.784, Speaker A: Very similar output here. But the interesting thing now is that you get skipped every time a slot is skipped. So if you wanted to just find out how many skip slots you had, you can look through that, or how frequently you could see here that there was a whole range of skip slots in a row. So maybe something was going on, maybe validators restarting. Hard to tell.
00:21:21.444 - 00:21:22.464, Speaker B: Excuse me.
00:21:25.164 - 00:21:28.064, Speaker A: Any questions about all that while I cough?
00:21:29.484 - 00:21:41.794, Speaker C: I'm not sure if you're going to talk about this tim. But something that tripped me up when I was starting my new testnet on for TD's was the delay in leader slots.
00:21:43.574 - 00:22:34.554, Speaker A: Yeah, that's a good point. Let me get into that a little bit. So I don't have notes on it specifically, but like Brian was mentioning, there is a bit of a delay. So if I create a brand new vote account and I start my, my validator, let's say on Testnet, for example, there's a couple of delays going on. So first of all, in order to get leader slots, you need to have stake to your validator. It's sort of a gamble on how many leader slots that you get, but it's proportional to the amount of stake you have. So let's say I have 5% of stake on Testnet, I'm going to get about 5% of the leader slots for that epoch.
00:22:34.554 - 00:23:04.024, Speaker A: Now, if I have 0.01%, there's a good chance I might not get any leader slots, right? So that's the first issue you need. Excuse me, you need stake in order to get those leader slots, and stake takes a while to activate, right? So if you're starting brand new, you don't have any stake yet. It could take an epoch or two to get that stake activated once it's delegated to you.
00:23:04.844 - 00:23:19.104, Speaker B: Excuse me, dying here. Smarter. All right.
00:23:20.004 - 00:24:13.612, Speaker A: The second delay, like Brian was talking about was that you don't get into the leader schedule right away. So the moment that you get enough stake to have the possibility of being leader schedule, it still takes about two epochs before the leader schedule is creating new. Essentially what I'm trying to say is that leader schedule is defined ahead of time. So Solana actually creates a leader schedule for the epoch coming up. Leader schedule spot is not going to be created if you have enough stake until about two epochs out. So that's all something to be aware of, especially if you're setting up for something like TD's. You want to make sure that your validator is getting stake from the testnet stake bot.
00:24:13.612 - 00:24:22.920, Speaker A: You've got to, you'll have a bit of a wait. It'll be about a week or so, maybe more before you get leader spots. Does that cover what you're thinking?
00:24:23.032 - 00:24:25.244, Speaker B: Yeah. Yeah. Okay, cool.
00:24:27.264 - 00:24:29.004, Speaker A: Any questions on all that stuff?
00:24:29.424 - 00:24:34.644, Speaker B: Thoughts? All right.
00:24:37.904 - 00:25:16.260, Speaker A: Okay, so getting back to the question from the chat, a little bit more about key management. Like we said, there's three important keys. I think people are all familiar. There's been no questions. So you need the identity key, the vote key, and the withdrawal key when I first started this definitely tripped me up when I was brand new to being a validator. I didn't really understand, like, what the purpose was of all three of these keys. But now that, you know, I've got a better handle on it, the most important thing, and what was mentioned in the question earlier is that your identity key is the hotkey lives on the server.
00:25:16.260 - 00:25:52.534, Speaker A: It is a little bit more vulnerable because of that. The authorized, excuse me, the authorized withdrawer key is a key that is designed to be secure so it should not live on the server. It should ideally never ever touch the server that you're running your validator on. You should create that key or create that vote account on a reliable, safe computer. And you should ideally keep it in a hardware wallet or some sort of cold storage so that it's, you know, much harder for an attacker to get to.
00:25:52.874 - 00:25:53.210, Speaker B: Right.
00:25:53.242 - 00:26:30.754, Speaker A: Like we were saying earlier, this withdrawal key is the keys to your validator. If you have a lot of stake, or even a little bit of stake delegated to your vote account, that stake can be completely taken over. That vote vote account can be taken over with the withdrawal key. Yeah, we sort of already covered this, but the identity key belongs on the server. It's vulnerable to attack because it lives on that server. You need to be aware of the balance in that account shouldn't be too low because you have to pay vote fees. It shouldn't be too high in case the server is compromised.
00:26:34.334 - 00:26:35.374, Speaker B: Timmy, withdrawal.
00:26:35.454 - 00:26:36.806, Speaker C: I have a quick question real quick.
00:26:36.910 - 00:26:37.622, Speaker B: Yeah.
00:26:37.798 - 00:27:12.864, Speaker C: So you said that the vote account doesn't need to live on the server, but I kind of ran into this interesting thing where I had, I had created the vote account, maybe on my, my virtual server, and then I had to get it to my Edgevana server, for example. And so I copied the private key, I wrote it down, and then I generated the pub key to create though the vote, the vote account key pair. How do you create a key pair without the private key if you say didn't keep it?
00:27:13.524 - 00:27:21.052, Speaker A: Oh, right. So you need to create the public key and private key. You don't need to keep it once you create it.
00:27:21.228 - 00:27:21.564, Speaker B: Right.
00:27:21.604 - 00:28:08.272, Speaker A: So once I have the identity key, I can go through a demo of this. But once I have the identity key, the vote account key and the withdrawal key, I'll make a transaction on the chain to say I want to create a new vote account with this withdrawal authority, with this identity and with this vote key. Once that's created on chain, the pub key or, sorry, the private key for the vote account is never needed for any other operation. So you never have to say like, because the withdrawal key is responsible for transferring funds out of that account. You never have to say like sign something with your vote key, for example. Okay, so yeah, that's a good point.
00:28:08.368 - 00:28:25.724, Speaker C: If that file disappears off my server, like the votikey Json, I don't really need it anymore unless I'm trying to use it as a shortcut for some of these commands, like sauna balance vote account, right?
00:28:26.304 - 00:29:10.804, Speaker A: Theoretically, that key always exists on chain and it exists when you do Solana validators, right? So you can always see the key, um, like Lex mentioned in the chat, you know, if you don't have the private key anymore, you can never get the key, right. I don't think you ever really need to worry about that. Um, you, you can always change the vote account, right? With the withdrawal authority, you can change it. It's not a great idea because maybe validators or, sorry, delegators know you by that key. But I can't think of a scenario where you, like, if you lose the key, you need any private key operations from it.
00:29:11.864 - 00:29:18.168, Speaker C: I guess you could just create like a text file and have Solana balance vote account read this text file that has the pub key in it.
00:29:18.296 - 00:29:18.872, Speaker B: Yeah.
00:29:19.008 - 00:29:24.554, Speaker A: And like I said, there's always going to be an on chain, right? Like I can always just do Solana.
00:29:24.594 - 00:29:25.414, Speaker B: Validators.
00:29:28.314 - 00:29:38.734, Speaker A: And I get get my vote account key or any of the other like validators app stakewiz, all those will have the vote account key.
00:29:39.434 - 00:29:40.274, Speaker B: Got it.
00:29:40.394 - 00:29:46.194, Speaker C: So then you can just paste that into your command if you wanted to. You don't actually need the JSON file, correct?
00:29:46.234 - 00:29:48.910, Speaker B: Yeah, yeah.
00:29:49.022 - 00:30:00.074, Speaker A: I mean, you could store it if you're paranoid about it, but it's not a critical key like the withdrawal key or even the identity key. You could run your validator without having a private key.
00:30:04.534 - 00:30:11.314, Speaker B: Okay, let me get back to the notes.
00:30:15.474 - 00:30:48.060, Speaker A: So yeah, back to withdrawal key should not exist on the server. Must be different than your identity key. And that's a key point I noticed, especially on Testnet. This could just be people being lazy, but the identity key and the withdrawal key should not be the same operationally. That makes things a little bit harder, obviously. But I think it's just a best practice to do things on testnet like you would do it on Mainnet. So keep the identity key and withdrawal key distinct.
00:30:48.060 - 00:31:13.934, Speaker A: Two different keys ideally store them differently. Like I said, the withdrawal key should be a hardware wallet. The identity key should or has to live on the server. It has to be a hotkey. Yeah, and like Brian was saying, you should create the vote account on a completely separate machine. You shouldn't have to do that on your server. The withdrawal key should never be on the server.
00:31:13.934 - 00:31:18.414, Speaker A: So let me try to demo some of this stuff.
00:31:23.434 - 00:31:24.534, Speaker B: I'm going to make.
00:31:32.834 - 00:31:37.014, Speaker A: So the first thing I'm going to do is create an id key pair.
00:31:39.194 - 00:31:40.574, Speaker B: Keygen new.
00:31:46.474 - 00:32:06.874, Speaker A: Here's my id key. Id two. I'm going to create a photocount key. And for the withdrawal key pair, I'm going to use ledger. So let me make sure this is unlocked.
00:32:10.654 - 00:32:12.274, Speaker B: Oh, wait, this is wrong.
00:32:19.614 - 00:32:22.434, Speaker A: Sorry, one sec. This ledger UI is not the quickest.
00:32:25.634 - 00:32:40.174, Speaker C: Okay, Tim, I don't know if it's on your radar, but if it's possible to demo swapping your validator or your withdrawal authority from your identity to a ledger, for example, that could be useful.
00:32:40.474 - 00:32:42.986, Speaker B: Oh, sure, yeah, yeah.
00:32:43.010 - 00:32:50.094, Speaker A: Okay, let's do it that way. So let's just say I created a withdrawal key normally. So Solana Keygen.
00:32:56.804 - 00:33:04.864, Speaker B: Withdraw key. Just for consistency, I'll call this one two as well.
00:33:09.204 - 00:33:49.990, Speaker A: Okay, so I've got my three keys, the identity key, the vote account key, and the withdrawal key. I'm going to do this locally on my server, sorry, on my computer at home. If you're really paranoid, you maybe want to make this an air gap setup, right, but you can't be air gapped the whole time. But you could make a nonce account, sign the transaction and then actually execute the transaction on a different computer. That's maybe for the ultra paranoid that don't want any of this stuff to happen on a computer that's ever touched the Internet. But, you know, that may be another level of security that is just too.
00:33:50.022 - 00:33:51.634, Speaker B: Much burden for most people.
00:33:53.054 - 00:33:58.034, Speaker A: So let's create this on testnet create.
00:33:59.214 - 00:34:07.926, Speaker B: Account and make sure that's the right command. Yeah.
00:34:07.990 - 00:34:16.984, Speaker A: So I want to use this create vote account command to create my new vote account. And I don't remember all the order.
00:34:17.024 - 00:34:21.924, Speaker B: Of operations here, so I'm going to help.
00:34:30.664 - 00:34:42.488, Speaker A: Okay, so the order is the vote account key, the identity key, and then the withdraw pub key. And I think I also want to include who is paying the fee.
00:34:42.656 - 00:34:54.520, Speaker B: Yeah. With the key pair. So let's do that. Solana UT for testnet create vote account.
00:34:54.672 - 00:34:58.440, Speaker A: I want to use the key pair id dot json because I know that.
00:34:58.472 - 00:35:13.144, Speaker B: Has some soul in it. I want to first use the vote account key, then use the identity key, and finally the withdrawal key.
00:35:15.324 - 00:35:17.944, Speaker A: So that should create my vote account on testnet.
00:35:20.084 - 00:35:20.548, Speaker B: Cool.
00:35:20.596 - 00:35:22.052, Speaker A: I should be able to say solana.
00:35:22.108 - 00:35:36.924, Speaker B: Vote account on Testnet and verify techie. Yep.
00:35:37.824 - 00:35:57.280, Speaker A: So this is the identity that I created. This is my withdrawal authority. And there's not much going on with this key because I just created it. Now, at this point, the next thing I would do if I'm starting my validator for the first time is I would copy those keys over. So I'm going to SCP just the.
00:35:57.312 - 00:36:11.044, Speaker B: Identity key, do my validator. I can't remember the IP address, but let's just say one dot, one dot, one dot, one.
00:36:12.824 - 00:36:16.584, Speaker A: I'm FCP this over, but again, I don't need to scp the withdrawal authority.
00:36:16.624 - 00:36:22.792, Speaker B: Over, so execute that. It's not going to pass, but that.
00:36:22.808 - 00:36:24.164, Speaker A: Would be the command I would use.
00:36:30.654 - 00:36:30.966, Speaker B: Yeah.
00:36:30.990 - 00:36:54.178, Speaker A: There's a comment here about a hack from Alexander. He said, I was previously hacked, a hacker took my soul off my withdrawal and identity key. My mistake was that the original withdrawal was on the server. I deleted it later. But it turns out the identity key is not protected in any way. That is if we store the withdrawal and the vote keys outside the server. But the identity key is.
00:36:54.306 - 00:36:55.314, Speaker B: Yes. Okay.
00:36:55.354 - 00:37:29.804, Speaker A: Yeah, so I think that's a question. The withdrawal key is protected in the sense that you never put it on the server. The identity key is not protected in a hack. So if someone were to gain access to the server that you run your validator on, they would gain access to that identity key. They'd be able to drain the funds. There'd be nothing you could really do about that. The reason I talked earlier about keeping the balance low was that if you have, let's say, ten soul in that identity key, or 20 soul, the most you'd be exposed for is the 20 soul.
00:37:29.804 - 00:37:49.464, Speaker A: But if you have your withdrawal key on there, you essentially lose all the soul delegated to your vote account. So you lose all the rewards that happen in perpetuity. Right. Losing the identity key is not the best, but it can be changed. So the withdrawal authority, let's go through that, actually.
00:37:51.124 - 00:37:57.184, Speaker B: Solana, help. There should be something in there about, whoops.
00:38:06.164 - 00:38:15.134, Speaker A: Yeah, update the vote accounts. Validator identity. So in this case, if I were hacked and I lost my identity key, this would be the command I would use.
00:38:15.674 - 00:38:25.514, Speaker B: I would say, let me time. Vote.
00:38:25.554 - 00:38:26.774, Speaker A: Update validator.
00:38:29.754 - 00:38:34.934, Speaker B: So, Solana, testnet, vote update validator.
00:38:36.754 - 00:38:57.774, Speaker A: Let's see what the command looks like here. So it wants the vote account address, the identity key pair, and the authorized withdrawer. So this basically is just changing the identity key pair. The key pair of the new validator that will vote with this account.
00:39:00.774 - 00:39:05.422, Speaker B: Yeah. So if I run this command, I.
00:39:05.438 - 00:39:12.074, Speaker A: Would want my vote account. I would want a new identity key pair. Let's make it the.
00:39:12.494 - 00:39:13.914, Speaker B: Let's just make a new one.
00:39:29.034 - 00:39:31.374, Speaker A: Now I've got this id, new JSon.
00:39:32.434 - 00:39:34.494, Speaker B: I'm going to switch it to that one.
00:39:43.514 - 00:39:45.130, Speaker A: And I'm going to use my.
00:39:45.162 - 00:39:48.174, Speaker B: Withdrawal authority to authorize it.
00:39:48.954 - 00:39:51.946, Speaker A: I think I also need to specify.
00:39:52.010 - 00:39:56.154, Speaker B: Key pair because has any soul in it.
00:40:01.814 - 00:40:03.354, Speaker A: So now if we look at this.
00:40:05.894 - 00:40:07.474, Speaker B: We get the pub key.
00:40:25.074 - 00:40:32.530, Speaker A: Need to specify testnet. Now if I look at this, you'll see that the validator identity has changed.
00:40:32.562 - 00:40:32.754, Speaker B: Right.
00:40:32.794 - 00:40:47.222, Speaker A: It's now GJ four. Whatever it is. If we go scroll up a bit before the validator identity was ERCPQ. So in the case of an attack.
00:40:47.278 - 00:40:52.794, Speaker B: That'S what you do. Yeah. Cool.
00:40:54.294 - 00:41:00.514, Speaker A: All right, so I think we covered most of the questions. The last thing was changing to ledger, right?
00:41:01.214 - 00:41:05.954, Speaker B: Yeah. All right, let me get my ledger unlocked here.
00:41:14.034 - 00:41:36.602, Speaker A: If you don't have some sort of a hardware wallet like a ledger, I highly recommend it. It's, you know, I think the, the best way beyond maybe storing it in a safe deposit box that there is. And let's see. So what we want to do here.
00:41:36.658 - 00:41:57.500, Speaker B: Is update our draw authority. Look for that. Okay, so this is the one authorize.
00:41:57.532 - 00:42:07.370, Speaker A: A new withdrawal signing key pair for the given vote account. And this one I believe is for. I don't actually know the difference between these two.
00:42:07.402 - 00:42:41.774, Speaker B: Let's check them out. Okay. Yeah.
00:42:41.814 - 00:42:52.114, Speaker A: So it does the same thing as the non checked one, except it does a check to make sure that the authority checking the new authority as a signer.
00:42:54.014 - 00:42:55.994, Speaker B: Has the ability to sign, I think.
00:42:57.774 - 00:43:21.434, Speaker A: So let's do this. Checked one. And let's see the order of operations here. We want to specify the vote account, the old key pair and the new key pair. You obviously need the old key pair here because, you know anybody in the world can do this. Only the people with the current key is allowed to change to a new key.
00:43:23.794 - 00:43:27.874, Speaker B: And that's pretty much all we need.
00:43:27.954 - 00:43:32.494, Speaker A: So I'm going to specify here the.
00:43:32.954 - 00:43:39.614, Speaker B: Load account, my current withdrawer, and then the new withdrawer. So.
00:43:41.354 - 00:43:47.346, Speaker A: This now to specify this, I always forget the command.
00:43:47.410 - 00:43:49.334, Speaker B: So I'm going to search for it.
00:43:50.574 - 00:44:07.554, Speaker A: You have to reference the USB of your unlocked ledger. So I have my ledger unlocked. I'm on the Solana app, so it should be all ready to go. Need to see the incantation that I need to use here.
00:44:08.854 - 00:44:56.874, Speaker B: Yeah, protocol unknown error, maybe I need to specify a key number. Maybe I need to specify a key pair. I don't know. I'm not sure what's going on here. Do this all one line.
00:45:00.214 - 00:45:05.514, Speaker C: He supposed to have a slash before that question mark. Is that like a Mac thing?
00:45:06.034 - 00:45:11.090, Speaker A: I think it's just because question mark on the terminal means it.
00:45:11.122 - 00:45:14.414, Speaker B: Yeah, means something, but I can remove it.
00:45:26.714 - 00:45:42.364, Speaker A: I don't know what's the issue here. So, yeah, for lack of understanding, I could mess a around with this better and ask around and then come to the next one with an answer. I'm not really sure why this is failing. And the error is very unhelpful.
00:45:42.664 - 00:45:44.564, Speaker B: Protocol error, unknown error.
00:45:46.024 - 00:45:48.204, Speaker A: So, yeah, let me get back to you on that one.
00:45:51.304 - 00:45:52.524, Speaker B: Get back to.
00:45:56.224 - 00:45:57.804, Speaker A: Yeah, it does seem quite weird.
00:45:59.734 - 00:46:00.022, Speaker B: But.
00:46:00.038 - 00:46:12.154, Speaker A: Yeah, other than that failure to demo, any other questions or thoughts or things that people want to bring up, we went way over my 30 minutes estimate, so. Sorry about that. I'll try to keep it shorter for the next one.
00:46:13.454 - 00:46:21.294, Speaker C: Do you recommend having different ledgers for, like, one for testnet and one for Mainnet or. One is good enough?
00:46:21.454 - 00:46:51.166, Speaker A: No, I don't think that's necessary. You could have, I believe, infinite keys with the ledger or enough keys where it wouldn't matter, I think as long as you set up the ledger properly. Right. You. You don't store the key, the backup key for the ledger, like in the cloud or somewhere that maybe is hackable. You write it down and you store it in a safe or somewhere. Somewhere else safe, like a safety deposit box.
00:46:51.166 - 00:46:52.434, Speaker A: Then you're probably fine.
00:46:57.394 - 00:46:58.650, Speaker C: Kevin asked another question.
00:46:58.762 - 00:47:02.894, Speaker A: Feel free to keep asking. You're the only one that seems to want it.
00:47:03.274 - 00:47:20.346, Speaker C: So when I was doing airdrop, sometimes it required me to sign a transaction afterwards, or I'd have to, like, copy something. So I would do an airdrop, and it'd be like, you need to. It was like, solana, confirm dash via the string or something. I didn't quite understand what that means, and sometimes it came up other places.
00:47:20.410 - 00:47:21.094, Speaker B: I just.
00:47:23.154 - 00:47:31.414, Speaker A: Maybe it was the unfunded account. We could try it. So let's make a new key.
00:47:39.834 - 00:47:40.122, Speaker B: And.
00:47:40.138 - 00:47:42.014, Speaker A: Then I'll try to airdrop that key.
00:47:47.894 - 00:48:11.294, Speaker B: Value. Other way around. Yeah. Amount and addressing happening the last couple.
00:48:11.334 - 00:48:13.958, Speaker C: Days, people have been talking about it.
00:48:14.006 - 00:48:17.674, Speaker B: I wonder if somebody's stealing it.
00:48:18.614 - 00:48:30.574, Speaker A: Yeah, somebody may have drained the faucet, although I thought it had a good amount of soul in it, so I don't know. But unfortunately that kind of blocks the demo because I don't know what the issue you're talking about.
00:48:30.694 - 00:48:31.954, Speaker B: Yeah. Okay.
00:48:33.614 - 00:48:38.528, Speaker C: If I figure out what example, maybe there's another one where it sometimes will pop up all.
00:48:38.726 - 00:48:41.384, Speaker B: I'll ping it on chat. Yeah.
00:48:41.764 - 00:48:54.900, Speaker A: The one issue, excuse me, that I was thinking about was that I'm not sure if airdrop doesn't or not, but if you transfer funds to a identity key that hasn't been funded yet, it'll give you a warning saying that.
00:48:55.092 - 00:49:16.306, Speaker B: Let's try that. I can't ever remember the order. That's the amount and then the address. Let's move on to test JSon.
00:49:16.490 - 00:49:24.374, Speaker A: So this test JSON has never shown up on chain before. So there's no account for it. When I make this transfer, it's going to complain saying that.
00:49:26.314 - 00:49:34.924, Speaker B: Did I do it backwards? Yeah, address that amount. Whereas the other one was amount, then address.
00:49:38.544 - 00:49:54.816, Speaker A: Yeah, it's going to complain saying the recipient address is not funded. You need to add this. Allow all unfunded recipient. That's just a protection in the case that you maybe accidentally copied the key pair wrong. You know, just to make sure you're not accidentally transferring to somewhere you don't.
00:49:54.840 - 00:49:56.044, Speaker B: Want to transfer it to.
00:49:56.844 - 00:50:29.844, Speaker A: So if I copy that, add it in, there's a question about why I use Mac terminal. It's what I'm used to, I guess, but happy to take suggestions for a better one. Any other questions or thoughts or maybe suggestions for the next one?
00:50:34.064 - 00:50:36.704, Speaker C: I'll ask you another question. This is valuable time, guys.
00:50:36.824 - 00:50:37.584, Speaker A: Yeah, sure.
00:50:37.704 - 00:50:42.976, Speaker C: That signature, what does it mean and what can, what can we do with it? Because I've seen it pop up.
00:50:43.120 - 00:50:43.400, Speaker B: Yeah.
00:50:43.432 - 00:50:52.454, Speaker A: So the signature is referring to the transaction that was created. So if you copy that signature, you can find it on soul scan.
00:50:55.474 - 00:50:58.374, Speaker C: Is it the signature of the transaction then?
00:50:58.754 - 00:51:00.634, Speaker A: Yeah, yeah. So let me.
00:51:00.674 - 00:51:05.418, Speaker C: Oh, that makes sense. I thought it was in signature like something was signed by something.
00:51:05.466 - 00:51:06.574, Speaker A: But this is the.
00:51:08.514 - 00:51:10.610, Speaker B: Okay, yeah.
00:51:10.642 - 00:51:14.154, Speaker A: So if I go over here and I change it to, to.
00:51:16.614 - 00:51:17.294, Speaker B: Maybe this.
00:51:17.334 - 00:51:20.554, Speaker A: Is, I thought there was a way to change it to testnet.
00:51:26.454 - 00:51:28.074, Speaker B: Yeah, there we go. Testnet.
00:51:29.054 - 00:51:56.764, Speaker A: So now I'm on testnet where that transaction happened. If I search for the signature, I'll get the signature of that transaction and I could see exactly what happened. I transferred, where was it? This is a system program for transferring. I transferred one soul from this account to that account. So it's useful anytime a transaction happens and you want to say, hey, I transferred this sole to you. Here's the signature of the transaction, for example.
00:51:57.424 - 00:52:01.240, Speaker B: Cool, good questions.
00:52:01.272 - 00:52:05.792, Speaker A: Yeah, I like it. If you're having it that question. Somebody else is probably having the question.
00:52:05.848 - 00:52:11.020, Speaker B: So I appreciate it. Cool. Yeah.
00:52:11.052 - 00:52:21.476, Speaker A: So, you know, any feedback or thoughts or ideas you have for the next workshop, please let me know. We're going to be getting into what's planned for next one.
00:52:21.540 - 00:52:35.774, Speaker B: I got to remember what I said. What did I say for the next one? Sorry. Let me go look at my notes real quick.
00:52:59.974 - 00:53:47.054, Speaker A: Upgrading, restarting your node and what to do if you fall behind was the plan. So if there's, you know, I'm flexible and I will probably be putting the lecture together a day or two before. If there's other topics you want to cover that you think be more beneficial. I looked through the feedback and the feedback was, you know, generally about some of these things, but, you know, the people who attended and were involved, I would take more weight on their feedback. So if you just dm me on discord or reach out some other way, I'm happy to help or take your feedback into consideration. If you want to have a meeting to talk through things, I'm always available as well. I'll throw it in the chat here.
00:53:47.054 - 00:54:02.320, Speaker A: You can book a calendly 30 minutes or not interview 30 minutes time slot for me or just dm me and let me know. But yeah, like I said, here to help. So let me know if you have.
00:54:02.432 - 00:54:12.488, Speaker B: Any thoughts, feedback, whatever. Cool. Anything else before we go. All right, well, hope to see you.
00:54:12.496 - 00:54:14.312, Speaker A: All next week and thanks for coming.
00:54:14.448 - 00:54:15.304, Speaker C: Thanks, Tim.
00:54:15.464 - 00:54:16.016, Speaker A: Thank you.
00:54:16.080 - 00:54:17.104, Speaker B: Bye. See you everyone.
