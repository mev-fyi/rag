00:00:00.240 - 00:00:31.494, Speaker A: Okay, welcome to the validator community call December 22. A couple things on the agenda today, so we're going to talk about some validator updates. Mentioned the core dev sync that happened last week. John from Solana Labs is here. He's going to talk a little bit about a vote program change that he's proposing or is up for proposal. The change would essentially limit when you can change your commission. So commission changes would only happen in the first half of epoch, not the second.
00:00:31.494 - 00:01:07.272, Speaker A: Then the marinade team, keeping in the same vein, is going to talk about commission cheaters that they've been monitoring lately and sort of a more sophisticated commission cheating scheme that they noticed, and some hopeful mitigation steps to stop that. And then also a new validator dashboard that they've been working on. So let's get started. No new validator updates really for Mainnet. 113.5 is still the recommended version. There was a call to get 5% of stake onto 100 1410 and it looks like we are over that.
00:01:07.272 - 00:01:39.508, Speaker A: So at the moment we don't need any new stake on 114 ten. Thank you for all those that did upgrade early and monitored there. So yeah, not much change in Mainnet for Testnet 114 eleven is now recommended upgrade whenever there's less than 5% of stake. As usual, that's delinquent. I also wanted to shout out Zantetsu there. Looks like the vote credit proposal document was backwards. 114 eleven, so slowly but surely making progress.
00:01:39.508 - 00:02:14.574, Speaker A: I know he's been putting in a lot of work and getting comments from different people on the code. I just want to shout out the work he's doing. Any questions on updates for Testnet or Mainnet? Let me open the chat. Nope. Okay, the core engineering call. Sorry, I should rename this. It's, I think, going to be called the core engineer sync that happened this past week on Friday.
00:02:14.574 - 00:03:01.458, Speaker A: The call is on YouTube if you want to review it. There's also a Twitter recap thread that is up there from Soul Blaze, so another place to check it out. The call should resume in the new year. I haven't seen any talk of doing the call next week and a lot of people in labs and foundation are out right now, so I anticipate it'll be next year. As far as the content for the call, you can rewatch it or check the Twitter thread. The content for the first call is mainly about how we're going to work together and more about process than any specific SIMD proposal. But we also touched a little bit on how Simd's work and what a Simd is.
00:03:01.458 - 00:03:25.214, Speaker A: So if you're curious, check it out and more to come in the near future. Okay, so yeah, now I want to kick it off to John. He's going to talk a little bit about this vote program proposal that I mentioned. The GitHub issue is here that sort of gives a summary of it, but John will talk a little bit more detail about it.
00:03:27.554 - 00:04:23.484, Speaker B: All right, thanks Tim. So yeah, pretty much, if you've been following that issue, I think we'll post it also in the validators channels on Discord, probably MB validators to discuss it a bit more. It's a pretty simple proposal to try and address commission cheaters in a it's not a perfect way, but it will sort of limit the damage that they can do. The whole concept is we only allow commission updates in the first half of an epoch, and then in the second half it'll just get not allowed. So this means that people who for the most part will just up their commission right at the end of the epoch, get their rewards and then immediately take it back down at the start of the next epoch. They won't be able to do that. However, they still would be able to increase their commission at the halfway point of the epoch, let it ride through for a day or however long that takes, and then at the start of the falling epoch, after they get their rewards, they can bring it back down.
00:04:23.484 - 00:05:03.844, Speaker B: So they have a bit of a smaller window to target. This isn't the perfect solution. The sort of perfect solution is the one that Trent alludes to at the bottom, which is we make room in the actual vote account in order to apply a future commission. So you would update it, for example in epoch 370, and then it would only take effect in epoch 371. I really like that approach. However, it requires making changes to vote accounts, making changes to the vote account struct is just complicated and laborious. So the idea is that this sort of half epoch change can be rolled out extremely quickly.
00:05:03.844 - 00:05:41.394, Speaker B: Like you can see the changes in the code, it's only like a few dozen lines to make that change. We can backport it to 1.14. So once that hits mainnet we just enable it immediately, and then that way it limits how long or the window in which people can do damage. We're planning on enabling this. We were having a bit of a discussion about it, not entirely sure about it, but it might be easier just to bring this through with a single contributor. So it would be myself enabling this feature on the network. I think it might be such a slam dunk that people are quite happy with this.
00:05:41.394 - 00:05:56.084, Speaker B: If you have any issues with that, now is the time to bring it up. Or if you have any issues with the approach, or if you don't think this is a great idea, please, we can bring it up now. We can also talk about it over discord, but that's pretty much it.
00:05:58.184 - 00:06:30.104, Speaker A: Great. Thanks, John. Any questions or thoughts about the proposal? So Zen Tetsu says, if you're going to update the vote state, is it a good time to add additional features akin to what the vamp program has, like voluntary commission limits and voluntary commission changes per epoch limits? Um, could help the foundation who probably like. Yeah, yeah. So for the delegation program, it would also be nice to have that, to limit it to 10%. But John, what do you think?
00:06:30.924 - 00:06:55.282, Speaker B: So, yeah, I mean, we can, we can consider all of those changes. I thought that your change was going to the timely vote credits, was actually going to change the vote state, and we were going to do it at that point. But that is, I think, a separate conversation that we can absolutely have. I don't think it's related to the specific proposal that we're talking about, because here we're just talking about the one way to fix it. All right. Yeah, go ahead, Zantetsu.
00:06:55.458 - 00:07:49.714, Speaker C: Yeah, I mean, I'm happy to coordinate on, you know, changing the vote state is a real pain, as probably imagine, because it actually changes persistent storage values and the representation thereof. So, yeah, probably we, if we're going to make changes, and my change requires making a change to the vote state, then coordinating on that. So that, I mean, this kind of goes against. I know what, what Trent would like, which is that changes are as minimal as possible and are spread out so that all the risk isn't taken at once. And yet changing the vote state is so onerous that doing many changes at one time might just smooth out a lot of the complexity. And so therefore, we should probably coordinate on any changes that have to, you know, happen so that they can have it all at once. And that's why I suggest if there are other additional features that are, that need vote state changes, it might be a good time to at least make room for them.
00:07:50.334 - 00:07:50.758, Speaker A: Yeah.
00:07:50.806 - 00:07:51.670, Speaker C: So that's all.
00:07:51.782 - 00:08:07.078, Speaker B: I completely agree 100%. It's funny, it's been over a year that I think we first started talking about this. Like, widening the commission would also be a great thing. Right. Right now, just having a percent kind of sucks. You want to be able to give yourself a little bit more. Maybe we should go to basis points.
00:08:07.078 - 00:08:28.126, Speaker B: So instead of it being just one byte, we do two bytes, like pretty simple things that I think would be a huge win. So, yeah, I completely agree. We should coordinate all those changes. I think we've got. We, I hope we have like a little wish list of all the things we've wanted to do on the vote program. We can just get them all out. Calm you.
00:08:28.126 - 00:08:49.203, Speaker B: What about a tenderman style solution? Max percentage change for 24 hours? Yeah, that would also be a good one, considering this is also a limitation. Based on the way the current vote structure is, we could eventually incorporate both so that you have a maximum change and you also have a delayed change. So I think this is an absolutely great idea.
00:08:53.103 - 00:09:05.404, Speaker A: So just to throw in a bit of timing there, the idea is to do this as something that can get in, maybe relatively quickly in this release, and then the changes you're talking about are more down the line, right?
00:09:05.784 - 00:09:17.604, Speaker B: Yes, exactly. Yeah, that's a great way of putting. Yeah. So this is a change that can get into 1.14 immediately, super quickly, no breaking changes. Whereas I think any vote state changes would have to go into 1.15.
00:09:19.584 - 00:09:24.764, Speaker A: Makes sense. Let's see what people are talking about.
00:09:25.064 - 00:09:47.814, Speaker B: Auto unstake. If commission changes with the ability to cancel unstake on the user's end, but that require more work. That would require a ton more work. It would be, gosh, that would be extremely complicated. You would have to do a runtime change where at Epoch boundary, you look at what the last commission was, what the new one was, and then unstate. It would be such a big breaking change. I unfortunately don't think that'll be possible.
00:09:47.814 - 00:10:27.438, Speaker B: Also, I think it's okay for people to change commission. Right. If you're staking with someone that you really like, and they decide that they need to increase their commission by 1% in order to make ends meet, whatever it might be that I think in a lot of good faith situations is acceptable, freeze their commission until a certain netback. Yeah, we could come. That would probably be done through a separate program, I would say. I think just on the actual vote protocol level, we probably need to gate it for at least one epoch, if not two. We'll figure.
00:10:27.438 - 00:11:13.730, Speaker B: We can figure that out once we start making changes to the vote structure. But yeah, if you wanted to freeze, if you wanted to freeze the commission for some amount of time, you may want to do it through that, where something like a vamp program could be really good. Min commission for all validators, we've talked about this before. It's not a super, I know, a lot of people have opinions about this min commission on validators just mean it just sets another lowest bar. And then people can also say, like, oh, yeah, even though the minimum is 2%, maybe they'll refund some of the commission that they get to all their stakers. So it makes it look like 0%. So there's always weird ways around that.
00:11:13.730 - 00:11:34.594, Speaker B: So a min commission I don't think would really solve anything specific to the idea of gating these commission changes. Does anyone have any reservations about it?
00:11:41.214 - 00:11:44.194, Speaker A: Yeah, maybe we continue the conversation and be validators.
00:11:45.174 - 00:11:45.558, Speaker D: Oh, yeah.
00:11:45.566 - 00:11:48.262, Speaker B: If I've gone over my time, we can definitely take attend b validators.
00:11:48.318 - 00:11:55.164, Speaker A: No, no more just like, so that the audience widens. But I don't see a lot of objection.
00:11:57.184 - 00:11:58.440, Speaker B: Okay, well, let's take it there.
00:11:58.472 - 00:12:01.604, Speaker A: Either way, additional suggestions?
00:12:08.704 - 00:12:12.404, Speaker B: Yeah, I can give over the rest of my time if we're, if we're good on this.
00:12:15.344 - 00:12:34.604, Speaker A: Yeah, sounds good. Thanks. John and I will go back to the presentation. One sec. Okay. So continuing with commission changes and commission cheaters. Right.
00:12:34.604 - 00:12:58.994, Speaker A: It's been a topic of late that people have been either changing commissions at the end of the epochs or raising commissions without a lot of notice. So Marinade has been working on a way to detect this a little bit better and has some ideas on it, as well as a validator dashboard that they're working on. So I'll turn it over to them to continue the talk.
00:13:00.974 - 00:13:37.282, Speaker E: Okay. Hello, guys. I'm LJ from Marinate. I take care of our delegation strategy, and as you can probably hear, I'm quite sick, so I hope I don't lose my voice in the next five minutes. But we also noticed some of the cheating with the commissions, since everyone here probably understands how inflation rewards work. I will go into detail, but those 500 million sol that we have in Solana make up for about 200,000 sol per epoch in rewards. And those rewards go to valerators, who usually would split in any way they choose.
00:13:37.282 - 00:14:48.004, Speaker E: If they are stakeless, we see something like 10% to the validator, 90% to the staker, or 100% to validator. Normally, if it's a private validator, it makes sense if they do not plan to attract any other stake. Now, the problem that was mentioned before is that they can change it at any moment to any value commission. So how to do it if you want to get all the commissions is you set low commission, attract the stake, and then you increase the commission to 100% at the end of the epoch, thinking no one will notice, and once new epoch begins and you have collected your rewards, you can again lower the commission and then repeat until you get caught. And no one stakes a few anymore. Well we are tracking changes from less or equal to 10% to more than 90%. I will just give you a little time to think about how many validators do this regularly.
00:14:48.004 - 00:15:33.444, Speaker E: We will present data for epochs 379 to 385. That's like six epochs. So is it like one, is it 1000? Well, it's between 40 and 50. Depends on how we look at the data. And they offer some, you know, pretty hefty chunk of stake and they get lots of rewards. So if you extrapolate these six epochs to a month, it's 15,000. So stolen from the stakers compared to Marinade, I think we have currently about 2000 sol income per month.
00:15:33.444 - 00:16:33.920, Speaker E: So you know, I would say this is quite a lot. So how to track this, for example, validators app and us and stake this? Or we would take a snapshot every now and then, like every minute, it will check the commission and see what happens after the commission changes too quickly. For example within 20 seconds at the end of epoch. With this current job, we wouldn't be able to catch it. This is done by about ten to 20 validators per epoch. In the last three epochs it's done by eight, five and two validators only because we finally started to punish them a little bit. These quick changes are no longer that popular, and luckily we got the get inflation reward RPC method, which fortunately returns the effective commission at the end of epoch.
00:16:33.920 - 00:17:51.528, Speaker E: So we can at least react retrospectively and blacklist the validators, which is what Slanov foundation now does. I think because Ella updated the scoring system on Solana foundation side, the power address app also tracked this and I believe also make some changes to take this into consideration. But more importantly how to fix this, because well, we brought some attention to this problem we made issue a month ago or two months ago, that basically now is transferred to this new issue that was presented before this presentation. And unfortunately it will mean that we will stake all the stake from Marinade will be received after a longer period of waiting. Because if it's expensive for evaluators to run node with no relegation, they will not be incentivized to make these hacks. We discussed all this before, so I will not go into detail. And of course stakers can use this is some advertisement for us can use the staking pool.
00:17:51.528 - 00:18:36.218, Speaker E: So the risk is a bit split. And this by the way is the list of cheaters unique cheaters between those six analyzed epochs. Now it's way longer and just a small trend here. This is how many validators we see running in epoch with less or equal to 10% commission and how many validators run with more. So you can see there is some trend being seen. New guys or validators who want to exit Solana chain also do this. It's not just about changing on the boundaries, it's just, okay, sold prices too low.
00:18:36.218 - 00:19:13.544, Speaker E: I want to go out of Solana completely. So they just set the commission to 100% and wait and get at least those last rewards. On our end, we decided to build some new dashboards that will help this action of this. This is like we released, I think, yesterday, and we have, like, more things planned. But you know how it goes with development. So we only got to do this small thing. For example, with the cheater, you can see the commission changes and how they try to rack us.
00:19:13.544 - 00:19:29.104, Speaker E: I will show you more of the Valerie trashboard, but I think that you should browse it in your own time. Thank you for the time, and I will pass the word back.
00:19:32.044 - 00:19:41.984, Speaker A: Thank you. There's some questions in the chat for you. I think one of them is sort of the distribution of these cheaters. Are they repeat offenders or are there a lot of unique operators?
00:19:42.604 - 00:19:53.434, Speaker E: Yeah, we see about ten new cheaters every epoch that we have to blacklist. So, yeah, there's quite a lot of new every time.
00:20:00.174 - 00:20:05.070, Speaker A: Great. Yeah, it looks like Santetsu has a question, too. Go ahead, Zen.
00:20:05.182 - 00:20:24.866, Speaker C: Yeah, it wasn't really a question. It's just that I noticed that you mentioned that you're going to have a one month period before validators can get stake. And then when you describe it, you were almost apologetic. I don't think you should apologize. I think that's actually a really good strategy. I mean, validators should at least show some amount of commitment before they should get staked. So I don't think you should feel bad about that.
00:20:24.866 - 00:20:27.054, Speaker C: That's my moment. That's all I was going to say about that.
00:20:27.714 - 00:20:49.514, Speaker E: Well, thank you for the input. We are going to change delegation strategy basically from scratch. And we also think that this should be the case that validators have to prove themselves. But also, it's difficult, at least with the sole price as stands now. And we would like to show support to smaller validators, even at these times. But it's difficult.
00:21:00.294 - 00:21:01.154, Speaker A: Go ahead.
00:21:01.454 - 00:21:36.968, Speaker C: Yeah, one more thing. It's about the change to 100% as a way of exiting your validator entirely. I mean, it's a tricky issue because if, if you just shut down it's the same, it's worse for the network because you won't be putting blocks in your slots and it's the same effect on stakers. On the other hand, you're basically taking commission. That would if you shut down then the stake rewards wouldn't be paid out at all and all the rest of the validators would I guess get a little bit more. So you're stealing from the network, not from your stakers at that point. So I think it's a little tricky.
00:21:36.968 - 00:22:04.044, Speaker C: I've made this point before. I think the real problem is setting 100% when you've made a clear promise that you would never do that is very different than as a matter of operations that you're going to shut down and you just set 100% and saying everyone leave, I'm setting 100% and I'm quitting. I just want to point out that to me they're philosophically very different and I don't know that we should work to try to make it impossible to set 100% when you're shutting down your validator. But you know, that's all I want to say about that.
00:22:06.744 - 00:22:25.604, Speaker A: Yeah, I agree. I think there's legit use cases where you know, if you give people enough notice and you let them know I'm shutting it down, saying 100% seems like a good way to write out the leader schedule without, you know, just hurting the network. LT, go ahead.
00:22:26.864 - 00:23:05.384, Speaker D: No, just, just saying that, yes, you can do it as long as the staker has some time to get out. So the problem is that you can do this at the last slot of the epoch. So this is a generic problem. I don't know if we can fix it at the protocol level. I understand that it's not easy, but it's, let's say it's a problem in general, not only for people that want to go because you can make a change to your stakers without them having time to react. That is what shouldn't happen in any case.
00:23:07.764 - 00:23:20.984, Speaker A: Yep. I think the proposal that John was talking about was hopefully intended to address that. So if you have any thoughts or reservations, please add them to that GitHub issue. Go ahead Blake.
00:23:22.024 - 00:23:43.404, Speaker F: Yeah, I think there were changes talked about, I don't even remember where it was, but where you can actually unstake people who are staked to you, like a validator will have control of that. And I thought that was being talked about as a way to, in the future you can shut down your validator by forcing people who are staked to you to become unstaked and then shut down cleanly.
00:23:45.024 - 00:23:50.452, Speaker A: Yeah, I know that was talked about. I'm not sure if that's coming up or not.
00:23:50.588 - 00:23:51.824, Speaker F: Yeah, I'm not really sure.
00:23:52.524 - 00:23:54.984, Speaker A: John maybe has more insight there, if he's still on.
00:23:55.764 - 00:24:16.304, Speaker B: There's no, there's nothing for that in particular. The only thing that does exist is the way to de stake delinquent validators. So this doesn't address the idea of hurting the network, because the way to do this is you would have to shut down, go delinquent, and then have someone else or have anyone de stake all your stakers. And that kind of stinks. So we have to come up with a different method for that.
00:24:17.544 - 00:24:25.644, Speaker A: Yeah, I believe that works after six epochs of delinquency too. So not really. At that point you're hurting the network for a bit.
00:24:28.944 - 00:24:29.256, Speaker E: Yeah.
00:24:29.280 - 00:24:47.594, Speaker F: There was a lot of discussion about being able to force, force unstake people who are delegated to you. I don't even remember what the context was of that, but it sounded like it was being talked about seriously. But I didn't see like an ETA or I'm not aware that it's in progress.
00:24:48.894 - 00:24:52.914, Speaker A: Yeah, I think just an idea that's been kicked around, but nothing substantially yet.
00:24:53.374 - 00:25:04.686, Speaker B: I think this is something vines was talking about a little bit ago, I can't remember when on MD validators, because it almost seems like we do need a way to do that. But then how do you do that without censoring your stakers?
00:25:04.830 - 00:25:05.754, Speaker D: It's tough.
00:25:08.394 - 00:25:10.146, Speaker A: Sentence, you go ahead, but.
00:25:10.170 - 00:26:16.314, Speaker C: Why do we need a way to do that? I mean, stakers have a responsibility to watch their stake. And I can understand saying, oh, if you're going to change your commission in the last five minutes and no one could respond, well, at the very worst they lose one $8 worth of rewards, which is like 1% of what would be a yearly rewards payout. So it's not even a huge risk for them, even if the staker does at the last minute, as long as they respond within one epoch, which is a day, it's more insidious when they flip it forward and flip it back, because then you have to be watching different metrics to see that that happened versus just going and checking your validator and looking at their information page and seeing they still have the commission you expect. So I can understand wanting to change the commission rules so that that becomes a lot harder, if not impossible, but preventing people from setting commission 100% when they want to quit or forcefully de staking because we don't like how we want to make choices on behalf of stakers. I don't agree with that personally. I think that instead stakers just, we need to make it easy for stakers to be aware of what's going on and we need to educate. But forcefully de staking is not something I personally would, you know, would accept.
00:26:16.314 - 00:26:21.814, Speaker C: Except in the case of six epochs of delinquency. That seems reasonable. That's all I want to say.
00:26:24.634 - 00:26:32.354, Speaker A: Great, thanks. Could the commission be attached to stake account? What do you mean by that?
00:26:33.454 - 00:26:51.634, Speaker E: Well, I mean like if you stay with someone who has 10% commission, why not set the commission to the stake account so it earns rewards based on the 10% commission? And if someone in the future changes the commission, new stakers come in, then you know they will use the new commission.
00:26:53.214 - 00:26:58.454, Speaker A: I see. Yeah, maybe John, to answer that, I imagine it'd be pretty complicated.
00:26:59.674 - 00:27:27.864, Speaker B: I mean it's possible, but I don't think it's, I don't think that's the right solution. Because then pretty much it makes it impossible for a validator to increase their commission. Like if you've got it doesn't address the issue of like, okay, I've got lots of stakers with me on my validator. All of a sudden my operating costs change or something like that. I need to increase my commission. Then there's really no way for me to do that, right? Unless I tell everybody, hey, please unstake and restake with me. But I don't think that'll happen.
00:27:31.244 - 00:27:42.144, Speaker A: Yeah, I'd imagine it gets into some weird scenarios too, where like the majority of your stake is on a 0%, so then you're kind of financially stuck. There could be hard.
00:27:47.264 - 00:28:04.604, Speaker B: And going back to Zan's point, actually, I see what you mean, that it sucks to forcibly de stake somebody. But then what is the solution with inattentive stakers and a shutting down validator? How does the validator shut down with inattentive stakers?
00:28:05.784 - 00:28:15.340, Speaker C: Well, like I said, the six $8. Like if you've been down for six $8, then having a four C stake in that situation, totally reasonable. And that's what you guys have implemented. I think that's, that solves that.
00:28:15.372 - 00:28:19.236, Speaker A: Right, sorry.
00:28:19.380 - 00:28:24.184, Speaker C: It does take six epochs, so it's not perfect, but there's probably no perfect solution.
00:28:24.604 - 00:28:29.304, Speaker B: Yeah, that might be the case. Because like then you're still hurting the network for six epochs as you go. Delinquent.
00:28:35.404 - 00:28:50.062, Speaker F: What is the objection to just like forcing people to unstake from your validator. I guess I don't understand. I mean, if you're shutting it down, I guess I wouldn't see any problem with you just saying no and just like unstaking them and turning it off.
00:28:50.238 - 00:29:22.190, Speaker C: So the only thing I can say is that I wouldn't like the idea. I mean, I like stakers feeling confident and secure, and them knowing that I could de stake them is just one more worry they have to have. Not that there's any rational reason that I would ever do that, but stakers are very cautious about this stuff. They're often worried about what can the validator do to me? And this is a thing the validator could do to them. And I personally would not want to introduce that because it would create that level of uncertainty on stakers behalf. Otherwise, it's reasonable. I mean, it's not like anyone of us would do it in an unreasonable way.
00:29:22.190 - 00:29:29.474, Speaker C: I don't think like you're only hurting yourself and yet it's just the fear that it might put into stakers minds, I suppose would be my criteria.
00:29:41.954 - 00:30:13.352, Speaker A: All right, any other thoughts, questions? No? All right, well, thank you, Marinade team, and thank you, John, for joining. Super good discussion today. The call should be up shortly, so I'll let you all know when that's up. And the next call, as a reminder, will be the late one. So in January it'll be at the 11:00 p.m. Pacific time instead of 11:00 a.m. All right, thanks, everyone.
00:30:13.352 - 00:30:14.404, Speaker A: See you next time.
00:30:15.944 - 00:30:16.884, Speaker F: Thank you.
00:30:18.224 - 00:30:19.524, Speaker D: Thank you. Bye bye.
00:30:20.104 - 00:30:20.624, Speaker A: Thanks, everybody.
