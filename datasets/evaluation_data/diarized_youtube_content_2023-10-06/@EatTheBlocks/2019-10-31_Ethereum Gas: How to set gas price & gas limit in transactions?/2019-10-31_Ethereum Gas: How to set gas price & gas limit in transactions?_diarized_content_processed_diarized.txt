00:00:00.250 - 00:00:25.170, Speaker A: Hey, this is Julian and you are on idoblox. In this video we're gonna see gas parameter. In Ethereum transactions, we're gonna see gas price, gas limit, and how to set them. So in the last video, I told you that the gas cost in ether is equal to this equation. Well, I lied. Actually, it's slightly more complicated than this. There is another parameter that is called gas limit.
00:00:25.170 - 00:01:02.618, Speaker A: Gas limit is a parameter to limit the amount of gas that you spend in a transaction. For example, if you have a transaction that becomes crazy and that would potentially wipe out your Ethereum account. Well, with gas limit you can set an upper limit and you're protected. So in Ethereum transaction, there are two parameters related to gas, gas price and gas limit. And when you send a transaction, you need to set them. So how are we going to do this? Let's start with the gas price. So to set gas price, the first method is to use a website called eastgastation info.
00:01:02.618 - 00:01:34.938, Speaker A: Eastgastation continually monitors the blockchain and calculate what is the gas price that is generally accepted by miners. And it gives you three recommendations for gas price. Safe, low, standard and fast. So if you want transaction to be mined really fast, you have to set your gas price to ten guay. And they say that it's going to take less than two minutes. If you set six guay, then it's going to take less than five minutes. And if you really don't want to spend any money, then you can set your gas price to one.
00:01:34.938 - 00:02:10.082, Speaker A: But in this case you can expect your transaction to be mined within 30 minutes. So the more you are in a hurry, the more you have to pay. And it also gives you an estimation in dollar for a simple transfer. For example, if you send transfer to another address, then with the Safelow recommendation, it's going to cost you this. Otherwise it's going to cost you two cent something, otherwise almost $0.04. In any case, all the figures that you see here depend on market condition. So when you have a look at east gas station, the recommendation probably would have changed.
00:02:10.082 - 00:02:48.318, Speaker A: So there are some other interesting info on this website. So let's check the menu. And here there is a calculator. So with this calculator, you can estimate how long it's going to take you to mine a transaction for a custom gas price. So here if I check other, I can put the gas price that I want. For example, what if I send my transaction with a gas price of 20 gwe and then instead of a standard transaction, 21,000 gas. What if my transaction is 100,000 gas, so I click on submit and here it's going to give you me a prediction.
00:02:48.318 - 00:03:34.378, Speaker A: So it says that it should take two minutes to confirm my transaction and my transaction fee in dollar is going to be this. So this little tool can be quite handy if you're doing some gas optimization on your contract and you want to make sure that no function execution use up too much gas. And the last thing I want to show you is the API of Isgas station. So you can see it here. So this is a very simple API with a single endpoint, and it's going to give you the same gas price recommendation I showed you before, but with an API. So you know what, we gonna try this API. So I'm gonna go to my terminal and I'm gonna curl their endpoint.
00:03:34.378 - 00:04:00.850, Speaker A: So you don't need to create any API keys. It's very easy to use and it sent me this. So here you can see different recommendations. So if you want transaction to be mined fast, then you put this gas price. Then if you want your transaction to be mined even faster, then you put this 1200 way and safe flow. This is the minimum gas price that you should put. Otherwise transaction won't be mined.
00:04:00.850 - 00:04:22.078, Speaker A: And the average is this. And if you want to know how long it's going to take you with this different recommendation, then on the documentation of the API they tell you so fast is recommended fast, expected to be mined within two minutes, fastest is 32nd, et cetera, et cetera. So this API is really convenient. Another way to calculate your gas price.
00:04:22.164 - 00:04:25.366, Speaker B: Is to use the Getgas price method of Webstery.
00:04:25.418 - 00:04:41.170, Speaker A: So you just need to call Webstery East Getgasprice and it's going to return the average gas price in the last few blocks. All right, so that's it for the gas price. So next we'll see how we can calculate the gas limit parameter. So we can do this very easily.
00:04:41.250 - 00:04:44.038, Speaker B: With the estimate gas method of web three.
00:04:44.124 - 00:05:35.622, Speaker A: So it's very similar to a regular call. So first you need to instantiate a contract object, then you reference the methods key, then you reference your method, then you give it as argument the parameter you want. And then instead of calling the call method, you call the estimate method and it's going to return an estimation of how much gas your call is going to take. Keep in mind that this is just an estimation because by the time you actually send your call to the network, the state of the contract might have changed and so different code path might be executed inside your smart contract. So this is one way of using the estimate gas function, but there is an other way which is not as convenient. So if you access this method with Webstery ease, so you need to build yourself a transaction object with Webstery ease. Send transaction so this is a little bit lower level.
00:05:35.622 - 00:05:39.058, Speaker A: So I prefer to use the other form of estimate gas.
00:05:39.154 - 00:05:42.174, Speaker B: So that's it for the estimate gas method of Webstree.
00:05:42.242 - 00:05:43.974, Speaker A: So Webstery is not the only library.
00:05:44.022 - 00:05:46.346, Speaker B: To interact with a smart contract and.
00:05:46.368 - 00:06:20.006, Speaker A: In a truffle framework. Instead we use truffle contract. Truffle contract automatically estimate the gas necessary for a transaction and fill the gas limit parameters of your transaction. So you don't need to manage this yourself. So by default this autogas feature is turned on, but if you want, you can turn it off. If you are using metamask in your DaP, it's important to know that metamask automatically manages gas price and gas limits behind the hood metamask called get gas price and estimate gas method of web three. So this is very convenient and you don't have to manage it yourself.
00:06:20.006 - 00:06:47.260, Speaker A: By the way, if you're interested in gas, you are probably also interested in solidity. And I've prepared a very short email course where I give you all my secret tips for solidity so you can get it for free. Just follow the link in the description. All right, that's it for this video. In the next video we'll have an interview with the creator of one click dap that will explain you how you can create very cool project on Ethereum. Thanks for watching. See you for the next video.
