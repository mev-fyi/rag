00:00:00.250 - 00:00:18.782, Speaker A: I'm looking at a unison B three contract for Ef USDC pool. From the contract, the price of EF can be calculated by looking at this variable called square root price x 96. So in this video, I'll explain how to calculate the price of Ef from that variable. Square root price x 96.
00:00:18.836 - 00:00:20.366, Speaker B: Hey, this is Julian just popping up.
00:00:20.388 - 00:00:21.198, Speaker A: Here for a second.
00:00:21.284 - 00:00:30.440, Speaker B: We have a very special Black Friday offer running now. Click the link. The description this is a limited time offer to become a blockchain developer in 2023.
00:00:34.810 - 00:01:15.218, Speaker A: Here's the formula for how to calculate the price of beef in terms of USDC. It is equal to one over p times ten to the twelve where p is equal to the square of square root price x 96 divided by q 96, where q 96 is equal to two to the 96. This is the formula that you can use to calculate the price of e in the e USDC pool. But if you notice here, there is a multiplication by ten to the twelve. So where does this ten to the twelve come from? Most of this video will focus on where this ten to the twelve comes from. For this video, we're going to be using the USDC weft pool. And this is the address of the contract deployed on the main net.
00:01:15.218 - 00:01:45.598, Speaker A: And at the time when I made this note, the price of e is 1296 USDC per e, which I got from coin gecko. Okay, let's begin. First of all, what is p? We'll say that x is equal to token zero and y is equal to token one. These are the two tokens in the Unisoft B, three pools. Then we'll say p. The p that you see over here is equal to price of x in terms of y. In unisoft B two, you take the amount of tokens and you divide those amounts and you get the price.
00:01:45.598 - 00:02:08.918, Speaker A: However, this no longer works. In unisoft B, three, in unison B three, you can get the price. And from the price you can derive the amount of tokens that are locked in the contract. Let's take a look at an example. We'll say that x is USDC and y is equal to wef, and then we'll say p is equal to the price of USDC. In terms of e. P is equal to y divided by x.
00:02:08.918 - 00:02:44.866, Speaker A: And let's say that this is equal to one. E is equal to 1296 USDC. Since e has ten decimals and USDC has six decimals, this will be equal to one times ten to the 18. E has 18 decimals. So one e is equal to ten to the 18, and 1296 times ten to the six. Since USDC has six decimals and one USDC is equal to ten to the six, we can cancel out the powers of ten. And we are left with one divided by 1296 times ten to the twelve.
00:02:44.866 - 00:03:37.582, Speaker A: Using a calculator, this is roughly equal to zero point 77 times ten to the twelve. Okay? So we calculated that p is equal to zero point 77 times ten to the twelve. But what does this number mean? How do we interpret this number? Well, what this number is saying is that one unit of USDC is equal to zero point 77 times ten to the twelve units of e. One unit of USDC is equal to one over ten to the six. So one over ten to the six USDC is equal to zero point 77 times ten to the twelve. And one unit of e is one over ten to the 18. And we can simplify this part, and this part will be equal to this decimal number times we have a ten to the twelve and then we divide it by ten to the 18.
00:03:37.582 - 00:04:11.230, Speaker A: So what we're left with is ten to the minus six. Now, notice that I have over here one over ten to the six. This is equal to ten to the minus six. And we also have a ten to the minus six over here. And we can cancel these two out. And we can now say that one USDC is equal to zero point 77 e. P equals zero point 77 times ten to the twelve.
00:04:11.230 - 00:04:40.962, Speaker A: This number means that one USDC is equal to zero point 77 e. If you wanted to buy one USDC and you had only eth, then this is the amount of ef that you'll need to pay. So this is the price of USDC in terms of beef. But what we're interested in is the price of beef in terms of USDC. So what we'll need to do is flip p to one over p. Let's take a look at an example. Let's go over example of price of eth in terms of USDC.
00:04:40.962 - 00:05:05.358, Speaker A: Price of USDC in terms of eth is equal to p. So to get the price of eth in terms of USDC, we'll need to flip p and we get one over p. P is equal to y divided by x. So one over p is equal to x divided by y. Let's use the same number as the example above and say 1296. USDC is equal to one e. Again, one USDC is equal to ten to the six.
00:05:05.358 - 00:05:40.166, Speaker A: So we multiply 1296 by ten to the six, and one e is equal to ten to the 18. So we multiply one by ten to the 18. We can simplify the powers of ten and we get 1296 times ten to the minus twelve. One over p is equal to 1296 times ten to the twelve. Again, let's answer the question what this number means. This number is telling us that one unit of e is equal to 1296 times ten to the twelve units of USDC. One unit of e is equal to one over ten to the 18.
00:05:40.166 - 00:06:42.090, Speaker A: This is equal to 1296 times ten to the minus twelve units of USDC. One unit of USDC is equal to one over ten to the six. We can simplify this part of the equation and we get 1296 times ten to the minus twelve multiplied by ten to the minus six. That will be ten to the -18 so this will be ten to the -18 now again, I see a ten to the -18 over here and a ten to the -18 over here, and these two can cancel out. So what we're left with is that one e, one e is equal to 1296 USDC. So let's say that the price of e is 1296 USDC, and we calculate one over p to be equal to 1296 times ten to the twelve. What this will mean is that one e is equal to 1296 USDC.
00:06:42.090 - 00:07:25.798, Speaker A: But how do we calculate the price of beef starting from square root price x 96? This is the variable related to the price of tokens stored in unison. B three. Contract. What is square root price x 96? Square root price x 96 is equal to the square root of p times q 96, where q 96 is equal to two to the 96. So to get p, you would divide square root price x 96 by q 96. And then to remove this square root, you would square the term on the left and you get that p is equal to the square of square root price x 96 divided by q 96. Let's use these equation to calculate the price of beef.
00:07:25.798 - 00:07:53.458, Speaker A: Let's find the price of beef from square root price x 96. P is equal to the price of USDC in terms of beef. So to get the price of beef in terms of USDC, we'll need to compute one over p. Price of beef is equal to one over p. And from this equation above, one over p is equal to one over this part of this equation. I'll copy it and paste it here. Square of square root of price x 96 divided by q 96.
00:07:53.458 - 00:08:40.546, Speaker A: Okay, so let's go over an example of this. When I made this note, square root price x 96 is equal to this big number and to get the latest square root price x 96, you can go over to the unisoft b three pool contract and then under slot zero, find the variable called square root price x 96. Let's first find p by computing the right term of the equation. So this will be equal to square root price. X 96 is this big number divided by q 96, and q 96 is equal to two to the 96. And then we'll need to square this term and we square this term and that is equal to p. Using a calculator, this turns out to be p is equal to this number in green.
00:08:40.546 - 00:09:16.346, Speaker A: Okay? So once we know p, we can also compute one over p. One over p is equal to one over this number. So I'll put it here. And using my calculator, this turns out to be 1.296 times ten to the nine. Now recall that from the example above, remember that we said that one over p means that one unit of eth will cost 1296 times ten to the twelve units of USDC. So going back down one over p, this is the price of one unit of eth and one unit of eth is one over ten to the 18.
00:09:16.346 - 00:10:09.758, Speaker A: So to get the price of one e, we'll need to multiply this number by ten to the 18. Price of one e is equal to price of one unit of e, which is equal to one over ten to the 18 times we're going to be buying ten to the 18 units of eth. This price is in units of USDC, so we'll need to divide by one USDC and this is equal to 1.296 times ten to the nine that you see over here times ten to the 18, that is the amount of beef that we're buying divided by ten to the six. Since ten to the six is equal to one USDC and this is equal to we have a ten to the 18 up at top and we have a ten to the minus nine and minus six. So that is -15 so we're left with 1.29, 618 -15 is equal to three.
00:10:09.758 - 00:10:45.698, Speaker A: So we're left with 1.296 times ten to the three, which is equal to 1296. So this means that the price of one e is equal to 1296 USDC per eth. Now notice that this part in green is equal to one over p, and this ratio of ten to the 18 over ten to the six is equal to ten to the twelve. So in this video, I showed you how to get the price of e from square root price x 96. And I also showed you that the price of eth in terms of USDC is equal to one over p times ten to the twelve. This ten to the twelve comes from the difference of the two tokens.
00:10:45.698 - 00:10:52.220, Speaker A: E has 18 decimals and USDC has six decimals. 18 minus six is equal to twelve.
