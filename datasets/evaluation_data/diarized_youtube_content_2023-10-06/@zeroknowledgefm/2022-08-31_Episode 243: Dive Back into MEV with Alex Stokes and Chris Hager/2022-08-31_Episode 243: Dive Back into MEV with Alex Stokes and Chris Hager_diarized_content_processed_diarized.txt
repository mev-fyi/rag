00:00:05.450 - 00:00:53.914, Speaker A: Welcome to zero knowledge. I'm your host, Anna Rose. In this podcast, we will be exploring the latest in zero knowledge research and the decentralized web, as well as new paradigms that promise to change the way we interact and transact online. This week, tarun and I revisit the topic of mev with guests chris Haggar from the Flashbots team and Alex Stokes from the EF. This is not the first time we're covering mev on the show. Over a year ago, we did an episode with the Flashbots Team looking at mev that was much more of a primer and something I recommend listening to before this one. If you want to find out just generally what mev is, I'll add the link to that in the Show Notes.
00:00:53.914 - 00:01:44.090, Speaker A: In this particular episode, we're going to be teasing out more of the nuances around mev and look at how the field has evolved since that last episode. We explore how the mev space could look like after the Merge, the concept of PBS or proposer builder separation, what each role in the mev landscape actually does and will do, as well as what the mev boost architecture looks like. We touch on future ideas around mev and democratization of rewards. We talk about the work that Tarun recently released on Mev, how tornado cash sanctions affected the project, and cryptographic solutions that might be able to prevent some kinds of mev. This was a really nice, deep dive, and I think it brings us up to date on this important topic. Now, before we kick off, I just want to let you know about two initiatives happening in our community right now. The first is the ZK Whiteboard Sessions.
00:01:44.090 - 00:02:19.286, Speaker A: This is a new series of educational videos that we're releasing weekly, and they're focused on the concepts and terms that we talk about on the ZK front. This is a great place to start learning about Zero knowledge proofs. If you don't fully understand what we're talking about in that context, check it out. This was produced by Zkhack in collaboration with Polygon. I'll add the link to that in the Show Notes and join our discord. Let us know what you think. I'm getting a lot of really good feedback on it, and I'd love to hear from you if there's some topics or concepts that we are missing that you think we should cover in order to help you better learn what's happening in ZK.
00:02:19.286 - 00:02:42.494, Speaker A: The second thing I want to highlight is the ZK Jobs board. Right now, there's a fresh batch of open roles from ZK focused projects posted there. So if you're looking for a job or if you just want to understand what teams are looking for, this would be a great place to check it out. Also, if you're hiring, be sure to add your job to the ZK Jobs Board today. So now I want to invite Tanya to share a little bit about this week's sponsor.
00:02:42.622 - 00:03:20.554, Speaker B: Today's episode is sponsored by Polygon. Introducing polygon zke EVM we all know that Ethereum needs to scale, and Polygon believes that zero knowledge tech is the best way forward. Polygon's vision for Zke EVM is simple. Developers can seamlessly deploy any Ethereum smart contract to a layer two and benefit from the scaling power of ZK proofs. It's also permissionless, meaning anyone can use it and open source. Polygon zke EVM was built by Polygon, but it's for anyone who wants a cheaper and faster way to use Ethereum without sacrificing security or decentralization. They will be releasing a public testnet soon, which will be an opportunity to test their work and make improvements.
00:03:20.554 - 00:03:33.010, Speaker B: If you'd like to learn more about Polygon Zke EVM and stay up to date on the latest, then fill out the form in the show notes. So thank you again, Polygon. Now, here is Anna's dive back into mev with Alex Stokes and Chris Hager.
00:03:36.790 - 00:03:45.814, Speaker A: Today. We're here with Chris Hager from the Flashbots team and Alex Stokes from the EF. We're going to be diving back into the topic of Mev. I want to say welcome to both of you.
00:03:45.932 - 00:03:47.814, Speaker C: Hi, Anna. Great to be here.
00:03:47.932 - 00:03:52.300, Speaker D: Yep. Hey, Anna. Great to be here as well. Excited to talk about Mev today.
00:03:52.670 - 00:04:01.082, Speaker A: Nice. Tarun is joining us today to co host this episode. So. Welcome back, Tarun. It's been a few months since you've been on, so I'm happy to have you.
00:04:01.136 - 00:04:09.470, Speaker E: Hey, what's up? It's been a laconic summer. I feel like the last time I was on the show, everything was blowing up in the world and now it's sort of chilled out.
00:04:09.540 - 00:04:17.778, Speaker A: Has it? I think in the ZK Space, like, the last two weeks have been our whirlwind, but we'll get to that in a second.
00:04:17.864 - 00:04:23.166, Speaker E: Yeah. I feel like that's the only thing where there's been any kind of big drama.
00:04:23.198 - 00:04:23.394, Speaker D: Actually.
00:04:23.432 - 00:04:26.502, Speaker E: No. Mev Land has had a lot of drama as we'll talk about today.
00:04:26.556 - 00:05:22.054, Speaker A: Anyway, yeah, very cool. So last year, I actually did an episode on Mev with James Prestwich. We interviewed Phil and Alex from the Flashbots team. I actually re listened to that episode before doing this one, and I was kind of amazed at how little I understood about the concept back then and how I hope I feel like I definitely have been following it much closer since then. I feel like generally as an ecosystem, I feel like people understand it better nowadays. And so I'm very excited to do this interview where we're going to dive back in to maybe tease out some more nuances about the Mev space, look forward at what's coming down to the pipeline and also, obviously, talk about kind of the latest drama focused very much on tornado and ZK stuff and privacy and how this impacts things like mev. But I think before we do that, I'd love to learn about both of you.
00:05:22.054 - 00:05:26.200, Speaker A: So, Alex, why don't you tell us a little bit about what led you to work on this problem.
00:05:27.550 - 00:06:09.238, Speaker D: Oh, boy. Okay, so I've been working on Know all about ethereum for quite a while now, and I think my entry into the space was research at this Know several years ago into proof of, you know, I'm sure everyone listening is aware of the merge that's about to happen. So that's all very exciting. You, Anna, giving your experience of Know, I had this movie concept, and I feel like I didn't quite understand all the implications. And then now there's so much more and there's just this thread you can keep pulling. I feel like that mirrors my experience a lot. Where I heard about mev, there's all the work the flashball team has been doing for a year or so now.
00:06:09.238 - 00:06:57.086, Speaker D: And either way well, yeah. So where I first entered into mev being relevant and important was for consensus. I don't know how much we'll get into it today, but essentially, if you think about it, when you add blocks to the chain, some of them have mev. And this mev changes the incentives around extending the chain versus reorganizing the chain and things like this. And yeah, again, I don't know how much we want to get into that, but the point being is that actually there's very deep profound implications for security of blockchains when mev exists. And then you start thinking about this and you realize mev is everywhere and it always exists, and it becomes yeah, at least for me, I've just become obsessed with first answering the question, what is AMEV? And then also understanding security implications for these systems that we use.
00:06:57.208 - 00:07:00.120, Speaker A: Cool. What time frame was that? When did you join the project?
00:07:00.490 - 00:07:45.742, Speaker D: So I've been in the EF for four years now. And again, my entry was way back when I just started sort of contributing in open source capacity on early versions of now we have the merge, let's move it to proof of stake. In the early days, there was even an idea to do sort of this, like, Casper finality gadget on top of the proof of work chain and even manage all the validators within a smart contract. So it was like, a very interesting idea, and we've come very far in our thinking around how to do this. But, yeah, that was sort of my initial intro into things. And, yeah, this is the most interesting thing I can certainly find, and hopefully, you know, it there's some very good benefit from it. So here I am.
00:07:45.742 - 00:07:47.270, Speaker D: Keeps me engaged.
00:07:48.250 - 00:07:57.078, Speaker A: What you just said, this is like, a little aside, but was that finality gadget meant to deal with mev? I actually never understood it that way.
00:07:57.164 - 00:08:21.742, Speaker D: Well, I mean, again, this will probably be my party line, is that mev is everywhere and it's always applicable. But I don't know. That's the thing. Even back then, we didn't even really have this term, mev. Right. I think people understood that. You could, for example, have Dex arbitrage and that could have implications for how people were building blocks and how the chain was formed and stuff like this.
00:08:21.742 - 00:08:37.910, Speaker D: But it definitely wasn't thought about as this almost abstraction that we have. Whereas very much, at least for me, the way I think about it is you put blocks on the chain and the blocks have mev sort of hanging off of them. And this is very important, again for security because it changes the incentives very drastically.
00:08:38.250 - 00:08:43.480, Speaker A: Got it. All right, Chris, let's find out about you. What led you to work on this project?
00:08:44.730 - 00:09:42.362, Speaker C: I started at Flashbots about a year ago, 13 months. I was previously active in blockchain for a number of years with decentralized exchanges, doing open source tooling for some Ethereum projects for the Neo blockchain and others. Then I was doing an extended parental leave. And after that, like right in the middle of my parental leave, there was this whole development of the Mev papers and flashboards bringing up solutions to the gas wars and other problems. And I was looking for new interesting things to work on. And started digging into Ethereum reorgs and writing some reorg monitor software that keeps track of ongoing and reorgs in deep detail. And so the paths of my projects and Flashbots aligned and we started collaborating more.
00:09:42.362 - 00:09:45.126, Speaker C: And then I started full time on flashboards.
00:09:45.158 - 00:09:46.122, Speaker A: Then cool.
00:09:46.176 - 00:10:30.938, Speaker C: First I was working on flashboards Protect and more of the user facing mev protection products. And then at some point we just needed manpower on Mavboost and our PBS work streams. And I was happy to start there and really got very deep into it and very excited about it. And it was just at the right time when all the Mev Boost specifications were co developed with the Ethereum Foundation and the consensus client teams. And this was a very intense half a year so far for me, diving deep into Mev Boost and all the implications and other projects around.
00:10:31.104 - 00:10:45.600, Speaker A: Cool. You've both just mentioned mev. Boost. What is that versus what was being built before? What's different about mev boost. Or is it just the formalization and the kind of the naming of what was being built before?
00:10:45.970 - 00:12:06.130, Speaker C: So before or the current Ethereum One setup, it's Flashbots is sending bundles to miners and other parties, sending bundles to miners, and the miners assemble the blocks in Ethereum Two. It's different in the sense that the proposers, the validators, they run the consensus client software and they fall back to a local execution layer software like GEF or Nethermind or other to produce the blocks. And they can reach out to Math Boost relays to provide blocks for them, but they do not know the contents of the block. So the transactions, they are removed and the proposers have the choice of signing this block for a certain value that the relay is claiming this block provides. And after the signature, the proposer receives the block content for proposal mapboost here is just a small piece of open source infrastructure that runs on the proposal server, that is a relay multiplexer. So Mavboost is capable of connecting to many relays and asking many relays for possible blocks and providing the best to the proposer.
00:12:06.290 - 00:12:13.980, Speaker A: Okay, cool. But in what you just described, is this being built primarily for the post merge or is this something that's already being used today?
00:12:14.430 - 00:12:16.970, Speaker C: It's exclusively for Ethereum Two.
00:12:17.120 - 00:12:23.918, Speaker A: Okay, so it's only being used currently on the testnet mode. Okay, so it's not live yet.
00:12:24.084 - 00:12:48.718, Speaker C: Yeah, exactly. I mean, another way of putting it is it allows connecting to an external builder network to receive blocks from other parties, outside parties and the proposers, the validators not being trusted. So that's why design the blocks blinded without the transactions, so they do not steal the transactions. Basically the mev from the transactions from searchers.
00:12:48.894 - 00:12:49.438, Speaker A: Okay.
00:12:49.544 - 00:13:33.614, Speaker D: Yeah. And so I think Chris gave you a nice overview of mevboost and what this software is today. And maybe this will be like a helpful arc for just this episode generally, because I would like to provide some more context that this is like an implementation of this thing called PBS proposer Builder. Know this technique is, I mean, again, it's what Chris said right? There's this external builder network and proposers validators in this merged. They, you know, are the ones tasked with making the blocks, getting the blocks out to the network. All of this and all this talk about PBS that we hear is just recognizing the fact that mev is a thing kind of what I said a second ago. There will always be mev.
00:13:33.614 - 00:14:32.134, Speaker D: Mev is like a reality we must deal with. And so because of that, we say, okay, are there things we can do to manage or mitigate some of the externalities of MVP? And there certainly are at all layers of the stack, honestly, from people using Wallets to these more like infrastructure providers chris mentioned the relays to all the way to the validators doing their job. And what we'd like to do is say, okay, because we can likely have all these mitigations and ways to help the situation generally, we can then ask, okay, can we take some of those into the protocol? And that's where I think we'd all like to go some years down the road towards an enshrined PBS solution. And today this is part of what Flashbots is doing, is saying, okay, we're not going to put this into the protocol anytime soon. And so instead let's do essentially off chain solutions. That gives us room for experimentation and yeah, just time to gather more data and see how these systems behave. And then that's I think ultimately what we're all trying to build towards.
00:14:32.332 - 00:14:32.934, Speaker A: Cool.
00:14:33.052 - 00:15:11.122, Speaker E: One thing I think that might actually be helpful for listeners who haven't heard about PBS before is maybe walking through the sort of verbally the sequence diagram of how, say, block producers aggregate transactions, then relay them to a proposer. Then the proposer picks kind of the highest bid. Because I think that would kind of make it a little easy to see why you need sort of this infrastructure for managing many builders in the future. I guess I just mean like the person who maybe for the first time is hearing about this might not even know that what the design space looks like.
00:15:11.176 - 00:15:11.730, Speaker D: Right.
00:15:11.880 - 00:15:16.114, Speaker E: And I think part of that comes from what the sort of queries that are made are.
00:15:16.152 - 00:15:16.558, Speaker D: Right there's.
00:15:16.574 - 00:15:31.450, Speaker E: Like the users submitting a transaction to block builders. There's a block builder submitting a block via different relayers, maybe kind of going through what the things are that make this kind of a complicated problem might be a good thing for listeners.
00:15:32.110 - 00:15:57.070, Speaker D: Right. So we have thrown all these terms around so far, right? There's like Proposers validators relayers builders. There's the users who are using the system. There's like all these actors. And searchers, right? Searchers, exactly. So there's all these actors in what's becoming a very sophisticated ecosystem. And maybe it's helpful then just to walk through sort of this pipeline.
00:15:57.070 - 00:16:45.322, Speaker D: Some of the Flashbots team members have been working on this mev supply chain diagram, which I think is really helpful framing for understanding the different actors and kind of how these pieces fit together. So on the one end, you have users who are us using the chain. Let's say we want to make some Dex trade, so we go do this in a pre Flashbots world, let's say, when we don't have this infrastructure for this thing that kind of looks like this PBS, this Proposer builder separation. I just broadcast my transaction to the whole world, right, the public min pool. And this is well, it's many things. It's very exciting at least because now there are specialized actors like Chris mentioned called Searchers. And Searchers are these, again, very specialized, sophisticated players in the world.
00:16:45.322 - 00:17:17.754, Speaker D: And all they want to do is try to find mev. They do this because they can actually collect the mev themselves. So it's essentially some reward for their drug, their work, and they do this. So with my Dex example, there could essentially be like this arbitrage that the Searcher is going to do. One example is like if I have my trade and I take, say, a unisop pool at a balance, the Searcher can come and back run me and basically restore the balance of the pair. This is like the mev they could take.
00:17:17.952 - 00:17:28.058, Speaker A: Is this Searcher a bot that's built by a unique, like an individual or is this like a tool set that's provided by the Flashbots libraries?
00:17:28.234 - 00:17:32.482, Speaker D: Right, I think a mix of both. Chris can probably say more.
00:17:32.616 - 00:17:42.450, Speaker C: Yeah, but it's mostly individuals or small companies that run bots that submit these transactions to the flashboards infrastructure which routes it to the builders.
00:17:43.110 - 00:18:08.314, Speaker A: Okay, cool. I do want to throw back to another episode in case anyone's curious about this kind of stuff, which is I did this episode with the Dialectic folks, project Blanc Propshop, and they kind of explained what it was to be the bot maker. I don't know if they're making this kind of bot, but just that gave me a lot of context into what the action of a lot of this stuff actually looks like. Anyway. Sorry, Alex. Continue.
00:18:08.432 - 00:18:47.800, Speaker D: Well, right, exactly. So, yeah, there are like you talk to Dean and his team and this is know some of the work they do is they are one of these searcher teams, searcher, like however you want to think about it, but essentially, again, yeah, they write software and the software looks at the public mempool. So that's sort of where I was in the Arc is we now have a transaction in the mempool. And these searchers, it could be individuals, but usually they're teams who have these bots, this automated software that watches the mempool. And it's like, okay, I have the current Ethereum state. And given all the transactions I see right now, maybe one of them emits some mev. And then what I want to do then is make my own transaction that captures this mev, perhaps for myself.
00:18:47.800 - 00:19:31.406, Speaker D: Again, the design space of what happens to the mev is quite big, but that's a much future conversation. Either way, the searcher then would try to collect this mev. And this is now like where Flashbots entered the scene is what happens is when we have the situation as I just described, you have many people competing for this mev, right? So you now have all these searcher teams all over the world. It becomes highly competitive. And before Flashbots, the way that you would do this is you would essentially need to outbid everyone in the public mint pool. And with Ethereum today, what that means is you end up with, I think believe Christmas mentioned gas wars. And what that looks like is I declare I'll pay X to get my mev extracting transaction on chain.
00:19:31.406 - 00:19:57.358, Speaker D: Someone else sees that and they turn around and make their own transaction because they want the mev. So then they say, well, I need to out bid you to get on chain. So they'll bid a little bit more. Right? And then now I can turn around and do the same thing. And then the other person does the same thing. Right? And then now you have these wars where literally what happens is if the size of the maybe opportunity is say like this much ETH, someone will bid in the limit. They bid that much ETH minus just a little bit because otherwise they wouldn't get anything.
00:19:57.358 - 00:20:53.950, Speaker D: And this is again one of these externalities that we've been talking about because now let's say I separately want to go vote on some Dow proposal. The gas is suddenly through the roof for the whole mempool, right? And that's bad. So Flashbuds came onto the scene and said, hey, we can start to build things that look like this PBS infrastructure we'll keep talking about today. And a lot of what that did was say, okay, for searchers who want to do this type of thing, there's now this essentially off chain auction that provides them access to block space almost separate from this public mem pool. And by doing that, you sort of silo, you firewall off the gas games that searchers can play. And yeah, there's a ton more benefits that I'm sure Chris could get into, but essentially by doing so you hope to reduce this situation where the gas is suddenly spiking. For users who otherwise might not care about this searcher biding more, they can just use the chain as they would otherwise.
00:20:53.950 - 00:21:15.666, Speaker D: And this idea of firewalling this activity off is helpful because it's like, this is sort of like the design primitive of PBS. This is what we aim to do is do this sort of thing. If there are these externalities that the protocol sort of generates, then what we hope to do is push them to a place where we can control them or at least reduce the onsites.
00:21:15.778 - 00:21:24.938, Speaker A: Just one question, is the searcher the proposer as well? Or is it like that split that you're talking about between proposer builder? Where does the searcher come in?
00:21:25.104 - 00:21:54.146, Speaker D: Right, so you have searchers and then the next step. So now we have searchers and searchers have found these opportunities. There's this word bundle we'll probably keep using Chris mentioned where essentially the idea is to extract the mev. This way you need to have a certain sequence of transactions. And so with Ethereum you basically can submit one transaction. That's like the primitive that you have with the protocol. So if you need to have a sequence of things, then you need to have a bundle, which is just many transactions in a particular order.
00:21:54.146 - 00:22:35.460, Speaker D: So anyway, searchers do this, they then make these bundles. The bundles go to these actors called builders. And the distinction here may blur over time, but essentially they're distinct jobs. The thinking is that searching is so competitive that these are very specialized sort of activities. So there'll be searchers that specialize in just arbitrage or just liquidation or well then there's like the long tail of all sorts of things. But you can imagine that you get these teams of people that are very focused on one very type of thing. They're not going to also be very good at, say, building full blocks, which is what the builders in this mev boost or this PBS world do.
00:22:35.460 - 00:23:10.038, Speaker D: So now you have builders. Builders are making full blocks. Maybe they're taking a collection of bundles they get from different searchers. They're filling the rest of the block with, say, just regular transactions from a public min pool, which could be whatever. They don't necessarily need to be MVV transactions, just whatever's out there. They've now built a full block. Now we get to the namesake of proposer builder separation, which is now the builder has built a block and they have to get this to the proposer, right? So you have to be a special sort of actor within the protocol to actually propose or include a block in the chain.
00:23:10.038 - 00:23:32.590, Speaker D: These are the validators. The way ethereum is structured is every so often there's a slot which is just a chunk of time. There's one validator per slot that is the proposer. They and only they can seal the block. They can sign it in cryptographic signature way in a special way. Only they know how can they seal the block and then make it available for inclusion into the chain.
00:23:32.750 - 00:23:38.406, Speaker A: And then once it does that, then you have some percentage of validators that have to approve it.
00:23:38.508 - 00:24:04.058, Speaker D: You're not wrong. So basically the way to think about it is that there's one validator every slot. I use this word slot. So there's one validator every slot who can propose a block. And then essentially we can get into the details if you want. I don't think they're super relevant. The way to think about it is that we then want literally every other validator to basically attest or they should produce some proof that they also think this block should be in the chain.
00:24:04.058 - 00:24:42.518, Speaker D: And you've talked to other quote ETH two people we've moved away from this terminology by the way. I have to insert the plug. But if you talk to the consensus people, this is what we say is that you have validators attesting to the chain. Again, for other technical reasons that are important. It's like sort of blocked sort of chunked up into groups of validators called committees. But point is that, yes, you produce a block and then for it to be given sort of weight in the chain as being canonical over another one, you then have everyone else attest to the block.
00:24:42.614 - 00:24:42.970, Speaker A: Cool.
00:24:43.040 - 00:25:04.302, Speaker D: And if you imagine this sort of like, I don't know, maybe like a zipper or maybe a better analogy is like having something kind of like freeze. Like if you imagine there's like an ice cube with a puddle and then it freezes towards you have this process of finality that runs along the chain. And we're looking at the details of it in some detail right now.
00:25:04.356 - 00:25:21.442, Speaker A: Nice. I do need to do an episode on post merge ETH soon because I can tell I'm rusty on this. I'm very much in like the Cosmos tendermint model still. So I'm always thinking like two thirds of the existing anyway. But with so many validators, I understand it's possibly being done differently.
00:25:21.586 - 00:25:28.578, Speaker D: There's different trade offs we've made in the design space. And yes, I'm sure you could have a whole episode just on that alone.
00:25:28.674 - 00:25:29.446, Speaker A: Sounds good.
00:25:29.548 - 00:26:22.186, Speaker C: And I want to say it's a brilliant overview of the whole PBS implementation here. And Mafboost is kind of a stopgap solution towards full PBS that takes a few years probably until it's actually ready. And the Mapboost approach is something we can have right now and we just can deliver that at the merge. One missing piece here is the relay that we haven't talked about. So the Block Builder can also be a relay in itself, being a relay means providing the Builder API. There is an ethereum foundation repository called Builder Specs that defines a certain API on how the proposer reaches out to a Block builder or a relay to receive, to request a block and then submit the signed block and then receive the payload. And a relay is nothing else.
00:26:22.186 - 00:27:11.370, Speaker C: It's only implementing this API. And it can be only for one included Block builder. Or it can be a relay that accepts blocks from many block builders and only provides the best block to the proposer. Or maybe a block based on certain preferences. And Map boost on top of that is a way to connect to many of these relays as one proposer. So the proposer needs to configure specific relays that it trusts to receive the blocks from, because there is certain trust needed towards the relays, because they can, for instance, withhold the payloads, which leads the proposer to missing the block proposal. So there is a certain amount of trust needed from the proposer to the relay.
00:27:11.790 - 00:27:21.654, Speaker A: Does the mev boost actually make something faster, more accurate, cheaper? I'm just curious, what's the actual tangible impact?
00:27:21.782 - 00:27:41.742, Speaker C: It's just a relay, multiplexer relay. Like the consensus client. You can hook up any consensus client to any single relay. Not all of them do the signature verifications, but you can hook them up to a single builder. And Mapboost is just a piece of software that allows the proposal to use many relays.
00:27:41.886 - 00:28:10.270, Speaker E: I guess I had a question in terms of registration, like DNS style, how does a relay register? And is there some sort of notion of a registry? I guess I'm thinking of this from the perspective of when I have this sort of P to P network, like, say, like academia type of thing, right? You still have to sort of effectively do some peer discovery. Is there like a specialized peer discovery protocol here for relayers to register?
00:28:11.010 - 00:28:44.786, Speaker C: Well, there was a strong argument against these registries because the proposers should know exactly which relays they want to trust and to configure, so they are configured manually. So the proposer, in its Beacon client software, beacon Node software, configures a relay by a domain and a public key of the relay and ensures that all the bits delivered by this relay are signed with the proper key. So right now, a proposer needs to trust and manually configure each relay.
00:28:44.978 - 00:29:15.234, Speaker E: Do you envision that changing if suddenly you end up in a world where there's fewer proposers, but like a larger set of block builders? Because you could imagine that proposers might actually miss out on quite a bit of revenue if. They actually are unable to find all the block builders. I'm giving this as more of a hypothetical, but it is something that even at every single layer, one faces this challenge of how do you do peer discovery amongst nodes? And I was just curious if you think at some point that that will be important.
00:29:15.352 - 00:30:02.062, Speaker D: So builders are very incentivized to make themselves known, right? Like if builders cannot reach proposers, then they can't do anything. But yeah, I mean, to your Trune, like, I would hope that we move more in this direction where, well, there's a number of things we can hope to achieve. But yes, like Chris was saying today, this is a very sort of static manual process. Everyone involved would love to see a very sort of open permissionless ecosystem for each of these different roles I just described. And then you can imagine as we build that out, what that looks like is, yeah, there is some sort of peer to peer discovery protocol. We're a big fan of using gossip in different places. And then you could imagine, right, like, I want to come online as a relay or a builder, and then I'm like gossiping, some registration, and hopefully that starts to move towards this world.
00:30:02.062 - 00:30:46.314, Speaker D: That's not okay, go to Flashbots relays, flashbots. Net and figure out where the relays are and this sort of thing. But again, it's like, to my understanding, Flashbots is saying, okay, there's this very important thing we need to do, which is have some PBS solution and Medboost is that thing. And so the question is like, how can we do that in the next month? They've been working on it for much longer than that, but at this point the question is like, what can we do? And I think they've made the right decisions to this point and saying, okay, let's build it this way or that way. With the idea being to have something ready. And then everyone I know is very much ready for the next step, which is starting to decentralize more and more of these pieces.
00:30:46.442 - 00:31:16.230, Speaker C: Yeah, just a note here that ethereum health and chain liveness is our top priority. And it's important for us to align the current steps towards that because there is some security implications of adding additional relays or just letting relays include themselves to the proposers because there are certain verification capabilities that need to be developed for that to be totally safe. So that's another topic that we maybe touch on later.
00:31:16.380 - 00:31:49.918, Speaker E: Yeah, for sure. I guess the one question maybe, given that you mentioned liveness here, is suppose I'm an ETH validator and I initially had mev boost turned off because I took the OFAC list too seriously or something, and then I turn it on later. Should I expect extra latency or bandwidth requirements for me that are quite dramatic relative to running a stock validator, I'm just like, how much beefier do I need my setup to be for running it reverse?
00:31:49.934 - 00:32:19.740, Speaker C: Not at all. Like the bandwidth is two requests to the relay, one to get the header and one to submit the sign block and receive the full payload. And the size is at most a few hundred kilobytes once per proposal. And the delay, you can configure your maximum allowed relay delay in Mapboost, but the flashboard is really responsive in milliseconds and I think even a few seconds is still on the safe side.
00:32:20.270 - 00:32:28.080, Speaker A: I wanted to ask who's running the mev boost? Is that the validator? It's the proposer who's actually using this tool.
00:32:28.610 - 00:32:34.938, Speaker C: Yes, this is just a small slice of software that runs next to the beacon node to the consensus layer client.
00:32:35.034 - 00:32:52.150, Speaker A: And then I have another question is like would the Validator actually be running different parts of the stack? Would they also be running a builder role? Would they be doing a relayer? I'm just trying to figure out would it make any sense for them to actually run more than just their Validator plus mev boost?
00:32:52.890 - 00:33:34.418, Speaker C: It's conceivable that large staking pools would be interested in running their own relays just for more control, maybe more data visibility and other things. But for solar stakers it's not a realistic option because it includes a lot of infrastructure and also trust from the block builders and the searchers because they trust the builder and the relay with the plain text transactions that contain the mev extraction and that they want to profit off themselves. It will be hard for small actors to basically build profitable blocks that are comparable to the bigger release and kind.
00:33:34.424 - 00:33:46.230, Speaker A: Of like one more thing on what you said, Alex, on merge day. Is this all in place? Like those different roles being distinct in the way you've described them or is that still sort of theoretical?
00:33:47.530 - 00:33:57.466, Speaker D: No, I mean I would say they're in mean we definitely have Validators and there will be proposers then. And then the question is, right will.
00:33:57.488 - 00:34:00.170, Speaker A: There be who are the builders, I guess.
00:34:00.240 - 00:34:39.094, Speaker D: Right, well, okay, so this is a good question. I think it is early days for this mev boost ecosystem and yeah, I think it's TBD as to exactly how it evolves. And that's part of the fun. There are a number of organizations that have committed to being relays. I think they might all build blocks as well. And again, kind of like I was alluding to a second ago, I think everyone involved envisions this more decentralized network eventually where you can have permissionless building, right? So you could have just specialized builder actors that are here and then that's where they do need the relays to connect to the proposers. And yeah, maybe just taking a step back.
00:34:39.094 - 00:35:47.950, Speaker D: The reason we go to all this trouble in the first place is to support these smaller Validator actors. You can imagine just foregoing this entire network and just having one huge builder organization directly connected to one huge staking pool or some validator organization and they just do this and this may happen. We'll see how things shape up. But we definitely have this very core value in Ethereum that validation, for example, should be within reach of most users, right? At least we should strive towards this ideal because it helps decentralization. So we do this and then given the previous claim that there are these returns to scale with mev, mev extraction and all of this, and then consequently larger pools are best positioned to do this well, we want to ask, okay, can we help these smaller stakers that we want to sort of support in this way? And this is why I think we have the decisions made for Mapboost and like PBS broadly are for exactly. This is like we want anyone to be able to have these mev opportunities access to them, right, regardless of the scale of their staking operation.
00:35:48.690 - 00:36:06.470, Speaker A: We talked about this on the episode of Dean and I think we talked about it on the previous episode, which like this idea of accelerationism, like here you're saying this is going to happen anyway. Let's make sure it's not just the big players who have access to this thing. Does this still follow that philosophy, would you say? Is that kind of what you're angling for?
00:36:06.540 - 00:36:50.750, Speaker D: Certainly, yeah. I mean, accelerationism is a very interesting word, but I think there's certain things where it's not clear what the best options are. Here's the thing. If we perfectly understood how to solve mev at the core protocol layer, we would just have a protocol hard fork that does this. We would just sort of ship and shrine PBS. There are a number of questions that I don't think we have answers to, in part because I think we just need more experience, more data of just observing the landscape. It would be silly to pick one particular version of this design and then what happens is no one uses it or there's some backdoor loophole that sort of harms the integrity of what we're trying to accomplish.
00:36:50.750 - 00:37:01.990, Speaker D: So, yeah, I think we'll see. And in the meantime, yeah, it's just sort of saying, yeah, what's the best we can do before we can answer those questions? And Map boost is like a great step in that direction.
00:37:03.210 - 00:38:00.490, Speaker A: I want to ask you about sort of general opportunities once there is this move to proof of stake. When it comes to mev. I mean, I think I've already sort of alluded to some of them where it's like validators running extra roles you've alluded to it basically like new ways that they could improve what they're doing, maybe even access some of these funds. But I feel like I've heard and I don't know if this is actually something you're working on, but this idea that if you look at mev in a POS system, if you start to incorporate some of this or enshrine it or put it into protocol? Could you actually democratize some of the mev or give it out more to validators in a more even way rather than having these sort of unique prop shops who can invest all that time to do a lot of this work that's gathering a lot of it. Is that actually something you're thinking about? Is that possible? I've literally just heard it, I don't actually know if it's doable.
00:38:00.830 - 00:39:13.150, Speaker D: Anything is possible. Okay, you're touching on a very big topic. I think the way that the researchers in this space would refer to it as mev smoothing. So the idea is right there is mev like mev exists and now the question is like what can we do? And one thing we've kind of touched on is the fact that it provides these sort of economies of scale where if you're good at extracting mev, that's like some extra revenue you can use to improve your staking operation. You then have these large pools because obviously this compounds and then that harms decentralization. So we want to ask okay, as crypto economic researchers, can we again mitigate that situation, try to make sure it doesn't get there? What can we do? And an obvious sort of intuition is what you said. Anna is just okay? If there is this mev and people can take it for themselves, is there a way we can almost sort of smear it across everyone else? The whole value set so that you then don't have this at least as sharp of a return to scale on your yeah, and this is kind of what I mean when I say there's a bunch of open, I think, research questions around how you'd actually want to do PVs in the protocol.
00:39:13.150 - 00:40:23.346, Speaker D: But yeah, at a high level the idea is you could imagine that if there's so much of me being a block rather than that go directly to the builder or the proposer there'll be some split between them. But rather than all go to just these singular actors you can again put it in the sort of protocol escrow or something. This is very much like if people are familiar with 1559, the transaction mechanics on Ethereum today, there's like this base fee that's burned and a way to think about that is like the protocol is taking the base fee and it turns around then and burns it. But that's choice, there can be other choices, at least broadly speaking. And so this is a similar thing where with mev smoothing you would have this ability to say okay, rather than pay out the mev directly, the protocol takes it and then does something with it and there's a whole design space around what that something is. But yeah, it's a very interesting question and I think people would like to see it come to the network at some point because it does seem to reduce. For example, we've talked about reorgs and so you can imagine that if you can reduce the burstiness of mev.
00:40:23.346 - 00:40:58.658, Speaker D: Because the way to think about it is that mev is not smooth. This is why we want to smooth it out. It could take until, for example, an Oracle update on chain for there to suddenly be this huge liquidation opportunity. And that could only happen once every, say, 100 blocks. And what that means is that if you're extracting mev, then on that 100 block, you care very much about getting your transactions on chain. Right? And so instead, we could imagine smoothing this out and making the whole process more democratic in that sense. And by doing so, you reduce the incentives to, for example, try and reorg this liquidation out, things like this.
00:40:58.658 - 00:41:02.482, Speaker D: I believe Troon actually just had a paper on this. I don't know if you want to.
00:41:02.536 - 00:42:10.842, Speaker E: Plug yeah, yeah, for sure. Thanks. I guess in general, it's very hard to design these things without this concept of off chain agreements, of why wouldn't people collude off chain to avoid kind of the tax in some sense? Because you could view this redistribution as maybe if there's someone who's a searcher and also a proposer, they may view that as an individual, as a form of a tax. But assuming you can find a way of doing it, and so that will require cryptographic solutions as well as economic solutions, it's not like obvious exactly what the best way of doing it is, assuming you have that. This paper just shows sort of this thing that you can avoid these really bad equilibria where people just unstake all of their assets and go earn yield elsewhere. But also you can have a lower inflation rate, and so you can actually have lower block rewards if you redistribute mev. And so assuming there's like, a sufficient quantity and there's a way of quantifying that.
00:42:10.842 - 00:42:38.786, Speaker E: But that part was actually, I think the more surprising thing is that, hey, maybe this is an alternative to having a super inflationary schedule to keep people staking. And so, wow, I think that's part of the design space that I think will probably be explored. But first we need to actually have cryptographic solutions that will make it so that it's expensive enough for you to kind of cheat in these systems. Interesting, which it's not right now, at.
00:42:38.808 - 00:42:48.306, Speaker A: Least, is this something we want is a lower inflationary schedule? Is that something that one should aim for as a protocol designer?
00:42:48.418 - 00:42:52.662, Speaker E: Have you ever seen the ultrasound money meme? I feel like that's the entire thing.
00:42:52.716 - 00:43:25.234, Speaker D: Is about doing that there's demand out there someone would want, like, I don't know, turne's point is, I think good that you can imagine mev as this subsidy. And I think this is like my own meme I want to start spreading, is that we should use mev for public goods. And this is exactly what we mean, is that if we can find a way to have the perfect arrangement of signatures and hash functions and all these things. If we can use the tools we have available, then it's possible we can actually use mev for very good things by having the protocol take it and then using it in a positive way.
00:43:25.352 - 00:43:31.874, Speaker A: You still need to motivate people to run it, though. So I do think there needs to potentially be incentive at the level of.
00:43:31.992 - 00:44:06.942, Speaker D: The validator, and there can be. And then the question is like, okay, if there's this much mev, then half of it maybe goes to the protocol. I mean, all of these arguments are for 1559, and this works great, right? So the thing to keep in mind on this arc is that many people who use these systems are interested in the long term game. They're not just here to sort of have this one block profit and then completely exit. And I think a lot of these things are making a lot more sense when you can say, hey, maybe block by block, I'm not taking as much revenue. However, the system overall is much healthier, much more secure, and so it can keep going for longer.
00:44:07.076 - 00:44:07.710, Speaker A: Cool.
00:44:07.860 - 00:44:41.180, Speaker E: One last thing I think is in general, in almost all forms of this industry, we've always generally seen pools of capital converge to the things that lower their variance and pay off per time, like mining pools or staking derivatives. And so it would be kind of surprising if mev is the only thing where people are not willing to trade off some instant reward for lower variance and rewards over the long term. And so, if there is a mechanism for it, I do think there's demand for people doing that.
00:44:42.270 - 00:45:09.426, Speaker A: This is actually a question. So I chatted with James before this interview and asked if he had any follow up questions, and he asked if the mev fees actually sidestep 1559 currently. And so I wonder, because what you've just described is like this, of actually sharing the profits. That's not going to happen at time of merge, I'm assuming. So, in the meantime, are the fees, the mev fees actually, like, undoing what 1559 tried to do, right?
00:45:09.528 - 00:45:52.746, Speaker D: I would say no, but it's also not clear. And this is part of the trickiness to PBS generally, is that you can always sort of have these off chain agreements. I think Turin just mentioned this, right? And the idea is that know, you're like, maybe this does feel like a why? Why would I use, you know, here's this liquidation. We could have software that doesn't even know the core protocol that facilitates all of this. Automatically, you could do all of this. And then the question is like, yeah, why would you use this for 1559 in particular? It's mandated by the protocol that you must pay the base fee. The only way to get the mev is to use block space, and the only way to get blockspace is to pay the base fee.
00:45:52.746 - 00:46:27.660, Speaker D: That's in part why there's this decision to burn the base fee because it's there. It is essentially just sort of siphoned out of supply and it's this very strong forcing function that it's hard to move around. So, yeah, to first order, I would not say that Mev sidesteps this in any way. And again, this is where a lot of the complexities and subtleties around the more open research questions of PBS is, like, we want the same mechanism here, where it's like there shouldn't be a way to sidestep the thing we do. And if there is, it should be very expensive or just not worth someone's time.
00:46:28.750 - 00:46:57.734, Speaker A: I want to move to the topic sort of of Ethereum versus other places. I guess the question here really is do you only work on Ethereum? Do you work on, I'm assuming, all EVM compatible chains. Are you only looking at the Ethereum main chain as your focus point, or are you paying attention to the roll ups, to the sort of bridged EVM compatible chains? Curious what your thoughts are there.
00:46:57.932 - 00:47:05.046, Speaker C: I know that flashboards in general is paying a lot of attention on other chains, on L2 S on roll ups and so on.
00:47:05.068 - 00:47:05.302, Speaker A: Okay.
00:47:05.356 - 00:47:21.342, Speaker C: In particular, our research part of our organization, we do also have a lot of collaborations with other projects happening on the research side. Product wise, Flashbots is mostly focused on Ethereum for now.
00:47:21.476 - 00:47:25.274, Speaker A: Okay, but could one use it on any EVM compatible network?
00:47:25.402 - 00:47:25.790, Speaker D: Yes.
00:47:25.860 - 00:47:34.634, Speaker C: I mean, not even only EVM compatible. Like, the mev boost system is potentially transferable to other setups as well.
00:47:34.772 - 00:47:44.526, Speaker A: Okay. But I guess it would have to follow the model that the relayer, like the builder, you'd have to have some of that infrastructure right. For it to work.
00:47:44.648 - 00:47:48.870, Speaker C: Yes, but that's independent of the EVM.
00:47:49.450 - 00:47:50.166, Speaker A: I see.
00:47:50.268 - 00:47:50.582, Speaker D: Yeah.
00:47:50.636 - 00:48:14.590, Speaker E: Another way of thinking about it is right now, all this stuff is done off chain anyway. And if you think about the current state of Flashbots, it's just like completely an off chain service. Right. And this is just kind of making a more transparent version of that because none of these things are enshrined in consensus and you can't really, unless you go to the complexity of trying to really slow down the chain.
00:48:15.410 - 00:48:39.170, Speaker A: I have a little follow up to this, which is like so when I did the last episode, what I understood, what actual technology was coming out is like, you'd be running like a guest node and you'd get almost like a patch. At least that's what Alex at the time was describing this as. And so I'm wondering, do you still describe it that way? Would you still describe it as like it's a patch on existing client infrastructure?
00:48:39.330 - 00:49:10.414, Speaker C: No, not anymore. This changes from ethereum One to ethereum Two. In Ethereum One, it was a patch to GEF that's called Mefgaf that provides another API to receive bundles and to merge them into the blocks in if Two. It's a whole kind of a sidecar system where Mavboost runs on the side of the proposer and the beacon node calls into Mavboost and uses this whole off chain builder network to request blocks. So it's more of like an add on sidecar add on approach, I would say.
00:49:10.532 - 00:49:31.590, Speaker A: Got it. I guess the follow up to that is what percentage of the current network is actually using what you do have. This is before proof of stake enters the fray. But do you know what percentage of the network is using it? Because as I understood it, the miners had to run this for it to kind of be useful. And so yeah. Where are you at?
00:49:31.660 - 00:49:33.654, Speaker C: So you mean now in Ethereum One?
00:49:33.772 - 00:49:35.670, Speaker A: Yes. Like 70%?
00:49:35.740 - 00:49:38.322, Speaker C: Not quite sure. Yeah, I think in the ballpark of 70%.
00:49:38.476 - 00:49:59.566, Speaker E: Yeah, it's like 70% to 85% in that range. They did have one sort of vampire attack that sort of was unsuccessful since the last episode. I can't remember the name of that thing that did that. They basically forked the mev gas and added a token and then it unsurprisingly Eden. There we go.
00:49:59.588 - 00:50:00.158, Speaker D: Right.
00:50:00.324 - 00:50:04.198, Speaker E: Attracted hash power for like a month and then had this big collapse.
00:50:04.314 - 00:50:28.966, Speaker A: Okay, so that's 70% to 85%. For this to function in the proof of stake world, does it also have to have that kind of network share for it to work and do? It kind of expect that to inevitably happen with what you just described, this sort of sidecar action, the fact that the validators need to be sent, but like doing something in addition to just running the node software or the validator software.
00:50:29.158 - 00:51:06.398, Speaker C: Well, it's a good question. My feeling is that staking pools will gravitate towards extracting mev as a form of higher rewards to their users as well. I'm not sure how big the relay diversity will be. So for sure, not all the proposals will connect to the flashbots relays and proposals can connect to many relays at once or to a certain subset of those. So if you're talking about the number of proposers that will connect to any relay or tap into any external builder network, my personal feeling is that it will be the majority, but it's very vague.
00:51:06.494 - 00:51:07.042, Speaker A: Okay.
00:51:07.176 - 00:51:08.438, Speaker C: I really don't know.
00:51:08.604 - 00:51:10.342, Speaker A: Something to check back in on.
00:51:10.476 - 00:51:30.026, Speaker D: Right. I think we'll see we'll know a lot more even in a month or two. And the theoretical argument is that people want mev and with proof of stake ethereum. This is definitely like the most straightforward way right now. Putting aside any sort of bespoke relationships you would have as like a large staking pool or some very specialized searcher or something like this.
00:51:30.128 - 00:51:56.840, Speaker A: Got it. I know you just mentioned that you're doing research into roll up stuff, but as I understand right now, there is no real mev to be had on roll ups as they are because sequencers kind of do that. Would you agree with that? Do you feel like already today on the roll up front there's actually places where people can start building things or does there need to be some sort of decentralization of the sequencer community before that happens?
00:51:57.210 - 00:52:04.806, Speaker C: I do not think that just having sequencers mitigates mev like there is still mev around for sure.
00:52:04.988 - 00:52:58.726, Speaker E: In fact, a lot of the sequencer models have a separate relay function. There might be a way in which you could have a single sequencer use a mev boost style network to do the relay to the main chain or a multirelay. So let's suppose that there's two base chains that are both storing data for the same roll up. Not saying that this exists right now, but you could imagine a world where like hey, a roll up is like we want redundancy or we want to split our main data between two chains because we're willing to take that security trade off. You could imagine there is a relayer network for doing that. The question is, does it need to be an incentivized relayer network or not? Which that part gets a little more complicated for layer twos versus mev. In the mev case there's just like clear revenue that can flow through to all the participants.
00:52:58.726 - 00:53:29.374, Speaker E: Whereas in the layer two case there's a lot more incentive to censor it's potentially a much higher set of valuable transactions before they go put in. Whereas in the mev case you don't have that much time to reason about it. Also you're sort of like computationally bounded in terms of production time. But sorry, these are just like kind of off the cuff guesses of this. But I do think people will use these relayer network type of things once they're really hardened for other use cases other than mev.
00:53:29.502 - 00:53:30.180, Speaker A: Interesting.
00:53:30.790 - 00:53:59.398, Speaker C: And just a side note here. The relay itself, at least a honest relay is not a profitable endeavor really. It's more of a public good. So for instance, the flashbots relay itself, it does not extract any value or provide any profit to those who run it. It's really the block builders sharing their profit with the proposers where the proposers will receive the majority of the value of the mev. But it really is mostly just neutral infrastructure.
00:53:59.574 - 00:54:05.914, Speaker A: And I guess this is why you're not sure how many would be running because there needs to be like there's no incentive. So it will be altruistic.
00:54:05.962 - 00:54:34.390, Speaker C: It's low incentive and it's high effort. It's like a complicated piece of software. It needs to do block simulations to verify the submissions from the block builders to make sure only proper blocks if the correct payments make it to the proposer because the proposer kind of blindly trusts what the relay is telling the value is. And honest really needs to work very hard to make sure that everything is in order with the blocks it proposes to the proposer.
00:54:34.810 - 00:55:04.450, Speaker A: So I know that we've mentioned a few times this cryptographic solution and I want to do a quick throwback to an episode Taruna and I did with the crew from Osmosis. There, they had made a proposal for using something like Threshold Decryption, which is a cryptographic solution to hide the order in the Mempool, thus removing some sort of Mev. Is there a part of your team? Is this something you're looking at or working on? Is this something that you think is relevant to this or is a potential solution?
00:55:04.950 - 00:55:07.810, Speaker C: It's certainly an area of collaboration and research.
00:55:07.960 - 00:55:08.418, Speaker A: Okay.
00:55:08.504 - 00:55:47.710, Speaker C: I think it's not squarely inside the flashboards team to figure that out. It's more of a broader collaborative effort to think through possible solutions of using Threshold cryptography to solve some of the problems. And I personally am not an expert in that. But even then, there is still certain open questions. There is still somebody who sees the transactions first and can act on that information. There is still the block after and the person who has the first right to submit the next transactions. So not all problems can be solved, I think.
00:55:47.710 - 00:55:55.050, Speaker C: But I'm sure Alex has more insight into the ongoing research on using Threshold encryption.
00:55:55.210 - 00:56:31.274, Speaker D: Maybe some I don't know. I'm not sure. I think it's as great a mitigation, at least some people might claim. Definitely. I think it's like Chris said, there's this broad collaborative effort across many different teams and organizations in the space broadly to figure out how we can use cryptography to mitigate different externalities of EV. A lot of the PBS stuff I've kind of been gesturing at would have these economic incentives reinforced by cryptographic instructions to bias the games we want versus some other games. And either way, with Threshold encryption in particular yeah, I don't know.
00:56:31.274 - 00:56:53.602, Speaker D: I guess I'm personally not convinced because it's like Chris was saying, what happens is if you have this construction in your Mev system, then all it really does is push mev into the boundaries of the encryption process. And this is generally this is why Mev is such an interesting and also pervasive concept, is you can think of ways to squash it out over here.
00:56:53.656 - 00:56:55.282, Speaker A: But it's going to pop up over there.
00:56:55.416 - 00:57:13.340, Speaker D: Yes. whackable exactly. If you want to be academic about it, we can say there's this law of conservation of Mev, right, that mev is always there, and you can't bend it. Well, okay, maybe you can bend it, but you can't break it. You can't get rid of it. It'll be there. You can move it around.
00:57:13.340 - 00:57:39.282, Speaker D: You can deploy some solution that pushes it to the edges of your solution, but there's still the edges. And we live in an open world that's seemingly very complex. There will always be an open boundary that we are dealing with. And so in that sense, there's always a maybe. And the question is now, okay, yeah, maybe there is some radical cryptographic construction. I think the more, let's say, exotic ones I've heard are based on cryptography. That's very.
00:57:39.282 - 00:58:03.420, Speaker D: Far away from being production ready. Yeah, there's things like homomorphic encryption, like witness obfuscation, and techniques way beyond my understanding that I've heard people throw these terms around. Yeah, so we'll see. I mean, definitely I expect there to be ongoing progress in cryptography broadly and very much many of the techniques will be applicable to the systems we're talking about today.
00:58:03.790 - 00:59:16.878, Speaker E: I'd just add one thing to Talix's stuff, which is basically this sort of idea that there's no way of removing mev. I feel like somehow even though we're in 2022, it's still controversial because people are still always trying to do it and then when they do it, they don't realize they introduce some centralized cudgel. Like in a lot of the fair ordering things, they kind of implicitly assume some sort of fallback oracle fallback ordering person who is effectively centralized. And I think one important thing is that we still haven't actually figured out how to correctly define what a the concept of mev is, other than in particular sub cases and B what the laws of transference are. Like given two different mechanisms for people to reveal their mev. Maybe one is right now we have an auction and so people bid on their bundles. But you could imagine a world where it's a totally different type of thing, and there's some calculation that tells you, like, you submit a bundle, and then it waits for k different bundles, and then the algorithm says, like, okay, here's K prices.
00:59:16.878 - 01:00:30.042, Speaker E: You can either buy it now, like ebay, or not buy it, which is a very different version than kind of like, hey, we have an auction where you have to compete to reveal your prices. And the question is, we don't even have the basic lingua FRACA mathematically to compare what's the difference between me giving you prices versus you bidding in an auction for these types of things? And until you have that, you can't even really say like, hey, we're doing any reduction because we haven't proven that the mechanism changing mechanisms has any economic impact. We kind of are like, oh, this thing is just harder because you can't see the bundle right here at this point. But that doesn't mean that there's not side channel information implicitly leaked from that at all. And until we actually have some way of comparing mechanisms, I generally think any claim that you have a clear reduction mechanism should be assumed to be false because it kind of assumes that the entire system is exactly the same. Like mutatus. I don't know my Latin well enough to remember the exact phrase like mutatus mutandi or something, whatever stayed in the same place at some level.
01:00:30.042 - 01:01:03.140, Speaker E: I think that's something you should always kind of keep in mind when evaluating these things is like, sure, maybe the Threshold Encryption does actually work on a single block before, but the fact that you are still using an auction means that you've created some other inefficiency. And maybe the posting prices thing is more efficient for Threshold Encryption versus an auction. And those types of basic things aren't even known. I think these are the types of things I'd say it's like a quite large, complicated system, and it's very hard to just switch one box with another and be like, we solved it.
01:01:04.630 - 01:02:10.940, Speaker A: Okay, I now want to move on to the topic kind of of the day. The last few weeks, there's been, you know, something kind of crazy happen in the ZK space OFAC an organization that I was not really aware of before this day, has sanctioned a smart contract or collection of smart contracts in the form of tornado cash, tornado being a mixer on ethereum based on zero knowledge proofs. This came out while I was at ZCON in the middle of a bunch of ZK researchers. So that was a good moment for that to happen. But I think personally, I've been digesting it over the last few weeks, trying to take in what people are saying, but also kind of hold steady until I can find out a little more or we know a little bit more, but I know that it hit you guys. So, like, the mev question and what addresses are potentially blacklisted came up in your conversation, so maybe you can share a little bit about what happened and how you've reacted, I guess, to this.
01:02:11.550 - 01:02:53.510, Speaker C: So Flashbots infrastructure, we have been complying with OFAC for one and a half years now already initially, because we do have public known teammates living in the US. And flashboards has a us. Company, and it would introduce huge liabilities to the team members to not be compliant. So this is not for us now, a place to walk back from OFAC compliance, because the implications are severe. If we're talking about 20 years jail time, this is not something that we can a risk we can put on team members and we can also not walk easily back.
01:02:53.660 - 01:02:58.998, Speaker A: What does it mean to follow OFAC guidelines, though? Like, what does that actually mean? Literally?
01:02:59.094 - 01:02:59.450, Speaker D: Yes.
01:02:59.520 - 01:03:23.730, Speaker C: It's kind of hard because there is no clear guidelines, but at the very least, there's a certain set of addresses where you cannot facilitate transactions. This is my understanding. This is some legal opinions we have received. There is, I think, some unclarity how deep it goes, how deep you have to inspect transactions and what you can do, what you cannot do.
01:03:23.880 - 01:03:37.430, Speaker A: So, like, OFAC has sanctioned the contracts, but in your case, did the Flashbots team take that to mean any address that has ever interacted with the Flashbots contract would be on that blacklist?
01:03:37.930 - 01:04:25.858, Speaker C: No, that's not the case. What the Flashbots projects did was most of our projects are open source, and we added a pull request to add more addresses to the OFAC blacklist in the public repositories that was already there. Yes. And this was in particular on the RPC endpoint. And the community raised a counter pull request to remove all of the OFAC Sensoring in this repository and bringing a lot of visibility into OFC Sensoring in general. And then mixing this a little bit up with how Mavboost is censoring automatically and by default and starting a broader debate with conflating certain projects, but still talking about now. The merges in one month.
01:04:25.858 - 01:04:31.266, Speaker C: What does OFEC compliance mean for Ethereum in that time span?
01:04:31.378 - 01:04:43.834, Speaker A: Yeah. How are the addresses that were added? How are they actually decided on? So you said it's not every address that ever interacted with the contract. So what is it? Where did that selection come from?
01:04:44.032 - 01:05:01.166, Speaker C: I think that's just the addresses that the OFAC puts out. I'm not sure. To me, I'm on the first day after two weeks of vacations and I have been following the discussions around, but I don't have the detailed knowledge where the specific number of addresses is coming from.
01:05:01.268 - 01:05:45.246, Speaker D: At least I can provide my understanding, which is that there's a particular list put out by the treasury with OFAC. There's some acronym, Sdn, but essentially this is what you referred to when they, quote, sanctioned a smart contract, is they added the address of this thing onto this list. And to my knowledge, again, I don't know all the details, but what I believe is that Flashbots has just taken this list and just dropped it in as sort of like what we will not do is allow any transactions into our products that interact with anything on this list. And again, to my knowledge, this doesn't mean anything that's interacted with those addresses. Right. It's not this transitive thing.
01:05:45.428 - 01:05:51.946, Speaker A: Okay. I guess that is the question though, that's where it becomes like how far away would that potentially expand?
01:05:52.058 - 01:05:59.220, Speaker E: The moment a government can define a transitive closure is the moment that I will say the education system actually worked for once.
01:05:59.990 - 01:06:00.740, Speaker A: Why?
01:06:01.830 - 01:06:34.166, Speaker E: Because have you ever read any of these types of sanction documents on crypto? Stuff like the actual legal language, the way people define things suggests to me that they sometimes conflate public key with a physical address. And if you're already at that level of education, the idea that there's a transitive closure over the graph of all interactions of these addresses with each other seems like a big stretch for little old lawyer who works at the Treasury Department.
01:06:34.278 - 01:07:16.522, Speaker D: But we don't know until this has come to some sort of legal situation. We don't know. And that's why everyone is concerned and that's why there's been a lot of, let's say, drama over the last couple of weeks. Because then, yeah, you do have to say, okay, let's say we have people we care about, we have teammates who are in these jurisdictions, then suddenly we're going to comply. I don't think it's that controversial to say we're going to avoid legal risk where possible. And then the question is, yeah, where does it end? What's the extent of this stuff? And I think that's where it's just not clear yet, simply because there either hasn't been information or some cases we won't know until there's regulations actually formed and that could take many years. Right.
01:07:16.656 - 01:07:38.574, Speaker E: I do think if anyone proposes something that's transitive in any sense, there will be lots of lawsuits because that will be the thing that causes the trial that goes to the Supreme Court. Because people will be like, how many hops is too many hops? And there's no way that doesn't end in just like legal warfare.
01:07:38.702 - 01:08:06.282, Speaker A: Yeah, I did notice a lot of the feedback against it did come from folks that also don't live in the States. I mean, I basically saw the counter to the pull request and some of the conversation in there. I mean, there were some people who were really talking about throwing it up in the air. We will not touch this if this continues. You had a solution as far as I understood, which is like releasing some sort of open source version or what was that exactly?
01:08:06.416 - 01:09:09.182, Speaker C: So the concern was that at the merge there might be only the Flashpots really serving blocks and the flashboards really not including transactions that fall under the OFAC sanction list. And that could mean that assuming 80% of proposers use the Flashbots relay, that 80% of the network will have some blocks with some sanctions. To put it in perspective, though, Ethereum is surprisingly resilient in that way because even if 80% of the network uses a sensor ring relay, then a sensor transaction still gets seen on average every five blocks or after five blocks. If there's 95% of the network using relays that comply with OFAC, it's one in 20 blocks. Our response to this crisis was that we released the relay source code that we are running on our testnet since sometime and developing the plan was to do that all along. But this accelerated the timeline. It's not in a final state.
01:09:09.182 - 01:09:33.030, Speaker C: We wanted to get it a little bit more final, but it's an important conversation and discussion and discourse and we believe that multiple relays is a step in the right direction. And to facilitate that direction, we provide, I would say a solid and somewhat tested base code for other groups to start relays on their own and to create more diversity and more competition.
01:09:33.450 - 01:10:12.340, Speaker A: I think obviously this topic is so much bigger than what we can get to in this episode. We don't have that much time left in the episode anyways. So just to note for the listener, I will be doing an episode focused on tornado and what's happened since then for the ZK space, so you can look out for that. Like always, I don't tend to do news on this show, so I don't try to jump right away to catch something. I'd rather wait and see, kind of be able to gather quite a bit of info, figure out who I want to talk to and then we'll do an episode like that. So yeah, no stress. Alex, Chris, I realize I don't want to put too much on the two of you to answer it all today.
01:10:12.340 - 01:10:13.394, Speaker A: Yeah.
01:10:13.432 - 01:10:57.650, Speaker E: So I guess we went from sort of people spamming the blockchain in 2019 with PGAs and probabilistic gas auctions to kind of the orderly but off chain sort of solutions of mev that sort of really rose in 2020, 2021. And now we're kind of moving to this new world where most clients can be much more aware of mev. And so I guess the real question is where do you see the next year or two? And what are the kind of the innovations in both mev on the engineering side as well as on the sort of research side that you're most excited about or think will kind of come to fruition?
01:10:58.710 - 01:10:59.074, Speaker D: Maybe.
01:10:59.112 - 01:11:00.370, Speaker E: Let's start with Chris.
01:11:01.750 - 01:11:53.634, Speaker C: I think in general, getting the infrastructure into a more stable state, getting additional capabilities into the beacon nodes, perhaps for additional safety mechanisms, moving more towards a peer to peer network and gossiping, moving more towards a more trustless setup. It's like vague high level goals that work is going and progressing towards. There's also a lot of ongoing research on PBS on single slot finality, but this is all on a multi year horizon. So in the short term it's more the hardening, additional security guarantees and the development of the honest relays that provide neutral infrastructure to connect, proposers and block builders and users and searchers for me.
01:11:53.752 - 01:11:55.010, Speaker A: What about you, Alex?
01:11:55.750 - 01:12:52.294, Speaker D: Yeah, I mean, I think that was a nice summary that Chris gave. So basically, you know, the SMEV boost represents a version of PBS and we generally want to build out this, right? So like, we all have a shared sort of destination, which is some enshrined PBS. And how do we get there? Well, we'd like there to be like a very healthy competitive market of all these different roles. And with competition we'd hope to sort of reduce the externalities of these games generally. So that's I think sort of a sort of quote wordmap as to where we're heading and maybe taking another framing on it. It's like I would like to have people think about this as layers, right? So modular blockchains is like this new hot thing. So the reason why is because we can say, okay, how are we going to actually scale these systems? While it turns out if we separate out their distinct functions into layers, we can specialize the layers and then hopefully have everything work better together.
01:12:52.294 - 01:13:33.214, Speaker D: So I'd like to then say, okay, let's apply this thinking to the mev world. And I think what we'll see there is similarly there'll be these different chunks of functionality that specialize and become their own rabbit holes in their own way. So something I'm very excited and looking forward to is like research around the layers of the stack closer to the user. We've talked a lot in this episode about what's the protocol and how's the protocol relate to this and maybe for consensus and things like this, but we've talked very little about the user. Like, we mentioned Threshold Cryptography, for example, and its applications. And the reason we went to that is because the mev goes all the way up the stack to the person actually making the transaction. There is no mev unless there's a transaction.
01:13:33.214 - 01:14:23.842, Speaker D: Right. And so the question then is like, okay, can we improve upon the status quo? And, yeah, certainly can. There's actually, I think, a lot you can do. Yeah, that's a whole episode in itself, but a lot of very exciting research. So, to give an example, you could imagine that if I'm a user and I give you this Dex trade and you backrun me, rather than the searcher, taking all of the value of the background, they give me half or something like this, right? And then the question is, okay, can we generalize this? Can this go across all sorts of DeFi applications, different types of mev? Can we generalize in the sense of having everyone do this? And, yeah, there's this whole world, I think that we'll see in a year or two and be like, oh, yeah, our thinking around this was so sort of early and now there's this really interesting, complex landscape out there.
01:14:23.896 - 01:14:46.250, Speaker A: New thing. Cool. Well, I want to say thanks, Chris and Alex, for coming on the show and sharing with us. Kind of an update on mev. What's new, what you're thinking about. I do have one last thing, which is, like, I think this episode will air pre merge. What's your outlook? What are you going to be doing? What are you going to be thinking about? What are you going to be waiting for?
01:14:46.400 - 01:15:13.330, Speaker D: Yeah, this has been a long time coming. I'm very excited. I think at this point, I'm cautiously optimistic that things will go very well. It's something that we've generally been waiting for as a community for quite a while. Right. So it's definitely a huge milestone and, yeah, it's almost this thing where it's like, I have some trouble seeing past it because it's just like such a big thing that is about to happen. But, yeah, very exciting time.
01:15:13.330 - 01:15:24.214, Speaker D: And, yeah, as we've laid out, there's ton of more interesting questions in the mev space. So it's not that there won't be a lack of things to do.
01:15:24.332 - 01:15:24.950, Speaker A: Nice.
01:15:25.100 - 01:15:49.466, Speaker C: Yeah, I would second that. It's not like we are now resting and relaxing and waiting for the merge, but it's still an ongoing big push on all fronts on multiple teams, including research, including the client teams and all the implementers, builders, relays. So until the merge, it's going to be an intense period and hopefully then a little bit of breathing room and then start the journeys to the next goals.
01:15:49.658 - 01:16:04.498, Speaker A: Wild current date for the merge is september 15, which is, by the way, also the date of the ZK summit, eight. So it would be really cool if it happens on the same day. I feel I want to say thanks again to both you. Thanks, Tarun, for coming back.
01:16:04.664 - 01:16:11.794, Speaker E: Thanks for having me. It's been a while, but good to come back for a topic I've spent a lot of time thinking about.
01:16:11.912 - 01:16:14.834, Speaker A: Cool. Thanks, Alex. Chris. Yeah.
01:16:14.872 - 01:16:16.386, Speaker D: Thank you, Anna. This has been great.
01:16:16.488 - 01:16:19.146, Speaker C: Yeah, thanks. Great talking with you all.
01:16:19.328 - 01:16:29.510, Speaker A: I want to say a big thank you to the ZK podcast team. That's Tanya, Rachel, Henrik and David. As our guest editor this time. And to our listeners. Thanks for listening.
