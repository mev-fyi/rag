00:00:00.160 - 00:00:34.446, Speaker A: I use metamask as our kind of, like, North Star in regards to where we are in terms of, like, monthly active users and as a whole, you know, let's say 30 to 35 million monthly active users. I'm curious on how many of those users have been phished or attacked and how many have then either become non existent users or they've left because of Bing hack, or they've, like, doubled down on their security stack to make sure that they're able to continue interacting in Defi and crypto. Because we think that security once solved in a very generalizable sense, it could help us get to 100 million users. That's the core idea there.
00:00:34.510 - 00:00:41.822, Speaker B: That's why this whole episode is so important, is that security has been a major impediment to mass adoption.
00:00:41.918 - 00:01:18.698, Speaker A: Welcome to Good Game, a podcast for crypto insiders with your host Imran and chow. All right, welcome to good game, episode twelve. We're going to be talking about a lot of cool things, and this time around, it's going to be crypto security or web three security. Obviously, it's a very complex topic. Even if you, like, search online for content, it's actually really hard to find content. The space has been overlooked primarily because I think it's very complex. There's only a group of key subject matter experts that are able to really understand the space.
00:01:18.698 - 00:02:10.088, Speaker A: And for, for the most part, it seems like the average person can't, like, wrap their head around it. And that's probably why there's not enough education that's out there and why a lot of these attacks, like a common attack, is a reentrancy attack, could be avoided pretty easily, but it hasn't. And you continue to see these types of hacks happen over and over again. So I do think it's good to shine a light in this industry and try to understand or, like, unbundle some of the things that we could do as founders and as users to, like, protect ourselves from these types of attacks. And I know, chow, you've gone through many of your own rugs, as I did as well, and maybe, you know, quick, high level thoughts on that, and then we can talk and dive deeper into, like, Mount Gox and the Dao.
00:02:10.136 - 00:02:19.346, Speaker B: Yeah. First of all, this episode is going to be so fun because we're going to talk about all the. Yeah, all the rugs that we've gone through personally. By the way, Imran, have you read the three body problem?
00:02:19.530 - 00:02:21.574, Speaker A: I have not. It's on my reading list.
00:02:21.914 - 00:03:07.150, Speaker B: The three body problem is one of the best Sci-Fi books I've ever read. And it's written by this chinese author, Liu Zixing, and it's a trilogy. And in the second book, they introduced the concept of dark forest. So basically, the analogy I'm going to draw is that crypto is very much like a dark forest. Blockchains are very much like a dark forest. But the concept of dark Forest, the way it works is there's probably a ton of civilizations throughout the universe, and many of which are much more advanced than humans. But the reason why we haven't heard of them is because all these advanced civilizations understand this concept of dark Forest, where you should stay silent.
00:03:07.150 - 00:03:54.204, Speaker B: You should not let the rest of the universe know where your position is, because the moment you do, a more advanced civilization, civilization will come in and snap at you. They're going to destroy you. And this is why the universe is so silent. And that's exactly what's happening with. With blockchains. Like, the moment you sign a transaction that's vulnerable, the moment you broadcast a transaction to the rest of the blockchain, or the moment you deploy a vulnerable smart contract, someone, a hacker, will come in and snap at you, snipe at you, and they will destroy you. They will steal all the money that they can possibly steal from you, even though you don't hear from them during normal times.
00:03:54.204 - 00:04:32.128, Speaker B: But the moment a vulnerability is out there on the blockchain, you will get destroyed. So, for me, blockchains are like a dark forest. And one of my first, well, I've been part of the two OG rugs within this dark forest. The first one is Mount Gox, which I've talked about in the past. And the second one is the Dao hack. And for better or worse, ever since these two hacks, I've just become extremely paranoid about security in general. I still got involved in several other rugs, but much smaller in magnitude.
00:04:32.128 - 00:04:34.672, Speaker B: But would you talk about the history?
00:04:34.808 - 00:05:27.434, Speaker A: Yeah. I like the concept of dark forest and how signals, you know, transactions could signal economic or hackers to try to find a way to extract value. I see, you know, crypto is like a giant, like, bug bounty system, and, you know, people are actively looking for ways to extract value. And I think over time, this is probably going to harden crypto in the long run for more robust applications, which I think is around the corner. But let's talk about the first hack, because there's a lot of learnings between the first hack, which is, I wouldn't say the first, but the first visible hack and the DAO as well. And these two stories are going to be very relevant into all of our topics today because they continue to happen like it hasn't changed. And so we need to discuss and figure out why.
00:05:27.434 - 00:05:49.386, Speaker A: Right. It turns out Mountain Gox was actually launched as a magic cards exchange, if you didn't know that. And you know who was launched by? Jed McCaleb, who was the founder of Ripple and stellar. Yeah. You know what's also very interesting was his background. He launched something called Edonkey. Yeah, funny name.
00:05:49.386 - 00:05:54.794, Speaker A: But it's essentially, if you remember this, it's a peer to peer file sharing system similar to, like, I've used it.
00:05:54.834 - 00:05:57.002, Speaker B: I've used it on key live peer and.
00:05:57.058 - 00:06:18.618, Speaker A: Yeah, and it's interesting because a lot of the first ideas in crypto are started by, like, OG founders. Do you remember our last episode or the episode before where we talked about, I believe his name was Sean, the founder of Napster, who helped launch helium. Also very similar background. And I've noticed this with other founders and other areas of crypto, all these.
00:06:18.706 - 00:06:21.442, Speaker B: OG peer to peer guys. Right?
00:06:21.578 - 00:06:50.946, Speaker A: Yeah. And I don't think we give them enough credit, and I think we should because a lot of that learnings from that era helped crypto become what it is today. And we also don't give a lot of support or acknowledgement to cryptographers that have been working on this for the past 50 years. So I think those two are important pieces for crypto. But, yeah. So he ended up selling it to Mark Carpalis. And the reason for it was he was just getting too much money being wired, freaked out and sold it.
00:06:50.946 - 00:06:57.014, Speaker A: But it turns out there was also some mismanagement of money before that was sold. That was at least what the rumors were saying.
00:06:57.314 - 00:07:09.014, Speaker B: I was smiling because the moment I hear Mark Capilles, this meme where you have that image of Mark Capilles and it says, in this moment I'm euphoric. That just pops up in my mind.
00:07:10.554 - 00:07:30.030, Speaker A: You know what's very interesting about Mark was that his Persona was very similar to SPF's as I was reading about him. Yeah. He liked to have taken pictures and have it on walls. He liked to be called the king of bitcoin, if you remember that. And so he had very similar personality traits to SPF. Either way, Mongox got hacked. There's a couple of things, right.
00:07:30.030 - 00:07:51.228, Speaker A: One was like mismanagement of capital and the other was really not having very strong security frameworks in place. So what does that mean? Well, back then, wallets weren't natively encrypting private keys. So, like, you could hold your keys in your wallet, but it's not encrypted, so it's just a file. And the file is called the wallet, that file.
00:07:51.276 - 00:07:55.944, Speaker B: So literally the string of the private key is storing in a text file.
00:07:56.604 - 00:08:39.884, Speaker A: Yes. And there's no password or pin that encrypts that file. And so you could just open up your wallet and then, you know, you can get access to your private keys. Then the next update, which happened much later, then allowed for encryption of that file, but back then it didn't. So the auditor's computer was hacked, and this was around September of 2011, and it ended up compromising some keys. And then again, they were able to compromise the wallet, that file, that file, and from that allowed them to get access to the private keys. And then from there, it was kind of, you know, the hackers ended up slowly taking capital out, or bitcoin out of the exchange.
00:08:39.884 - 00:08:51.684, Speaker A: It wasn't noticeable for a while. I think it took a year to figure it out. There's rumors that it was one of the founders of the exchange, EBTC, that ended up doing that, which is another story in and BTC.
00:08:51.804 - 00:08:59.148, Speaker B: I had. I had ten bitcoin on that, on that exchange. I still can't withdraw it. I don't know what, I don't know what the story is, but if you.
00:08:59.156 - 00:09:02.324, Speaker A: Want me to divulge, I can see.
00:09:02.364 - 00:09:05.916, Speaker B: Sorry, it's a side story. Let's keep going with that story.
00:09:06.100 - 00:09:53.120, Speaker A: Yeah, so that's pretty much it. Back then, there was no encryption, there was no security parameters in place. The file was copied into an auditor's computer and someone just got access to that copy and then was able to get access to private keys. It was very simple, it wasn't that hard. And so back then, it was a combination of not having very strong security frameworks in place where these types of files shouldn't be stored on an auditor's computer to begin with, and it should be encrypted. And partially also, like wallet infrastructure, was it robust enough to actually have encryption for these types of files? So, very basic, simple, but you still hear about it today, and I can talk about some of the hacks that happened later that was very similar in nature. The one that I think that's a little bit more advanced is the Dao hack.
00:09:53.120 - 00:10:03.260, Speaker A: I know we both have stories here. I just remember being a part of the Dao hack where the whole concept of the dao was to bootstrap.
00:10:03.332 - 00:10:14.284, Speaker B: For those who don't know the history. It's literally called the Dao. It was the Og dao. And the name of that product is called the Dao with a capital t. Capital D. Yeah.
00:10:14.404 - 00:11:00.808, Speaker A: And the idea was actually, back then, it made a lot of sense. The Ethereum ico happened. Ethereum's token went public. Everyone made a lot of money, and they're like, okay, now we have this incredible smart contract platform, and we have money. How do we get more founders to build on this platform? So they decided to launch this generalized da Dao, and the concept was, we'll give it money, we'll get tokens. In return, we'll vote for where the capital should get allocated to and into what startups, and in return we'll get tokens, and it'll be like a fortuitous cycle. Well, it turns out that there was some vulnerabilities, and this vulnerability is still very common today, which is called the reentrancy attack, which I'll talk more about in detail in a bit.
00:11:00.808 - 00:11:20.776, Speaker A: But just going back to the DAO, they raised about $150 million, or 3.5 million ETH. And the concept was. So once this vulnerability was shown, the attacker was using this re entrancy attack to continue to drain the ETH out of the dial. And it takes a while. It doesn't happen overnight. And so there were some ideas on how to stop them.
00:11:20.776 - 00:11:50.112, Speaker A: One was to create this white hat group that would drain the ETH faster than the black hat, but, you know, it wasn't very successful. So, at the end of the day, from an ideological perspective, there was this war between, should we do a hard fork or no? And then they ended up doing the hard fork. There was an 85% vote approval, and they rolled back the chain as if the hack never happened. And there was a split in terms of two chains. There was ETH classic, and then ethereum as what we know it today.
00:11:50.208 - 00:11:53.634, Speaker B: And you personally fell for the immutability meme.
00:11:54.694 - 00:12:20.890, Speaker A: Look, I mean, back then, okay, back then, I was a bitcoin max, and I started to. I started to warm me up to eat, right? So I got. I'm like, okay, this is. This is cool. You know, building apps on chain makes a lot of sense, but the immutability just got to me. And I think partial is because of Barry and then his group. But, yeah, I did fall for it, and then the price didn't go anywhere.
00:12:20.890 - 00:12:24.698, Speaker A: But, I mean, luckily, I got out of it. But, yes, I did fall for the ETH classic scam.
00:12:24.746 - 00:12:43.722, Speaker B: I mean, in hindsight, that hard fork was the right decision, because today no one talks about that part of the history. Like no one is shitting on Ethereum for being not immutable anymore. But saving the early adopters a ton of money by doing that hard fork really helped getting the community together.
00:12:43.858 - 00:13:19.126, Speaker A: That's right. I mean, if this didn't happen, I don't think Ethereum would be here today. And so I do think this was a very important part of history. So what is the reentrancy attack? There's some pretty good content, at least high level content that's out there that talks about the types of attacks. And there's a analyst called Xerox Kofi on Twitter. He published an article on one confirmation that talked about the vulnerability stack. We're going to rename a couple, but roughly the way we think about it is there's the economic hacks.
00:13:19.126 - 00:13:54.764, Speaker A: So I would consider that to be like flash loan attacks. Two would be like protocol smart contract logic attacks. So this is where we would be talking about reentrancy, delegate call exploit, access control exploit, and like deposit logic exploit. And then finally it's infrastructure. Infrastructure is like spoofing DNS, spoofing phishing, compromised private keys, etc, cetera. So those are like the three buckets of attacks that happen in crypto today, and it's still very, very common. Before we dive deep into these different areas, anything you want to call out.
00:13:54.884 - 00:14:45.272, Speaker B: Maybe just touching back on the history. I feel like if you look at the top hacks in history since the Mount Gox and the Dow, if you look at the top hacks by dollar amount, it's pretty staggering that a lot of them are still very similar to how Mount Gox was hacked, which is the hot wallets getting drained. And another major category of hacks is smart contract bugs, which is in the same category as the Dao hack. So it just seems like these two types of hacks continue to happen over and over again. And more recently there's more interesting phishing attacks like Kevin Rose's nfts getting drained, stuff like that. But anyway, we talk about history all the time, like every episode. I feel like we talk about history.
00:14:45.328 - 00:14:45.920, Speaker A: Yeah.
00:14:46.072 - 00:14:51.968, Speaker B: And a lot of that history is forgotten, but still seems interesting and relevant today.
00:14:52.096 - 00:15:25.310, Speaker A: I mean, history is important. I mean, like, I feel like crypto has a very short attention span generally, and we tend to forget what happens within a quarter. And so I do think it's good to touch on that history, especially what's happened in the past, because if you really think about it once you do the research, or if you've gone through it long enough, you realize that the same things happen over and over again. We haven't really moved beyond past anything. Right. And so maybe it's for us to call light, maybe it's for us to just dive deeper into why this continues to happen and what we can do as founders or developers to help mitigate.
00:15:25.342 - 00:15:29.314, Speaker B: And also as users. How do you. Users of blockchains, how do you protect yourself?
00:15:30.034 - 00:16:12.320, Speaker A: Yeah. And if you think about it, I use metamask as our north star in regards to where we are in terms of monthly active users as a whole, let's say 30 to 35 million monthly active users. I'm curious on how many of those users have been phished or attacked. How many have then either become non existent users or they've left because of being hacked, or they've doubled down on their security stack to make sure that they're able to continue interacting in Defi and crypto. Because we think that security once solved, in a very generalizable sense, it could help us get to 100 million users. That's the core idea there.
00:16:12.392 - 00:16:20.820, Speaker B: That's why this whole episode is so important, is that security has been a major impediment to mass adoption.
00:16:20.952 - 00:16:45.668, Speaker A: Yeah. Let's talk about some hacks. Right. I think this is a part where we can dive deep into some of them and try to dissect what went wrong. The one that I want to talk about this is probably under the economic hack bundle or economic hack area, which is the oracle attack, price manipulation with mango markets, if you remember that one.
00:16:45.716 - 00:16:50.756, Speaker B: So I'm on this website. It's really fun. It's called Rec news that you share with me. Rect news.
00:16:50.860 - 00:16:56.140, Speaker A: Yes. So it started by Julian and I think it's a core contributor to curve.
00:16:56.252 - 00:17:01.184, Speaker B: Oh, oh, really? Julian Butalu or something like that.
00:17:01.484 - 00:17:02.124, Speaker A: Yes.
00:17:02.244 - 00:17:02.988, Speaker B: Okay.
00:17:03.156 - 00:17:04.284, Speaker A: It's great. It's a great site.
00:17:04.324 - 00:17:15.036, Speaker B: It's really good website. But according to this website, the mango hack is ranked number 15 in terms of dollar amount of money lost due to the hack.
00:17:15.140 - 00:17:17.516, Speaker A: Yeah. By the way, it's interesting.
00:17:17.580 - 00:17:39.873, Speaker B: Quick, quick note. So we're going to talk about a lot of the hacks, but our goal is not to make anyone look bad because a lot of these hacks, like the players, the developers behind these products, are actually good players. So our goal is really to see what we can learn from these incidents so that as an industry, we don't make the same mistakes anymore.
00:17:39.953 - 00:18:24.674, Speaker A: That's right. So mango is a derivatives platform on Solana and if you know, the infamous Avi who's publicly, that publicly came out and said that he attacked Mango, and he actually wrote a couple tweets even months before that he was going to attack one of the protocols. So it was just interesting to see that timeline play out. He funded the wallet with $5 million in USDC, and he deposited into mango and used it to take up a large perp position. And he used this as a way to drive the price of mango up. And I think it went up like ten to 15 x. And by doing so, what he did was he was able to take the mango collateral, he had deposit it and withdraw collateral, or withdraw assets from that.
00:18:24.754 - 00:18:31.634, Speaker B: So he took a loan using the collateral that was denominated in the mango native token.
00:18:31.754 - 00:19:27.750, Speaker A: That's right. And the reason why how this happened was the fact that mango itself had very low liquidity and it was a very low float token, so there wasn't enough circulation of the token in itself. So any one buyer can come in with, let's say, $5 million and be able to drive the value of the price to an area that is good for the hacker or attacker. And obviously, this is also very ideological, because some people say that this is an economic attack, some people think it's a hack. I don't want to get into that debate, but it's interesting to call up, because that is still happening today with many of these protocols. So after he deposited collateral, he borrowed $54 million in USDC, he borrowed $25 million in MSO, 25 million in Seoul and BTC, and he was able to extract the value out of the protocol. All the debt on the protocol went bad, and the protocol was non functioning at that point.
00:19:27.902 - 00:20:14.524, Speaker B: Just to summarize the hack, the guy used the mango native token as collateral, manipulated the price of the token in such a way that it went like ten x. So the value of the collateral went up ten x, but it's artificially inflated. He borrowed money using that collateral, but that collateral eventually went back to whatever the fair value was, which is ten x smaller. And so the system basically tried to liquidate that mango native token, but the collateral is worth nothing, basically. And the money that he borrowed was way more, was worth way more than the collateral. So he basically walked away with free, like free loans, and the system itself defaulted, or, sorry, the guy defaulted, and the system itself was left with bad loans.
00:20:14.644 - 00:20:41.740, Speaker A: Yeah. And he went back to mango, he put up a governance proposal and said, hey, I'll give the users their money back. So as long as you call this a bug bounty, and we'll make everyone whole and everyone can walk away unhurt. And so that went through, and then Avi walked away. Obviously, that changed most recently when the SEC and the FBI came after Avi, and we could talk about that later. But that's high level of what happened.
00:20:41.852 - 00:21:06.354, Speaker B: The lesson for this is very simple, and it's really not something that should happen in production in crypto, because this just happens over and over again in tradfi as well. The lesson is that don't use a illiquid asset as collateral in your system. Design. Whenever you design a defi system and there's some kind of borrowing that's based on some kind of collateral, never use a illiquid asset as a collateral.
00:21:06.484 - 00:21:07.806, Speaker A: It happens over and over again.
00:21:07.870 - 00:21:24.174, Speaker B: Keep happening. I don't understand why. But anyway, as a user of crypto, you also don't want to touch those systems that use illiquid assets as collateral because you will be hurt if you provide liquidity, if you provide loans into that system.
00:21:24.334 - 00:21:35.758, Speaker A: That's right. And I can call out to, like, Rari capital's fuse pool, which offered, like, tail end lending for tail end assets. And there was also cream, which also did something very similar.
00:21:35.846 - 00:21:36.874, Speaker B: Oh, my God.
00:21:37.854 - 00:21:45.918, Speaker A: Yeah, cream was just a hot mess. They forked compounds code, and there was reentrancy attacks. And there was.
00:21:46.046 - 00:21:48.674, Speaker B: They got. They got attacked like three times. Right.
00:21:49.214 - 00:21:49.878, Speaker A: They did.
00:21:49.966 - 00:21:53.062, Speaker B: And that was. That was good times. It was Defi Summer. Was.
00:21:53.198 - 00:21:54.206, Speaker A: It was Defi Summer.
00:21:54.270 - 00:21:55.394, Speaker B: So many rugs.
00:21:55.934 - 00:22:25.774, Speaker A: So many rugs. So that's, you know, people call it price manipulation. I call it more like combination of oracle and price manipulation. But it was interesting to see how that played out. So for founders, as you mentioned, you know, think about the types of assets that you want to list and the types of collateral that you want to use. There's a reason why Aave and compound only have still six to seven assets only listed on their lending protocol, and they haven't really added any more collateral to it. There's a reason for that.
00:22:25.774 - 00:22:42.286, Speaker A: So being innovative, I agree. Go ahead and be innovative. But you have to also think about the risk parameters in place if you want to try to compete with aven compound. The other one, which I found to be very interesting, goes under the flash loan governance attack boat, and it's called beanstalk.
00:22:42.390 - 00:22:43.222, Speaker B: Beanstalk.
00:22:43.358 - 00:22:47.166, Speaker A: Maybe you want to pull it up on Beanstalk. On recnet, it's number eight.
00:22:47.310 - 00:22:52.844, Speaker B: And the value is $181 million.
00:22:53.544 - 00:22:54.160, Speaker A: Yeah.
00:22:54.272 - 00:22:56.040, Speaker B: Mango was 115. Beanstalk.
00:22:56.072 - 00:23:30.124, Speaker A: 181 Beanstalk. You know, it's a algorithmic stablecoin protocol. You know how that goes. Right? But what was interesting about this one was the hacker submitted two Beanstalk proposals on its governance forums, BIP 18 and BIP 19. BIP 18 was called out to transfer all the money from the protocol to the hacker. And Bip 19. BiP 19 was to send two hundred fifty k to Ukraine as a donation.
00:23:30.704 - 00:23:31.488, Speaker B: To who?
00:23:31.616 - 00:23:57.574, Speaker A: $250,000 to Ukraine. To Ukraine as a donation? Yeah, Ukraine. The attacker then used a flash loan of about a billion dollars, leveraging aave, Uniswap and sushi to gain enough voting power, which is two thirds that's needed to trigger an emergency execution. The flash loan was successful. Okay. And the hacker was able to walk away with $180 million.
00:23:57.654 - 00:24:23.722, Speaker B: For those who aren't familiar with flash loan, it's a loan where you borrow money, borrow any assets, and return the loan within the same block. So basically, the guy borrowed governance tokens, used that to pass the governance, his own governance proposal, to steal all the money in the protocol and then return the governance token with all these three things within the same block.
00:24:23.858 - 00:24:57.528, Speaker A: But let's talk about flash loans. What an interesting concept. I think it was proposed by Ave, right, and the ability to borrow unlimited amount of money without any collateral within a block that allows you to take care of any transactions within one block to extract value. That's ingenious. Right. But it's also scary because there are so many different types of attacks that happens because of flash loans. You know, flash on oracle attacks, reentrancy attacks, and governance attacks are the three that I want to call out infinite capital within.
00:24:57.576 - 00:25:01.102, Speaker B: Within the same block, basically, without. Without needing any collateral.
00:25:01.288 - 00:25:47.102, Speaker A: That's right. But how did the hacker take away, take off with $180 million? It turned out the root cause of this was the existence of the emergency commit function that was in the governance contract. And within this contract, you're able to essentially call the execute function and use that as a way to introduce your own logic where you can essentially walk away or transfer the money that's from the protocol to the user's wallet. And so the way it worked was he or she got two thirds of the vote using a flash loan, and it triggered the emergency contract. And from there, he or she introduced his own logic that allowed them to pull the capital out because they had this approval of the. Of the government.
00:25:47.158 - 00:25:55.754, Speaker B: Why does that emergency contract exist in the first place? Because that's the question. A huge attack vector.
00:25:56.454 - 00:26:03.542, Speaker A: That's an attack vector. It's an attack vector. And I think it was overlooked. There should have been some sort of logic in place to stop that from happening.
00:26:03.638 - 00:26:21.426, Speaker B: Normally when you pass a governance proposal, it doesn't execute immediately. It's normally just a signaling multisig mechanism, and then you still need the multisig or whatever to actually approve the actual proposal.
00:26:21.570 - 00:26:32.962, Speaker A: That's right. But in this case, it was all done via smart contracts. So that's within the flash loan or the economic attacks bucket.
00:26:33.058 - 00:26:37.174, Speaker B: It's a genius. I love it. It's not fun.
00:26:37.514 - 00:27:07.838, Speaker A: Who would have thought about that using governance? And this was done a day before the attack. They put the proposal up. Maybe it was the euphoria of the bull market, of the Defi bull market, but everyone overlooked that. I mean, the proposal was on the forums site. Yeah. And maybe he, he or she put the other proposal for Ukraine to confuse people from looking at the first one, and they all ended up looking at the first, the last one. And that could be the reason for that.
00:27:07.838 - 00:27:52.242, Speaker A: But it's pretty genius. Very, very smart for them to extract this value. So we're going to move on to the next bucket under the vulnerability stack, which is the smart contracts and protocol logic and high level. What does this mean? Well, there's many logic within smart contracts that could help and allow malicious attackers to find ways to call the contract in a way and introduce their own logic in a way to trick the contract into giving you money. That's essentially what it is. So I was listening to Sam Cz San, he's a security researcher at Paradigm, probably one of the most infamous security researchers in our space. And he pretty much calls out the first thing.
00:27:52.242 - 00:28:29.594, Speaker A: He goes, do not trust unsafe external calls, no matter what. And that's like the first thing, right? Like you don't trust unsafe smart external calls. What is unsafe external calls? Well, it's essentially a smart contract that you own. Let's say you are uniswap and you have your own smart contracts. From time to time, these smart contracts will have to interact with third party smart contracts as a way to facilitate trades or a way to facilitate loans. I mean, that's the whole composability nature of smart contracts to begin with. And so what external call function does is it helps function or helps execute certain types of state changes that you want the user to make.
00:28:29.594 - 00:28:54.044, Speaker A: And it turns out like there's an attack vector that can introduce really bad logic, like the reentrancy attack that could use different types of attacks to extract value. And I can talk a bit about what the reentrancy attack is, but unsafe external calls are, like, really bad. Like, you should always think about what smart contracts you should trust outside of the DeFi protocols or etcetera.
00:28:54.124 - 00:28:57.660, Speaker B: So what's an example of this type of vulnerability?
00:28:57.812 - 00:29:23.794, Speaker A: Oh, man. I mean, this happens all the time. Like, the DAO was the first one. One of the first ones, and it happens still to this day. So let's just go back to what happened with the DAO, since we've already kind of covered this. So the hacker deploys a smart contract that then deposits. So let's say if I want to invest one ETH into the DAO, right? The hacker deploys its own smart contract and deposits one ETH into the DAos protocol.
00:29:23.794 - 00:30:18.624, Speaker A: And so this allows the hacker to then call the withdraw function in the DAO smart contract. And what it does is the DAO smart contract will look at the hacker's wallet, or smart contract, and it shows that there is still less than one ETH on its wallet, so it will return the one ETH that it deposited back to the hacker. While this happens, the attacker will then use a call function to withdraw again. And so it creates this infinite loop where it will continue to drain the wallet to the point where the DAO is completely. It can't get out of this loop until it's completely flushed out. So this is called the reentrancy attack, or the infinite loop attack. And this happens often, like, it happened with cream, and it's like a very common attack, which still happens to this day.
00:30:18.624 - 00:30:34.710, Speaker A: And basically what I've learned is that the check should happen before the transfer, not after the transfer. So the wallet should check, the dial should check before the transfer, before they actually make the transfer happen.
00:30:34.822 - 00:30:43.886, Speaker B: And by the way, cream is number twelve, and I think this is only one of the three hacks, but it's number twelve. This one hack is number twelve. $130 million.
00:30:44.030 - 00:30:58.444, Speaker A: Yeah, I like the fact that you're calling out the number with the attack that we're talking about. Like, if we go into any other industry, we're like, oh, yeah, you know, 180 million, and that's just number twelve on the list. And I'm like, what?
00:31:00.104 - 00:31:06.000, Speaker B: I mean, that's because we have a global distributed ledger that's open to everyone to, to check and audit.
00:31:06.192 - 00:31:17.368, Speaker A: That's right. But, like, if this happened in the real world, I mean, like, this would be talked about for a very long time. So, yeah, it's just, just interesting to call up any other attacks that you.
00:31:17.376 - 00:32:13.334, Speaker B: Want to talk about. Within this, there's a bunch of other smart contracts, vulnerabilities, in addition to their reentrancy attacks that they mentioned. But I'm just looking at the top hacks in history. Half of them are centralized exchanges whose hot wallets got drained, and the other half are bridges, which is really staggering because there's so many different types of smart contracts, there's so many defi protocols, but why is it that the bridges are the ones that get hacked the most? Right? So I'm looking at this list. There's the Ronin hack, the BNB bridge hack, the wormhole hack, the nomad bridge hack. Like, these are the top four bridge hacks. In terms of dollar amount, it's like half a trillion dollars, another half a trillion dollars, a third of a trillion dollars, and then a fifth of a trillion, like, in total, it's like, what? Like $2 trillion worth of money lost in bridges.
00:32:13.994 - 00:32:14.954, Speaker A: It's insane.
00:32:15.074 - 00:32:47.150, Speaker B: And the hacks are all different. So, for example, the BNB bridge hack and the wormhole hack, they are smart contract vulnerabilities. They still fall under that category of smart contract bugs, whereas Ronin is more of a phishing attack, where infrastructure. Four of the nine validators of the bridge, their private key, their private keys, were compromised due to a phishing attack, and they're all different anyway. So which one you want to talk about?
00:32:47.342 - 00:33:14.040, Speaker A: Well, the binance hack, it's within smart contracts. Let's talk a little bit about that. It's a very technical attack, but the high level, even like Sam Cc son, if you read through his thread, he says 95% of it. He doesn't even understand the logic. There's only 5% of it that he understands. And so we'll give you a very high level of what that means. But the basic concept of what happened with the binance hack was the fact that they were able to mint 2 million BNB.
00:33:14.040 - 00:33:44.330, Speaker A: They were able to trick the prover to thinking that they are binance. And so because of that, they were able to trick the prover into thinking that they could mint whatever tokens they wanted, and then they ended up minting 2 million in BNB tokens, and then they use that as a way to extract value from the binance chain. And then they pulled money out using several methodologies. So they put some into arbitrum, they put some into other chains, and they were able to pull out whatever value they could.
00:33:44.402 - 00:34:02.448, Speaker B: I just want to add a little bit more context. So, binance chain actually has two chains. I forgot the names. One is called BSc chain, and the other one is BNB chain. Or something along those lines. But anyway, one of those chains is used for governance, and the other one is used for smart contracts. And there's a bridge between the two chains.
00:34:02.448 - 00:34:41.132, Speaker B: And basically the hacker, as we described, normally, when you bridge tokens from one chain to another, you first lock the original, the tokens into the original chain, and then you mint the wrapped or synthetic tokens into the second chain, so that the tokens on the second chain are basically backed by the tokens on the first chain. But what the hacker did was he tricked the chain into thinking that there is backing. In reality, there is none. So they basically were able to mint BNB out of nowhere without any backing. If I recall correctly, that's how the hack worked.
00:34:41.228 - 00:35:13.323, Speaker A: That's right. And it's funny, because if you think about how all these bridge attacks started, it started right after Vitalik posted his paper about why bridges have very weak security assumptions. The first attack happened was wormhole, and then it set off a bunch of other bridge attacks that happened right afterwards. I mean, I agree with Vitalik. I mean, if you think about it, you know, bridges have its own security assumptions, and you have to trust a bridge in being able to bridge in, bridge out of capital into different chains.
00:35:13.363 - 00:36:03.498, Speaker B: But just to push back a little bit. So let's push back Vitalik. Vitalik's argument was actually, it's very nuanced, and it's not really related to the three bridge hacks, three or four bridge hacks that we mentioned. So, Vitalik's point is that, again, in normal bridges, what happens is you lock the tokens into the first chain, and then you mint the synthetic or wrap tokens into the second chain, but the tokens that you own on the second chain is not native to that chain. So, for example, let's say take a very old example. Long the rap BTC, right? Time. Like when you hold Rad BTC on Ethereum, you're not only relying on the security assumptions of Ethereum, you're also relying on the security assumptions of bitcoin, and you're also relying on the security assumptions of bridge itself.
00:36:03.498 - 00:37:03.236, Speaker B: So the token that you have on the destination chain is not native, and it's not, it's very vulnerable in the case of a 51% attack. So in the case when the 51% attack happens, the hacker is able to reverse the transactions in the first chain in a way that they can basically reverse the locking of the tokens in the first chain in a way that, as a result, the tokens that are wrapped on the second chain on the destination chain is no longer backed. So you can lose everything by holding wrapped tokens on the destination chain that is bridged in the case of a 51% attack. And the reason why I say this argument is nuanced is not related to the four examples that we gave earlier, is because in those hacks, there was no 51% attack. It was literally just a bug in most of them. It was a bug in the smart contract. The scenario that Vitalik described is something that could happen in the long run.
00:37:03.236 - 00:37:20.174, Speaker B: If more and more assets are bridged via these traditional bridges in the form of wrapped tokens, the more value there is locked in those wrapped tokens, the more incentive you give to the hackers to launch these 51% attack. It's a pretty scary scenario.
00:37:20.294 - 00:37:59.548, Speaker A: Well, I mean, let's talk about it a bit more. I mean, most bridges today rely on either native assets that chain one, or bridged assets using wrap tokens as two. But even those bridges have its own security parameters in place. Right, as you mentioned. So if the bridge was to be attacked in such a way where it takes over consensus, or it could take over the custody of the chain itself with all the custodied assets, I completely agree with you on that side. But don't you think that even with that, like, all the security assumptions are still weaker compared to the robustness of layer ones and how long they've been around?
00:37:59.596 - 00:38:14.304, Speaker B: Yeah, I mean, because that's the core argument. Like, whenever you have wrapped assets through a bridge, you're relying on arguably three times the security assumptions, the assumptions of original chain, that destination and the bridge itself.
00:38:15.044 - 00:38:36.170, Speaker A: Here's an example. Right? So, and you also have to trust who are operating these bridges. So an example that I'll give you is, like, harmony. Harmony had a bridge that had about $100 million total locked in its bridge. And the bridge itself was secured by two of five multisigs. And these multisigs were sitting, or. Sorry.
00:38:36.170 - 00:38:41.666, Speaker A: And these wallets or these private keys were sitting on hot wallets, and it was also kept in plain text.
00:38:41.850 - 00:38:43.050, Speaker B: It's ridiculous.
00:38:43.202 - 00:39:11.444, Speaker A: And so the attacker was able to compromise the two keys, and then they easily drained 100 million from the bridge. And so, like, if you think about it, like, we have to trust the bridges themselves. Ethereum, obviously, I can trust Ethereum. I can trust bitcoin Solana, also, more or less. Right. But when it comes to bridges, like, I have a very hard time trusting most bridges today just because of the security parameters are in place.
00:39:12.224 - 00:39:33.596, Speaker B: So harmony. Harmony, number 16. Number 16 with $100 million value lost due to the hack. Yeah, but, yeah, I agree with you. I don't trust most bridges, and I definitely don't trust the ones that have that use wrapped assets. I don't feel comfortable holding wrapped assets same at all.
00:39:33.700 - 00:39:34.228, Speaker A: Same.
00:39:34.356 - 00:40:11.766, Speaker B: But the nuance is depending on how we define wrapped assets. But I feel a little bit better if it's an asset that sits on a layer two, because at least on paper, the security assumptions of holding assets on a layer two is the same as holding assets on Ethereum. Layer one. Obviously, the current state of things is not exactly that because you have centralized sequencers and stuff like that, but centralized sequencers, the worst they can do is they censor your transactions, but they cannot steal your assets. So if you hold assets on a layer two, you cannot lose it. You may get censored. So I'm okay with that.
00:40:11.830 - 00:40:28.862, Speaker A: And sequences are essentially within layer twos and they process transactions within different layer two. So optimism has its own sequencer. Arbitram has its own sequencer. Typically they're operated by the chain itself or the company itself. And the goal is, over time, to decentralize those sequencers over time.
00:40:28.958 - 00:41:04.112, Speaker B: So if I could rank, like, this is very high level, but if I could rank the different types of bridges in terms of how much I personally trust them. Well, yeah, let's do that. I feel very comfortable storing assets on a layer one, like a native assets. So, like, I've seen bridges where bridges, if you call them bridges, but I've seen products where you move USDC from Ethereum to USDC on Solana, that's fine. Like, you're not introducing new risks. Like USDC is backed by a circle anyway. So by bridging.
00:41:04.112 - 00:41:13.272, Speaker B: Bridging, quote unquote bridging. That way you're not taking on more risks. So by doing that bridging, you still hold us DC, that is native to Solana. So that's fine.
00:41:13.368 - 00:41:15.064, Speaker A: And touch on, like, layer twos, right?
00:41:15.144 - 00:41:44.952, Speaker B: Yeah. So layer two, the assets on layer two will be next on my list because, I mean, despite the centralized sequencer, I think they're good players. And at the very least, you're not going to lose your assets. So the assets that are stored on layer two, that would be next on my list, the one I definitely would avoid, is wrapped assets on a different chain. So, for example, wrapped ETH that has been bridged to Solana, I would not hold that at all.
00:41:45.008 - 00:41:46.624, Speaker A: And it's very illiquid, too, so.
00:41:46.704 - 00:41:50.000, Speaker B: And by the way, that was the hack behind wormhole.
00:41:50.152 - 00:41:51.512, Speaker A: Wormhole that's right. Yeah.
00:41:51.608 - 00:41:54.728, Speaker B: So don't. Don't hold. I will not hold any wrapped assets.
00:41:54.896 - 00:42:16.312, Speaker A: Yeah, I agree with you. So, like, personally, what I use is similar, like, layer ones. If I can interact in layer ones natively, I'll do that. Two is layer twos have their own, like, bridges. So arbitrum, optimism. And so I typically use that to bridge in. When it comes to bridging out, it is annoying that you have to bridge out, and it takes, like, eight days.
00:42:16.312 - 00:42:37.976, Speaker A: And so people try to find ways to get the capital out quicker. And there are a couple bridges that allow you to pull your capital quicker. Like, hot protocol allows you to do it within 30 minutes. Synapse allows you to do it right away. There is a fee. But as a user, try to think of ways where you could mitigate risk. Right.
00:42:37.976 - 00:42:51.584, Speaker A: I would use, like, optimism arbitrum as a way to bridge in, because I trust optimism arbitrum when it comes to bridging out. Try to find the fastest way to get your capital out and from, obviously, a trusted brand that has been around for.
00:42:51.624 - 00:43:46.992, Speaker B: By the way, there's actually a really simple rule of thumb for users in general in terms of whether or not to trust something, anything in crypto is Lindy effect, which is the longer this protocol, including bridges and many other things, defi protocols or whatever, any protocol, the longer this protocol has gone without a hack bug free, the more likely that it will stay bug free and without a hack in the future, because those are the ones that are battle tested, the more they've grown in terms of dollar amount, and no one has managed to hack them, the more likely it is that they've been bug free. So pick the ones, like talking about bridges. Pick the ones that have been around for longer. And if you're going to use the newer bridges, understand the risks. Right.
00:43:47.128 - 00:44:04.104, Speaker A: Yeah. We should do an episode on Bridges. I don't know why. I just find it fascinating. But the other one I want to talk about is your typical fishing scams. Right? That happens. And so axe infinity was fished, and that's how 500 million was extracted from its bridge.
00:44:04.104 - 00:44:06.076, Speaker A: And it happened because, and you mentioned.
00:44:06.100 - 00:44:20.308, Speaker B: Earlier, half a trillion earlier, it's half a billion. We're not at that many. Like, the entire market cap of crypto is only a trillion dollars. We're not. Not everything is lost. Sorry about the misspoken.
00:44:20.476 - 00:44:39.904, Speaker A: I could have sworn you said billion, but. Yeah, you're right. Yeah. So the way this happened was the hacker got. So there was a senior engineer with an axie that applied for a job or something, and the job or the company sent him a PDF. He downloaded his PDF and executed him maliciously.
00:44:39.944 - 00:44:42.524, Speaker B: The PDF, I think it was the actual job offer.
00:44:43.424 - 00:44:44.320, Speaker A: Was a job offer.
00:44:44.392 - 00:44:45.124, Speaker B: That's right.
00:44:46.144 - 00:44:49.284, Speaker A: I mean, wow, it's a crazy hack.
00:44:49.764 - 00:45:00.380, Speaker B: It's genius. And by the way, that allegedly, that group is this north korean hacker group Lazarus. That's right. Allegedly.
00:45:00.532 - 00:45:07.204, Speaker A: And funny enough, this happens to every, like. I mean, we get, like, weird applications all the time within alliance.
00:45:07.284 - 00:45:09.904, Speaker B: We get PDF's all like, it really.
00:45:11.124 - 00:45:11.804, Speaker A: It's scary.
00:45:11.884 - 00:45:14.308, Speaker B: PDF's in emails.
00:45:14.356 - 00:45:48.872, Speaker A: It's actually very scary. So, notion. Use notion. So, March 23, the hack occurred, right? And then around March 29, someone brought it to the Axie Infinity team's attention. But what ended up happening was, once the attacker got into the it infrastructure of axe infinity, it was able to compromise four of the sky Mafis validators, and you need five to be able to sign a transaction, approve the transaction. Right. And so the Axiedao had another, like, key, and so they were able to compromise that through, like, a gasless fee transaction.
00:45:48.872 - 00:46:25.308, Speaker A: And then they put the five keys together, and they were able to get access to the capital that was within the bridge, and they were able to pull out $500 million out of the Axie affinity bridge. I mean, like, if this wasn't going to happen, actually, it was going to happen to someone else. Like, there's just no way you can control the people that you work, that work for you to be able to, like, you got to make sure that you trust everyone that works for you to download information, send information in a very secured manner. So it's one of those things that really sucks for the industry. But I also think that it also hardens us as. As a company, as companies are amazing people.
00:46:25.356 - 00:46:56.742, Speaker B: They're. They're great player. They're good players in this industry, and they're great builders. Yeah. You know, I've said in our last episode, like, most of the games in crypto today are really fucking boring. And I know people love to hate on things like Axiom and Stepm, but these are the games that are actually interesting to me, not the AAA games with nfts on chain. But anyway, point being, there's actually two things that went wrong here, so let's dive deeper.
00:46:56.742 - 00:47:18.506, Speaker B: One is that the employees clicking on the phishing or PDF and fell into this phishing attempt. But the other thing is that the bridge itself has nine validators, and four of which was the company itself. So there was a point of centralization and points of centralization are vulnerabilities. Right.
00:47:18.610 - 00:47:36.094, Speaker A: And the bridge itself uses proof of authority. And proof of authority consensus is essentially like, you know, that these validators are known validators within the ecosystem or within the bridge or the layer one. And these are like known validators that can commit to the approvals or transactions of the bridge.
00:47:36.214 - 00:48:04.862, Speaker B: And by the way, like this, centralization risks. Every protocol in this industry has to start centralized. There's no other way around. If you want to ship, if you want to outperform the incumbents, if you want to build something great, you have to start centralized. So there's no way around it in the beginning. But for users, they need to understand if they're going to use those bridges, they need to understand the risks.
00:48:04.998 - 00:48:48.688, Speaker A: Agreed. So we went through some of the attacks that happened within crypto. Now, what does the web three security stack look like? Or the crypto security stack look like? And how can founders end users use software as a way to mitigate these types of risks? Recently, I think it was just yesterday or two days ago, Coinbase published a web three security stack report that gave a highlight of just the entire startup scene around this emerging ecosystem. It turns out there are a lot of teams that are working on it, on all of these problems that we've talked about. Any area that you want to talk about within that stack.
00:48:48.736 - 00:49:16.468, Speaker B: Why don't we continue with the phishing attempts? How can consumers protect themselves from phishing attacks? Because recently a lot of wallets started rolling out sort of antivirus within the browser extension, for example, that would alert the user if something looks like a scam. So why don't we talk about the Kevin Rose hack? Remember that?
00:49:16.636 - 00:49:18.060, Speaker A: Yes, I do remember that.
00:49:18.212 - 00:49:45.534, Speaker B: So what happened was I think Kevin Rose fell into a phishing attack from an airdrop. He clicked on that airdrop, but he accidentally signed a transaction that allows the hacker to list all his nfts on Opensea at basically zero price. And by the way, that's due to the way C port works on open. The C port is the OpenSea protocol.
00:49:45.574 - 00:49:47.694, Speaker A: For third party gasless transactions.
00:49:47.734 - 00:50:42.030, Speaker B: Exactly. And so basically he fell into that. He signed a transaction that allowed their nfts to be listed at basically zero, and the hacker basically bought the nfts for nothing, so stole everything. And the reason why this is a really interesting example is because a lot of wallets are thinking about rolling out their transaction simulation alerts based alerts in their wallets. And the way it works is before the user signs a transaction, the wallet itself on the backend they will run a fork of Ethereum mainnet and they will simulate what the transaction will do to their assets. And if the simulation shows that some nfts are going out but nothing come back in, there's a very good chance that it's a hack. Because normally when you run a transaction on Opensea, let's say you sell an NFT, but you will get some ether in return.
00:50:42.030 - 00:51:27.574, Speaker B: But if you get nothing in return, according to the simulation, very good chance that this is a hack. So a lot of wallets are starting to build this or roll this out. But in this particular case with Kevin Rose, this transaction simulation would not work because in that particular case, it was a gasless transaction. No NFT was going out when Kevin Real signed that transaction. But instead, the transaction allowed the NFTs to be listed at a basically nominal price, and then the hacker later on could steal those NFTs. So the traditional transaction simulation would not have caught that bug. But there is a product that I started using recently, which is pocket, and by the way, false disclaimer, they're going to be in our next cohort.
00:51:27.574 - 00:52:08.436, Speaker B: But pocket, basically it's a separate browser extension in addition to the wallet that you use, and it would alert you. So whenever you sign a transaction, there will be a pop up that says this might be a scam. But what they do is they don't just simulate the transactions, they actually try to decode the actual signature itself that the smart contract and see what would happen if Kevin Rose signed that transaction. There's a possibility for someone else to steal everything. So security like, it's really, really complex. You have to decode every transaction, every contract, and try to understand what, what's going on under the hood. But anyway, that's phishing attack.
00:52:08.580 - 00:52:09.308, Speaker A: Yeah.
00:52:09.476 - 00:52:18.020, Speaker B: Use products like this. There's probably other browser extensions as well to help you do. There's blowfish, but blowfish is under the hood, right?
00:52:18.052 - 00:52:21.894, Speaker A: They work with Phantom? Well, no, they're releasing their own extension too.
00:52:22.044 - 00:52:26.810, Speaker B: Okay. But, yeah, so phantom started rolling. I think phantom integrated with blowfish.
00:52:27.002 - 00:52:28.282, Speaker A: Blowfish, yeah.
00:52:28.418 - 00:52:54.830, Speaker B: Our original concern was if you install a browser extension that creates a whole new set of friction for the users. Is this really good for mass adoption? And then I started using it, I realized, well, I don't mind because I've been using a hardware wallet with my browser extension. Every time I send a transaction, I have to approve things on my hardware wallet like this. Additional work that gives me peace of mind is worth it.
00:52:54.942 - 00:53:08.054, Speaker A: Yeah, I know you and I have gone back and forth on this for a while. And, you know, like, I agree. Like, having. I'll concede and say that, like, you know, downloading an extension to protect your assets makes a lot of sense.
00:53:08.094 - 00:53:11.102, Speaker B: You hate it. Maybe I still hate it.
00:53:11.158 - 00:53:34.146, Speaker A: I still hate it. But I do think that will change over time anyways because, you know, you just can't have two extensions running. One protecting your assets, one that allows you to use your assets. Right. I feel like that could all become one similar. Like Phantom, how Phantom integrated with blowfish. But overall, I do think, you know, for the average user that's coming to crypto, I think it's good for them to use this for now.
00:53:34.146 - 00:53:47.642, Speaker A: Right? For, like, people like you and I, even for me, like, everything I do is through a hardware wallet. Like I have. I don't use hot wallets, period. And I just, it just through experience, it's just very hard for me to do anything.
00:53:47.698 - 00:53:51.994, Speaker B: It's from the. All the PTSD from back end.
00:53:52.034 - 00:54:21.912, Speaker A: I have so much PDSD. I even like when I execute the transaction, I look at the contract it's interacting with. I'll copy and paste into etherscan and I'll copy and paste it to google to make sure that that is legit. It's just, you have to do that. What's really cool now is that metamask allows you to name contracts that you interact with often. So what I do now is with the most common contracts I interact with, I'll just name it so that I know that the contract I'm interacting with is trusted, by the way.
00:54:21.928 - 00:54:55.126, Speaker B: So back to that Kevin Rose example. That particular transaction that he signed was a c port transaction. Like, if you were able to tag the transaction or the contract with, like, let's say, openSea, because that type of transaction would normally only happen on OpenSea, right? So if you're able to tag that contract with Opensea, then when Kevin Rose saw that phishing attendance and signed, like, about to sign that gasoline transaction and saw Opensea on a different website, he would smell something very suspicious.
00:54:55.230 - 00:55:24.546, Speaker A: Yeah, yeah, that one was very sophisticated. I feel like, because whenever I list on Opensea, I don't know why my heart drops every time, but it says, give me access to all your nfts. I'm like, no, I don't want to give you access to all my nfts. I hate it. But just Hodl until they fix this. But yeah, I completely agree with what you're saying on the consumer side, especially with downloading the extension for consumers.
00:55:24.650 - 00:56:12.442, Speaker B: We talked about using either a browser extension with strong security alerts or using even separate a browser extension like pocket. We talked about Lindy effect, which is trust the protocols that have been around for a while. We talked about using a hardware wallet. I always use a hardware wallet as well, unless it's for testing a new product where it only needs like a couple of ETH for transaction fees. We talked about never store value, a lot of value in wrapped assets that are bridged to a different chain, like wrapped Ethan on Solana, that kind of crap. I never, never never ever touch it. I mean, you can touch it, but make sure to convert it into something else, into a native asset immediately after the bridging.
00:56:12.442 - 00:56:49.186, Speaker B: Just don't store value long term in those assets. Obviously FTX, never use centralized exchanges for custody. Use centralized exchanges if you have to, for trading. But the moment you've done trading, just move it back into your hardware wallet. We talked about the PDF's. Be careful about all the suspicious PDF's URL's when you receive an email and if something looks suspicious. If there's a PDF, always look for the email address of the sender, make sure that it is legit.
00:56:49.186 - 00:57:23.758, Speaker B: Copy paste everything, do research on Google or whatever, anything you can do before you click on that PDF. I received the email yesterday about Metamask requiring KYC, right? Come on man, Metamask will never do KYC. But the email was like, your metamask account is compromised, something like that. And we need you to KYC. And there's a link in there that asked me that if you click on it, that will ask you for like a bunch of information, including your seed phrase. So that's how the hacker will learn about receipt, never leak or seed phrase?
00:57:23.806 - 00:57:29.034, Speaker A: Basically, yeah. Just, you know, don't open any emails, don't turn your computer on. Just.
00:57:30.974 - 00:57:42.694, Speaker B: By the way, I always use a different laptop. Like that's totally clean, it has nothing else installed. I never use it for anything else except for signing transactions.
00:57:42.854 - 00:57:56.872, Speaker A: Chromebook is probably the best for that. Like I use a Chromebook because Chromebook is very hard to install malicious bug softwares onto your computer because it's all just a Chrome browser. And so don't use your real computer for anything.
00:57:56.928 - 00:57:57.408, Speaker B: Right.
00:57:57.536 - 00:58:09.776, Speaker A: Use a Chromebook and that's a very cheap fix. $150 on Amazon, and that can solve a lot of your problems. Between that and a hardware wallet, I think will should get you to where you need to be.
00:58:09.800 - 00:58:25.618, Speaker B: Yeah. And everything we've mentioned so far, I feel it's still pretty basic. It's like table sticks I have several like OG bitcoiner friends from back in the day, like those early libertarian bitcoiners.
00:58:25.666 - 00:58:26.010, Speaker A: Yes.
00:58:26.082 - 00:58:39.362, Speaker B: They do a bunch of crazy shit for their own privacy and security. Like they're so fucking paranoid about their Opsec. I'm not going to say what they do because that's bad for their privacy, but everything we've mentioned so far is table sticks.
00:58:39.458 - 00:59:14.944, Speaker A: Well, I mean, like you could talk about Zappo and how they custody assets, right? They have like cold storage and cold storage is a storage where it's completely removed from a hardware wallet. The keys are located in some computer that has never, and that's air gapped. And what air gapped means has never been connected to the Internet. And it's stored hundreds of miles away in mountains where there's like 24 hours, seven security services that overlook the entrances of the location. And you don't know where they are all across the world. I mean, that's like, I'd probably see the top. Like this is where like Wensen's the founder of Zappo.
00:59:14.944 - 00:59:17.164, Speaker A: That's where he focuses on in terms of security.
00:59:17.464 - 00:59:31.680, Speaker B: What about developers? What can we recommend developers? Because we give some interesting, I guess, hopefully helpful advice for consumers, for users. But what can DAp developers do when writing solidity?
00:59:31.832 - 01:00:17.326, Speaker A: People typically write solidity in hard hat. Foundry and build before was truffle. It turns out foundry is probably the best now because it's optimized in rust and it's more secure based on memory. And because of that you're able to test and iterate your code much more quickly than you can on, let's say, hard hat because Hardhat uses Java as an example, JavaScript, that's one example of how founders can really focus on putting out secure code. And there's other ways, right? There's something called slither. And Slither allows you to detect vulnerabilities in smart contracts pretty easily. You could also do fuzz testing and fuzz testing someone.
01:00:17.326 - 01:00:27.214, Speaker A: Essentially there's like a software like echedna, I think it's called, and it tests how your smart contracts react to like different randomly generated transactions.
01:00:27.334 - 01:00:44.374, Speaker B: As an example, Slitter is interesting because I've not used it, but I understand the concept, which is that, you know, developers, when, when they finish, you know, writing a smart contract, they go out to auditors, right? They pay a bunch of money like, I don't know, 20k or something like that per audit.
01:00:44.834 - 01:00:45.458, Speaker A: More.
01:00:45.586 - 01:00:53.162, Speaker B: More, yeah, probably, yeah. Depending on the market. Like it evolves a lot and depending on the auditor themselves, as well. So they're really good auditors. Probably.
01:00:53.258 - 01:00:56.858, Speaker A: There's a couple out there maybe you want to call out like, trilobits, open zeppelin.
01:00:56.906 - 01:01:00.130, Speaker B: Trilobits and open Zeppelin are, for me, probably tier one.
01:01:00.202 - 01:01:01.536, Speaker A: Tier one, agreed.
01:01:01.600 - 01:01:16.168, Speaker B: If you go back to rect news, that website that we mentioned earlier, you can see the projects and who audited their projects. And so tech Shield has been involved in a bunch of these hacks.
01:01:16.216 - 01:01:32.574, Speaker A: Rest in peace, Pec Shield. It turns out if you look at even the top 25 of the hacks under rec news, it turns out most of them were unaudited. Only one was audited, and it was by no name. Yeah, one was audited, and outside of that, most of them were unaudited.
01:01:32.914 - 01:02:09.070, Speaker B: So back to slither. So you do all these human auditing, but the problem with humans is with human auditors is that they make mistakes. They're not machines. Yes, they're very good at identifying bugs that are unique, sophisticated, and that haven't happened before. But machines are better than humans at detecting more common, basic bugs. And those bugs that happen a lot in history because basically machines this study history. And so slither is a good one.
01:02:09.070 - 01:02:38.824, Speaker B: But there's also an alliance company called Naria. They were formerly called Palnomore. Oh, they renamed it, yeah, they rebranded. But the name is, I mean, they're known as PNM, but PNM tell no more. But the name is hard to remember. But anyway, what they do is they also build automated auditing tools to complement human auditors. And the state of machine based auditing today is still very much based on an expert system.
01:02:38.824 - 01:02:53.574, Speaker B: However, this goes back to the AI episode with LLM chat. DPT is that I think at some point pretty soon, probably the LLM models will be used in proper ways to help with automated auditing as well.
01:02:53.694 - 01:03:03.238, Speaker A: But I think that's the future. I mean, just having something that's continuously monitoring your smart contracts over time, you need to have something like that, because.
01:03:03.286 - 01:03:56.316, Speaker B: Today, every time you want to update your smart contract, you're going to have to go out to do an auditing again, which is really expensive. So one of the reasons why for the past few years, we as an industry have been in this mentality of moving slow and don't break things, which is the total opposite of web two, which makes perfect sense because we store so much value in our systems. But one of the reasons why we are forced to do this is because every time you want to roll out a new version of your smart contract, you have to go through these auditing experiences, and they're really expensive and they're slow and they take a long time. But imagine having an automated tool that can help you to audit in an automated way. Your smart contracts, assuming you're rolling out like minor changes. Right. If you roll out some minor changes, you shouldn't have to go out and go to the human auditors again and pay really expensive fees.
01:03:56.316 - 01:04:04.726, Speaker B: You can just rely on some automated tools that will really help the industry move fast and still not break things.
01:04:04.900 - 01:04:49.900, Speaker A: Yeah, no, I think what happened at DeFi Summer, as an example, and if you look at all the hacks that happened on rec news, most of it happened in DeFi summer. And I think that was because everybody was competing to bring out their products to the users. And the problem with this is that all the auditors are backed up, so no one can actually audit new code. All the startup founders are competing with each other and they need to get their code in front of users so they could get users. And then you have this really bad cycle of auditors being full, not being able to release contracts, and then the founders are forced to release contracts. And just put a stipulation disclaimer out there that saying that we're not audited. And really, it turned out to be a really bad kind of phase for DeFi where everyone got hacked.
01:04:49.900 - 01:05:02.924, Speaker A: Like, literally, like there were days where I would just wake up and be like, where are my assets? And should I just pull out? I mean, I got caught up with like the urine hack and the pickle hack and it was like booby traps everywhere.
01:05:03.624 - 01:05:06.400, Speaker B: The half wrecked, if you remember that.
01:05:06.592 - 01:05:07.704, Speaker A: Yes, yes, yes.
01:05:07.784 - 01:05:17.456, Speaker B: That was not my first. So half wrecked was in the form of NFT. That was my second NFT that I've ever owned. I was 20, the first one being cryptokitties.
01:05:17.600 - 01:05:24.004, Speaker A: But, oh, where you had to mint the asset, we had to mint the NFT for. Oh, wasn't it?
01:05:24.124 - 01:05:31.424, Speaker B: It was a badge of honor. Like, like you're considered an OG if you got hacked in, if you got robbed in a particular.
01:05:31.964 - 01:05:37.744, Speaker A: This was Andre's, like game. Like it was some contract and everyone.
01:05:38.284 - 01:05:41.124, Speaker B: You remember, was it some fancy name?
01:05:41.204 - 01:05:46.412, Speaker A: I'm looking, I forgot the name, but I think it was supposed to be a game.
01:05:46.468 - 01:05:55.536, Speaker B: It was game he allegedly has been developing for a while. And then, yes, somehow it got leaked. Like if people found his smart contract.
01:05:55.680 - 01:05:58.200, Speaker A: They found that contract. He said not to call it, don't.
01:05:58.232 - 01:06:02.484, Speaker B: Call it, definitely call it. He def and did it on purpose.
01:06:03.864 - 01:06:05.364, Speaker A: Yeah, I mean, I called it.
01:06:06.784 - 01:06:09.448, Speaker B: I got rocked and I believe.
01:06:09.576 - 01:06:27.748, Speaker A: I mean, it was. I mean, I mean, I think that was because of yearn. Everyone, like, aped into urine and turned out to be. It was a good times. I want to touch on, like, one more. Two more areas, which I think could be interesting. You talked about consumer security, which is very, very important.
01:06:27.748 - 01:06:31.204, Speaker A: And you talk about security tools like pond, or it's called naira now.
01:06:31.244 - 01:06:34.184, Speaker B: They're called Naraya. N a R. Naria.
01:06:34.964 - 01:07:05.102, Speaker A: Okay. There's another one. There's two or three others that I think could be important for founders. One is bug bounty platforms. So there's, like, code arena and immunify, and essentially, like, you have these, like, a funnel of, like, incredible security engineers that are ready to review your code and get a bug bounty or get a bounty of some sort. And so this is like, a great way to test out your contract for hundreds of security developers are out there and to make sure it's like. Like, hardened.
01:07:05.102 - 01:07:25.754, Speaker A: Like your. Your code is hardened. There isn't like a. I wouldn't say there's a framework that founders should follow, but there are many things that you could do to make sure that you're protected. One is security audits. As we mentioned, there's platforms like pond. No more bug bounty platforms that stress test your code.
01:07:25.754 - 01:07:33.934, Speaker A: There's also monitoring services as well. I believe there's forta that's released by open zeppelin.
01:07:34.094 - 01:07:50.902, Speaker B: I'm actually a little bit skeptical. I'm not trying to make anyone look bad, but I'm actually a little bit skeptical about real time monitoring tools, because can you think of one single hack that took many days to play out? All the hacks I've seen at the snap of a finger, it's done.
01:07:50.958 - 01:07:51.310, Speaker A: Seconds.
01:07:51.342 - 01:08:04.106, Speaker B: Yeah, it's done. Even if you monitor those hacks, what can you do about it? I guess it can feel a little bit good about noticing those hacks early and notifying your users. You can't really do anything concrete.
01:08:04.210 - 01:08:34.254, Speaker A: Well, here's a fun example. Let's say that you do find out, right. Then it's a race to figuring out who can win the transaction via Mev. Right. So if you have a direct, let's say that transaction happens and you get notified right away, then the protocol could submit a parallel transaction, and you would just have to pay a higher fee than the attacker to the builder of the block. Right. And then the block builder then proposes it to the validator.
01:08:34.254 - 01:08:36.230, Speaker A: That then gets accepted into the transaction.
01:08:36.302 - 01:08:52.110, Speaker B: So you're saying that the hacker steal something and then, like, swaps the whatever token that they stole into another asset. And so. And then the project that got hacked can try to front run that transaction? Is that what you're saying?
01:08:52.142 - 01:08:52.990, Speaker A: Yeah. Yeah.
01:08:53.022 - 01:08:53.430, Speaker B: Okay.
01:08:53.502 - 01:09:20.020, Speaker A: Yeah. Or, like, yeah. I mean, like, there's so many ways around this, right? Like, but, you know, it has to happen quickly. It probably has to be automated to a certain extent where it automatically pays a bribe fee that's higher than the hacker, and they could front run the transaction. That could block the transaction. I mean, like, I'm just talking about, like, in a perfect world, could this really happen? Maybe. Yeah, it could be really cool, right? Like, now we're marrying, like, security with Mev, right? And I know we need to talk about Mev.
01:09:20.020 - 01:10:13.314, Speaker A: We've talked about in the past, and I think we should do a session around, like, mev as well. Great. Well, I know there are many more topics within web three security that we want to talk about. An example of this is what does the web three security stack look like? We talked about some of it, but what does it actually mean? There's Gauntlet, there's chaos labs that offer simulation based services as an example. There's threat intelligence, there's formal verification. There's security testing tools, wall infrastructure, access management. There's so many areas of web three security, and I do think that probably in the next couple episodes, we'll dive deeper into this area and understand what can founders use? What should they be looking out for, and where do we think crypto security is going to go moving forward? But until then, thanks for tuning in to good game.
01:10:13.314 - 01:10:16.012, Speaker A: Hit subscribe if you haven't, and we'll catch you next time.
01:10:16.068 - 01:10:18.424, Speaker B: And stay safe in the dark forest.
01:10:18.884 - 01:10:22.644, Speaker A: Thanks for listening to good game. Don't forget to subscribe. We'll see you next week.
