00:00:06.120 - 00:00:30.174, Speaker A: Hello. Welcome back, everyone. Study season 2024 at TTE Academy. This is the final session of concentrated liquidity from scratch. Great to see you all here again in the session. Welcome, Mark again. We'll meet for a final intense round of exploring concentrated liquidity.
00:00:30.174 - 00:01:08.180, Speaker A: Before we do that, I have another announcement to make. Free minting is open. We have deployed, finally, our own NFT smart contracts. We are on optimism. We re minted the existing nfts and you now have access to minting your new brand new nfts acquired during the study season. We'll open the exams for Mark's course in the session. You'll have the chance to go over the questions in the session and ask in case you need some clarification.
00:01:08.180 - 00:01:53.894, Speaker A: And there are three other exams already live@tokenengineering.net for live track six and seven. Six is modeling and simulations with the application of AI and machine learning, and seven is debt analysis, applying the complex systems approach. And for all other lifetracks, you'll have to submit case studies. You can find everything at the study season information hub, all details of when to submit, how long you can take the exam. Keep in mind the free minting closes on July 9, so you'll have almost or more than a month to pass the exam. So no rush, particularly not for track three.
00:01:53.894 - 00:02:41.472, Speaker A: Mark and I decided that you'll only have one attempt, so don't rush. Take a close look. Twelve of 17 questions have to be answered correctly, but we'll get to that in a moment. Yeah. Again, free minting is open. You can take your exams now and mint your nfts to prove your freshly acquired knowledge in the study season. For those of you who are following us on Twitter or YouTube or LinkedIn, you can have access to all the recordings of the sessions about DeFI's concentrated liquidity with Mark Richardson in our study season information hub, and you will get access to it via registering@tokenengineering.net
00:02:41.472 - 00:03:09.774, Speaker A: dot all the recordings are available, all the exercises, office hours. It's really super valuable content if you're interested in the mathematics of bonding curves. It's definitely a super valuable resource. And again, exams are open, so you can mint your own personal NFT anytime via an online exam. Okay, that's it for now, Mark.
00:03:11.674 - 00:03:12.058, Speaker B: For.
00:03:12.106 - 00:03:17.534, Speaker A: A final round, I hand over to you. Thanks for coming again. Let's dig in.
00:03:19.434 - 00:03:25.186, Speaker B: Great. Can you confirm for me, Angela, that the slides are appearing correctly?
00:03:25.370 - 00:03:28.658, Speaker A: Perfectly well. Good.
00:03:28.826 - 00:04:47.526, Speaker B: Okay. And yeah, thank you, everyone, for showing up to the fifth and final lecture of this series. This one's going to be slightly different from things that we've done, I think, up until now, because the four previous lectures really had sort of a utilitarian perspective on things, whether it was just defining concentrated liquidity in a way that is easy to intuit through, or having a more pragmatic view of the parameterization, because of the kinds of things that you want, want a protocol that's using concentrated liquidity to achieve. And so the good examples of that were uniswap v three, where you want to have a very large number of contiguous liquidity pools, where, as the price boundary of one of those liquidity pools is being exceeded, there is another pool that picks up exactly where the last one left off. And this allows users to put liquidity in different buckets and so on and so forth. Then the other example was carbon Defi, where we want to allow for arbitrary pricing models, and stepping away from the amm mechanic and having a look at what it means to trade volatility, for example. This was the focus up until now.
00:04:47.526 - 00:05:30.294, Speaker B: So very, like I said, very utilitarian, and very much grounded in things that are actually happening with. With projects that are using these equations. The perspective that I'm going to give you with this lecture is much more abstract. And so we're not going to be looking necessarily at reasons why you might want to re parameterize something from an engineering perspective, but whether or not there is a greater insight that you can gain by examining the mathematical. Sorry, the mathematic fundamentals of concentrated liquidity. And so this is not pragmatic at all. It is a little bit more difficult.
00:05:30.294 - 00:06:28.134, Speaker B: And we're going to be exploring some. Some concepts that for some, I expect will be alien, or at least unfamiliar of, or forgotten. But that's okay, because at the end, all you really need to understand is that there is going to be some new algebraic identities, and it is those algebraic identities that are the main focus of the exam material. So this is very much, you know, the capstone of the course, because it's something that I can examine easily in a multiple choice context. There, of course, I do refer to some of the previous material in the exam, but this is, this lecture is more than 50% of it. Okay. Now, for those who've been reading the textbook, you will remember that throughout the exploration of, you know, Bancorp two, Uniswap, v three.
00:06:28.134 - 00:07:53.814, Speaker B: Carbon d five. I point out that there is this hidden constant in the algebra, something that is almost asserting its own existence, that is difficult to define given the specific view that we have of concentrated liquidity from a protocol implementation perspective. And where that constant shows up is at the boundaries of these boxes, right at this little window of the hyperbola that we are looking to be able to support exchange within. And it's these corners, essentially. Now, there are two different relationships here. One of them is already very familiar to you, which is, if you take, for example, the min y over minx or the max y over maxx, whether that be for the reference curve or the virtual curve, that this simplifies down to y zero over x zero, which is equal to the geometric mean of the price boundaries, which we've also given its own symbol, which is p zero. But there's another way that you can analyze these points, and that is to flip the y and x values across these quotients so that we're always comparing the max values and min values in the same dimension.
00:07:53.814 - 00:08:39.764, Speaker B: And what is maybe surprising is that when you do that, you do get a new constant out. And there's. The first time I saw that, I thought that it was obviously. But then after thinking on it a lot more, I realized it's actually not obvious at all. Like it doesn't seem intuitive or that there's any, you know, any easily explainable geometric or algebraic relationship that should mean that these things are always constant. And moreover, that constant expresses itself both in terms of the amplification coefficient a and in terms of the square roots of the. Of the high and low price bounds.
00:08:39.764 - 00:09:59.924, Speaker B: And so the, you know, the fact that this constant shows up does kind of, you know, it encourages further investigation. And so, throughout the first two thirds of the. Of the textbook, I just listed this simply as the constant circle. And at the beginning of the last chapter, I showed that you can use this constant c to create three new invariant functions, at least three new invariant functions that seem to have a prettiness about them, right? That there is something unusually concise about these invariants. And moreover, they contain, they are expressed in terms of the geometric and algebraic identities that we already know are very important. The things that characterize the curve itself, things like the intercept and the asymptote, the geometric center coordinate, when you parameterize these invariant functions using those characteristics, is when you get these, these beautifully simple terms out. And I say that that is suspicious.
00:09:59.924 - 00:10:59.288, Speaker B: But maybe the word that I meant to say is conspicuous. When you see a relationship like this, it begs further investigation, because there should be, or you expect to find some underlying reason, even if that reason is abstract, for these things to simplify down the way that they have. That's the purpose of this lecture is to look at what is that constant, c? And why is it there? Yeah, that's this slide. What is this? And I know it's an abstract question, but think about the other constant that we were looking at for p zero or y zero and x zero. In a way, that constant makes more sense, or is kind of more intuitive, um, you know, even viscerally, because we know this, um, you know, the. The mean value theorem applied to a hyperbola should. Should force the, um, you know, the.
00:10:59.288 - 00:11:36.680, Speaker B: The geometric middle point to have a relationship with the geometric mean of the price bounce. Like, there. There is, you know, even. Even if it is a little hand wavy, it doesn't seem so alien. But this, this constant, it really isn't clear what it means or why it's there. And that in order to get to the bottom of why it's there, we need to do a couple of operations to examine the hyperbola from a completely different perspective. So the first is we need to return to trigonometry.
00:11:36.680 - 00:12:53.096, Speaker B: And again, for some of us, I think that you, you know, this might be a distant memory. For others, it might be more recent. But even then, I find that, you know, a lot of different people, depending on how they were taught or the context in which they were taught, trigonometry, have, like a different. They bring in a different bias. And the perspective that I want you to have, although the only one that makes sense in the context of the conversation that we're having today, is that there are functions, let's call them the sine and cosine function, that will tell you the area of the segment of a circle from a ray that emanates from the origin to the coordinates defined by the sine and cosine functions. And the relationship there is that if there is some value theta, and you put that value theta into the sine function, that will give you, essentially a y coordinate, and you put it into the cosine function, they'll give you an x coordinate. And if you draw a ray from the origin to those coordinates, that defines the segment of a circle, and the area of that segment of a circle is equal to theta over two.
00:12:53.096 - 00:13:24.916, Speaker B: This is the relationship between these two functions and this area and the value that theta is. Now, for. For some people, you know, trigonometry and the sine and cosine functions are about triangles, which isn't, strictly speaking, true. It's more. It has more to do with the circle than it does a triangle. And for, you know, to add more, let's say, counterintuition to it. The angle theta is usually thought of as representing a type of like rotation.
00:13:24.916 - 00:14:39.224, Speaker B: And we're actually, we are going to use it in context in this lecture to represent a rotation. But when we're dealing with the trigonometry proper, I want you to think of it as an area, not as a rotation. And the reason is that just as there are trig functions that can operate on a unit circle, there are also the hyperbolic cousins of the circle trig functions. And so for this is, this is the hyperbolic sine function that defines a y coordinate, and the hyperbolic cosine function, which defines an x coordinate. And you pronounce these, by the way, as sinh and cosh, typically, if you're speaking it. And for the sake of just like cleaning up the notation a little bit and helping to disambiguate some things, I'm going to be using the greek symbol phi for the hyperbolic angle here rather than theta, just so that we can make clear that we're referring to a slightly different or a very specific value here. But the relationship is more or less the same.
00:14:39.224 - 00:15:51.914, Speaker B: The sin, chin and cosh of phi is related to this area underneath the, between this ray and the hyperbola in exactly the same way that it's related to the circle. So again, this is still an angle. It's just not the angle in the way that you're used to thinking of it. These are angles represented as areas, not as rotations. And now it's important to realize here that because of this definition, we actually are going to be forced to use the, we're forced to use the unit circle here and we're forced to use the unit hyperbole here. And that's going to be of special consequence because it means that we have to do some special transformations on the bonding curves that we're using in order to measure these angles in a way that makes sense, normalize in a way. Now, you'll note that that hyperbola that we just looked at, the unit hyperbola, it doesn't look like the hyperbola that we've been studying up until now.
00:15:51.914 - 00:16:41.564, Speaker B: The hyperbola that we've been studying has asymptotes at, you know, in the, in the vertical direction, in the horizontal direction. And the, you know, you might say that the mouth of the hyperbola opens in sort of the right quadrant and the left quadrant. And so this format is actually incompatible. We cannot use the hyperbolic trig functions directly on this shape. And so we either need to modify the trig functions themselves in order to operate this way. Or we change the shape of the thing that we're studying and those things are actually redundant, or they, you know, that the process of doing this actually would, would be more or less the same. It's just a difference in perspective.
00:16:41.564 - 00:17:41.398, Speaker B: But because of all of the work that we've done up until now, really does involve warping and transforming hyperbolas, I think it does make sense, instead of operating on the trig functions themselves, that we instead perform a transformation on the hyperbola itself. And so this is that 45 degree rotation that we need in order to get into the coordinate space where the hyperbolic trig functions are going to be useful. Okay, now, the way that I choose to denote this is that we're going to be moving from the xy plane into the t u plane. Obviously, this is not, you know, I didn't invent this notation. It's extremely common in physics, for example, to do it this way. But just note that it is an actual change in the coordinates. Right.
00:17:41.398 - 00:18:54.640, Speaker B: We are defining a new coordinate system and we're going to map all of the points from the xy coordinate system into the tu coordinate system. In the textbook, this is the image that I have provided that's trying to provide some sort of visual cue that I was able to animate a little bit more clearly, I think, on these slides. But just know that that is what this image is trying to picked. You can prove this to yourself later. And this will become important in just a few slides, that if our unit hyperbola is defined at t squared minus u squared equals one, then that means that this part of the hyperbola here, where it, where it cuts through the t axis, is going to be at exactly t equals one. And that's easy to show because, you know, one squared minus zero is equal to one. That means that this hyperbola, right, if we're using the form x times y equals some constant, means that this has to be equal to one, two.
00:18:54.640 - 00:20:01.050, Speaker B: So the 45 degree rotated version has this equation, and the one that we're familiar with would be x times y equals one, two. And you can prove that to yourself later. But just know that this is something that we're going to be coming back to and touch on just briefly a couple more times to make sure that we're well grounded in exactly the transmission that we're doing, because we're going to be doing two things at once, both a rotation and a rescaling normalization. So that 45 degree rotation can be expressed as a linear transformation matrix. And this is the typical rotation matrix for the, for the transformation that we want to do, right, which is that 45 degree turn. Note that because we're moving clockwise, this is actually a negative 45 degree turn, which expression radians is PI over four. So substituting that negative PI over four into theta will give us this new transformation matrix, which is the one that we want.
00:20:01.050 - 00:21:11.902, Speaker B: And then applying that to all coordinates x and y will give us essentially the functions required to translate from one of these cartesian coordinates into the new coordinate system to you. So once we get to here, I've chosen to define explicit functions that will either take both coordinates x and y, or just one of the coordinates x or y, in order to generate the new coordinate t or u. So this is an example of the two coordinate function, meaning that if you want to calculate t and you have x and y, this is how you calculate t. And if you want to calculate u and you have the coordinates x and y, then this is how you calculate u. But you don't need to do it that way. By substituting the identities that we already know for x and y, you can create what I call the single argument functions or the single argument transformation functions. And this is the full matrix of those possibilities.
00:21:11.902 - 00:22:09.488, Speaker B: So, for example, you can calculate t just from x, but you can also calculate t just from y. And similarly, if you want u, you can calculate it from y or you can calculate it from x. And so I use this subscription, um, convention where, you know, the, the function, um, is, uh, is sort of telling you about itself, that it takes x and y as arguments and outputs t, or takes x and y as arguments and outputs u, takes x as an argument, outputs t and so on. And so all of these are really referring to the same linear transformation that we just. That we just demonstrated. Um, but each one is kind of uniquely useful in, in different contexts, especially when we want to try and eliminate a dimension, as you've seen us, as you've seen me do before, in like some of the swap equations and things that we've done previously. But this time it's convenient for other reasons because we're not actually going to be performing any swaps or anything.
00:22:09.488 - 00:22:57.054, Speaker B: This is exclusively to try and work out what that constant C means. Now, this is just the 45 degree rotation, or the negative 45 degree rotation, I should say. They're not necessarily unit hyperbolas yet, because that rotation, if you apply it to either the reference curve or the real curve, sorry, the reference curve or the virtual curve, doesn't necessarily mean that the point at U equals zero is equal to t equals one. Right. There's a, you know, the reference curve and the virtual curve could have had any value. And so the, you know, there will be one of these curves that could, we could force to become a unit hyperbola after the transformation. But we haven't done that, right? It's not, it's not general.
00:22:57.054 - 00:24:15.504, Speaker B: And so what we need to do is to now go back and add a correction factor that will actually normalize both the reference curve and the virtual curve to sort of fall on top of each other and have the form, you know, t squared minus u squared is equal to one. Okay, so to do that, you can take those functions that we just defined and then just derive by substitution what these constants are, and you'll find that in the reference curves case, it's equal to two times x zero times bar zero. And for the virtual curve, you end up with that same constant, but multiplied by a squared, which is unsurprising, because that's exactly the relationship that it had in, in the untransformed case as well. And so the fact that it shows up here is kind of trivial, but it does mean that they both have, like, different correction terms required. And so what we're going to do then, is to simply divide through by the constant term, which will mean that the right hand side of these equations becomes equal to one. And this has an influence on the equations that we're using to map from the x y coordinate system to the tu coordinate system. And I'm hoping that this is relatively trivial.
00:24:15.504 - 00:24:55.024, Speaker B: It is tedious. And, you know, I spend a lot more time sort of going over this as carefully as I can in the, in the course textbook. And so if you want to go back and have a look at some of these steps, I encourage you to look there. These lecture slides are meant to be a little bit more concise. And so, yeah, if you feel like I've skipped some steps here, it's because I have. But where the lecture slides fall short, I promise you, the textbook makes up for. So this means that not only are we performing that rotation, but we're also shrinking the curve up.
00:24:55.024 - 00:26:15.630, Speaker B: Or, you know, depending on where it started, we might also be expanding it a little bit so that it falls exactly on the unit hyperbola in tu. Now, one of the things that you will find is that when you apply that correction factor while plugging in the coordinates for min and Max y, both for the virtual curve and for the reference curve, that you'll end up with these expressions, and they look pretty ugly, right? Like there's a, there's a lot going on in the numerator and the denominator here. There are square roots and other things, and it looks really messy. But this is like going to be one of those instances where you actually end up with a pretty satisfying simplification after we start substituting some of the things that we already know refer to these same identities, but in terms of things like p high and p low. So this is what the identities look like for the reference curve. And again, I encourage you to actually do these substitutions to go through that process of doing the linear transformation and rescaling and prove to yourself that these functions actually do give you the transformed coordinate in Tu. So that's what it looks like for the reference curve.
00:26:15.630 - 00:27:17.118, Speaker B: This is what it looks like for the virtual curve. And if those equations look familiar, they should, because it's actually exactly the same. Now that we've finished applying this, what you will find is that it doesn't matter whether you are applying this transformation from the reference curve or the virtual curve, because they're both being mapped to the same unit hyperbola. The expressions are all identical. Now, again, that's not surprising. In a way, that's what we tried to do by adding separate correction factors into each one of these identities as we. And so, yeah, this is just a sort of a visual, a visual indication or a cue to remind you that even though we're starting from two different hyperbolas in the untransformed space, after doing the rotation and normalization, they become one and the same thing.
00:27:17.118 - 00:28:52.894, Speaker B: And in a way, this means that we don't need the real curve anymore, or at least perform. Performing the analysis on the real curve is no longer necessary because we've kind of got all of the information that we're trying to perform an analysis on contained within these two curve segments, and the rest is irrelevant. Now that we have those relationships made, we can start to break up the equations in a way that makes them look a little bit more familiar. So, for example, if we come back up and just have a look at this last expression here, one of the things that you may note is that you can separate this fraction out and then start to do things like, like get rid of the difference here of having a y zero and a square root y zero by simply allowing those things to divide each other. And you'll end up with a square root y zero on the top and other tricks like that that will bring us into this type of presentation. Now, the min t and max u thing that I'm doing here is just taking the. So, for example, the min x value and the min y value, and then these t hat and u hat coordinates are really just inheriting that designation.
00:28:52.894 - 00:30:22.280, Speaker B: Now, this is fine for you, but for t, you actually don't know which t value is going to be higher than the other, because during that transformation, sometimes there will be an x coordinate that, as it swings down, even though it was like the large x coordinate in the xy plane, it might result in a smaller t coordinate in the tu plane, and so on. And again, I try to spend some time discussing this in the textbook, but it's not super important anyway, because, as you'll see in just a moment, we're going to completely ignore t hat, and we're going to do all of the analysis using u hat, which is extremely well defined, at least in the, the domain that we're interested in. So after separating out these terms, you can start to see that some of these things cancel pretty well. For example, this a over a minus one times the square root of y zero over x zero is the square root of p high. And the term that we're adding to it is the reciprocal of the square root of p p high. And some of these relationships are maintained pretty much all the way down. So, for example, for max u hat, this is now the half of the square root of PI minus the reciprocal of the square root of p high, and so on.
00:30:22.280 - 00:31:46.326, Speaker B: And that's a very satis already, like, a suspiciously satisfying result to get to after all of these, you know, after all of the work that we've done in the previous slides, you know, in a way, it's kind of surprising that this 45 degree rotation and normalization, which had, like, a lot of terms in it, and you saw how messy some of those equations were just a second ago, would collapse down into something that is, you know, so, so easy to deal with. And of course, this, this collapses down even farther just by, you know, combining lactones and simplifying the, the fraction a little bit. So, okay, that's a good indication that we're probably headed in the right direction, right. This, this 45 degree transformation and normalization has resulted in an expression that is, like, unusually sharp. It's probably hinting that there is going to be an easily discoverable, you know, geometric, algebraic, or, you know, more fundamental reason for these equations to exist. So, as I said just a few minutes ago, ignore t hat. T hat has this annoying ambiguity that makes it very, very difficult to apply like rigorous analysis to, but, uh, doesn't, uh, is very, very well defined.
00:31:46.326 - 00:34:05.538, Speaker B: Um, and it means that we can, for example, define an integrand, and we will in just a second, um, that is, you know, um, provably and easily, um, you know, applicable in the analysis that we're trying to perform. Okay, so coming back to the trigonometry here, we know that we've got these, these functions, right, the sinh, or the hyperbolic sine and cosh, or the hyperbolic cosine, that takes in some argument, and that argument is the hyperbolic angle phi, where the hyperbolic angle phi is defined to be the area underneath the, underneath the ray emanating from the origin to the point at Sinh phi Koshfi divided by two. Now, just like the normal circular trig functions, there are reciprocal hyperbolic trig functions, meaning that if you don't know what phi is, but you already have the value for, for example, sinh phi or cosh phi, then you can use the inverse function in order to determine phi. And when you look this up on Google or ask chat GPT, or go to some, I don't know, undergraduate trigonometry textbook, you will generally find that this is the equation that is presented as being the reciprocal Sinh function, which is the one that we're going to be using. But actually, this is just a special case. This is the reciprocal Sinh function, assuming that you started at u is equal to zero, right? And it kind of, I find this presentation, the fact that this is like such a dis presentation of the arcsine function, excuse me, so pervasive, annoys me, because you don't have to assume that your hyperbolic angle begins from zero. I think that this bleeds over from the circular trigonometry studies, where you have even more ambiguity.
00:34:05.538 - 00:35:19.362, Speaker B: Like the circle trig functions are horrendously multivalued because you don't know how many times you've been around a circle, and so how much that area accumulates and so on. But with a hyperbola, you actually do know, at least as long as you limit yourself to working in either the positive t or the negative t axes. Then it's perfectly clear that if you're measuring the angle between two different u values, that it's not ambiguous. And one of those u values doesn't necessarily have to be zero. And so the real auxinh function is actually this, right? It's when you're measuring between some minimum u value and some maximum value, you just take the integral over the over the first derivative of, you know, of this function. And so that's, that's what this looks like. And you can prove to yourself that if you know min u actually is zero, then this integrand will simply collapse down into exactly what the more commonly presented form is.
00:35:19.362 - 00:36:17.194, Speaker B: But at least in this format, with this specific elaboration, it means that we now have the flexibility to measure angles between any two points, not necessarily always starting from zero. Okay, it's still a bit of mess, but it's something, right? We, we've got a very well defined integrand, and so we can simply substitute in the two different u hat values that we have derived from that 45 degree transformation and normalization. So we have min u defined. We have max u defined. We have our integrand. You just substitute it in. And so our, our first one, you know, our first term, the max u looks like this, and then we subtract the minute term, which looks like this.
00:36:17.194 - 00:37:04.012, Speaker B: Now then, just exploding the properties of logarithms means that we can combine this into the same lint term and just express it as a fraction inside that function. And again, I'm cutting out a lot of steps here, and I think I didn't show these steps in the textbook either. If you really want to, you can go through this process yourself. I'm just trying to leave you with, you know, I guess like some, some sort of way stones so that you can, you know, find a helpful checkpoint as you go through this derivation yourself. But this is a, you know, this particular, you know, exercise is very, very tedious. But, yeah, it's good for the soul. So if you really want to give it a crack, go right ahead.
00:37:04.012 - 00:37:58.762, Speaker B: If I was still prescribing homework, I would probably make this a homework assignment, because I think it is a really useful exercise. But whatever. Point is, don't have to take my word for it, that these things do simplify down this way. You're more than welcome to go through that derivation yourself. Now, this component simplifies further into these, which I quite like. So phi is equal to the natural log of the square root of p high over plo, which is equal to, obviously, the natural log of the square root of p high minus the natural log of the square root of plo, which can then be expressed if we take out that implicit half power is equal to the log of p high minus the log of p two. And at least one of these components should feel very familiar to you, because it's where we started the lecture off at.
00:37:58.762 - 00:39:30.154, Speaker B: We now have that square root of p high over square root of p low. And we've extracted it from the auxinch function of, you know, applied to the rotated normalized hyperbola of, like some general case, right. We didn't assert anything special about our reference or virtual curves other than after we transform them, that they should have this, that they should map to this, this unit hyperbola. And so if we know that the constant c, that this mysterious constant that we've been looking to explore is equal to the square root of p higher plo, then that means that c is equal to the exponential function of phi, right, of the hyperbolic angle. And that means that we've got a really nice kind of self referencing, or like a way of building a natural parameterization of the invariant function that only includes geometric identities about itself. We know what x zero and y zero are because it's the geometric center coordinate of the range that we're looking to utilize. It's got the x intercept and the y intercept, which again, you know, are, when you apply it to the real curve, that this is where one token balance is, you know, is running to zero.
00:39:30.154 - 00:40:22.460, Speaker B: And it also has the asymptotes in it, which, again, you should recall, are akin to the vertical and horizontal shifts applied to the virtual curve in order to bring it down and create the real curve. And so this, this has a lot in it. And all of these things arranged this way is equal to, you know, oil is constant raised to the power of the, you know, the hyperbolic angle of the thing that you're mapping of the concentrated liquidity position that you've created. And I think that that's just a very, very satisfying result. And it means that it doesn't mean this. But after some further exploration, you will find that there are other helpful, um, relationships that just kind of fall out of this. Because the, um, you know, the.
00:40:22.460 - 00:41:23.414, Speaker B: The hyperbolic trigonometric functions are like, so well defined and characterized, but also because exponential functions are so well characterized. So, for example, um, you know, e to the phi is also equal to sinh phi plus cosh phi, and that's equal to the square root of p high over p low. That might be interesting in some contexts. I'm not asserting that there is some immediate use case for it in liquidity systems, in blockchains, but maybe there is. I don't know. The one that I find the most interesting is actually the hyperbolic cosine of phi. And this is one of the things that I found early on, before I really knew what I was looking at because I was looking for a different way to define the curvature of the curve, in a way, how flat it is versus how concave or convex it is.
00:41:23.414 - 00:42:42.514, Speaker B: And of course, things like p high and p low give you that information. If there's a big difference between p high and p low, you know that you're looking at a less amplified, you know, bigger section of the curve. You also know that, you know, that means that the a term is small, right? So if you've got an a term of like 1.1 or something, that's obviously gonna give you a less curvy, you know, hyperbola section than if you've got an a term of like 50 or 100, where it starts to look like, you know, basically a straight line. And I started to look at like, what is the difference between, you know, what are other ways that we can parameterize that curviness? And maybe there's a simpler constant in there. And one of the things that came up when I was going through these kinds of exercises was that actually the ratio of the arithmetic mean to the geometric mean is a really convenient way to define that relative curvature. And there are, you know, some, you know, there are some analyses that you can do with that term with COsHfI that are just easier, right, or end up with, you know, are more computationally tractable than the analyses performed trying to use p high and p low themselves, for example.
00:42:42.514 - 00:43:54.244, Speaker B: So it's just a curiosity, right? If you know about the hyperbolic functions, then this is actually not a surprising result. But the fact that it is comparing the arithmetic mean and the geometric mean in some unrelated context is kind of weird. And then lastly, you know, e to the phi, it does serve another purpose as kind of a universal translator, right? So this is essentially all of the different algebraic identities that we have examined. Some of them have been rearranged here or made more explicit. But notice that on the right branch, we have the section of the curve that you're hoping to plot, the section of the curve that you're containing your liquidity in, that you're concentrating your liquidity in, expressed exclusively in terms of a. But that still gives us these other relationships that we've been studying. It still has things like x int and y zero, and the asymptotes and so on and so forth.
00:43:54.244 - 00:44:43.934, Speaker B: And then on the left branch, we've kind of got the opposite of a or the other side of that coin, which is the ratio of the square roots of p high and p low. And then we can continue to. To explore these relationships between the intercepts, the geometric midpoints, so on. Now, exclusively in terms of p high and p low. But everything on this slide is equal to each other. So you can choose any one of these terms or any one of these equations and set it equal to any one of these other equations, and it will produce a true statement. And that is a pretty interesting consequence, I think, to arriving back at this, you know, this year to the fire.
00:44:43.934 - 00:46:25.110, Speaker B: And so what we have now are essentially, you know, we've completed the course. Now we have gone all the way from, you know, from first principles, thinking about just the, you know, the very first, you know, definitions of liquidity pools and bonding curves and so on, imagined amplifying them to get a new virtual curve, sliding that virtual curve around to get the real curve, looking at different parameterizations of that and now rotating and normalizing it in, you know, to form a unit hyperbola. And then realizing that actually a lot of these terms that we've been discussing, they will all. They were always referring to this more fundamental concept in hyperbolic trigonometry that we just didn't see because we didn't need it. And I think that is like, one of the things I don't want to say a takeaway from this lecture in particular, but maybe from the course overall, is that you can get too close to something. And sometimes, stepping back and taking a new perspective, you can find, you know, other relationships, things that are not just of, like, academic interest, but might actually have a utility, a simplification of sorts that you can apply in an engineering context. So, yeah, while I have not yet convinced myself that the natural parameterizations, as I call them, using the exponential function and this hyperbolic angle phi, are better or have any specific advantages over the other parameterizations that we've looked at.
00:46:25.110 - 00:47:27.554, Speaker B: And in a way, I'm expecting that it won't, I think, in terms of understanding what these, you know, these mathematical objects are and how they behave and, you know, what properties they have and how they arise from other mathematical concepts is still useful. And if concentrated liquidity is going to continue to progress and we see further iterations of it, I think at least having a strong foundation in these kinds of fundamental concepts is likely to be beneficial, or at least I hope that it's going to be beneficial. I hope you enjoyed the course. I really do. The material. I did spend a lot of time preparing not just the slides, but the textbook and so on. And I have been delighted, truly delighted, to meet everyone, especially those who have reached out to me and wanted to discuss the material further during office hours or, you know, in private chats and things.
00:47:27.554 - 00:48:17.354, Speaker B: And, yeah, I'm truly thankful for your time, and I hope that you've learned something useful and that, you know, you feel more equipped to, not just to study defi and concentrated liquidity, but maybe to contribute to, to it as well. Again, if you want to reach me anytime, even if it's not related to Te academy, you can do so at any of these locations. I will continue to be on discord at least until July 9, until the examination period is over. But just know that after that, I tend to be. I tend to not spend much time on discord. So if you would like to reach out, please do so. One of these avenues, it's much more, much more likely to actually find me.
00:48:17.354 - 00:48:23.714, Speaker B: And that's it. It's been wonderful. And if you've got any questions, I'm happy to take them, though.
00:48:25.134 - 00:49:08.354, Speaker A: First of all, I see all the chat notes coming in, and I think we should give you a big round of virtual applause here because I think these sessions have been truly amazing. Very fascinating. Thank you so much. And I guess, I mean, I know that we have first talked about a course like that, I think, a year ago, and now it materialized, and I'm really glad we have been able to offer this. So thank you so much from Te academy and our community as well. My pleasure. Questions or just sharing your experience? Also very welcome.
00:49:08.354 - 00:49:46.484, Speaker A: Before we move to the exam. Right. Erin says, looking forward to the sessions at EFCC. Right. We'll have a session with Mark as well, at EFCC. With, like, what? I always enjoy digging deep into some of the things we take for granted in crypto and then point to the, let's say, weak spots in measuring success and the metrics we apply in measuring liquidity. Okay.
00:49:46.484 - 00:50:05.758, Speaker A: But this is then, July 10 program. Yeah. Any other questions, comments? Feel free to switch on your mic. Otherwise I'll read it out because it's really kind. So love this, man. Paper street capital. Aaron says, this has been truly amazing.
00:50:05.758 - 00:50:21.922, Speaker A: Thank you, Thiago. Thanks, Mark. I don't think it would. I would have grasped all these concepts in such a short amount of time. Your contribution was amazing. Yeah, perfect. Thanks for taking the course and taking this journey.
00:50:21.922 - 00:50:32.082, Speaker A: Thiago Martin says, thank you so much. Really cool and a lot of fun. And Aaron, looking forward to the sessions at EFCC. So it feels like. No.
00:50:32.138 - 00:50:33.842, Speaker B: I hope to see you all at UCSF.
00:50:34.018 - 00:50:34.842, Speaker A: Sorry, go ahead.
00:50:34.858 - 00:51:00.134, Speaker B: Perfect. I mean, yeah, I think that the pace of this lecture was a little bit quick and so that's okay. But as I said, you know, as, as people digest the material, I will be available if questions come up later, so there's no rush. Good. All right then. I tried to keep this lecture short because we wanted, because we wanted to take a look at the candidates, right?
00:51:00.174 - 00:51:13.862, Speaker A: And I thought, before you leave now, let's take a look at, let's take a look at the exam now. Right, Mark, just want to, is there anything else we should discuss beforehand? No, no, I think we can just.
00:51:13.918 - 00:51:14.798, Speaker B: Go straight into it.
00:51:14.886 - 00:51:49.144, Speaker A: Go, let me just pull it up. So I don't know if you guys have checked out our token engineering webpage and the course is available there yet. You can find it's loading. You can find Mark's course at our webpage. Let me put it up now. Okay, so@tokenengineering.net there are the live courses in poplar once again.
00:51:49.144 - 00:52:33.074, Speaker A: Okay, so go to tokenengineering.net dot. You all have a te academy account, I suppose. And if you don't have any, you can still sign up. And then you'll find all the courses here, including the latest study season courses. And one of them is device concentrated liquidity from scratch for this lecture program. And there, here's more information about the minting passing exams.
00:52:33.074 - 00:53:12.874, Speaker A: The certificate you can mint and you simply go to enroll. I already have. And go to the course material and there. So make sure to don't disable pop up windows because this will open in a new window. Sometimes this can be tricky. And there you'll find the exam. So all the course learning program is still on notion, right? So you only need this online learning material thing for taking the exam.
00:53:12.874 - 00:54:00.582, Speaker A: Now I realize I already tested it and that's why I'm already in the question section. You simply launch it and then you'll find 17 questions. There. You can flip through it, check them out to understand what's required. So the type of question is all multiple choice, but we'll have different, let's say variants there. And then you, once you've solved and you can go back and forth as many times, an unlimited time as well. Just answer these questions and then at some point you feel confident.
00:54:00.582 - 00:54:39.796, Speaker A: Submit it. What's important to know? You'll only have one attempt to submit by July 9, so no rush. You can check it out now and submit. Once you're 100% confident that you have the correct results, then submit it. You don't have to have 100% correct answers. Twelve of 17 questions are required to pass. Then you'll receive or it shows you have passed or failed.
00:54:39.796 - 00:55:21.982, Speaker A: If you have passed, you can go to your te fundamentals profile. So you can find it here. This is the profile, the test profile at the moment. And then here, your nfts show you have to connect your wallet address to mint. And in my courses, you find all past exams. So if you go to my courses, you find courses that you are enrolled in. So, like I am in defi's concentrated liquidity, I haven't submitted the exam.
00:55:21.982 - 00:55:46.694, Speaker A: This is how it looks like. If you haven't submitted, ignore the 0% because you only have one attempt. As long as you have not submitted it, 0%. So no worries. And here, once you have passed the exam, this course will show up in this section saying mint. Now then you can go to mint. Pretty simple, just click mint.
00:55:46.694 - 00:56:19.100, Speaker A: And then the transaction. And the mint transaction will be triggered to your wallet that you have connected to your te academy account, the one that I was showing beforehand. And then that's it. And you'll find the freshly minted NFt in your profile. So pretty straightforward, I think. Anyone having any questions here is the exam time. No, it isn't.
00:56:19.100 - 00:57:23.354, Speaker A: So you can spend days on the exam if you like, or you can explore it, print it out, take screenshots, print it out, do all the solutions, and then just enter the answers once you're settled. No time limit other than July 9 for submitting the exam and mint the NFT. That's the only timeline you should keep in mind. We would now have some more time in case you'd like to want to click through it and just have questions. Want to get a clarification? It's still time now in the session. Should we do that? Is anyone, would anyone want to share your screen and take a look at some of the questions? Erin, you raised your hand. Go ahead, switch on your mic.
00:57:32.334 - 00:58:09.654, Speaker B: Sorry, just. It took me a while to switch on the mic. This is. This question is not going to be about the exam or. Well, it's basically a question for mark. In terms of what will be your recommendation? If someone has a genuine interest in this level of mathematics and understanding of macroeconomics, and to put these in use in order to make a living out of it, per se, what will be your recommendation? What sort of a path one should take? I'm not sure. I'm not sure that.
00:58:09.654 - 00:59:05.652, Speaker B: I think my path was a very serendipitous one. Being in the right place at the right time with the right level of erudition. If you are there are opportunities even outside of block, outside of blockchain and cryptocurrency, where these kinds of things are extremely sought after. These kinds of skills are extremely sought after. For example, you know, quantitative finance is something that is an extremely rewarding career path. I know many quants that really enjoy what they do and are very excited for this. And the people that I speak with on the quantitative finance side, even though they're not necessarily blockchain developers, are using and interfacing with Defi all the time.
00:59:05.652 - 01:00:19.088, Speaker B: And it's their job to study and understand these defi mechanisms because their firms are looking to, to move into Defi in a slightly more significant way than they had in previous years. So don't think that you're limited. Right. I think that there is a misapprehension in general that cryptocurrency and defi and blockchain is kind of an exclusive discipline. In reality, the overwhelming, I'd say, majority of people come from, you know, come from either a traditional finance or economics background, or from mathematics, software engineering, or in my case, you know, physical and life sciences. If you want to end up in a position where you are exercising these skills and using these skills and applying these skills all the time, one of the things that I would suggest is to actually exercise your, like, entrepreneurism. You know, if you have a good idea for something that you want to do, and maybe you've got a little bit of software development background, or, you know, someone who does start a company, you know, it's, it's sound.
01:00:19.088 - 01:02:03.874, Speaker B: I know that for some people it sounds insane, but actually that's kind of how defi got where it is. So there's, there's always that avenue during the hiring cycles, which are generally pretty short lived these days in, in web3. But when there are hiring cycles, I would recommend getting in touch with recruiters. So most of the companies in crypto and web3 that I have dealt with almost exclusively use recruiters when they're looking for someone of a specific skill set. You will find, and Bancor is one of these examples, that there are sort of exceptions to that role where they will try to hire out of their community, in which case I can also advise that being involved is extremely valuable. And so not necessarily just things like token engineering academy, but actually being involved in, for example, the Makerdao governance and helping them to assess their risk levels. And this is going to be something that I think is going to become increasingly important over the next year or so because there are a lot more systemic risks or at least the scale of the systemic risk that Div has built into itself is increasing things like these liquid restaking protocols and other things the way that, like the Makerdao treasury has started to enlist the help of private fund management services and so on.
01:02:03.874 - 01:03:16.726, Speaker B: There's a lot going on where if you have a really good understanding of these mechanisms and the economic underpinnings of them, that you could actually become a trusted voice in the industry. And the only way to do it is to start somewhere. You know, Bantech didn't get to where he is today by just blasting out a couple of tweets every once in a while. He got there by being the loudest and most interesting person on Twitter when it comes to things like blockchain security. So, yeah, I think in a way you do get to choose your own destiny in this industry, but you need to remain vigilant of where you think that those opportunities might arise and triage a little bit. I'd say this is good career advice in general, rather than specific for web3, but, yeah, don't think that you need to come via the anonymous, the anonymous route, that if you want to found a project that it needs to be anonymous or token based or so on, you can come from normal economic and financial backgrounds and still get to play with these toys every day. So it's.
01:03:16.726 - 01:03:46.944, Speaker B: Yeah, there's a very wide spectrum of ways into the industry, even from an outsider, even from the outside perspective, if you want to sort of live on the margins rather than, you know, deal with the filth of web3, as many of us have to every day. But, yeah, it's. I wish I could offer you a more concise answer than that, but, yeah, it's, you know, career advice in general, I think is very hard to give.
01:03:54.764 - 01:03:59.064, Speaker A: Okay, any other questions?
01:04:06.204 - 01:04:32.014, Speaker B: I'll just note I came into this very, very rusty on, you know, just kind of mathematic principles that I haven't had to touch in many years and genuinely came away with a much better understanding that ever thought than I would in such a short amount of time to mirror somebody else's comment. Like, I've really enjoyed this. So thanks for putting it on. Thank you, Will. You're very welcome.
01:04:40.134 - 01:05:15.930, Speaker A: Any other comments? Otherwise, we can also close the call for now and meet on Discord. I really enjoyed the conversations there, following people, coming up with great questions, and also organizing office hours. This is what we were hoping to see, and I'm glad, yeah, we all were able to collaborate on this. All right, I think. Mark, what do you think close the call for now.
01:05:15.962 - 01:05:33.114, Speaker B: Yeah, yeah, let's close the call. And thank you, everyone, again. And thank you, Angela, for organizing and orchestrating such a terrific seminar series. I think this is the best one yet. I meant the series overall, not my. Yeah, I missed the best.
01:05:33.814 - 01:05:34.334, Speaker A: Yeah.
01:05:34.414 - 01:05:39.114, Speaker B: I mean, as a collection. As a collection. I think that this is 100%.
01:05:41.014 - 01:05:57.660, Speaker A: 100%. I really enjoyed it. My pleasure. Good, everyone, this was the final session. Concentrated liquidity from scratch. I'll see you all on discord. Discord or latest in person at EVCC in Brussels.
01:05:57.660 - 01:06:09.924, Speaker A: Very much looking forward to it. And in the meantime, pass your exams. Mind your nft. Talk to you soon. Thank you so much, everyone. Bye. The recording has stopped.
