00:00:05.390 - 00:00:58.722, Speaker A: As mentioned before, starknet allows you to send and receive messages from layer one. To facilitate this, we provide the following methods. On layer one they are presented by methods given at the starknet core solidity contract. While on L2 they are provided by the starknet OS. In order to send a message from layer one to L2, we can use the send message to l two method as input. It receives the L2 contract address which we receive when we deploy the contract on L2, a unique selector that is given to a function that allows us to know which function we are about to invoke, as well as the payload, which is simply the input to that function. To facilitate the transfer of this message on L2, we provide a function that has the l one handler directive above it.
00:00:58.722 - 00:01:57.880, Speaker A: In this case, Foo is designated as a layer one handler. This is what gives Foo the unique selector indicated by the Foo selector on the left here. In the other direction, when we want to send information back from L2 to layer one, we have the function bar here which can invoke the send message to l one function that is given by the starknet Os as input. This receives a layer one contract address, a payload size indicating the amount of inputs we are passing in the message and the payload itself. Again. To facilitate this, on the other end, a layer one contract has to ping the starknet core contract with the consume message from L2 method. In this case, the consume message from L2 receives as input the L2 contract address as well as a payload which will contain the transferred payload back from L2.
00:01:57.880 - 00:03:00.710, Speaker A: To illustrate the usage of layer one and L2 interactions, we'll review the following starknet contract as given in the starknet tutorials. This contract is similar to the example contract we reviewed at the start of these videos with the addition of two functions, withdraw, which is a layer one L2 interaction function that allows us to transfer funds from L2 back to layer one and deposit, which allows us to deposit funds from layer one into L2. Both these functions will of course change our balance variable, which we've already discussed before increasing or decreasing the balance accordingly. Furthermore, in order to facilitate this, we also provide an example solidity contract that will facilitate the transfer of funds to and from layer one. In this case, we have a layer one L2 example contract that implements on layer one similar functions and deposit using the startnet core contract.
