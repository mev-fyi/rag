00:00:00.200 - 00:00:40.164, Speaker A: As I was presented Aymandra from Tokenflow, we are. Let me figure out which one to use on in the meantime. Tokenflow is an advanced blockchain analytics company. We are providing datasets for advanced use cases. So not what you would find on dune or flip side or things like that, but much more in depth. And I'm going to, yes, I'm going to be talking about data and analytics first. Starting why analytics matter.
00:00:40.164 - 00:01:29.484, Speaker A: Blockchain has a lot of data, and by a lot I mean billions and billions of rows. And you can build these types of things, pretty charts, whether you want to find your bored ape token, how it moves, or bitcoin or ethereum or everything else. Who holds which token, at what point in time. A lot of charts require a lot of data and they are core to understanding what blockchain is all about. But what if they are wrong? It happens because you can lice very easily with data. You can make charts that look pretty, pretty, but are completely wrong because your assumptions are completely outdated. So let's look a bit on how things are done today and what's wrong with it.
00:01:29.484 - 00:02:17.519, Speaker A: And I'm going to take an example of web wrap theater, a very simple smart contract. How many of you have seen smart contracts before? Given that this is a more technical room? So, okay, nice. How many of you have used SQl before? Okay, so here what we are looking, top ten. Top five, actually top five withholders, pretty addresses, numbers. You can see that the first one has over half a million. And this data would be done with this SQL query. Normally I would write the query real time, but in the interest of time already prepared, running that query would give me these numbers.
00:02:17.519 - 00:02:48.564, Speaker A: And as you can see, my top one has 6.5 million. Can anybody tell me what I have done wrong? I looked at events and I took the transfer event into account. Maybe this would help. This is the actual smart contract. The events are lines nine through twelve. And as you can see, there's a few other events that should be taken into account like deposit and withdrawal.
00:02:48.564 - 00:03:28.754, Speaker A: And if we are ignoring those, you get the 6.5 million top one holder. But if you're taking that into account, you would get the right numbers. So analytics based on events are prone to errors and depend very much on your understanding of a smart contract. Also, events cause gas. So there's a tendency of people stop emitting events because they want to save gas. So there was an actual discussion yesterday on Twitter where uniswap contracts on v four spend 1% of their gas cost on emitting events.
00:03:28.754 - 00:04:24.442, Speaker A: 1% for Uniswap is a lot of money, so maybe they would stop emitting events. What would be an alternative? Going back to the same wealth contract all the way to the bottom, you see two lines, balance off and allowance. Those are storage variables pretty much. They tell you balance of what's the balance of a particular account in. With the data that we are doing, you're able to do something like that. Fancy SQL, last value, whatever contract address which is with variable balance off, excluding reverted, and you would get the same numbers. Now take into account that wealth is a very simple contract.
00:04:24.442 - 00:05:01.290, Speaker A: The more complicated the contract is, the more complicated it is to understand the logic of events and to make sure that you're doing your data correctly. Also, storage is always correct and always available on chain. Why I'm saying always available on chain. There's this tendency of doing shadow events. Let's put events somewhere else because they cause gas on chain, we put them somewhere else. We're able to get our analytics, but they're not visible for anybody else to use. So another error prone mechanism, storage.
00:05:01.290 - 00:05:39.870, Speaker A: Both regular storage, so your s store and your transient storage that has been added post them kun can be decoded. We are already doing that and we are able to do analytics. So just a recap. Blockchain data is always correct analytics? Well, it depends. Events give you some answers when emitted and when used right. Events are not incorrect by definition. They serve a very good purpose and they're able to give you the information you need, but you need to know how to use them and to wrap up.
00:05:39.870 - 00:06:09.634, Speaker A: State and storage are always correct and always on chain. And we have managed to find a way to make storage accessible in a human readable format because before it was hashed, so not very usable for analytics. And that's pretty much it. Normally this would have been longer just because I would write the SQL, but I wanted to make it more flowy, so leave you some room for questions.
00:06:13.054 - 00:06:19.434, Speaker B: Thanks a lot, Andrea. And we actually have plenty of time for questions, so feel free to ask away.
00:06:28.294 - 00:06:54.804, Speaker C: You mentioned you are decoding a balance, right? And so according to ERC 20, standard balance officer, just the function. Right. So are you actually executing like eVM code when you are parsing it? Okay, thank you.
00:06:59.144 - 00:07:54.184, Speaker D: I guess I'm close enough that I don't actually need a mic, but anyway, so I've actually worked on bitcoin as well as on Ethereum and UT exos are horrendous. I hate etxos. I actually really like Ethereum because you just keep the balance now my question to you is that of course, because there's actually one of the talks that will be held here is about UT Exos and trying to get Utxos and Ethereum, and I absolutely detest that. But when it comes to Utxos, my question is that does this add complexity and how do you deal with this complexity? And maybe you could use examples. Does this basically mean that people get tainted? For example, how do you deal with that taintedness of transactions and such? I know that's a very loaded question, but.
00:07:57.644 - 00:07:59.144, Speaker A: How we are dealing with.
00:08:00.984 - 00:08:26.504, Speaker D: With Utxo style transactions if you already do that? So that's the first question. The second thing is that is there issues with transactions denting other transactions and how do you deal, deal with that because you didn't really get into the actual analytics of it. Ownership is fine. You can say it's ownership, but what happens if certain tokens or contracts get tainted by transactions? Yeah.
