00:00:01.240 - 00:00:47.962, Speaker A: Hi everyone. Thank you very much. So very excited to be here. So, essentially, when you look at how people measure Amm performance, it's really confusing. You hear the words training APY boosted token emissions, impermanent loss. It's really hard even for power DeFi users to really understand what they're getting and the risks they are taking. And what's confusing for the DeFi power users is even more confusing for the new users that we want to onboard into DeFi.
00:00:47.962 - 00:01:45.466, Speaker A: And so that's a real barrier that makes it foggy and difficult for those users to be onboarding to crypto. So I believe that is key for an industry to better apprehend the way that performances in Amms are measured and better understand the risks that we face. And this is key because amms are one of the biggest DeFi primitives. With 17 billion Tvl locked today, I think LSD's are at par right now. So today what I want to do is, first, reflect on why amms are so cool. And it's critical to maybe have more information and more clarity on how to analyze their performances. Second, I will deep dive on a framework to better understand how to analyze performances.
00:01:45.466 - 00:02:46.084, Speaker A: And last but not least, I will introduce the results of a simulator that we've built at swap, the company that I'm the co founder, that essentially allows us to bring clarity to this topic. And I will share with you the learnings from this study. So maybe just quick refresher why? I think personally that amms are amazing and they solve a lot of problems, and that's why it's key to really understand how they perform, to have full clarity on their design and better innovate there. So first, amms are accessible to anyone. Of course, anyone can. LP can trade. This is very interesting, because when you compare to the equivalent, the tratfi equivalent of EMMs, which is market making funds, those funds are only accessible to the best connected and the richest LP's.
00:02:46.084 - 00:03:30.894, Speaker A: You have to have significant size to be able to lp into a market making fund and have the right connections. Second, they are transparent. It's very easy to audit the yield that is done by an Amm and to understand how the yield is done. This is key also because it avoids some of the terrible catastrophes that happen in our industry and also in tradfi. Examples of that encompass through our capital, which was essentially borrowing UST and Luna. I mean, betting, taking some leverage on UST and Luna without its LP's. Alameda, of course, which was playing with the funds from the FTX.
00:03:30.894 - 00:04:20.114, Speaker A: Customers, and Bernard Madoff, who was delivering 12% yields to its investors by using the funds of the inflows of the LP's. Amms, of course, are non custodial. And I think I don't need to remind you why this is key. And I think one of their very interesting properties that we haven't, that we are just starting to touch, is the interoperability of the LP tokens, which enables to maximize capital efficiency. Essentially, the capital that you have into an AMM is not locked like it would be in a traditional fund. It can be used in other protocols. So, for instance, borrowing against it in the lending protocol, minting a stablecoin, et cetera.
00:04:20.114 - 00:05:30.970, Speaker A: In terms of drawbacks, I think the first thing that is, as I mentioned, which is key, is to understand, ok, how can we assess their performances? Because it seems that there's no clarity on the market on whether those amms are really profitable for LP's or not, and which risks you are taking. And another drawback comes with the proliferation of concentrated amms, is that sophistication is required for such designs. So, as I said today, let's focus on the performances, which to me is, I mean, amns kind of tick all the boxes in terms of a great infrastructure and solution to provide security, transparency and efficiency of the capital for market making. There's just this performance issue that we need to sort out. So how can we assess financial performance? I think this is very important to reflect on that, and this is something that is not done very well in crypto today. So, as an investor, you want to assess two things. First, the returns, and second, the risk.
00:05:30.970 - 00:06:02.398, Speaker A: The returns is pretty straightforward. It's the average return that you can make on a year. If you do like the investment a thousand times, for instance, the return should be net. There's no such thing as, okay, trading APY, impermanent loss, whatever. Trading APY doesn't mean anything. What's important is you have what you have in the beginning of the year and what you have at the end of the year, and the average of this return. And this is the only thing that you should measure, returns.
00:06:02.398 - 00:06:52.522, Speaker A: I mean, I think in crypto we tend to focus on returns, but we should not forget risks. Risks are very important. Risks can be a bit trickier to measure than returns. One, you probably need several indicators, one of which is the variability of the return. So, for instance, if you have an investment that is giving you a 5% yield every year, it's of course less risky than an investment that is giving you 30% then minus ten, then 20%, whatever. Another good indicator is the stress test. So what's the maximum loss that you can expect from an investment in a stress scenario? Then the big question is.
00:06:52.522 - 00:07:32.210, Speaker A: So, yeah, just to come back on the risk, why is risk important? Is because a stable investment is worth much more than a risk investment. Essentially, with a stable cash flow, you're able, for instance, to borrow your bank, for instance, can give you a credit for your home if you have a stable salary, because it's easy to predict your cash flows. And so you can anticipate that. Also, it's better for financial planning if you know that you want to buy a house in two years. Of course, you'd rather have a safe investment than a risky one. So a safe investment is worth more than a risky one. The second question is around the benchmark.
00:07:32.210 - 00:08:16.494, Speaker A: So I would say for amms, the best benchmark is probably huddle. So you want to compare your returns and your risk to as if you were huddling the tokens that you deposited into the amm. But that can vary depending on your objective. And then the question that I would like to address today is the methodology. So, my conviction is that we should mix two approaches in order to understand the performances of an investment and the risks. First, realize data, and second, simulated data. So, realized data, of course, is very interesting because it enables you to see what actually happens.
00:08:16.494 - 00:09:02.414, Speaker A: The main issue with realized data is that in real life, only one of the multiple scenarios that could have happened happens. So let me give you a very concrete example. Until April 22, you could see ust as a perfectly stable stablecoin. With realized data, you would have had no chances to anticipate that it would just go to zero. So, realized data can be a poor predictor of market events because it shows only what happened in the past. And the past does not necessarily reflect what's going to happen in the future. So that's why I believe that it is key to add simulated data to complement the approach.
00:09:02.414 - 00:09:48.754, Speaker A: Simulated data, of course, are not perfect because you're going to. There are some things that you cannot model and that you cannot anticipate, but they help you to modelize stress scenarios and understand what can happen, especially if you have a limited subset of data. One of the issues that we have in DeFi is that we're a very young industry. DeFi is maybe like three years old DeFi Summer, maybe, okay, six years old max. And it's a very small subset of data. So that's why I believe that simulated data is key to assess financial performances and risks. So, regarding amms, what can we see from both approaches? So, first, if we look at realized performances, we see that they are heavily in the red, unfortunately.
00:09:48.754 - 00:10:30.810, Speaker A: So, a report by Bancor approximately two years ago showed that 50% of LP's report negative performances on Uni v three. You're going to tell me. Okay, Bancor is a competitor of Uniswap. They obviously cheated on their report. Well, another study made by Simetor Capital, which was actually later confirmed indirectly by the Unionswap team, showed that LP's in Univ. Three had a negative, unrealized P and L of 100 million. So yeah, I would say that's only on the east USDC five basis point pool.
00:10:30.810 - 00:11:34.374, Speaker A: But I think this basically shows a trend there that overall, LP's on uniswap v three are probably losing money. So then what can we see from simulated data? And that's where the AMM simulator comes. So at swap, we invest heavily on research. We've partnered with mathematicians and researchers in market making that come from tradfi. And we've developed with them a simulator that enables us to test any AMM strategy in thousands of market conditions, turning the three, four years of data that we have in Defi into 1000 years. So how does the simulator works? Essentially, we have some inputs which encompass thousands of market conditions, so different price trajectory, and then we input a trading demand. So the trading demand are essentially hypothesis around the size and the frequency of trades that happen during the time period that we measure.
00:11:34.374 - 00:12:30.214, Speaker A: And essentially by using those inputs, we're able to test Amm strategies across thousands of market conditions. So how does it work concretely? So basically, we have this kind of metrics where we run, let's say 1000 runs. Each time we do a run, we look at the return of the Amm strategy against Hodl. So yeah, so then we compute the average of the return, and this is the dimension that you can see here, which is like the, like the return access. And then we measure the variability of the return, which is the risk dimension. Right. So essentially what that means is that you can define then several zones in this chart, right? You have the we're gonna make it zone, which is on the top corner, top left corner.
00:12:30.214 - 00:13:19.090, Speaker A: So high return, low variability. And you have the gambling zone, which is the zone where you are at the casino. Right. When you have a negative return and super high risk, in other words, you can make a lot of money, but you have more chances to lose a lot of money. So what does that teach us? Well, unfortunately, it seems that current traditional amms have returns that are more casino like than investment like. So what you can see here are various implementations of Univ two and curve with different parameters. So on Univ two, those are the three parameters, and on curve, those are more like the, the parameters that are used in the curve internal pricing model.
00:13:19.090 - 00:14:19.398, Speaker A: This is only for assets that are uncorrelated, not for stablecoins. And what we can see is that unfortunately uni two and curve are in the gambling zone. Another very interesting learning is that if we implement an approach which relies only on oracles and that adds fees on top of that, we can see that actually just introducing an oracle significantly improves the results of these amm strategies. So that's also a very interesting result, because here we only added an oracle, we did not do any complicated math or whatever. So there is significant room for improvement. Then I have good news actually, is that we actually found an efficient model thanks to this simulator. So what you can see, the dots that you can see here are two models.
00:14:19.398 - 00:15:22.910, Speaker A: So first, swap v one, which is a product that has already been live for approximately a year on polygon, and then a new model that we found which is called swap v two. So those are the yellow dots that you can see here for which we have various risk parameters. And that allows us to get much more yield than the current suave one product, which is essentially, as you can see, a very low risk, very low return pool. So how does this model work, actually? So it's a model that uses the most advanced market making models that you can find in treadfy and adapts them to the infrastructure of defi. So our models uses different parameters. So first hypothesis that are based on, on chain analysis with the trade's frequency and size, the trader's demand sensitivity and the evolution of the prices. And it also includes a risk component.
00:15:22.910 - 00:16:18.304, Speaker A: Essentially we can tailor the aggressiveness of the model to decide to either go for a more high return strategy or low risk, low return strategy. So the model uses all of those parameters to maximize the p and l of LP into the amm minus Hodl. So it's aimed at outperforming Hodl, essentially. And what it acts mainly is on the fees. So essentially we modify the spread of the asset pair with two elements. First, we increase, essentially we increase fees when there is high volatility on the market, because it's more risky for, as a market maker, to quote prices when the volatility is high. And the second thing is the model also acts on the reserves to ensure that when there is an imbalance compared to huddle.
00:16:18.304 - 00:17:14.438, Speaker A: It's been put back to balance and reduces fees to give incentives to people to rebalance it. Essentially, this model also uses, essentially price feeds. It relies on oracles, essentially. And we also innovate on the architecture side to maximize the performance of our model. So essentially what we found is that by implementing an architecture which is hybrid, you can actually benefit from the security, the transparency, the composability and the accessibility that you can find on chain with the performances that you can find off chain in terms of latency of data feeds, for instance. So our new architecture relies on a hybrid implementation where the liquidity pools are on chain. So this is non custodial.
00:17:14.438 - 00:18:05.734, Speaker A: You just deposit the liquidity into public pools and then you have another module, which is a quotes module, which is done partially off chain. So the trade quotes are generated off chain using the complex models that I just shared. This enables us to have access to super fast price data and compute harsh computations. Essentially, the quotes are then verified on chain to ensure that they don't rug the LP's or that a dysfunctioning of the backend cannot hurt the LP's. And the last thing is, all the trade settlement is done on chain. So there is no. Yeah, essentially you get kind of the best of both worlds, the performance of the off chain with the security and the transparency of the on chain.
00:18:05.734 - 00:18:53.068, Speaker A: So actually we're launching this. So, yeah, our v one had, as I described, was a really low risk, low return product. It was a BTC East USDC pool that launched approximately a year ago on Polygon, which had 0.1% in impermanent loss, a net yield around 1.5%. And, yeah, essentially with v two, with this new infrastructure and those new equations, we think that we can strongly improve that. We are going to launch, actually in approximately one month. We are running a whitelist program, actually to test the products.
00:18:53.068 - 00:19:03.764, Speaker A: Thanks to the whitelist, you can also have access to exclusive benefits. So if you want to try it, don't hesitate to flash this code. Yeah, and enjoying the whitelist.
00:19:09.544 - 00:19:13.564, Speaker B: All right, now it's time for a few audience questions. Let's see one over there.
00:19:15.544 - 00:19:34.714, Speaker C: Hi. Perhaps an unfriendly question, but is it not similar to running an arbitrage bot, basically, which then kind of rewards the LP, because the off chain infrastructure probably has to know the prices of the assets and all the other venues and then somehow process it and then push it on chain? Is that not how it works?
00:19:36.094 - 00:20:20.614, Speaker A: So I'm not familiar with exactly how the flashbot infrastructure works, but I don't think it's similar arbitrage. Arbitrage, no, it does not rely on arbitrage. It's just purely so. Essentially, the prices of the other venues, they are more computed at the meta level, not on the instant level, by the trading demand function, essentially. So, by modelizing and analyzing the trading demand function, you are able to understand, okay, what are the dynamics of pricing in other venues, so that the quotes are tailored to be maximizing the PNL for LP's. But it does not rely on arbitrage, not a module that we have added for now. It could be in the future.
00:20:28.274 - 00:20:59.854, Speaker D: So you mentioned that you benchmarked the model against holding the assets, and you also had the statistics that 50% of the liquidity pools have negative p and l. Have you modified that on? Not modified the number, but have you benchmarked that historical performance against holding? And how does that change it? Because is it 50% negative p and l? Or if you benchmark that historical data against holding, does it change to better or worse?
00:21:01.914 - 00:21:18.144, Speaker A: So, to be honest, we haven't converted the numbers of the simulator into this specific KPI of like number of people in the red. I think I would expect it to be higher than 50%, given what we see that the returns on average are negative.
00:21:28.244 - 00:21:50.412, Speaker E: Hey, thanks. So your simulation, and then this amm proposal, like whatever, your version of, instead of the constant function, whatever you guys are using, it seems like this is specifically for large, the largest tokens, so the most liquidity, multiple very deep pools. This is true, right?
00:21:50.548 - 00:21:51.444, Speaker A: That's totally true, yeah.
00:21:51.524 - 00:21:54.804, Speaker E: Doesn't really seem like it's for shit coins or any, like the vast majority of alts.
00:21:54.844 - 00:22:47.174, Speaker A: Even so, essentially what one needs to understand is that if you don't have private information, it's impossible to be a profitable market maker for shitcoins. Because essentially in general, in financial markets, you always lose against someone who is better informed than you. And that's also one of the big reasons why amms are not profitable, is because they don't rely on any external data and they just pay arbitrages to give them those information points. So if you start trading, like market making shitcoins without private information, which is illegal by the way, to trade with private information. But if you do that, you're essentially trading always against insiders, because usually people who hold shitcoins are mostly insiders, so it's very unlikely to be profitable for such assets, or you would have to put very large spreads.
00:22:49.274 - 00:23:10.514, Speaker F: Hi, thanks for the presentation. Coming to the Rescivo question. Of course there is an impermanent loss, but when we coming to the worst scenario, for example, I'm putting liquidity into Uniswap LP and the pool gets racked. So what is the percentage of this? It can happen basically in your eyes or like if you calculate it, assessing the risk reward of the strategies.
00:23:11.814 - 00:23:19.750, Speaker A: So what you mean is like what are the risks besides the financial risk of the strategy or. No, exactly.
00:23:19.782 - 00:23:26.184, Speaker F: If you calculated what is the percentage risk of pool get racked? For example, if USD on the uniswap.
00:23:26.484 - 00:24:05.324, Speaker A: Of a rug of the pool. Well, I think so. On Uniswap, I think this never happened. Like a rug of a pool. Like it's not possible in the smart contract here. What we measure in this presentation is only the financial risk of the strategy. So it's really about, okay, depending on the evolution of the prices and given like the formulas that are used by curve by Uniswap, et cetera, what are the financial risks? But you're right, there are other risks that you take when you're an LP, you face a smart contract risk, you face maybe a rug risk or whatever, which to me is kind of similar to the smart contract risk, but those are not measured here in this presentation.
00:24:07.424 - 00:24:10.644, Speaker B: Awesome. Thank you so much. A big round of applause for Cyril.
