00:00:04.330 - 00:00:49.660, Speaker A: So maybe there are some assumptions that I made, but also want to adjust them now dynamically, which is like one was that we mostly will have hackers here that will participate in hackathon. I think this is not necessarily true. So how many of you are hackers and participating in hackathon or builders like developing? Okay, so I thought so that it will be less. And the other thing is, how many of you know quite well, intimately, the Ethereum roadmap. They understand what Ethereum is working on now, what problems it's trying to solve. Okay. And more or less like how many of you work in Ethereum ecosystem and not, for example, cosmos or near.
00:00:49.660 - 00:01:17.298, Speaker A: All right, so what I'll do, I'll adjust it in a way to explain you a bit more about what Ethereum is doing now. I wanted to rush it a bit more, but probably I'll move a bit more slowly. Let me just guess what I need to use to move the slides. I think that this looks like. So. All right, this one. Okay, cool.
00:01:17.298 - 00:02:03.622, Speaker A: So the talk will be about a few big things in Ethereum, but many of them, I think will be driving really much of the innovation or direction for many chains. Some of those things might be already available in other chains outside of Ethereum. And then you can compare actually how those different paths looks. So the few things that netamind works on. And Netamind is a protocol. Oh, okay, great, I have this one. So Netomind being practically protocol engineering company that does the core engineering, core development for Ethereum, building the client for Ethereum does work on majority of the new things.
00:02:03.622 - 00:02:56.914, Speaker A: So it tries to think of what will happen in Ethereum or in blockchain in maybe one to three years. So we don't really look at maybe like ten years from now, visionary thinking, but we think of what are builders trying to solve over the next two, three years, where the chain is going and how we can help the largest of the companies in the space to get there, and what products and what tooling we have to deliver. So nowadays we mostly focus on the roll up stage. So the L2s and the layer threes that will be built on top of roll ups. We work a lot on staking, which is now after the so called Chappella upgrade. In Ethereum, the staking arrives at the withdrawal. So the ability of staking and withdrawing money back from the staking and the proof of stake Ethereum is now fully activated.
00:02:56.914 - 00:04:01.200, Speaker A: So this was the process of the last, depending on how you look at this, four to two years maybe. And we'll do a lot about MeV as well, in collaboration, mostly with flashbots. And I'll talk a bit about this because Mev minor extractable value, I explain a bit more what it is defines much of the protocol security aspects and the direction for how protocol is dealing with it. So now, after talking in length about the title, I'll maybe introduce myself. So, my name is Tomas Tanjak and I've been in Ethereum protocol development for the last six years. I work with a few companies, so mostly nettermind, which I founded in 2017, but also work on the Ethereum security with Forda, working on some of the DFI solutions with Euler. There is also flashbots, which is MeV solutions company like research and development company.
00:04:01.200 - 00:05:08.610, Speaker A: Then there is Starknet, which is Ethereum scaling solution, Ethereum L2, and there is Twinstake, which is staking for institutions. So as you see, all of those companies somehow synergize into the Ethereum protocol development. So I hope that I'll be able to give you a bit of this broader look about how those things get together. Yeah, okay. So when you think about the Ethereum roadmap, the one document that many of us in the protocol, engineering and Ethereum are looking at is this, Vitalik's one pager that shows this is the vision. These are the largest problems, biggest problems that we're trying to solve. We divide them into few categories with a bit of joke memetic names, and we look about each of those categories and see that the problems to solve, how we get there, where we are at the current stage.
00:05:08.610 - 00:06:17.594, Speaker A: And I'll mention a few points here that are a bit closer to what nanomind is working on, but also tell you a bit more about everything else. So in Ethereum, and probably in many other chains, we're using the all traditional merkel tree, or maybe not entirely traditional ones. So the Ethereum introduced this Patricia Merkel tree, some state representation that allows creation of the proofs. So very typical approach from the past, how to store the entire state of the blockchain in a way that allows for quick verification, like single root of the tree, verification of the entire state correctness, or like verification between all the different nodes. And, well, that tree construction, the structure of the tree in Ethereum, was also causing a lot of challenges to how to optimize it. This is like one of the major bottlenecks in Ethereum is the state access state growth. The storage mostly writes, but also reads from the state.
00:06:17.594 - 00:07:55.570, Speaker A: So the databases of Ethereum, depending on whether you look on different synchronization mechanisms may end up being like with the historical formats of multi terabytes databases above, ten terabytes databases for archival nodes, or like hundreds of gigabytes, more or less, for only the latest state. So accessing this on the disks, even the fastest I O operations, is very often seen as a major bottleneck, depending on the architecture of the clients that you deliver. For Ethereum, this usually is more of a problem than just the EVM execution. EVM being virtual machine computation of the chain. So every time you have a block with transactions, you process transactions one by one, and there is some component of executing the operations of the bytecode, the virtual machine and then virtual machine every now and then is asking about questions about the state, like what's the balance of the given account, what's the storage of the given account, representing the balance of maybe ERC 20 token, and so on and so on. So those might be basic. And the one big change in Ethereum that is coming sooner or later is the vertical tree construction, which means we are remodeling the way the approach to the state storage and the proving of state with the approaches of the modern cryptographical solutions.
00:07:55.570 - 00:09:06.206, Speaker A: Actually ECG commitments and the Verco trees is being introduced for a few reasons. So first of all, to lead the ethereum into the longer term vision of fully verifiable Ethereum in the zk context, like I think the Vitalik described it as snarked Ethereum. So the solutions where you can look at the block and say, oh, actually, I can quickly provide a proof that this block was executed correctly. The second thing, a bit closer to nowadays is the space of not having a state and being able to verify the block. So bringing the witness to everything that block did. So the witness is this information about actually list of data points that were accessed on the tree, on the Merkel tree, or the Merkel tree, in this case, during the Broc execution. If together with a block data, we can provide the witness, then whoever receives that block doesn't have to have the entire tree structure, just looks at that witness data and executes all the transactions and verifies them.
00:09:06.206 - 00:10:11.086, Speaker A: And everything is neatly, cryptographically verifiable. You can say, oh, this block is correct. But now the verifying node doesn't store any data, so you don't have that disk of few hundred gigabytes of data. It's much cheaper to verify blocks, and you can always. The problem with the merkel tree is that the witness in the Merkel tree can be, maybe not arbitrarily large, but pretty large. So in the most pessimistic scenarios, I think it's tens of megabytes which prevents the blocks from being shared around. And now the Veraco tree being one thing with the verification without state, with the fully snacked Ethereum the other part and this one I'll say a bit more about which is PBS proposal builder separation and the aspects of MeV in this context, and also the MEV burn in this context.
00:10:11.086 - 00:11:17.682, Speaker A: So about MeV burn, actually I'll have a bit deeper talk at build Asia. So in a few days. So PBS in Ethereum was introduced with the recent, with the merge in September last year. PBS means we separating two roles that normally were associated with the miners or the miners or validators nowadays in the proof of stake. So proof of work, Ethereum before the merge, before September last year was saying that there is a miner who can statistically every now and then will receive the opportunity to produce the block, depending on solving the riddle, like the famous proof of work riddle. And at that time, well, the miner is in a privileged position. So miner, when they find this solution to the riddle, they know that their block is created and they prepare the block up front, just in case they solve the riddle that has like list of transactions.
00:11:17.682 - 00:12:17.098, Speaker A: Maybe they send their transactions, maybe they inject some transactions, reorder them just to extract as much value from the chain as possible. So in this simple understanding is that for the miner to extract as much value as possible, it's like choose the transactions that bring me the highest transaction fees. This is the simple way, as we always think about it. So what miner does to maximize the value of the block, selects the transactions that pay the most. The trophy is a bit more complex. So to maximize the extraction of the value for the miner is not only to select the highest paying transactions based on fees, but actually to look at the underlying state and DeFi protocols mostly and see what kind of other transactions could be injected or maybe censored that will lead to transfer of value from some accounts to the minor account. And why this is possible.
00:12:17.098 - 00:13:12.254, Speaker A: Imagine many of the decentralized finance protocols need mechanisms for liquidations. For example, so we say that there is a lending protocol and you provide a collateral, and if this collateral falls under some value, then we entering a danger zone. The position is not collateralized enough and it may end up being under collateralized. So what it means like I'm taking a loan and saying that I need to take $1 million in stablecoin and I'm putting a collateral of let's say 1.5 million value of ETH. So the position is over collateralized, and this is desired, right? So I want to have access to a stable coin, but I'm saying I'm giving much more. I'm putting aside the collateral in if, and it keeps moving, and if is very volatile, and I don't have really ability to act super fast.
00:13:12.254 - 00:13:54.038, Speaker A: So this collateral has to be much above the 100% value. So, because if keeps moving, maybe it will drop to just 1.1 million total value of the eve that I collateralized. And then the protocol says, well, this is dangerous. This is no longer protecting someone who is giving you that loan in stablecoin. You need to either top up the collateral, or someone else can do that for you by executing liquidation code. So now that liquidation code very often is free for everyone, in a sense, that anybody in the protocol, any user, can send a transaction invoking liquidations.
00:13:54.038 - 00:15:10.850, Speaker A: And those liquidations are, well, when they happen, they are very profitable. There was a single example, I think, of during one of the big market moves. I think Justin Tron's position was that the $1 billion was under collateralized for five minutes, and someone could grab it, but it didn't happen, right? So it was $1 billion to take. Now, any d five protocol will encourage as many as possible users to be able to liquidate because they want to act fast, like it's not in the interest of the protocol to give the loans that are under collateralized, which means that you want to encourage all the users to just quickly act and say, oh, there is some money to take, I can get some premium for the liquidation, and so on. So I'm giving this example as only one. So that's why you go so deep into it, because now we think that if you're a miner, you're a privileged position, in a sense, that when the state of the entire ethereum changes to the situation where you can liquidate, then as a miner, you always will be sure that you can put that first transaction in a block to capture that value from liquidation. You can be the liquidator as a miner.
00:15:10.850 - 00:16:02.910, Speaker A: And now the same situation happens with the proof of stake with the validators. So Ethereum now has around 600,000 validators after the merge, and the queue is growing. So we have something like 40 days entry queue for the new validators. 100,000 validators are in the queue at the moment. So more and more if is staked, more validators are coming to the network, and many of those validators are operated with large node operators. It can be either some liquid staking decentralized solutions like Lido and Ethereum. So Lido says you can actually stake some eve, but not in the direct protocol staking mechanism by pulling it inside the Lido smart contracts.
00:16:02.910 - 00:16:47.854, Speaker A: And lido as a protocol DFI protocol works with the node operators. Professional node operators says whenever there is 32 eve on Ethereum is what you need to stake. So every single validator requires 32 Eve stake, which is around $60,000. So whenever 32 E is put into smart contract, then Lido starts a new validator with their operators. Lido now I think operates at around 30% of all the validators. And then there are some other large operators that work with institutional clients. Institutional clients very often come and say, oh, I would like to stake $100 million, but I don't touch the technology, I don't want to run the infrastructure.
00:16:47.854 - 00:17:39.810, Speaker A: This is risky, I may be slashed. So I go to larger operator and say, do that for me. Now, for Ethereum, the best situation is if there are many solo stakers, if the entire network is as decentralized as possible, the same as for miners. You don't want to have two, three, four miners doing the having all the hash power. The same for staking. You don't want to have two free large operators operating the stake on behalf of someone and possibly acting not in line with those delegators will. So any situation on Ethereum, any design of protocol that leads to centralization of that staking into the large operators is very undesirable.
00:17:39.810 - 00:19:30.230, Speaker A: So there's a long way to come back to this introduction of proposal builder separation. So if building the block with liquidations that we mentioned is so valuable, and if finding all the possible liquidations on the chain and all the other potential defi mechanisms that lead to the value extraction, if it becomes complex, right? So you have to scan the entire state, you have to track maybe tens of thousands of different token purses, different DFI protocols, like what you've heard with Sega or liquidations, or maybe some NFT auctions, some airdrops and so on. Scanning that in the 12 seconds that happens between the blocks becomes very complex, which means that whoever runs a sophisticated machinery to extract has advantage over any solo staker. So I'm solo staking and I have to create a block. I will never create a block that will be so efficient as a block generated by some traders team like the fund hedge fund, VC company, whatever, whoever runs like a large clouds operations with sophisticated trading system that analyzes market data flowing in from centralized exchanges, decentralized exchanges and so on. So as a solo staker I say, well, that value that is extracted, that we call Mev minor extractable value that is coming to me because I have this privileged position of being a staker. I can never extract as much value as I would if I delegated my notes to a large operator.
00:19:30.230 - 00:20:30.860, Speaker A: So as much as I want to contribute to the ethereum decentralization by being solo stake and running my own node at home, I will lose money by doing this. Instead of saying I want to stick with Flydo with some big operator, like think of any. So as a protocol engineers we say this is a problem because it leads to sooner or later it leads to everyone delegating their block building to the large operators. They will not want to lose this like two 3% yield. Some of them will stay and say okay, I actually committing dedicating this node to decentralization. So I don't care about a few percent less, but many of them will think like okay, so I want to have the best result, why don't I even bother? I made all of this effort, it costs more to operate node locally, but I'm getting even less for that. I should be getting more actually.
00:20:30.860 - 00:21:55.590, Speaker A: So PBS proposal builder separation says that we can create a market where the block builders, those professional companies, professional fans, groups of traders, they're very often we call searchers, the ones that search for opportunities for value extraction. They may create a market of producing the best blocks that they can find and saying whoever is the validator now, whoever is about to propose a block on the network broadcast, it can actually choose from all the blocks created and choose the best one, the one that pays the more, the most. And those validators no longer have to even deal with block building at all. So you can think of maybe a bit more oligopolistic market of, let's say, I think nowadays it's like 30 large block builders that compete with each other for finding the most MEV opportunities. And then in the specially designed auction they beat of how much they pay to the proposers to select their blocks and the proposers. So the validators say okay, I want to participate in this auction. I connected that market is created on Ethereum and I am able to access the best blocks without building them locally.
00:21:55.590 - 00:22:56.302, Speaker A: So PBS was introduced at the same time as the merge was introduced. So those were two components of the merge upgrade in September in Ethereum. And now the direction is to move even further with PBS because PBS at the moment is with a few trust assumptions. So we introduce solutions like block builders, but we also introduce solutions like the relays, which are collecting the beats from all the different block builders and propose them to, and offer them to the block proposers. Now those relays have to be trusted that they will not try to steal the value from the builders, because the market is like reputation based under a small number of relays. For now, this works. This works, but not in a way that we are used to say that things work in blockchain.
00:22:56.302 - 00:24:05.370, Speaker A: It doesn't work in a trustless, fully verifiable way. It works with some trust assumptions. There is probably maybe like under ten meaningful relays that are being used by the market. So all this way to EPBs, which says enshrined protocol, enshrined proposal builder separation, which means that we propose solutions that remove the role of the relay and allow the network to connect builders directly with block proposers, with validators, without relay in between, and with just like some crypto economic protection mechanisms or slashing observation attestations using all the validators. Looking at the network, I'm taking more time explaining everything. But that's because we've seen the result of the little survey at the beginning. I'll jump to the few other things.
00:24:05.370 - 00:25:25.586, Speaker A: So one thing that I would like to underline here is the restaking with Eigen layer. So nevermind is now partnering with Eigen layer on building, tooling and solutions for restaking and restaking. I think that it may be by many seen as like, oh, it exists in some form on other chains, I think. But let me explain that. So when we said that 32 eve deposit on Ethereum is something that is used by validators to ensure that they can prove that they are ready to participate in network security, and that they're ready to be slashed if they fail. So that 32 ev deposit nowadays brings some yield, Ethereum pays for that security provided by validators the same way as you think that the proof of work networks pay for security to the miners by giving them block rewards, by paying transaction fees to them. The same way Ethereum nowadays in proof of stake provides some yield, some percentage reward to every single block proposer on Ethereum and to every single attester on Ethereum.
00:25:25.586 - 00:27:01.234, Speaker A: So even if you're not proposing a block as one of the 600,000 validators, you participate in so called attesters committees and say what you're observing on the network, and all those roles are actually give you some rewards. But if you don't follow the rules of the protocol, if you fail in some very malicious way. Like for example, you sign information that is inconsistent, you sign two different blocks, then you slashed. So Ethereum says, I need some deposit from you so I can quantify the level of security of how much an attacker would have to put at stake to disrupt the network. So we have the assumptions of the number of honest nodes and the assumptions like do we say that 33% of the malicious nodes would potentially attack Ethereum? But we have to show how much this attack costs, and with the proper deposits and the slashing mechanisms, we actually can calculate the finality components of it and so on. So now restaking says that this 32 eve that you are depositing might be reused for the security of some other networks, on some other protocols. Restaking with Eigen layer says that instead of depositing 32, if directly on Ethereum, you can route it via smart contract.
00:27:01.234 - 00:28:43.958, Speaker A: And that smart contract can have some additional logic that says, well, not only you'll be slashed if you don't follow the Ethereum rules, but I also as a smart contract, I can slash your deposit if you don't follow some other rules. And those rules can be, let's say you're also supposed to sign the oracle data that flows into the protocol. So there is some oracle, decentralized Oracle, and you say, I would like to restake my deposit from Ethereum to show that I also dedicate my reputation, my stake to the decentralized oracle data, and I'll be participating in providing that data on Oracle. And if I don't provide the same data as all the other decentralized oracle participants, then I get slashed. The problem with restaking is that, well, if I overload myself too much, if I restake with many different protocols, then we have to start analyzing different numbers in the sense of how much is at stake to protect security of Ethereum, of the network. Because if some badly designed protocol that will be potentially very hyped, like there's a big chance for restaking, that people start without maybe analyzing too much restaking with the protocols that are over promising through the aggressive marketing campaigns. If that badly designed protocol actually decides to slash everything like all 30 to Eve, then imagine that 50% of the network restakes with a protocol like this and everyone gets slashed because of some error bug in the project.
00:28:43.958 - 00:29:36.998, Speaker A: All of this is burned, and now 50% of the network, of the validators realize that they have no more if at stake. So they don't care about whether they protect Ethereum or not. So the Ethereum security falls a lot. I'll skip the other components of this one, we don't have much more time. I will mention a bit about shared sequencers, so this is specifically my area of interest in the last two three months. Shared sequencers are mostly used in the context of the roll ups, but also probably extended into multiple domains, multiple layers. Shared sequencers say that, well, the sequencer is someone who chooses transactions for construction of a block.
00:29:36.998 - 00:30:21.220, Speaker A: Very often people say well, sequencer proposer or maybe even block builder. This is being used sometimes interchangeably and sometimes there are very strict definition given specifically for korean market. I think that one not mentioned here would be the radius network. So definitely look it up and check how radius network is offering the shared sequencing and separation of those concerns. Well, I'm running out of time. I gave you much more details on particular items. I invite you to maybe look at the Bidalasia talk where I'll focus a bit more in depth analysis, but for today I'll skip some of those.
00:30:21.220 - 00:30:49.660, Speaker A: So thank you so much. Invite you to contact me for any more discussion during the event. I'll be happy to answer any of those, especially if you came here to learn about more details of everything that we talked about. Then be happy to see you during the event and after. Thank you.
