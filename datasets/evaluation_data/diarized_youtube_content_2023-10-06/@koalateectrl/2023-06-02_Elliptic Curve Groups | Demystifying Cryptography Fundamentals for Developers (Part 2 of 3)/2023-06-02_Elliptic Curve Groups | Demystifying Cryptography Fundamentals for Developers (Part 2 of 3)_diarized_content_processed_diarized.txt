00:00:09.130 - 00:00:59.818, Speaker A: What's up, everyone? Today we're going to be talking about elliptic curve groups. Now this is the second part in our three part series on demystifying cryptography fundamentals for developers. Last time we covered the fundamentals of group theory, which we're going to need for this video. So if you are not familiar with the mathematical definition of a group or a field, or are not familiar with the discrete log problem, then I encourage you to go back and watch that video first, and then come back to this video afterwards. Now, today we're going to be doing a deep dive into elliptic curve groups. If you've been anywhere near the blockchain or security space, you've no doubt heard about ECDSA or ECDH. Maybe you've been taking this as a black box before, particularly for those watching this that are smart contract developers and work on a blockchain.
00:00:59.818 - 00:01:50.000, Speaker A: Elliptic curve. Digital signatures are what makes the blockchain secure, and understanding what is going on behind the scenes is becoming increasingly important due to the rise of things such as ERC 20, permit metatransactions, and account abstraction. Today we're going to take a deep dive into what's really going on under the hood in elliptic curve groups. Once we understand this, we'll have the proper tool set to then understand these other concepts later on. So the goals of this video are for you to understand the definition of an elliptic curve and understand why elliptic curve groups are used in cryptography. And also it'll be a primer for all these other advanced cryptography topics around BLS signatures, polynomial commitments, and zero knowledge that we'll get into in later videos. So let's get started.
00:01:50.000 - 00:02:37.498, Speaker A: Today we're going to be talking about elliptic curves. So let's first define what an elliptic curve is. An elliptic curve is the set of points that lie on the equation y squared equals x cubed plus ax plus b, where four, a cubed plus 27 b squared is not equal to zero. That condition is really just an edge case, so that we prevent resulting in a degenerate curve. Now, different values of a and b make different elliptic curves. So for example, if we choose a equals negative three and b equals three, then we get the elliptic curve y squared equals x cubed minus three, x plus three. This is one example of an elliptic curve.
00:02:37.498 - 00:02:58.760, Speaker A: We could choose a different a and a different b value and get a different elliptic curve. And that's it. That's literally the definition of an elliptic curve. Don't make it harder than it is. The definition is really this simple. Now, I'm going to go ahead and draw what an elliptic curve looks like. If we plotted it on a graph, it's going to look something like this.
00:02:58.760 - 00:03:40.930, Speaker A: Obviously, different values of a and b will make the curve look slightly different, but they take this general shape. Now I want you to focus on the fact that no matter which a and b value I choose, I end up with something that is symmetric over the x axis. Now, great, we have this curve, but is it useful for cryptography if you're like me? When I was first learning this, I didn't understand what was so special about this curve. Why choose this? Well, we'll get into that. Now, I want you to notice the curve that I drew. It's continuous. In other words, it's all connected and smooth.
00:03:40.930 - 00:04:23.826, Speaker A: It's this way because I'm considering every single possible value of x and y. I have a point where I let x equals one, a point where I let x equals 1.1, a point where I let x equals 1.1. In fact, the fact that this curve is continuous means that there's an infinite number of points on it. For example, if I take an elliptic curve, y squared equals x cubed plus one, I'm saying yes, zero one is a valid point on it. I'm also saying yes, three square root 28 is also a valid point. Yes, 3.5
00:04:23.826 - 00:05:03.840, Speaker A: square root 43.875 is also a valid point. I'm considering all points, even decimals, irrational numbers, rational numbers, everything that lie on this curve. Now this is where understanding the definition of a field is going to help us. The thing that I drew is an elliptic curve defined over the field of all real numbers. It is considering all values that are available as part of the real numbers, including irrationals, rationals, decimals, everything. I'm going to pause for a second to let that sink in.
00:05:03.840 - 00:05:53.914, Speaker A: Let me say this one more time. The elliptic curve that you see here would be said to be defined over the field of all real numbers, which, recall, is an infinite field. Now, if you recall, as cryptographers, we don't like infinite fields, since one of our goals is to have the discrete log problem property, which is only present for finite fields. We want a problem that is hard for an attacker to solve. And you will see that this is the case later on. If we use a finite field, so can we do something else? Well, let's see what happens if we only consider integer values for our x and y points on this curve. We're no longer considering any point on this curve.
00:05:53.914 - 00:06:22.470, Speaker A: That's a real number, only integers. Let's look back at our curve. Y squared equals x cubed plus one. Remember, we only want integer values for x and y. So for example, the .01 is still a valid point and it counts. The zero two negative three still counts, but the zero three square root 28 no longer counts, since the square root 28 is not an integer.
00:06:22.470 - 00:07:34.800, Speaker A: Now as an example here, let's also further limit this to not just any integer, but only to integers less than eleven. Can you name all the valid points here? Now, I did this calculation offline, but the answer are the points negative 10 zero plus or minus one, two plus or minus three five plus or minus four seven plus or minus five, and nine plus or minus two. I want you to notice that for every point besides negative 10, there is a plus and a minus y value with the same x value. And that's because this curve is symmetric over the x axis. So what do we have? Now we say that we have the elliptic curve y squared equals x cubed plus one defined over the finite field of integers mod eleven. I know it's a mouthful. So essentially we may have the same elliptic curve as before, but it is now defined over a different field, a finite field.
00:07:34.800 - 00:08:15.180, Speaker A: The mathematical notation is this or this. Now I wanted to write this down just in case some of you have seen this out in the wild and found it scary. It's just a notation. Now that you know what it means, hopefully it's less scary. Now, how did I find all these points? Besides googling? There's a different way, a better way. As it turns out, if I take two of these points, connect them with a straight line, and where the straight line intersects the curve at the third point will be another valid point. This is super cool.
00:08:15.180 - 00:08:54.200, Speaker A: Like I mentioned before, the curve is symmetric over the x axis. So then after that you can find another valid point by flipping over the x axis. For example, let's draw a line through negative 10 and one, since we know that those two are valid points. And if we draw this straight line, we see that it intersects the curve at two three. So I have another valid .23 and if I flip that over the x axis, I get two negative three, which is another valid point. You can go ahead and verify this for yourself.
00:08:54.200 - 00:09:27.010, Speaker A: Now that's one way to find valid points. There's another way called the tangent method. To find valid points. We take the tangent at a curve at an existing point. For example, let's take the line tangent to the curve at two three. Now if we draw this tangent line, we see that it intersects the curve again at zero negative one, which is another valid point on the curve. And again, if we flip this over the x axis, we get the, .01
00:09:27.010 - 00:10:05.840, Speaker A: which is another valid point. Great. Now let's take a step back and just summarize what we did. We started with the definition of an elliptic curve and showed what it looks like when an elliptic curve is defined over the real numbers. We then said we don't want to work over an infinite field such as the real numbers. So instead, we define this elliptic curve over a finite field, in our example, the finite field of integers mod eleven. Then we saw two different methods to find valid points on an elliptic curve defined over a finite field, assuming we already know one or two other valid points.
00:10:05.840 - 00:10:45.354, Speaker A: The first method was to connect two existing points on the curve and where it intersected the curve. A third time was another valid point. The second method was the tangent method. If we draw a tangent line to a valid point where it intersects the curve, a second time is another valid point. And for both these scenarios, we could take that newly found valid point and flip it over the x axis to get another valid point. So this is all great, but I still haven't mentioned the word group. What does all of this that we've done have to do with groups at all? This was my question when I first started learning about this.
00:10:45.354 - 00:11:23.030, Speaker A: All this connecting points and flipping over the x axis. What exactly is the purpose? Well, let's go ahead and recall the definition of a group. A group consists of two items. First, a set of elements, and second, an operation. And it fulfills the four properties of closure, associativity, identity, and invertibility. So how can we turn what we have just learned into a group? So the first question is, what is the set of elements? This one you can probably guess. It's the set of valid points on the curve.
00:11:23.030 - 00:12:18.874, Speaker A: So, looking back at our example of the elliptic curve, y squared equals x cubed plus one defined over the finite field of integers mod eleven. An element in this set is the point negative 10, another element is the .01 and so on. The next question is the more tricky one. What is the operation in this case? Since I just told you that the elements of the set are points, how do I add them together or multiply them together? Now, I cannot just add the x values together and the y values together of two points, because now I get points that are invalid. If I just add the x values and the y values, I get points that are not on this elliptic curve. So it turns out that we can define a special operation to denote quote unquote adding points together.
00:12:18.874 - 00:12:57.590, Speaker A: And that operation will do what we just saw. So, to add a point p to a point q, we draw a straight line, find out where it intersects the curve, and then flip it over the x axis. That is called quote unquote elliptic curve addition. Now recall that we have just seen this and we know that it results in another valid point on this curve. In other words, it results in another valid point in this group. Therefore, we have closure. Typically, elliptic curve addition is just denoted with the plus symbol.
00:12:57.590 - 00:13:47.042, Speaker A: So for example, if I add negative 10 and one, I actually get two negative three like we just saw. If I draw a straight line through those two points, and it intersects the curve at that third point, and I flip it over the x axis, I get two negative three. It's kind of weird, right? But if you've been following along, this should all make sense. Now, what happens if I add a point to itself? Then actually the addition is the tangent method that we learned. The second method that we've learned. So, for example, if I add the point 23 to 23 that equals zero one, that's the same as when I drew the tangent line to the point 23 on the curve and flipped it over the x axis. So great.
00:13:47.042 - 00:14:32.818, Speaker A: We now have defined our set of elements in our operation. Now, in the interest of time, I'll let you go check for yourselves. That closure, associativity, identity and invertibility actually hold. But before we go, I will say one thing, which is, what is the identity element here? It's actually this special point we call the point at infinity. It's often denoted like a curly o. You can't really plot this on a graph, but we create this element and we make it so that any point added to this point at infinity is itself, and also that any point added to its inverse equals this point at infinity. In other words, we include this point at infinity as an element in our group, so that the properties of identity and invertibility will hold, so that we actually have a group.
00:14:32.818 - 00:15:29.560, Speaker A: But it's just hard to draw this point. So, to summarize, for our elliptic curve, y squared equals x cubed plus one, defined over the finite field of integers mod eleven. We have a group, and the elements in this group are negative 10, zero plus or minus one, two plus or minus three, five plus or minus four, seven plus or minus five. Nine plus or minus two, and the point at infinity, the order of this group. In other words, the number of elements in this group is twelve. Note that since we're working over a finite field of the integers mod eleven, we could, if we wanted to, rewrite the negative values as positive ones. In mod eleven, for example, the point negative 10 could be written as 100, and the zero two negative three could be written as two eight.
00:15:29.560 - 00:16:23.160, Speaker A: For simplicity, though, we'll leave it as is. Now I need to introduce one more term, and to do so I want to take an aside from elliptic curve groups and look at a simpler group that we may be more comfortable with. Let's look at the integers mod six under addition. So the elements of this group are 01234 and five and the operation is addition. The concept I want to introduce now is a generator. A generator of a group is an element that is in the group that if you apply the group operation to this element over and over and over again, you end up getting every single element in the group. Let's take the element one for example, and we'll call it g.
00:16:23.160 - 00:17:29.660, Speaker A: So g equals one, g plus g is mod six, which equals zero. Notice that for the element one, when we apply the group operation addition to itself over and over and over again, we end up getting every element in this group. Therefore, we say that one generates the group of integers mod six under addition. Or we can also say that one is a generator of the group. Now a group will have at least one generator. It can have more than one, but it will have at least one. Generators are useful because we can represent any element in the group as a scalar times a generator g.
00:17:29.660 - 00:18:10.220, Speaker A: For example, we can write the element four as going to be useful later on. Notice that in this group not all the elements are generators. Let's take two for example. Let's let h equals two. So h plus h is two h which equals four two h plus h is three h which equals six, mod six which is zero, and so on and so forth. So three h plus h is four h which equals two. So notice how you only get the elements zero, two and four.
00:18:10.220 - 00:19:00.666, Speaker A: Therefore two is not a generator of the group of integers mod six under addition. However, we can say that two generates the subgroup which is a group that is a subset of another group. And we say that two generates the subgroup 00:24 and the order of this subgroup is three. Now that this makes sense, let's go back to our example of an elliptic curve group. The elliptic curve y squared equals x cubed plus one defined over the finite field of the integers mod eleven. This is the example we were looking at before, and the elements in this group are here. Now I'll let you do this on your own and double check my work.
00:19:00.666 - 00:20:15.460, Speaker A: But if you start with the zero 75, let's call it g and do elliptic curve addition on g. So g plus g, which is 75 plus 75, equals two, comma, negative three, which is negative three plus 75 equals 54, which is forth. You'll find out that you will end up with every element in this group, and therefore 75 is a generator. Now, notation wise, we like to use a capital g to represent a generator of an elliptic curve group. The capital is usually used to indicate to the reader that it is a point, an elliptic curve point, not just a scalar value. So what can we do with elliptic curve groups? Well, we just showed that you can add any two points in a group and get back another point in the group. So if we let p and q be two points in an elliptic curve group, we now know we can do things like p plus q, and the result stays in the group.
00:20:15.460 - 00:20:59.230, Speaker A: We also know that we can do p plus p and get another point in this group. Using typical notation, we can even write p plus p equals two p, or p plus p plus p plus p equals two p plus two p equals four p. It looks just like the math that we're used to. All this because we're working on top of a field whose properties allow us to do these things. Now note that our group never defines multiplication between points. We can't do p times q. We can only do scalar multiplication, such as five times p, like we saw earlier in the example.
00:20:59.230 - 00:21:26.150, Speaker A: Four times p. That's the same as adding p to itself four times. Now what was the whole point in doing this? The whole point is so that we can take advantage of the hardness of the discrete log problem specifically for elliptic curve groups. Let's see how that works now. Now let's say I'm a good user. I'm not malicious. I pick a point p that everyone knows.
00:21:26.150 - 00:22:25.740, Speaker A: And let's also say that we had constructed this elliptic curve group with a huge order. So we're not using twelve as in our example. We're using a huge, huge order. And I want to find out the point a times p where a is a scalar, and I choose a value of a to be some large number, say 1029 in our example, and keep this value of a a secret from everyone. Now, how would I obtain the point s equals 1029 times p? How do I get this value? Well, the fastest way would be to do as follows, take p plus p and get two p. And since I know the value of two p, I can do two p plus two p equals four p. And then since I know the value of four p, I can do four p plus four p equals eight p, and so on and so on.
00:22:25.740 - 00:23:43.106, Speaker A: Once I get to 1024 p, which is 512 p plus 512 p, I can just add 1024 p plus four p plus p, since I already have all these values from my previous calculations to obtain the value of 1029 p. This is often called the double and add method, and it takes me approximately a logarithmic amount of operations to get there. In this case, approximately ten operations. Now, if I gave an attacker my original point p and the point s, which I just calculated to be 1029 p on my own, and I asked them to find the secret value a, which in this case is 1029, how would they be able to do it? Well, they can't use the double and add method to try and find out what 1029 p is, because they don't know the value of a. See, I know the value of a, which is why I was able to do it. If the attacker doesn't know the value of a and they keep using the double and add method, they will overshoot the value. For example, they will keep double and adding until they get to 1024 p.
00:23:43.106 - 00:24:31.140, Speaker A: And then the next time they do the double and add, they'll end up with 2048 p. So they're going to overshoot the value of 1029 p. So they have no choice but to just try the values one by one. They have to try p, then p plus p is two p, then two p plus p is three p, and so on and so forth. They will need to try 1029 values one by one before ending up with something that equals s. And at that point, they know they have found the secret value of a, which is 1029. Now, note that that took 1029 operations way more than the ten that we needed to to calculate s.
00:24:31.140 - 00:25:35.720, Speaker A: This is a linear time method. Now, you can imagine that if the value I chose for a was enormous, and we're talking a 300 plus digit number, the difference in the time it takes me to calculate the value of a times p, and for the attacker to find out what a is would grow exponentially to the point where it would only take me a reasonable amount of time to calculate this. But for the attacker, it would take more time than the age of the universe. So, we have just seen the discrete log problem for elliptic curves. Given a point s equals a times p, it is quote unquote, easy to calculate s if we know a, but it is extremely hard for someone when you only give them p and s to find the secret value a. This is exactly the reason why we use elliptic curve groups in cryptography. Now a quick aside for those that are wondering why we don't just use groups like the integers mod q.
00:25:35.720 - 00:26:32.780, Speaker A: We actually did used to use these in older times, but there have been more attacks specifically targeting these groups. What that means is people have figured out a way to find a secret value and solve the discrete log problem specifically for these groups in much quicker time than expected. These are called group specific attacks. However, for certain elliptic curve groups, people have not found a better way to attack these groups than to just try each value one by one by one. I'm going to put an asterisk here, since technically there are things called generic attacks where you don't have to try them one by one. But the point is that it is still very, very difficult even with these generic attacks. And I think it's easier for a beginner to just understand the idea that an attacker would have to try many, many values in order to solve the discrete log problem, which is why it's so hard.
00:26:32.780 - 00:27:14.086, Speaker A: I also want to put a caveat here. Since we have an infinite amount of elliptic curve groups to choose from, we can make elliptic curve groups by changing the values of a and b in the elliptic curve definition. So which ones do we choose? I want to make it clear that only some elliptic curve groups are effective in the way I just described, so never roll your own crypto as they say. There are expert cryptographers that have designated certain elliptic curve groups that are very safe and robust, and please use those as they have stood the test of time. And that's it for today. Awesome. So we've covered a lot of ground today.
00:27:14.086 - 00:27:53.700, Speaker A: Hopefully now you've learned something and feel much more comfortable about elliptic curves and elliptic curve groups. Hopefully this is no longer just a black box for you. So just a quick recap. An elliptic curve is just a curve that has the formula y squared equals x cubed plus ax plus b, where four a cubed plus 27 b squared is not equal to zero. The degenerate case. Different choices of a and b result in different elliptic curves. In cryptography, we don't like to define the curve over the real numbers, an infinite field, but rather over a finite field.
00:27:53.700 - 00:28:19.960, Speaker A: We then saw how you can make an elliptic curve group using points as the elements, and the special elliptic curve addition operation. Lastly, we discussed why elliptic curve groups are used in cryptography and brought some clarity around the discrete log problem for elliptic curves. Thanks for watching. See you next time. Our.
