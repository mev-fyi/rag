00:00:02.280 - 00:00:02.830, Speaker A: You.
00:00:04.720 - 00:00:44.424, Speaker B: Okay? Let me grab the agenda again. For anybody in the chat who hasn't seen it yet, this is a second post London breakout call, I think. Number 13. Thanks everybody for joining. I appreciate people taking time to help us share your feedback and any issues that you've had. Like I said, we don't have a ton on the agenda, so there's going to be a lot of open space for discussion, or us to just look at each other's faces maybe. So the first thing, Jake, if you want to kick us off, that's fine.
00:00:44.424 - 00:01:06.960, Speaker B: Or we can start with something else, but it'd be really cool. Something I've been looking forward to is seeing a little bit inside of how the other wallets have been handling 1559. I know we've got a couple of other teams here, and I'd love to hear from them as well if they'd like to say anything. But, Jake, if you want to start, give us your general thoughts or if you have a presentation prepared.
00:01:07.620 - 00:01:45.144, Speaker C: Yeah, no presentation, but have some thoughts for sure. So I can talk about kind of the UX of how at least how Metamask has implemented 1559, how it's been received. Overall, I think it's going well, but there's a lot of noise on Twitter and public places. We definitely learned, we shook up people's workflows who use advanced settings. So there was the thought of advanced settings. We should represent how the actual fields are in the UI. So give them max priority fee.
00:01:45.144 - 00:02:19.930, Speaker C: Give them max fee. Don't try to sugarcoat it for advanced users. And we definitely have learned that people who are drifting towards advanced fields are not always people who truly understand how 1559 works. People are saying, switch back to the old controls. We don't like these new controls, these are dumb. Even advanced type users, I guess, are not as up to date as we had hoped or assumed. But what we are learning is that that vocal group of people seems to be a very small group of people.
00:02:19.930 - 00:03:19.530, Speaker C: So we've been tracking some analytics, and our analytics are rough because we don't track a ton of things in details for privacy reasons. But one recent stat that was interesting is, and Kevin is on the call. Correct me if I'm wrong, but I think it was 20% of people have only attempted to edit, to click the edit button of a transaction in the past seven days. So that means only 20% are even getting to the point in our UI where they could be exposed to the advanced UI. And that doesn't even mean they actually edit it, or that they found it confusing or that they said something bad about it or good about it. So it is a small number of users that are getting into there, but we definitely need to support that use case a little bit better. So that's one thing we're really focusing on is how do we improve this advanced edit experience? Advanced being going off the rails of an estimate, like not using a default value.
00:03:19.530 - 00:04:14.170, Speaker C: So another thing that we've learned as well is on the flip side, only 20%, 80% of people have not clicked edit in the past seven days. That could also be dangerous because we're seeing really big price spikes, right? So there's kind of consistent price spikes with NFT drops or whatever it may be. And in those cases, we want people to at least be aware that they potentially could pay less and they don't have to pay market value if they're willing to wait for their transaction to go through. And going into 1559, I think there was also an assumption that let's focus less on editing. Maybe there's less value in waiting and paying a lower price. Since we have better estimates, we can just kind of give you the estimate and you'll go through with it. The transaction will go through soon, and that's great.
00:04:14.170 - 00:05:01.384, Speaker C: With these price spikes, I think we need to support the use case of I'll wait, I'll set my transaction, I'll queue it up, and I'll wait for the base fee to come down dramatically in the case of a price spike. Also on the flip side, for people trying to get into NFT drops and stuff, they use the advanced controls, even though I don't think they fully understood within metamask. I mean, they were only editing one field before there was the gas price, right. So it was much easier to edit. Now there's a couple of fields, and I've sat in a couple of discords with NFT drops and stuff, and people were talking about what do I change my gas settings? And they're discussing it. And now that we don't have. So our basic estimate right now, our low, medium, high, there's not a huge variation between them.
00:05:01.384 - 00:05:26.080, Speaker C: They're all kind of in the same range. So we need to, I think, have much lower options and much higher options, much higher options for those when there is a price spike and there might be a gas war coming, allowing people to access that type of setting easier. Trying to think. I think those were the high points of what we have learned.
00:05:27.800 - 00:05:28.116, Speaker A: Yeah.
00:05:28.138 - 00:05:55.790, Speaker C: So happy to talk more about it or more details or answer any questions. We launched with a v one, we had improvements in mind. So some of these learnings have shifted that we're going to be rolling out a new UI after another round of user testing. So I think we'll learn more in the next couple of weeks, too, of if some of what I'm talking about is actually true or just false assumptions. But that's kind of reading between the lines what I've seen.
00:05:57.120 - 00:06:17.700, Speaker B: Awesome. Yeah, no, that's really great perspective. I remember one of the things you mentioned was a lot of the assumptions that you had gone into the design with were either flipped or completely wrong. Do you remember what a few of those were? Or maybe I'm remembering somebody else talking about it, but I think it was somebody from metamask.
00:06:18.440 - 00:07:08.064, Speaker C: Yeah, I may have said something like that. I think it really is the assumption that one people will understand if you call something advanced and you give them the advanced controls, you assume they know if you represent what's going on behind the scenes accurately, it's okay if they don't understand it because it's advanced. Right. And maybe it's not for them, and if they want to use advanced controls, they're going to understand it. It doesn't seem to be the case. Even people who have an understanding or have a high level understanding of 1559, I think the narrative of base fee and tip and just the language that has been thrown out, it just didn't match the two fields that we put in there. Right.
00:07:08.064 - 00:07:35.976, Speaker C: So it could be as simple as changing the names of them or making them a little more accessible. So that was one assumption that we were wrong about. The other, I think, was that our range of estimates, like the algorithm, shouldn't be as wide, it should be a little bit more conservative. And high, medium low is all within this sort of smaller range, and it just doesn't really make sense.
00:07:35.998 - 00:07:36.184, Speaker A: Right.
00:07:36.222 - 00:07:55.090, Speaker C: If you're going to go low, you should wait a long time, and there should be some risk attached to it that your transaction may not go through. And if you go really high, there should be some risk that you're going to pay a higher tip, but that it's going to go through much quicker. So our assumptions that we didn't need a wider range on our estimate was probably the other one that was wrong.
00:07:56.180 - 00:08:49.510, Speaker D: Also, just if I can add to that, is we did not anticipate the crazy surges that are happening so often. We assumed that it would happen, but we didn't assume that it would happen so often during the day. It happened several times a day. And I think therefore, the controls were, as Jake said, a little bit more towards the middle, as in the variations weren't that different because we're assuming that the users will choose from one of those three settings. So I think the learnings here is that these spikes will happen and we have to account for that. But at the same time, the majority of the time users will choose the middle option. But we have to also provide the flexibility in cases where users want to be fast or be slow or be adaptable as much as possible.
00:08:51.560 - 00:09:05.224, Speaker E: I just had a question. So when you talk about the sugar coating that you did for the advanced fields, I was curious, what were the fields that you did expose and what did you call them or how did you sugarcoat them? Exactly.
00:09:05.422 - 00:09:37.670, Speaker C: So we didn't sugarcoat them at all. We literally had two fields. There was max priority fee and max fee. And we have some tooltips, you can look at them, but we pretty much just gave you the raw fields. If you were going to use them realistically, you'd have to have something pulled up in another tab. You'd have to be looking at a chart of current base fee and stuff. Well, I shouldn't say that they're default populated with our estimates, but you'd have to understand what that meant to go off the rails with them.
00:09:37.670 - 00:10:15.820, Speaker C: I see, yeah. So we are going into user testing now and trying to shift these fields around a little bit from what I have gathered, and I think, which makes sense with just like the narrative around 1559, it's base fee and priority fee. Right. That's how people who understand 15 nine think about, because that's the mental model. That's how it makes sense. So the fields that we're looking at now, if I'm remembering correctly, priority fee, we're calling a priority fee even though it's technically a max priority fee. We're just not saying that because the idea of a max priority fee was kind of confusing.
00:10:15.820 - 00:10:19.040, Speaker C: And I do think right now we're using max base fee.
00:10:19.380 - 00:10:20.272, Speaker E: Yeah, okay.
00:10:20.326 - 00:10:23.120, Speaker C: And just saying base fee, but that's where we're.
00:10:23.860 - 00:10:41.190, Speaker E: Yeah, our designer was just able to send us over some designs this week. And so, yeah, that matches with what we have right now. We decided to show the current base fee and then the two fields that we expose are the max base fee and priority. Cool.
00:10:43.080 - 00:10:53.612, Speaker C: I think exposing the current base fee too is a piece of feedback. And we were going to put in our UI. We didn't have it in there for the first version, but that's been consistent feedback too. I mean, of course, people need a reference point. Right.
00:10:53.746 - 00:11:48.830, Speaker E: Cool. And also, may I ask for the multiple on the base fee that you're doing on the low medium high? Are you? I think Micah said that. No. So what we're saying is, unfortunately, the way that we're presenting it to our users is not like a max total. So for users who aren't like ultra in the EIP 1559 world, it doesn't make sense. It gives them more work to do. If you make them do the math of having the total and then subtracting the priority fee versus having the base and adding the priority fee together, that seems to be like the most intuitive way because technically it should be max fee, right?
00:11:50.000 - 00:11:50.750, Speaker A: Yes.
00:11:52.480 - 00:12:10.900, Speaker E: But the wording we are using is max base fee. For the user to know that this is just the base fee that they're potentially doing a max of. Does that make sense? I had also the same confusion when I saw the designs because I was thinking in like a total max.
00:12:15.560 - 00:12:30.740, Speaker A: So the protocol does not allow you to set a max base fee. So there's no way that your UI can be asking user for max base fee, because that's impossible. You might be asking you for something else and then calling a max base fee, but there's no way you could actually be putting that into a transaction.
00:12:30.900 - 00:12:57.904, Speaker C: Right. You're setting the max fee, which would be the difference between your. Yeah, and that's one thing that has been confusing, is like, the max fee people look at when they see priority fee and max fee, they're like, well, where's the base fee? What's my base fee? So you could call the field max fee and then explain around it that, well, actually, this is your base fee. You got to subtract your max priority. And that's kind of what we attempted to do. We're just kind of trying to get around that a little bit.
00:12:57.942 - 00:13:49.012, Speaker A: Maybe it sounds like we're in this uncomfortable position where we have a set of users who have heard a little bit about 1559. If they're asking, where's my base fee? That means they read half an article and are now confused. What I worry about, exactly what happened now, what I worry about just a little bit, is optimizing user experience. For these users that have ever heard of base fee, I would prefer, and of course, each wallet can do what they want. I would prefer to optimize, though, for users who have never heard of base fees or party fees or transaction fees or anything, they're brand new to Ethereum and they're like, I don't know there's a fee here, and I feel like this optimization is kind of special cased for the current set of users, not necessarily the future set of users, which maybe at the moment is an appropriate optimization. I don't know.
00:13:49.146 - 00:13:57.616, Speaker C: Yeah, I think you might be misunderstanding the UI. You're saying don't optimize for somebody who would be talking about baseb?
00:13:57.648 - 00:13:58.196, Speaker A: Is that what you're saying?
00:13:58.218 - 00:13:59.364, Speaker C: Like, optimize for.
00:13:59.482 - 00:14:05.168, Speaker A: Yeah, like, if somebody is coming in. Yeah, exactly. They're not a fresh user. If they've heard of. That's.
00:14:05.184 - 00:14:25.772, Speaker C: That's totally the UI. You have to go three levels deep before we say anything about base fee. We don't talk about base fee. We don't talk about priority fee. We're optimizing for somebody who knows nothing. But what we're hearing about is this, like, 20% use case of advanced users who are confused with the answer setting. So that's what we're talking about.
00:14:25.772 - 00:14:30.428, Speaker C: And I totally agree. Yeah, let me just jump straight away.
00:14:30.514 - 00:14:34.130, Speaker B: Leaguey, you've had your hand up for a while. Did you want to say something?
00:14:35.540 - 00:14:50.760, Speaker F: Yeah, I had a question to metamask how you currently handle Trezor. Basically, now that the firmware is not yet released, and how you plan to do it in the transition phase, where basically some users have the old firmware and some have the firmware with 1559.
00:14:50.830 - 00:14:51.690, Speaker B: Thank you.
00:14:54.780 - 00:14:57.000, Speaker D: I think I heard. Did you say Trezor?
00:14:57.820 - 00:15:19.264, Speaker F: Yeah, I said Trezor. So they currently didn't yet release the firmware. So they have a firmware with one five f nine, but it's not yet released. And how do you handle it currently? So do you fall back to the old behavior and how do you plan to handle it in the transition phase, where basically some users have the old firmware without 1559 and some have it with 1559.
00:15:19.382 - 00:15:19.712, Speaker B: Yeah.
00:15:19.766 - 00:15:49.290, Speaker D: Currently we don't support treasure on 1559, so it falls back to the legacy, but we will support treasure shortly. We currently just rolled out today support for Ledger, so supporting hardware wallets are high on our initiative, so we're taking them one hardware wallet at a time.
00:15:52.140 - 00:15:57.932, Speaker B: And is the ledger support going to be rolled out progressively, or is it just 100% all out?
00:15:58.066 - 00:16:11.632, Speaker D: I believe it's at 10% right now, but, yeah, it's progressively rolled out. Yeah. So we're looking into whether or not things are breaking. We're also gathering feedback from ledger themselves. We're in close partnership with them.
00:16:11.766 - 00:16:13.170, Speaker B: Gotcha. Thanks.
00:16:14.100 - 00:16:14.464, Speaker A: Yeah.
00:16:14.502 - 00:17:04.290, Speaker B: One of the things I'm tracking pretty closely is, or is sort of a proxy for how all the user facing interfaces are working is if you scroll to the bottom of the link I just sent, legacy versus dynamic fees. We've been hovering around 60 ish percent for the past week, and it's actually decreased in the past few days. So if anybody has ideas or providers that they know of which haven't implemented it yet, please let me know and I can reach out to them and we can try to get them support because hopefully we get this to 100 sooner rather than later. 100%. So, yeah, that was league's question about treasure. I didn't mean to interrupt. Whatever discussion was happening we can jump back into.
00:17:09.800 - 00:17:39.550, Speaker E: Well, I had another question for Jake about what you guys are using for the multiple on the base. So I assume for the priority fee you might be using the exposed histogram or whatever the last few, whatever priority fees are. But what are you guys using for your multiple on the base fee in general, or how do you decide how to do that?
00:17:40.640 - 00:17:43.292, Speaker C: Yeah, sorry, go ahead.
00:17:43.346 - 00:17:44.430, Speaker A: You burnt them.
00:17:44.740 - 00:18:03.220, Speaker E: Yeah. Because we've seen a few different places where the base fee is consistently two x, and from the data, it doesn't seem like that's necessary. And so we're trying to figure out how to be smarter about it so that we're not overloading the price to our users.
00:18:04.200 - 00:18:05.540, Speaker C: Yeah, totally.
00:18:06.040 - 00:18:06.404, Speaker A: Sorry.
00:18:06.442 - 00:18:24.190, Speaker D: It's for the confusion, I think we want to say, when we say base here, we want to say max fee per gas. Right, Maxi, where you two x, the max priority fee per gas. Right. So when you mean base fee, you mean maxi, do you?
00:18:25.760 - 00:18:53.990, Speaker E: So I feel like maybe I'm forgetting something, but my understanding was like, two x base fee plus some tip was like the max that people were recommending earlier on. So I just mean, like, the multiple, like the two times the base c plus the priority. So ignoring the priority. So ignoring the priority, just keeping. What is the Multiple? Two x plus. That's what I'm referring to.
00:18:54.440 - 00:18:54.804, Speaker A: Yeah.
00:18:54.842 - 00:19:03.048, Speaker B: There was some initial discussion a few weeks ago about it could possibly be defaulted to 1.2 or 1.32. Might be a little high.
00:19:03.214 - 00:19:03.544, Speaker E: Right.
00:19:03.582 - 00:19:16.908, Speaker B: But there's no, I don't think any hard research yet. That's probably on Barnabase spec burner for now, but definitely something to. If anybody knows of a deeper dive into this, I'd love to see it.
00:19:17.074 - 00:19:20.956, Speaker E: Yeah, because I guess. Sorry, go ahead.
00:19:21.138 - 00:20:01.130, Speaker A: I think the important question to ask is what experience do you want for your users and how many of them are you willing to have a bad experience? That's the trade off. Right. So if you set that too low, you will have a larger percentage of your users. Who will end up with a bad experience if things do not go well for them. And so I think a very important question is, just decide what your cut off is. Like. Do you want 98% of your users to be happy and 2% to be sad, or do you want 99% to be a little less happy and 1% to be very sad? Where a little less happy means they see a bigger number for the fee, and sad means their transaction ended up pending for 3 hours.
00:20:02.160 - 00:20:07.150, Speaker E: Yeah, I guess I see. Having a bigger number for the fee is also a sad category for us.
00:20:09.360 - 00:20:10.108, Speaker A: Right?
00:20:10.274 - 00:20:10.990, Speaker E: Yeah.
00:20:11.520 - 00:20:13.500, Speaker A: The happiest user is sadder.
00:20:14.080 - 00:20:37.828, Speaker E: Yeah, I guess if you could keep the bands. Right. The multiple of this pretty tight. And then just manipulate the priority fee. Kind of competing in the priority fee in that sense, then you kind of opt. Like you're minimizing the bloat that they see. And you're maximizing how quickly they can actually successfully get in that time.
00:20:37.828 - 00:20:50.712, Speaker E: So, yeah, I was wondering, Jake, do you guys have a hard coded number for this, or. It sort of feels like everybody's got a hard coded number for this. And I was wondering if there was anything else.
00:20:50.846 - 00:21:12.908, Speaker C: Yeah, you hit the nail on the head with everybody talking about this. This is, like, the hardest part. Because I'm not the best person to speak about these act numbers. I could probably throw some out, but we've been changing them so frequently. But they're all within the range that everybody said, like, 1.2 to two. And the problem is, it's like the happy sad user.
00:21:12.908 - 00:21:47.464, Speaker C: Right. If you take the middle case and you try to make 98% of your users happy or whatever, which is pretty much what our middle case does. You're totally not supporting the use case of somebody who wants to save money in a spike. Right. Because you're responding to the market so quickly that that medium price is relatively high to the past 2 hours, 6 hours, or whatever. So, yeah, that middle one is the tricky one. Like, what is the default? And I think in order to not disappoint users, we have to show a higher max fee.
00:21:47.464 - 00:22:05.410, Speaker C: Right. So that transactions don't get stuck. And we have to have people opt into a potentially dangerous situation where they have to wait. And I'm sorry, I don't have the exact number, so I can't answer the question. But it was around, like, 1.5 when we first launched. And then it's adjusted from there.
00:22:07.880 - 00:22:12.710, Speaker E: Is there a big difference? Though, between low medium high on the multiple aspect of it.
00:22:14.840 - 00:22:15.476, Speaker C: Sorry, go ahead.
00:22:15.498 - 00:23:03.472, Speaker E: Because technically the longer you wait, the higher it can go. But then if you're paying low, you don't want to have this huge range of prices, right? So you'd expect actually to keep it tighter for even the low just because you don't want them to overpay. And then if they're really urgent, you also want to keep the. There's like these people who want this transaction in now or never, and in which case you want to keep the multiple also pretty tight and just bump up the priority fee quite a bit so that you're competing and getting into ASAP. So I assume the multiple shouldn't really change. I don't see how the multiple should change for a low medium high per se versus just the priority fee.
00:23:03.616 - 00:23:41.180, Speaker C: Yeah, I think there's definitely some truth there. I think it depends on how low your low setting is, right? Like if the low setting is really low, then the max base fee should be much, much lower than the current base fee depending on where it is. Right. It should be like a low over a period of time or something. For the high, you're right, it would be like now or never, where you would just slightly overestimate. Do a medium overestimate of the base fee so that you're eligible for the next couple of blocks if you don't get in immediately and then you crank your priority fee really high up so that it gets accepted immediately. And if it doesn't go through, well, then you just got to wait and you cancel the transaction.
00:23:41.180 - 00:24:06.440, Speaker C: Worst case scenario is like you miss the ride up and then you get hit on the way down. When it comes back down to your max base fee. The other way you would set a high is you would set a super high max base fee and a super high priority fee. And then you're just saying, no matter what, I want this transaction in, right? So high has a couple ways you could play it like moderate base fee, high tip, or high tip high max base fee.
00:24:07.980 - 00:24:10.330, Speaker A: I have kind of like a follow up question.
00:24:10.860 - 00:24:13.980, Speaker G: Is there anyone actually detecting trends?
00:24:16.240 - 00:24:17.150, Speaker A: There is.
00:24:19.920 - 00:24:25.024, Speaker G: The base fee is trending up and that will mean that you will have.
00:24:25.062 - 00:25:30.368, Speaker A: To potentially choose a higher multiplier or a lower if the trend is going down. Is there any wallet doing? Not a wallet, dev, but what I've noticed, this is anecdotal. Barnaby may have better data. I've noticed is there tends to be relatively few trends outside of day to day seasonality, with the exception of when there's one of these NFT sales, in which case there's no way your user is getting to get in. The only users that get in over those five to 30 minutes that NFT sales are going on is if they're very professional bots, stuff like that. And so if you ignore that because no normal user is going to be able to beat that, then I think the trends are just generally general seasonality, whatever time it is at like 08:00 a.m. UTC daily is the cheap time of the day and Sundays tend to be the cheapest day of the week.
00:25:30.368 - 00:25:44.570, Speaker A: That seasonality is there, but those are very long term trends. So if you look at a big graph over the whole week, you'll see the up and down daily, but there doesn't seem to be a lot of trends. Just like within an hour, for example. Again, ignoring the NFT sale drop thing.
00:25:45.580 - 00:26:04.850, Speaker D: Yeah, we've been tracking dune analytics as well and we've tried to make some sense out of these spikes that are happening. Is it regular, is it consistent? And there's no consistency to this at all. So it's very hard to create any type of predictive algorithms based on that.
00:26:07.300 - 00:26:34.280, Speaker H: I have a quick question. Have you actually seen a substantial number of transactions that actually has just the base fee without tipping? Because I guess we haven't done much research, but just kind of basic monitoring transactions. We did not see any transactions that just the base fee. Everything has some kind of priority.
00:26:35.180 - 00:27:13.540, Speaker B: I think almost all interfaces are going to put something in there. The question is what the default suggestion is. I think that could definitely use some work. Whether it's too high. I know one of the issues on the agenda we can get to that after, but it's either a presentation issue or I think it's the web. Three JS is if you're using an older version, pre 1559, it's suggesting the wrong tip, the wrong priority fee. But I don't think that there are a ton of transactions going in, if any, that have zero tip.
00:27:13.540 - 00:27:39.484, Speaker B: Personally. The lowest I sent I think was I think one guay. It took maybe 15 minutes, so much, much longer than typical, but that's the lowest I sent and I don't think that's going to be standard for every other user. I think what people are normally recommending is one to two gwe were you.
00:27:39.522 - 00:27:49.900, Speaker A: Asking are there any uis that do not prompt the user for a priority fee? Or were you asking if there are any transactions that actually get mined on chain without a priority fee?
00:27:50.060 - 00:28:13.096, Speaker H: Well, I guess I was asking the latter. The reason I'm asking because we're working on the UI right now, and their version that we came up with is we actually did not present the base fee at all. We have the three priority versions like normal, high, and highest, I believe, and all of them include the tip in them. So I'm just wondering if this is.
00:28:13.118 - 00:28:13.690, Speaker A: A.
00:28:15.580 - 00:28:18.650, Speaker H: Good assumption to make, just because in General.
00:28:19.900 - 00:29:08.888, Speaker A: Okay, yeah, the gossip network shouldn't actually propagate any transactions that have zero priority fee. If they are, that's a bug or a very altruistic person on the network somewhere. As far as miners, there was some miners initially that had some misconfigured deployments of their nodes around London, and they were mining transactions with zero priority fee. I believe they are now all fixed. And so a, your transaction will not propagate if it's got too low of a priority fee or shouldn't, and b, even if it did, no one will mine it. If you're running like your own local miner, then you could mine one with zero priority fee, and minor payouts may do this. But as far as user interfaces for end users, you definitely need to include a priority fee on everything.
00:29:08.888 - 00:29:21.710, Speaker A: And I wouldn't recommend going below one. Like below one, you probably won't propagate, and so your transaction will just kind of get lost in the ether. Sorry, ether is bad words there, lost in the space between things.
00:29:22.800 - 00:29:23.710, Speaker H: Thank you.
00:29:28.160 - 00:29:41.456, Speaker C: Yeah, the other go ahead on the multiplier thing too. I do think maybe somebody has a different opinion on this. I'd love to hear it if they do. But it does seem like the correct algorithm would adjust based on network traffic.
00:29:41.488 - 00:29:41.684, Speaker B: Right?
00:29:41.722 - 00:30:17.664, Speaker C: Because if you can submit a 0.1 way tip and blocks aren't filling up, that should probably be the default for your medium option. If we have a strong belief that there's not going to be a sudden spike, which we can never predict, it could happen, the default should not have the user overpay it, even though, I mean, 0.1 guay and one guay is probably not a huge difference. And then that's what a higher option should be for, is like saying, hey, I want to make sure I get in, I'm buying insurance against a sudden spike. There's an NFT drop, I'm going into a gas war or something. And that's what that setting should be.
00:30:17.664 - 00:30:29.430, Speaker C: So the medium in a perfect world would be much more flexible to medium, meaning the default value should be much more flexible to what's going on. And that's something we're exploring, but it is hard.
00:30:32.120 - 00:31:05.500, Speaker A: As an anecdote, when I'm personally doing transactions on Ethereum for most of my stuff, I do one priority fee. Just flat and just say one. No matter what the UI suggests to me, I always put one. If it's something that I really need to go in right away, I will sometimes bump it to like three. The only time I will go up to beyond that is if I'm doing some sort of highly competitive action. Like I'm actually trying to buy an NFT or whatever. Like something where because of information I have that's outside of the scope of what a wallet has.
00:31:05.500 - 00:31:24.500, Speaker A: I know about what's going on in the real world, I know there's going to be a burst of activity, and I want to participate in that burst. That's the only time I'll go above three. Again, just anecdotal, my experience, and this seems to work really well. All of my ones go in within a few blocks, and my threes basically always go in within one block.
00:31:27.760 - 00:32:03.000, Speaker G: I actually just had a quick question. I think I've been using 2.5 for literally everything, and I've never not had anything included in the next block or two. Are we seeing people with like, is there actually any meaningful difference between 2.5 and eight? Are we seeing cases where there's a bunch of things in the transaction pool sitting at 2.5 and not getting mined? I also make transactions at times where the gas price is low, so I'm also low. I don't know if that's the right word for it, but lower than we're seeing.
00:32:03.000 - 00:32:09.800, Speaker G: So maybe that's also part of the reason why. But I'm just curious, are there actually any value to having a really high priority fee?
00:32:10.700 - 00:32:48.340, Speaker A: So the times you would need a high priority fee is when you have multiple consecutive blocks that are. I guess there's two situations. One, if miners are setting the minimum priority fee, they'll mine higher than one. We've been advising miners to set it to one because that is above their opportunity cost. And so a spherical miner will set it to one because that's rational. We don't actually know for sure if the miners are actually doing that, and I don't know if anyone has good data on that, but that'd be great to see if possible. So if they're setting it to one or whatever, then in theory, the only time you should not be including the block is if the block was 100% full.
00:32:48.340 - 00:33:11.390, Speaker A: And while we do frequently see 100% full blocks, we very rarely see more than like two blocks in a row that are 100% full. Sometimes you'll get like three, but even that's pretty rare. Again, ignoring those NFT drops which are just like this oddity that you cannot account for. So you shouldn't see a difference between 2.5 and eight. You shouldn't really see much of a difference between one and 2.5 even.
00:33:12.640 - 00:33:52.364, Speaker G: Yeah, so it seems to me like the more important thing to actually set is that multiplier. Rather, the priority fee should almost just kind of always be hard coded. Whatever value you want to use for uncle risk plus mev risk, whatever. So is priority fee even the important thing to modify? If you're talking about high medium low, it almost depends what you really care about here. Sorry, I'm just like, I'm half asleep as well. But yeah, I feel like the multiplier is the more important thing to set in this case is. Oh, actually, I want to bring up one other quick thing.
00:33:52.364 - 00:34:54.000, Speaker G: I really like what metamask is doing with the kind of every couple of seconds stall the universe, take away the button from me so I can't click on it and fetch the new price, because I also think that kind of reduces the problem we're talking about right now, because that means the multiplier that you're using isn't something. When the UI first popped up, I usually click around for a second, check all the prices, make sure the data looks safe, and what's to do is what I expect it to do. So I really enjoy just kind of like having because I feel like that also reduces the risk of what the multiplier needs to be. One quick thing I would kind of like to see like 3 seconds left before we refresh this price. And they refresh because what I find myself doing is waiting until I see the price fade away and the button come back in, because then I know it's got the most recent values. Anyways, I'm kind of all over the map, but I feel like that multiplier is more important than the priority fee, and that's my thoughts.
00:34:54.580 - 00:35:13.670, Speaker B: As per usual, Micah completely disagrees, but maybe he can talk if you'd like. I do find myself in that position as well, where I'll open, start to send a transaction and then go do something else and then come back and it might be a completely different base fee a few minutes later.
00:35:15.240 - 00:35:36.860, Speaker A: Just for clarity on my unhelpful comment there, I do appreciate that metamask is repeatedly updating the base fee. What bugs me is the fact that the whole UI freezes. And so there's so many times about to click a button and it just goes out from under me and then I have to wait a second and then I try to click it again, but another block comes really quick and I miss, and it drives me nuts.
00:35:37.440 - 00:35:51.730, Speaker G: You don't want the price to change as you're clicking the button. That'd be even worse if you agree to something and mid click the thing sweeps out from underneath you and next thing you're three ether or something.
00:35:52.340 - 00:36:19.850, Speaker A: I see the difference now. So I completely ignore what the actual current base fee is. 100%. I have a fixed price I'm willing to pay for a transaction that I know before I even look at that window, and I'm just setting it. So like, for example, I know I'm willing to pay 100 for this. So I set 1100 go. That's what I try to do, but I set one and then the UI locks up and then I wait for it, and then I set 100, and then the UI locks up and I wait for it, and then I click go.
00:36:19.850 - 00:36:31.100, Speaker A: And so I don't actually care what it's doing, which I realize now is a difference in how we're going about using the UI, which is why we have different opinions.
00:36:33.040 - 00:36:43.150, Speaker E: So this means you don't really care about the bloat because you're the one deciding this azure number.
00:36:43.800 - 00:37:07.876, Speaker A: I'm a spherical human, okay? Unlike everybody else ahead of time, I know I care about this transaction enough that I'm willing to pay this much for it to go through. And I know that before I know what the current price is like, what the current cost. And sometimes I will put that through and I will have to wait because something's happening and I wasn't paying attention.
00:37:08.068 - 00:37:08.810, Speaker E: Right.
00:37:09.980 - 00:37:12.760, Speaker A: I expect that, and I'm okay with it. That's just how I operate.
00:37:12.840 - 00:37:29.408, Speaker E: So that would be the reason why you don't care about the current base fee being part of the UI. Whereas I think most people would want to know, like, hey, I'm in this advanced setting. What does this number mean relative to what the current state of the world is, I assume. Yeah, that's interesting.
00:37:29.494 - 00:38:22.860, Speaker A: I think a lot of users, this is something you see just in retail and everywhere in terms of pricing, people often want to pay something that they feel is fair or normal more than they have some sort of utility function where they're trying to figure out, is this actually valuable to me, when you go out and buy a Louis Vuitton bag, you're not paying how much the bag is worth to you're paying. How much is the bag worth to society and to everybody around you? And I think humans, that is very common in human to have that sort of behavior when it comes to pricing things, and I think they apply that here. And so they're like, I want to know what a normal price or a good price for gas is. Just like I want to know what a normal price for apples is, and I'm trusting society to have priced that appropriately. And if that's what it costs, that's what it costs. They're not thinking, oh, this is worth this much to me. If it costs more than that, I'm going to go somewhere else, or I'm not going to eat an apple, or I'm going to buy a different bag.
00:38:23.020 - 00:38:23.730, Speaker E: Yes.
00:38:24.580 - 00:38:59.870, Speaker B: Let me jump in real quick. There's this thing that Tim had put in the agenda, and I want to make sure we get to it and then we can jump back into discussion. Greg, if you want to talk next, but really quick. I don't know if you wrote this before or after we narrowed it down, but Tim had written something about when the max priority fee and Max fee is auto filled with the same value. And I believe it's related to using an old version of a library, I think web3 Js Harif do you remember what the.
00:39:00.640 - 00:39:40.676, Speaker A: I can tell you what the problem is. I'm pretty sure what the problem is, is applications are sending metamask a transaction and they're pre populating for what if some applications populate the gas price in there, and so they're telling metamask, use this gas price, and then metamask is saying, hey, app told us to use this gas price, so we're going to use this gas price. And with the change to 1559, those applications, they are not updated for 1559. So they're just still doing the old thing. They're maybe using a gas oracle or something. And so metamask is doing what the application told us to do, which is set a gas price, even though that behavior is probably not what's actually desired anymore.
00:39:40.788 - 00:40:06.400, Speaker B: Yes, that's what I was getting to. Go ahead, hurry. So at least from etc side, that's actually not true. We've never suggested a gas price either before or now. So we don't know right now whether it's something that metamask is doing or the library what pjs is doing. But yeah, there's two parts. It's giving those two same numbers.
00:40:06.400 - 00:40:15.860, Speaker B: And at least on metamask, there is a UI that says etherscan IO is suggesting this gas price. And, yeah, we don't actually know what to do because we've never.
00:40:16.010 - 00:40:29.130, Speaker C: No, for what it's worth, I messaged somebody, one of your team members on Twitter, like, you guys are using an outdated version of metamask of web3 js. That's 100% what's causing issues there.
00:40:30.080 - 00:41:26.510, Speaker B: We have a fix for that already. The thing with that is that if we push that fix, then as far as we understand, if we do that, then users who use ledger, at least until it was launched today, wouldn't be able to use the right contract feature at all, which is an even bigger problem. So we just decided to delay until that ledger support is rolled out. Okay, that's good to know, but, yeah, if anybody comes across this in an application or finds other issues similar to this, just forward it to me, and I can try and maintain a list and reach out to these teams. Unless you want to do it yourself. But I'm more than happy to take that on. So just forward me the name of the application or the team that's working on it, and I can see what I can do about that.
00:41:26.880 - 00:41:35.840, Speaker A: So I might have missed this at the beginning. Is that a known bug with metamask that if the app doesn't supply a gas price, then metamask cannot interface with the ledger?
00:41:38.900 - 00:41:41.650, Speaker B: No, I think it's just 1559 support.
00:41:43.480 - 00:41:53.510, Speaker A: Yeah. So I assumed that metamask would just downgrade to legacy transaction if it's connected to a ledger, is it not doing that?
00:41:57.350 - 00:42:01.190, Speaker C: My ledger works on metamask with type two support.
00:42:01.260 - 00:42:02.760, Speaker D: I'm, like, very certain.
00:42:05.370 - 00:42:12.810, Speaker A: So let's say you have a ledger that doesn't support type two. Will metamask do the right thing and ask for a signature? A type one signature?
00:42:20.030 - 00:42:21.370, Speaker B: You're muted, Graham.
00:42:22.670 - 00:42:26.510, Speaker C: I have no idea. Mine are updated to the latest firmware.
00:42:27.650 - 00:42:33.882, Speaker A: Okay, sorry. Go ahead, Andre.
00:42:34.026 - 00:42:34.526, Speaker D: Okay.
00:42:34.628 - 00:42:34.990, Speaker A: Yeah.
00:42:35.060 - 00:43:00.946, Speaker D: For my experience, at least. Well, I was using metamask. I thought I updated it, and I could not sign type two transactions for a while until I used metamask with a ledger. And then I saw that it was actually rolled out. So I think that's what somebody said earlier. That ledger didn't support it. The combination of two wasn't supported, so then metamask was falling back to type zero transactions.
00:43:00.946 - 00:43:12.090, Speaker D: So I think it's. Well, the integration is done properly. Right. If ledger doesn't support it, then it will be type zero, and if it does, then it goes to type two. That's my opinion.
00:43:13.630 - 00:43:32.430, Speaker A: I guess what I'm getting at is that etherscan should be able to update the web3 library and not have ledger users break. If that's happening, then something is wrong. Like there's a bug somewhere that someone should be fixing ether scan, not sending is correct behavior.
00:43:33.590 - 00:43:46.214, Speaker B: If this is definitely the case, then we can push it whenever. It was just our understanding that if we did push it, then ledger users wouldn't be able to use the features at all.
00:43:46.412 - 00:44:02.890, Speaker C: Yeah, I don't think that's the case. And the reason I say that is because we broke urine or we broke somebody. I don't know. Bantang blew me up and we patched it and it seemed to work for all of their users. So I'm pretty sure you guys should be safe to update.
00:44:03.870 - 00:44:21.570, Speaker B: All right, Greg, maybe we should kind of follow up later. There's a telegram group between etascad and Metamask and it wasn't really responded to. Maybe we should have communicated better as well, but yeah, we didn't want to make the assumption and break user experience.
00:44:21.720 - 00:44:24.580, Speaker C: Yeah, no, sure. Let's go async. That sounds good.
00:44:30.790 - 00:45:03.070, Speaker G: So I actually had a quick question because somebody mentioned that Michael was saying that he just sets the price he wants and lets it fly. So I haven't experienced this. Like I said, I've been kind of choosing my times well and that sort of thing and giving good priority fees. But I've seen people complaining that they're setting a base fee and they get this error that says transaction. Or maybe it's a gas price. It says transaction. Gas price is too low for the next block, which has a base fee per gas of xxx.
00:45:03.070 - 00:45:24.520, Speaker G: So how does the transaction pool memory pool make sure you can't just set some low base fee that I want. This is how much I'm willing to pay and send it out to the network. Because if it's too low, it seems like the memory pool just won't adopt it. Right, which it kind of has to do for a DDoS permit mitigation. Am I?
00:45:25.930 - 00:46:02.434, Speaker A: Well, so there's a few nuances here. If you are using your own node, your own node will always accept your transactions no matter how low they are, and they'll hold onto them until they can gossip them. And so if you're connected to an own node, then this just works, which I admit I have my own node and so this works for me. Great. Basically I send my transaction to my node, my node just hangs onto it and we'll eventually gossip it. Providers like infura and alchemy, I can't speak to exactly what they do, but a reasonable strategy would be that if you're a paying subscriber, they would do that behavior. And if you're a free subscriber, they would say, hey, too low.
00:46:02.434 - 00:46:27.450, Speaker A: We're not going to hang on to your stuff for you for free. Again, I don't know what they actually do, but that probably influences the behavior. You get. That being said, as long as you're higher than the lowest person in the mempool right now, you'll get gossiped. And so you shouldn't have to be above the current base fee. You should just have to beat whoever the lowest in the mempool is, the global mempool.
00:46:29.310 - 00:46:32.330, Speaker G: Do you still have to beat the current base fee?
00:46:33.070 - 00:46:40.880, Speaker A: You should not. You just have to be high enough that someone else gets kicked out of the memp pool, not you.
00:46:41.490 - 00:47:06.600, Speaker G: But wouldn't that be easy to force just by publishing a whole lot of transactions? Because, I mean, it's pretty safe to broadcast a transaction whose base fee is less than, let's say, equal to one half the current base fee. Because you can do that relatively assured you're not going to get mine anytime soon. And that means you can kind of evict people, doesn't it?
00:47:07.930 - 00:47:39.150, Speaker A: Yes, you can evict people who lowball, but you will eventually have to pay that or more eventually. Your nonce is now sitting in the penny pool and will stay there until someone else evicts you or until you pay something. So your account basically is locked up, and that account has to have ETH in it. And so you are locking up that eth until such time as you spend that eth on a base fee sometime in the future. And so it's not a free attack. You do have to spend money to do this. There's, again, some nuance there.
00:47:39.150 - 00:48:00.238, Speaker A: If you plan on doing a transaction, like in three days, you can say, okay, I can use this account. Like there's one account to consume one spot in the mem pool for three days, knowing that in three days I'm just going to bump the gas price and we'll go through and it'll be fine. So there's a little nuance there, but again, it's an expensive enough attack that we don't have to worry about that particular vector from a DDoS standpoint.
00:48:00.434 - 00:48:21.306, Speaker I: Okay, I would add that that attack is a little bit limited because the nodes will separate the underwater transactions underwater on base fee from those that are marketable. And so it's not like you could consume the entire Mem pool with these underwater transactions.
00:48:21.418 - 00:48:54.630, Speaker G: But that's kind of my concern, right? It's like somebody who's using underwater transactions not because they're trying to attack the system, but because they want a cheap fee and they're willing to wait. And so I feel like the two different things are kind of at ods with each other, because if I'm willing to wait three days and I put some low fee in there, I don't want to be evicted because someone else kind of has another one that they're like, assuming all legitimate users, I feel like a legitimate user could lose out having a lower base feed transaction.
00:48:55.210 - 00:49:16.880, Speaker A: Yeah, you definitely can, which is why if you're going to do this sort of lowballing, you should have a node that's willing to prioritize your transactions in its own local mempool, such as your own node. Or again, I don't know if inferior or alchemy and these providers do this, but hypothetically, if you're a paid subscriber to those services, it would be reasonable for them to consider your transactions local.
00:49:18.310 - 00:49:26.020, Speaker D: Is there a general rule in how long a transaction can sit in the mempool, and what are the conditions based on which it gets kicked out?
00:49:27.030 - 00:50:07.040, Speaker A: So the only rule is that each client on the network, each node on the network has a mempool size, so they have like a certain number of transactions or bytes, depending on the client, that they're willing to hold. And then if that fills up, which it usually does eventually, then the lowest one gets kicked out, basically. So it's just a simple the top end users get to stay, everybody else gets kicked out. Again, with the caveat there is that your local node. So if your node considers the transaction to be local, meaning it was sent directly via JSON RPC to that node, not received via gospel over the network, then it considers that a local transaction, it will prioritize those and never evict them.
00:50:09.650 - 00:50:58.980, Speaker I: I would like to add to that there are infrastructure providers such as ourselves at block native, that also run several nodes with extremely large mempool, basically infinitely sized mempools, in order to ensure rebroadcast of lower feed items. So that a typical mempool, which might be, let's say, 4k slots, it will rebroadcast those when the prices come down to those lower fee ones. And I think other infrastructure providers might be doing themselves if, for example, they're measuring the total size of the mempool, which is typically around 150,000 or more entries, then you would typically be running a few nodes with extremely large mempools to do that.
00:51:00.870 - 00:51:04.370, Speaker A: Are you guys willing to share what exactly how big your mempools are? I'm curious.
00:51:06.150 - 00:51:09.940, Speaker I: How big we allocate or what the size of it is at any given moment.
00:51:10.790 - 00:51:13.940, Speaker A: I guess we run those. Are they not full?
00:51:14.490 - 00:51:15.400, Speaker I: I'm sorry?
00:51:16.330 - 00:51:19.734, Speaker A: Are they not full? I assumed they'd always eventually fill up.
00:51:19.932 - 00:51:21.080, Speaker I: They do not.
00:51:23.710 - 00:51:24.410, Speaker A: Interesting.
00:51:24.560 - 00:51:30.700, Speaker I: We run nodes that can support up to 1 million transactions and they are definitely not full.
00:51:34.110 - 00:51:42.990, Speaker A: Okay, so there you have it. So ignore everything I said. The global mem pool is apparently run by block native and they will hold on your transactions forever.
00:51:44.690 - 00:52:20.620, Speaker I: I wouldn't quite characterize it that way, but I think that you can have very large mempools to measure how big the mempool is, and those can then sort of rebroadcast another item. There is that in, for example, guest there's a setting that will tell how long it'll hold on to a transaction if it does not hear a rebroadcast of it. And I think the default for that is 3 hours. So if you don't hear any gossip on a transaction for 3 hours and you're not seeing any activity on that transaction, then you might get rid of it.
00:52:27.010 - 00:52:53.910, Speaker B: Good context there. Thanks for that discussion. We're just about three minutes from the end, so we just do a quick wrap up. I think this was pretty productive. Again, this was recorded, so we'll have this if anybody wants to send it on to their team members. I think we'll upload it to the cat herders YouTube, but there'll be a link somewhere. But if you can't find it, reach out to me in a few days or later today and it'll be uploaded.
00:52:53.910 - 00:53:35.694, Speaker B: Just generally I want to say thanks to everybody who's putting in effort. There are some parts of the ecosystem which are leaning into this and really trying to make it work for the users, and there are some who are sort of sitting back and just completely not engaging. And I'm really excited. The fact that people are on this call is that you're engaging with the ethereum ecosystem as it changes, as it evolves. So thank you from me personally. I think 1559 is going to take time, but it'll be an improvement. I think it already has been an improvement.
00:53:35.694 - 00:54:07.866, Speaker B: It's just going to take user education, tweaking, tuning things as they come up. So again, thank you for all the work you guys have all put in. So it's really great. I think we covered all of the issues and if anything else comes up, I know last time we automatically set the next meeting. I don't know if we need to do that right now. I think what would probably be most fruitful is when we have more data. And I know Barnaby's been a little busy.
00:54:07.866 - 00:54:45.050, Speaker B: Not that we're expecting him to do all of our data analysis, but he's definitely got the chops for it. So maybe when he has more time and can put together some analysis of what the best tip is, some analysis on how quickly the base view moves, we might schedule another call. Unless people feel in a few weeks there's time for another deeper discussion. I'm totally open to doing that as well, but I don't want to just make the assumption that everybody wants to have this call every few weeks. But yeah. Any closing thoughts from folks?
00:54:48.430 - 00:55:02.640, Speaker A: Please join the Ethereum r d discord pound fee market if you want to discuss any of these topics. Async lots of people there happy to discuss any questions. No need to wait for a meeting if you don't want.
00:55:03.970 - 00:55:41.254, Speaker B: Even better. Yeah, I just dropped the link in the chat here and if you don't get it before this ends, just dm me somewhere and I'll send it to you. Yeah, a lot of great discussion happens async there. And by discussion I mean people trying to understand what 1559 is and slowly learning what it can do and what it can't do. But it's definitely a great place to have discussions. If there are no other final comments comments we can wrap there. I'll wait a few seconds for anybody to speak up and that's a wrap.
00:55:41.254 - 00:55:50.090, Speaker B: Thank you again everybody. And we will reach out if there's going to be another call and maybe we'll see you in the discord. Appreciate it.
00:55:50.240 - 00:55:50.986, Speaker E: Thank you.
00:55:51.088 - 00:55:54.840, Speaker D: Thanks so.
