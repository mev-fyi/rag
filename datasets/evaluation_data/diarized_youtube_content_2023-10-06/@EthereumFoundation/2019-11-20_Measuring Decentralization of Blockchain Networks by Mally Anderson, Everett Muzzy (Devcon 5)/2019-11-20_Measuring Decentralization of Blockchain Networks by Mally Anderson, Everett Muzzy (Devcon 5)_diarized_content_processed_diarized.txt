00:00:12.090 - 00:00:19.118, Speaker A: Everyone. My name is Everett Muzzley. I'm a researcher and a product marker at Consensus, and I thank you all for being here.
00:00:19.284 - 00:01:27.750, Speaker B: I'm Mallie Anderson and I'm a writer. So, over the last several months, we've been trying to figure out ways to measure and define the decentralization of the Ethereum network. Generally, the most popular comparative metric between most of us know that the more decentralized and secure blockchain is, the lower the throughput, at least at this stage in the tech's evolution. So transactions per second are not a very effective measurement. So what do we actually talk about when we talk about decentralization? How can we objectively measure its extent and monitor its evolution over time? Obviously, decentralization isn't a binary, is or isn't condition, but a very complex and emergent process that will change as the network grows. What data can we measure objectively? Originally, we set out to define a quotient or some standard measurement that can replace throughput as a comparative data point. But we quickly realized that we get into Apple's merges pretty fast when we try to compare most of these metrics across protocols.
00:01:27.750 - 00:02:04.530, Speaker B: So we narrow our focus a bit to say what can we effectively measure on Ethereum right now and watch change over time? What's actually happening on main net? And what does it tell us about the progress we're making or not making? So here's the questions we set out to answer. Is Ethereum actually getting more decentralized over time? Are there metrics that show the network getting more centralized? Does the data reveal areas need to focus on addressing or changing? Given some of the trends we're observing, can we make any meaningful predictions about the future? And which of these metrics can we compare across protocols?
00:02:06.410 - 00:03:16.314, Speaker A: So our approach to measuring Ethereum decentralization over time began with determining which elements of Ethereum's architecture, both on and off chain, most significantly impact based decentralization. So, to start off with, at this stage in the research, we identified 19 key subsystems spread across four different categories. To investigate, we attempted to anchor our conclusions in as much on chain and objective data as possible, which can get tricky. And it's also important to note that there are data points that we have not covered that we wish we could have. We consider them important, but they're not necessarily on chain and they can be very difficult to quantify. Those include concepts like the strength and distribution of power grids on which nodes run and the legal jurisdictions and relative stability of countries on which large numbers of nodes are hosted. So for as many of these data points as possible, we track their evolution quarter over quarter as far back as possible, essentially from the early stage Ethereum through gradual adoption, rampant speculation, hacks, CryptoKitties, the bubble, and sort of the subsequent course correction that we've seen in the past year or so.
00:03:16.314 - 00:03:57.462, Speaker A: So we might even charted about 20 or so different metrics. Obviously, we don't have time to run through all those today. So we chose a few of them spread across these different categories that we're going to talk about for a bit. So looking at account growth, we start off looking at total account growth over time compared to active account growth over time. So on the x axis is quarter over quarter across the past four years you'll be on most of the charts that we've seen. And then the blue line is total address growth over time and the red line is active addresses, which we define as addresses that have transacted at least once. And that spike in Q two is the Shanghai Tech during defcon two.
00:03:57.462 - 00:04:17.470, Speaker A: So we see a comp growth increasing steadily over time but we see active addresses more or less starting to flatten after the bubble. So what's interesting to note with this is the growing delta between the two lines over time, which likely is due to the increase in Smart contract activity on the network rather than just simple P to P value transfers.
00:04:19.490 - 00:05:16.100, Speaker B: Here's another account growth graph. This one shows account growth over time by total addresses in gray versus addresses with a non zero e balance in orange. So what we see is a fairly steady linear increase in nonzero addresses on the network with no major bumps even during the dramatic price fluctuations. We can't necessarily say that these there's been a steady increase in the number of individuals holding these because the addresses are pseudonymous. But what we should consider again is the growing balance between the new addresses and the new nonzero addresses that is getting steadily wider as more smart contracts emerge. Since Smart contract addresses have no default, we're seeing a pretty clear increase in both nonzero addresses and Smart Contract addresses over time. That evolution could indicate that the network is supporting more diverse and thus more decentralized types of business logic executed on a net.
00:05:20.710 - 00:06:21.058, Speaker A: This following graph illustrates ETH ownership of the top ten 101,000 addresses comparing the total supply over time. So on the bottom and red are the top ten and then yellow are top eleven to 100 and then top 101 to 1000 and then all the way up to 100%. So the story that this tells is fairly obvious. We see the top ten and 100 addresses on the ethereum network owning a steadily lower percentage of the total geek holding. That could just be likely due to the passive result of increasing supply over time. We do see some of these larger accounts possibly being pushed into down into lower tiers of ownership while others moved up in their place which also could account for the recent uptick we see in the percentage of ETH owned by the top 1000 addresses in the past few quarters. When we're looking at the trend of ownership, general trend of ownership since 2015, we see that ETH ownership is becoming more diverse across addresses.
00:06:21.058 - 00:07:06.790, Speaker A: We can't assume that more new addresses means more new, unique individuals participating in the network. However, we can see that the number of nonzero addresses are increasing and the concentration of the top ten and 100 are decreasing alongside each other over time. This could possibly suggest that, contrary to the popular narrative, the crypto bubble was not overwhelmingly followed by whales and holders buying back crypto at those lows just to make a buck off of what would be the eventual market uptick. Rather, this negative correlation could suggest that more and more new people began accumulating ETH at a steady rate after the bubble, which, alongside growing ETH circulation, could have been reducing the percentage of concentration of these top ten and 100 whale holders.
00:07:08.810 - 00:08:17.178, Speaker B: So the ecosystem being as young as it is, the unequal concentration of wealth isn't necessarily a major red flag for decentralization in the long term. Even with the still large concentration of wealth owned by whales, ethereum is still pretty far ahead compared to other blockchain protocols, at least on this metric. Looking ahead, however, ETH concentration in the hands of a few becomes more of a concern when we shift to proof of stake and influence on the network becomes more closely correlated with ETH ownership as the beacon chain gets more functional. And if POS replaces proof of work, it'll be important to watch out for the staking power concentrating in the hands of a few. So this graph shows the total circulating volume of ETH compared to the circulating volume of select ERC 20 tokens, which are shown as token values in ETH. So this green line shows the total amount of circulating ETH I e moving between addresses quarter over quarter. It's essentially correlated with the price of ETH with the spike in circulating ETH aligning with the price high in late 2017 and early 2018.
00:08:17.178 - 00:09:01.500, Speaker B: And then the Bar chart shows the value of a select few ERC 20 tokens circulating quarter over quarter. We looked at the top ten by market cap, plus a few interesting ones we wanted to look at, like Dai Zero X, Maddox and Loom. The purpose of this graph is to see if activity on the network is any more diverse from both a utility and a speculation perspective. What we think it shows is that despite a relatively stagnant ETH price recently, the ETH value in circulating tokens is increasing dramatically. And not only is the circulating value increasing, but the diversity and market share of tokens are increasing too, suggesting that users are using more ERC 20 tokens and doing more with them across the board.
00:09:05.790 - 00:09:49.382, Speaker A: These two graphs one on the top, one on the bottom, shows the growing concentration of mining pools over time, as measured by percentage of total block production on the top and the percentage of the total miners that are being paid out on the bottom. And then in each of these graphs, each color corresponds to the same mining pool. So for instance, the green that's on the bottom of each graph is Ethermine, and then so on to the rest. So, over time, we see that four pools have really started to dominate the mining pool landscape. Those are Ethermine f. Two pool, spark pool and Nanopool. Collectively, they've edged out past previous competitors like Mining Pool, Hub and Dwarf Pool, which are can't even see the percentages.
00:09:49.382 - 00:10:40.854, Speaker A: You can barely see their importance in the past few quarters. So those four pools, those four major pools now account for over 72% of quarterly block production, again, the top graph, and they pay out to about 83% of the miners across mining pools. Again, that's the bottom graph. So in particular, we're seeing a particularly concerning, possibly concerning dominance in block production between Ether Mine and Spark Pool, which today account for just under 50% of blocks produced per quarter. And together we're seeing Ethermine and Nano Pool pay out to nearly 70% of the miners on chain. So the concentration of the influence among a few mining pools is definitely not ideal, but it's not necessarily a major concern by itself. Miners are pool agnostics.
00:10:40.854 - 00:11:41.494, Speaker A: They will migrate to whatever pool offers the best incentives. And if we assume rational behavior by miners, if a single pool were to reach a hash rate close to 50% or start visibly colluding with other pools to mount a 51% attack, it's not outside of the realm of possibility to presume that miners would abandon those pools to protect their income and switch to other pools. However, when we look at the number of mining pools and miners over time, as shown by this graph, with mining pools in the Orange and miners in red, we see a distinct decline in both over the past year. In short, what this means is that we have fewer miners that are active on fewer mining pools and fewer mining pools being responsible for network maintenance. As a quick note, it's important to say that the number of miners in red is not entirely accurate. We base the number of miners in mining pools based off of on chain payout addresses. But some mining pools pay out their miners off chain just through more traditional bank deposits.
00:11:41.494 - 00:12:23.580, Speaker A: So these numbers will be a bit off, but we can't tell those off chain numbers. So, yeah, overall, mining pools could be an area of increasing centralization. On Ethereum, we have lowered ETH prices, reduced block rewards, and a fairly stagnant hash rate. That could be the reason for miners not joining the mining pools recently. And then also we just have the loss of efficiency concentrating the power of mining pools in fewer and fewer mining pools. So, with naive towards the future, the eventual switch to proof of stake will redefine this metric of centralization. But until then, it's fairly prudent that we keep an eye on how this concentration of mining pools and miners and the relative power evolve over time.
00:12:23.580 - 00:13:15.450, Speaker A: So next we want to look at node diversity so this data is from node tracker on Etherscan and it shows a node count by country starting in 2018, which is unfortunately only as far back as the data goes. It's a heat map. So the warm colors are the highest node counts and the cooler colors are the lower node counts. And in general, we definitely see some unfortunately bare areas that stay pretty consistent over time, such as the African continent. But we do see pretty uniform fluctuations rather than random sudden spikes in different geographical areas that are unequal from sort of other countries. And it's also helpful to see that the network is physically quite distributed and decentralized across the globe and across a variety of legal and political systems.
00:13:18.990 - 00:13:50.550, Speaker B: So these two graphs look at the node size versus the price of ETH. There's been a lot of fluctuation in the total count of full nodes running the Ethereum network. Right now, for example, I think the number is about half of what it was around this time last year. So on the surface that looks a lot like centralization. There are fewer nodes overall and presumably fewer people running nodes. There are a lot of reasons why that could be. But these graphs show two factors we looked at to see if there's a correlation.
00:13:50.550 - 00:14:13.114, Speaker B: So on the left we're comparing the number of active nodes to the average ETH price, quarter over quarter, or actually I think this is week over week. So maybe when the price is high, it's a common belief that more people think it's worth it to run notes. That doesn't actually seem to be the case, at least over the course of 2019, which is again, all the data.
00:14:13.152 - 00:14:14.400, Speaker A: We were able to get.
00:14:15.330 - 00:15:09.630, Speaker B: When we look at the no account on the same graph in blue as the epric in green, it looks like there's actually a negative correlation. The node count was at one of its lowest points in June when the price was the highest and the count was quite high during the price dip at the end of the summer. So even if this correlation might have been true historically and that's why people think it exists, it doesn't seem to be true right now. So then on the right we checked window count against the total size of the default node on guest, which is the red line, and imperity, which is the orange line. About 97% of all the nodes on the network are run in one of those two clients. And about 95% of the nodes on the network are default nodes, as opposed to archive nodes, which would of course have a much higher data program. Obviously the average node size is more or less increasing over time as blocks are mined.
00:15:09.630 - 00:15:56.590, Speaker B: It seems reasonable to assume that as the default node size gets bigger, it gets more expensive and takes more energy to keep the node running and keep it synced. So maybe, sure, people are doing so and that looks like it's the case when we look at the graph on the right. Or at least we see a clearer relationship than there is with the price of ETH. As moves towards POS and charting the network, the node size burden won't have to be as much of an issue. So maybe this attrition won't continue on the same trend into next year. There are also some interesting experiments happening around the ecosystem to find ways to make running a node easier and cheaper. So we want to keep tracking this through the changes that the next year is going to bring on the network.
00:15:59.090 - 00:16:57.970, Speaker A: So we set out to start measuring decentralization. We of course envisioned this fabulous graph or tracker that would compare pretty consistent decentralization metrics across protocols that very quickly, as Mali said in the beginning, sort of devolved into comparing apples and oranges. And we of course recognized that based off different consensus algorithms, you can't compare the same metrics across protocols. And so we took that original 19 subsystems that we showed. We said, okay, which ones could we possibly and confidently compare across at least a few protocols and for instance, have a proof of authority or a Poi blockchain looks very different than it would for a proof of work, proof of state blockchain. And so the next step would be to sort of take this adjusted series of subsystems and see if we can confidently compare them across chains. The difficulty is, of course, accessing data for those chains.
00:17:00.470 - 00:17:30.390, Speaker B: So what conclusions can we take away from all this? First, we think the network is most clearly decentralizing when it comes to the reduction in the holding power of the top ten and 100 addresses as we head toward ethereum 20 and proof of stake. Watching what happens with these ownership percentages will be crucial. Second, we think that the clearest area of centralization is in the mining pools and the concentration of power between a handful of pools. We also suspect that node.
00:17:41.890 - 00:18:18.810, Speaker A: Not necessarily trying to make a decision about if the ecosystem is doing a good or bad job at decentralizing ethereum or even making a value judgment. It's obvious that the activity on ethereum is getting more diverse, that developer mindset and activity is growing, that we're making steady progress on security and that the introduction of use cases like DeFi have injected a lot of factors into decentralization and activity that we don't necessarily have time to analyze yet. So it's safe to argue that ethereum is far ahead of most of the protocols in terms of sort of this network and ecosystem of decentralization.
00:18:20.690 - 00:19:25.390, Speaker B: Fourth conclusion is that over the lifetime of the network we've seen much greater complexity and more layers of activity happening off chain, which we can't see here that will just get more true over time. So in some sense this stuff might get even harder to track, but that also makes the security and decentralization of the base settlement layer that much more important to watch on mainnet. We also wanted to point out that it's really important to have this historical data about the network so we can all watch these metrics continue to evolve. I would say Ethereum is much better at tracking data than any other protocol, but it can still be surprisingly hard to find, let alone make sense with this very zoomed out, big picture stuff. So Ether scan shared some of their non public historical node tracker data with us, which we really appreciate. And we also want to say thanks to our colleagues, Delapio, especially Danny, Sweet and Rocky, for helping us pull this data and create these visualizations.
00:19:27.490 - 00:20:29.526, Speaker A: So, as you mentioned, we didn't have time to go over a lot of the other graphs that we had pulled and analyzed for the study of decentralization. So we have about a dozen or so more that we're going to have time to look. But we're going to build a page on Aleppia, which is a data analytics platform where anyone interested can view those graphs. And then hopefully in the near future, we'll have a live tracker of these metrics over time so we don't have to constantly update them and reanalyze them. So this is just a few of the other graphs we don't have time to analyze, including function calls. On the top left, that smaller one does include transfer, and on the bottom right, it just removed transfer to get a clearer view of the other function calls, looked at ETH trading volume over DEXs and then gas fees, and then just a different way of looking at the top address concentration. So we really hope this is something of interest to the network, that people continue asking questions about it, continue exploring it, suggest some additional metrics or ways to quantify those subsystems over time.
00:20:29.526 - 00:20:34.930, Speaker A: And if you have any questions, please definitely reach out to us and enjoy the rest of DevCon.
