00:00:13.050 - 00:01:02.186, Speaker A: So then why is crypto economics different from just regular old economics? Well, it's the environment. We live in a very different environment with the decentralization and trustlessness that makes economics a lot more difficult. We can not rely on outside law enforcement that makes people follow what we do. Instead, it's a very adversarial environment where we only assume that people are rational, meaning that people maximize their own payoffs and do what's best for them. This is also what makes it very exciting, in my opinion, where crypto economics really started was with the game theory of the bitcoin protocol. So, game theory is the study of strategic behavior, or how you would respond to situations in which other people also make decisions about how they behave. Importantly for the bitcoin protocol is that you have a decision in which chain to mine.
00:01:02.186 - 00:01:52.702, Speaker A: You could either mine on the longest chain or on another fork. And this decision is something that every miner actually has to make. And you're incentivized to mine on the longest chain because you'll get some issuance rewards and fees. And if you mine on another chain and it's not included in the Toronto chain, you only waste your energy spending on this, meaning that you're incentivized to do the right thing. Now, in game theory, we usually put these kind of games into tables to make it easier for ourselves to see what's happening, what other players are doing, and how we can determine our own strategy. So, as you can see here, assume that you're a bitcoin miner, doubting to mine on the longest chain what you're supposed to do, or on another chain for the next blot. And all of the other miners, we've aggregated into one group as well, and they're simultaneously deciding on their strategy as well.
00:01:52.702 - 00:02:31.750, Speaker A: So, in this table, the first emoji corresponds to the utility or payoff of the person in the first column. So that's you as a miner. And the second emoji corresponds to what all of the other players are doing. And we can see that since all the other players are in this situation, mining on the same chain, they'll always be happy, as that chain will be the canonical chain. However, for you, deciding on which chain to mine on, it's important to think about whether you're going to on the longest chain or on the other chain. And then how you could determine your strategy is to see, given that other people are mining on the launch chain, what maximizes my payoff? Well, in this case, mining on the launch chain as well. And given that other players are mining on another chain.
00:02:31.750 - 00:03:03.522, Speaker A: What, maximize my payoff? Well, mining on the other chain. So, since every player in this situation has the same strategy, we actually end up in a point where there's a steady state. Everyone mines on the same chain, hopefully. And the steady state is what we call a Nash equilibrium, because no one has a strict incentive to deviate from this situation. So if you're mining on launch chain, if you mine on another chain, it means that your payoff will be less, meaning that you don't have an incentive to deviate. So, this is the game theory part of crypto economics. Small introduction.
00:03:03.522 - 00:03:47.030, Speaker A: Now we'll introduce a bit more theory called mechanism design. So, mechanism design is really the study of designing strategic situations with game theory in mind. So how can we make games so that the payoff or the outcome is how we want it to be? An example could be when we're designing an auction, we want people to have an easy way to bid. So, for example, bid their true valuation of something. And we want that to be incentive compatible with the protocol. So incentive compatibility means that the designers have a goal in mind, and the strategy that users are going to deploy reaches that goal. So, in that case, we could use game theory to see what's the strategy and how can we design around this.
00:03:47.030 - 00:04:28.946, Speaker A: And it's always very important to take into account what you're actually designing for. So there have been some famous mistakes, for example, some Olympic games where the pools weren't made correctly, and some teams actually both try to lose, which is very weird setting. Okay, so then if you turn back to our example of the miners in bitcoin. Bitcoin enforces that everyone mines on the longest chain, which is what the protocol wants them to do, by issuing rewards only for those mined on the longest chain. So this was a section about game theory and mechanism design, and bit more theoretical setting laser will dive more into applied settings. But if anyone has any suggestions, questions, or anything, please just raise your hand. If not, we'll just continue to how the jas market works.
00:04:28.946 - 00:05:05.306, Speaker A: So many of you will probably have heard of the Dalit's speech this morning. He talked a bit about the gas market, and I'll try to elaborate a bit on that. So, the DAS market is basically for any transaction that you send to Ethereum, you pay gas. And how this DAS is constructed is dependent on the amount of operations and the type of operations that you do in a transaction. So each operation or opcode has a fixed amount of DAS units that are associated with it. So, for example, multiplying two numbers tills five units of gas and adding two numbers till three units of gas. And this ratio is relatively defined.
00:05:05.306 - 00:05:50.178, Speaker A: So five three ratio, and this doesn't change. But this may be weird because as you may have noticed, the amount that you pay for your transactions isn't actually fixed. This is because the amount of eth that you pay per gas unit. So these are two separate markets, is determined by supply and demand. It's important to have this distinction between the amount of gas units and the amount of eth that you pay per gas unit. We have a gas limit to preserve decentralization, which of course a goal of the protocol. And this is done because if we could make the trade off for a higher gas limit, so more gas units per block, and this means lower fees, more transactions, but it means less decentralization because less people would be able to participate in the protocol, less people would be able to validate, meaning that we miss one of the doors of decentralization.
00:05:50.178 - 00:06:49.918, Speaker A: And how blocks are in principle made is that a miner sees all of the transactions that come into the mempool and they choose the transactions that are paid the highest fee per gas unit and they basically just fill their blotch with the highest paid transactions. At the end of rationality assumption that we talked about before. Important to note here as well is that this is the pre ERP 1559 gas market. I'll talk a bit about this ERP later, but this is the simplest setting, how it was before, some time ago in Ethereum, then this auction for blockchain. So an auction in which we sell a scarce resource, which is blockchain, which is what the Ethereum protocol sells, is actually a first price auction. So players bid for the transaction to be included, and if they win the auction, they just pay their bid and they're included. However, this is not an ideal setting because it's very difficult as a user to know what to bid exactly.
00:06:49.918 - 00:07:31.500, Speaker A: If you bid your true valuation, you get your transaction in, but you also pay everything in gas fee, so you're not really better off. So you're going to shade a bit and going to bid a bit lower, lower. But you don't really know how much to bid. And it's also difficult for the protocol because in some cases, people that actually have more valuable transactions that were willing to bid more are not included, while people that have lower value transactions are included because it's difficult to determine your bidding strategy. How should we design an auction mechanism for Ethereum in which blotchface is sold in an incentive compatible manner, so that people can just bid their true evaluation and do not have to worry about shading. We have second price auctions. In principle, these are very simple.
00:07:31.500 - 00:08:07.602, Speaker A: We are auctioning off the scarce resource. Again, blotchpace. And if you win an auction, you pay the second highest bid. So, for example, if I bid ten e, you bid 14 e, and two other people bid five and one e, you win the auction with your 14 e bid, but you only pay my bid of ten e, which is the second highest bid. And the nice thing about this property is that we can mathematically prove that in this case, it's dominant strategy incentive compatible. And this means that every person has a strategy, independent of what other players are doing, to simply bid their true valuation. This maximizes their utility, maximizes their payoff.
00:08:07.602 - 00:08:42.974, Speaker A: And because every user is going to do this, we end up in the national equilibrium we talked about before. And this is actually great, because now we have a national equilibrium that we, as a protocol, want. So why wouldn't we just implement the second price auction? This is an open question. So if anyone has a suggestion why we can't implement a second price auction in Ethereum. So you mean that, you know, that what everyone bids, so you can't implement a second price auction because then you can just bid yourself. Yeah, exactly. So because of the adversarial setting, miners will maximize their payoff.
00:08:42.974 - 00:09:42.502, Speaker A: So let's say that you have a block in which there are four transactions, one paying ten fees, eight fees, seven fees, and two fees. And we'll assume here that the second price version works. In the case where you just pay the lowest transaction that's included in the block, then every user will have to pay two fees. If the miner uses the real transactions, however, the miner can, in the adversarial setting, maximize their payoff by stuffing the block with a known transaction. So they switch out the transaction, paying two fees, insert one of six, and now three people pay six in fees, instead of four people paying eight, meaning that they maximize their payoff. And this is something that can be easily done by a miner and is very difficult to detect. Therefore, we can't implement these kind of mechanisms, which is unfortunate, because as we have seen, there are quite a few negative consequences of first price auctions, for example, the priority gas auction, or PGA for short.
00:09:42.502 - 00:10:16.800, Speaker A: This means that if there's a very valuable blockchase, you may want to have your transaction included before other players. So, for example, if there is an NFT minting and there's only one NFT, you want to be the first one to mint this NFT, but other players may also want to mint it. So let's say this NFT is worth 100 eth. You're willing to pay up to 100 e in gas fees. But of course you want to shade your bid as much as possible and pay as little as possible. And that's what we see here. On the y axis we see gas bids in gray, and on the x axis we see time.
00:10:16.800 - 00:11:03.498, Speaker A: And the orange triangles are bids by one bot who is searching for Ethereum, seeing if are valuable transactions they want to bid for. And the blue is a similar bolt, but just a different one. On the green star we see where the bolt that won and the red bulch is the bolt that lost. And you see that the bids are increasing over time, outbidding each other iteratively by small amounts to maximize their payoff. And now, why this is exactly bad for the protocol is because it spams the mempool. It makes sure that even transactions that don't win. So transactions that aren't the green one are also included in the blot because they pay a lot of gas fees.
00:11:03.498 - 00:11:52.106, Speaker A: So miners are incentivized to include them in the blot, meaning that the block is filled up with transactions that revert. They do nothing and they basically only waste blockchain. And since blockchain is now more scarce, base fees, gas fees go up, which is bad for everyone, of course. So an elegant solution that was thought of for this is ERP 1559, as I spoke about before. And basically what this does is transforms the fee market into something that resembles more of a certain price auction. So now, up until ERP 1559, you just pay the gas fees and those go to the block builder and they can put all of their profits in a pocket. But now there is a base fee that's determined by the protocol and amount that you give to the block builder.
00:11:52.106 - 00:12:24.474, Speaker A: And this base fee is burnt. So there's no incentive for people to try and make off chain agreements giving you part of the base fee. And this makes the biding for blockchains very different because now blocks in general aren't full. So miners are just incentivized to include whichever transaction pays them enough tip to be included. So bidding has become a lot easier. You basically just pay the base fee. You add a very small amount of due that's constant over time.
00:12:24.474 - 00:13:05.426, Speaker A: And this means that your strategy of bidding is basically incentive compatible with how the protocol wants you to do so. It resembles kind of a second price auction, and users can just bid their true value. And also, it's a common misconception that ERP 1559 decreases total fees or gas fees that users pay. And this is not the case because it's only a mechanism of how users bid for their transactions to be included. The blockchain in the long run is not increased, meaning that gas fees don't decrease because the supply and demand are still the same. So that was a part about gas fees. If anyone has a question, ERP one for finance.
00:13:05.426 - 00:14:00.310, Speaker A: Interesting. So be happy to take anything, but otherwise we'll just continue with maximum attractable value, which is also a very interesting subject. It's a subject which has a lot of applications, and there are many papers written about this, so it's definitely worth checking out, but we'll give a brief introduction to it. So maximum attractable value means that you extract as much value as you can from the Ethereum network. So how this is done is we'll start by looking at how transactions come into the blot. As we talked about before, users submit their transactions and they're included in the mempool at first, in which all block builders, searchers search, or people who extract Mev can look and they try to maximize their own payoff. So for example, if you submit a transaction to the mempool trading token a for token b, and it's a very large trade, the price of this pair is going to switch.
00:14:00.310 - 00:15:12.798, Speaker A: So as someone searching through the mempool, you could think that this is going to happen, it's going to happen. So in that case, I'll bid place a transaction just before this in the block, so that I can buy token b before it increases in price, meaning that I have an arbitrage, so risk free profit. And this is what happens a lot. And why this is possible is because the ordering in a block is not fixed. It's not the case that if you submit your transaction, it's included in the block on a time basis, anyone can shift the order, or actually, builders can shift the order, or if someone is willing to pay for it, they can shift the order as well, meaning that they could extract any value from users in Ethereum network. So interestingly about this, this is very similar in some sense to high frequency trading in traditional finance, but in blockchain, the difference is that you can actually execute these strategies atomically, meaning that if you have one transaction in the mempool that you would like to do some mev on, you can include your transactions only if they are profitable. So in this case is really no way to lose money.
00:15:12.798 - 00:15:46.140, Speaker A: So this all sounds very bad. Users are being value attracted. It makes execution worse for users. Why wouldn't we just forbid MeV? Well, it's not as simple. MEV is quite a powerful force. So we'll have a look at why some people think MeV is good and why some people think MeV is bad. So on the one hand, people argue that MeV is bad because searchers find almost all transactions in the mempool that they can do Mev on, and they make sure that your execution is as bad as possible, which is of course not something that you like.
00:15:46.140 - 00:16:35.350, Speaker A: Also, interestingly, MEV incentivizes centralization. This is again, if we walk back to the comparison with high frequency trading in traditional finance, these are usually two operations with multibillion dollar budgets. They have very big infrastructure operations, and some similar argument can be made for MeV. You need to stand the mempool. There are multiple strategies that require high investments, meaning that there is autonomy to scale, which is centralizing force, which is of course not something what you want. And it's actually been twittered as one of the threats to ethereum searches. Waste blot space this is what we saw before in the priority gas auctions, where transactions that are reverted or do nothing are included, pushing up gas prices.
00:16:35.350 - 00:17:23.162, Speaker A: And MeV searches are generally very smart, so they could put their time and efforts into building other great projects that contribute to the ecosystem. But some people argue that this is very bad. On the other hand, there's an argument to be made that MEV is good, or maybe this is a bit unnuanced. MEV might not be extremely good, but it's worth extracting. Or the way to deal with MEV is not to just ignore it. There's an argument that some searches provide very valuable services to the network. For example, if there are two liquidity pools, and in the one pool token a and b are trading for, well, you can get five token b for one token a, and then the other pool you can get ten token b for one token a.
00:17:23.162 - 00:18:03.586, Speaker A: This is of course a mismatch. And searchers, they can do an arbitrage transaction here, making the prices again equal, so that users in general have better execution if they trade in one of these pools randomly. Also, liquidations for lending platforms. If there's bad debt, searchers liquidate, and the people that lend out the money are protected. And these are generally recognized as quite good parts of MeV. MEV can be redistributed. So this is an interesting line of research where the idea is that you extract all the of MEV, but then the MEV is redistributed to users.
00:18:03.586 - 00:18:48.518, Speaker A: For example, as a user, if you submit a large transaction that's going to shift prices, you could make an agreement with someone that's going to extract from you. Let's say they make one e profit by extracting from you. You could get an agreement saying that, okay, you have to pay me back at least 90% or something of this extraction, and then it's fine. So in this case, MEV wouldn't be as toxic as it would be normally. And another big argument is that MEV needs to be extracted to ensure protocol safety. There are quite some proposals to ensure protocol safety by other means. But the extraction and redistribution seems like an argument which is very holistic, meaning that users don't fall through the tracks and there are no incentives to be very traitor or not.
00:18:48.518 - 00:19:43.894, Speaker A: Okay, so it's very difficult to say whether MEV is actually very good or if it's particularly bad. It's easy to say that MEV cannot be ignored. Why it's not really settled is because there are lots of nuances as well. For example, some bat runs that we talked about before that make sure that prices in liquidity pools are equal, are seen as bad. For example, if you have a lot of transactions trading e for bitcoin and bitcoin for ETH, and the other way around, you can first align all of the transactions trading e for bitcoin and then backrun by basically first having all of the users pay up the price and then taking free arbitrage profit, which would be seen as a bad background. So not all MEV can be detected, and not all MEV can be easily classified into good or bad, meaning that's not as easy to say that we should do particular things with it. However, there are things to be done.
00:19:43.894 - 00:20:30.120, Speaker A: So some responsibility lies with DAP developers. You could design your dapps with, for example, mechanism design and game theory in mind, such that your users aren't extracted from too much. This is something that's very important and is an increasing line of research. And we can't say that all of the responsibility lies with DAP developers, because some MEV cannot be mitigated by only one DAP. It's a contribution of multiple factors, multiple transactions that may be unrelated, meaning that there is also a role for the protocol to make sure that users aren't extracted too much. From now, we'll be going a bit into ongoing research that we do at the EF, at the robust and centers group. So I would also like to invite Barnabay for this.
00:20:30.120 - 00:20:59.498, Speaker A: And if you have any questions, do let us know. Otherwise, we'll be happy to talk about what we do. We do basically crypto economic research on the foundation of the assumptions that we talked about earlier. So, are there any questions about what we've talked about up till now? I think MeV, it's also irrespective of sharding in some sense. So there are, for example, cross domain MEV opportunities that don't simply disappear because of sharding. So, no, I don't think it would disappear.
00:20:59.594 - 00:21:57.634, Speaker B: I guess it could be mitigated somehow if most of the user transactions move to like roll ups, and roll ups are the ones who use the data sharding facilities that we are now building at protocol level. In that case, most of MEV maybe accumulates at the roll up level, and you might not see so much of it at the base layer of Ethereum. But yeah, as Julian said, because roll ups don't just live in their single world. For instance, you have designs for pooled liquidity, where different roll ups could use the same liquidity that resides at the base layer or at some settlement layer. You could see that some of the MEV sort of percolates down to where the liquidity is. So many people, I think, are trying to build models, including us. So roll up economics is something that we are trying to think about to see how the value flows from the users to the protocols to protocols which are on top of Ethereum, and MeV is a part of it.
00:21:57.832 - 00:22:30.806, Speaker A: So maybe I'll explain what the standard tax is in general. So if there's a transaction moving prices, you can put your transaction in front and with transaction at the back. So back running and profiting at both sides. And in this case, you have a transaction in between two of your transactions, which makes it a sandwich, which is seen in general, I think, as a toxic form of MeV. Yeah. Also in traditional finance, it's a difficult argument. I think it's not as nuanced that market making isn't.
00:22:30.806 - 00:22:47.694, Speaker A: Yeah, it's, it's not as atomic arbitrage as it here. Like, you have 100% chance of making money, and if it's not profitable, you simply let your transaction not execute. But there are quite some parallels to be made between mev and high frequency trading in traditional finance.
00:22:47.822 - 00:23:43.982, Speaker B: Traditional finance, when you see high frequency trading, a lot of value goes to, I don't know, putting your computer next to the New York Stock Exchange or billions of dollars to shave off nanoseconds to your strategies. This is economic value that just leaves the market and goes towards people who build all this infrastructure. Maybe one of the opportunities that we have with the protocol with respect to MeV, is if it can be captured, and if it can be captured efficiently, that this value could serve to strengthen protocol security rather than hamper it. So, of course, it doesn't mean that, yeah, let's get user sandwich, because that gives us more value for protocol safety. I think, of course, we should design Dapps such that these bad outcomes don't happen. So for sandwiches specifically, there's many different proposals that I would say, realize different trade offs that users might have. So, just mentioning some of the top of my head, one is encryption.
00:23:43.982 - 00:24:27.330, Speaker B: So your transaction could go encrypted, be committed to, and then executed so people can't swim with you because you don't know what happens. The trade off here, of course, is that the execution latency is a bit higher, but maybe as a user, you're fine with this. Another id is receive time ordering consensus. So, there's this idea that if transaction a is seen by most of the network before transaction b, then transaction a should be included in the block before transaction b. It's in theory, I think, a property that is really nice, but again, because we're in a decentralized system, there's no one that reports, oh, I've seen a before b, so a must be before B. And again, you can have these games of colocation. So again, trade offs here as well.
00:24:27.330 - 00:25:25.358, Speaker B: Another thing that I would say is a relatively new idea, is the idea of offering your order flow, so, getting paid for your transaction, saying, well, if my transaction is so valuable to you, you should pay for it. That's what Julian also introduced earlier. I hope that we'll see more protocols in that direction, because these are the ones, in my opinion, that make the users whole, and also allow the protocol to capture some of that. Mev, I don't want to comment on flashbots specifically, because I'm not working for flashbots, but I would say flashbots. Other people in this ecosystem are trying to understand MeV from first principle, where it comes from. The view, of course, is to use it as a force for good. So, trying to ensure that it doesn't destabilize a protocol, that it doesn't hurt the users, part of that comes from mitigating it if it's bad, part of it comes from containing it, and maybe capturing it, if it's good.
00:25:25.358 - 00:25:29.190, Speaker B: Yeah, I would say these are broad strokes of the ecosystem.
00:25:31.290 - 00:26:05.600, Speaker A: Sure. So multidimensional gas fees is very different from MeV. It's not related. It means that now we pay gas for any kind of operation that you do, whether you store something on the blockchain or whether you do just simple operations like multiplying. We all cram this cost of computation and cost of storage into one unit, which we call gas. But we could split this up into multiple units so that you pay more directly for what you use. So if you're trying to store things, you pay for that you store, and you don't congest the blockchain with.
00:26:05.600 - 00:26:31.210, Speaker A: So in this case, the das limit is set so that people aren't, their computers aren't overwhelmed. But for example, if you have lots of transactions only using one particular thing, like if there are only transactions using storage, there's a lot of operations that could still be executed by people. And so in this case, multidimensional dash would mean that these computers are used more efficiently, basically, and the more transaction could be executed.
00:26:31.790 - 00:27:11.278, Speaker B: Yeah. Adding to this, if you've heard about rollups. So the idea of rollups is there are chains that exist outside of the Ethereum base layer. These chains, to secure themselves with Ethereum, they have to post data to the Ethereum base layer, basically the kind of summary of what happened on the chain. So this data is not executed. So it doesn't add execution or execution cost to the base layer, but it needs to be made available and stored, for instance, these are two separate types of resources, probably. If you've heard of EIP 4844, the idea of providing a much greater data capacity at v.
00:27:11.278 - 00:27:24.166, Speaker B: Ethereum base layer is separating the market between the Ethereum execution and the market for data that roll ups are posting. In that case, you would have something like two base fees, or you would have the way to differentiate between two markets.
00:27:24.358 - 00:27:43.534, Speaker A: So what we are personally working on is, for example, mev multidimensional gas proposal builder separation Barnbage David talked about, and I've worked a bit on blockchain derivatives. So ensuring that people can hedge against gas fees rising in the future. Yeah, if you'd like to talk about that, please find us.
00:27:43.732 - 00:28:14.250, Speaker B: Yeah, and I would say crypto economics is relatively new as a field. There's a lot of people who don't have traditional economics background or even computer science background who get interested in it. So, yeah, the barrier to entry feels a little lower, mostly because there's a lot of resources now that are available. If you go into the Defcon video archive. There's lots of talks on crypto economics that are interesting. And yeah, if you think it's fun, I think both Julian and me would be also happy to answer questions offline.
00:28:14.670 - 00:28:40.830, Speaker A: Talking about resources. We compiled a list. So in the table there are some collectives or groups that publish research on crypto economics. And in the bottom, there are some links to some personal blogs from people, including Barnabay, about some crypto economic research. The slide should also be made available later. Yeah, so that was it. We ended a bit early.
00:28:40.830 - 00:28:49.640, Speaker A: So if anyone has any questions, please feel free. But thank you very much for attending. And you can always also ask your questions later if you'd like.
00:28:54.970 - 00:29:02.100, Speaker B: I want to give special thanks to Julian because he didn't know he was going to do this talk three days ago, and I think he did a really wonderful job. So if you can applaud him again.
