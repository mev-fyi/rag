00:00:01.930 - 00:00:25.640, Speaker A: When the machines came, they were faster, cheaper, able to take on anything we could throw at them. But an ape is a rebellious beast, and apes want what apes want. In hindsight, it wasn't it.
00:00:47.230 - 00:01:45.694, Speaker B: These are the two names on everybody's lips right now, Solana and Arbitrum. And as lug would have it, both blacked out on the very same day, sending maxis of every flavor into paroxysms of Chardonna Freuder, once a Gavin of York was moved to apply his intellect to the issue with this scathing tweet. The two blackouts were caused by a similar issue, spam, and they do throw up some important questions, and we'll dive right into them right after these messages from our sponsors. Donate high gas costs keep you out of Ethereum a balance of the gas optimized vault architecture makes trading cheaper than anywhere else. Liquidity providers can optimize their fee earnings using the dynamic fee system that automatically adjusts to market conditions. You can also use asset managers to lend out idle assets, dramatically increasing your capital efficiency. And because balancer is an open platform for flexible automated markets, you can choose from stable pools or weighted pools, and in the future, more designs will be created that they don't even know about yet.
00:01:45.694 - 00:02:17.186, Speaker B: Check it out at balancer Phi Ava. Or is it Ava? I think it's Ava. Fun fact, that name is taken from the finnish word for ghost. But there's nothing mysterious and weird about Ava. It is, in fact a decentralized, open source and non custodial liquidity protocol on Ethereum. Depositors earn interest by providing liquidity to lending pools, while borrowers can obtain loans by tapping into these pools with variable and stable interest rate options. Deposit in AVA protocol and receive a tokens which accrue interest every second right in your wallet.
00:02:17.186 - 00:02:56.942, Speaker B: Seriously, you can watch your balance just going every second. Swap any of your deposited assets at any time to get the best yields on the market. And for the devs out there, Ava features access to defi building blocks like flashstones and credit delegation. Ava protocol liquidity pools are now available on Ethereum and the sidechain polygon. So you know this humble channel, this one right here, with all its mad and probably unnecessary commitment to production value and entertainment. Well, we're aiming for 100,000 subs before Christmas and could use your help getting there. We put out tutorials, we put out unboxings, live shows, and it's all connected to the Defiant newsletter, which you can find at thedefiant IO.
00:02:56.942 - 00:03:04.518, Speaker B: It's all free. So if the only thing you do today is give us a sub and a like, then it's cost you nothing. But it will make it easier for.
00:03:04.524 - 00:03:05.862, Speaker C: Us to do more of this, cover.
00:03:05.916 - 00:03:42.510, Speaker B: More, and bring more people in to help keep track of everything that's going on, which is a lot. So if you could do that, I would. Thank you. So Solana, the new big dog on the block, sending fans into ecstasy with a seemingly unstoppable token trajectory powered by defi and nfts. If you zoom out, the growth since mid July is nothing short of hilarious. And remember, this is a project that was already considered a big cap. So from $24 a token to nearly $200 in two months, that, as they say in this world, is pampy.
00:03:42.590 - 00:03:43.330, Speaker A: Boom.
00:03:43.910 - 00:03:57.942, Speaker B: So it was inevitable that at some point something was going to take a big pin and burst that beautiful bubble. And it was this. It is amazing how much we rely on power to go about our lives these days.
00:03:57.996 - 00:04:00.342, Speaker C: If the electricity grid goes offline, it.
00:04:00.396 - 00:04:01.706, Speaker B: Sucks, but we can still kind of.
00:04:01.728 - 00:04:35.246, Speaker C: Get by with candles and such. But if a blockchain network goes down, it's potentially catastrophic. And outages happen all the time, and usually they're fixed pretty quickly and nobody really mines too much but this Salana one. But it lasted 20 hours, which, let's be honest, is an absolute shit show. Now, on September the twelveth, TVL in DFI on Salana tipped the scales at $12.2 billion, all of it relying on the ability to freely transact and achieve accurate pricing. But then the whole network came to a standstill.
00:04:35.246 - 00:04:40.120, Speaker C: But why? What exactly happened?
00:04:40.570 - 00:05:20.062, Speaker B: The root cause was a bot that began spamming the network and hit a peak of 400,000 transactions per second. Now bear in mind that Salana do make amongst the strongest claims around anywhere about high throughput. But those claims are still only to a level of around 50,000 transactions per second. For comparison, Ethereum maxes out around 30 transactions per second. So that gives you just now an idea of how much spam traffic 400,000 TPS actually is, and just how persistent the bot was when it did it. But let's dig a little deeper to see what might have been going on here. And hat tip to Buffalo for the detailed analysis.
00:05:20.062 - 00:05:21.886, Speaker B: So forgive me here as I strangle.
00:05:21.918 - 00:05:26.798, Speaker C: Some metaphors and attempt to explain a few things about what's going on when you do transactions.
00:05:26.894 - 00:05:28.934, Speaker B: So the ETH BTC way of doing.
00:05:28.972 - 00:05:38.038, Speaker C: Transactions is you commit a transaction, you sign it, and it goes into the mempool. And if you think about the mempool, a little bit like big wave surfing. Bear with me here.
00:05:38.044 - 00:05:39.000, Speaker B: I'll try and explain.
00:05:39.610 - 00:06:07.266, Speaker C: In big wave surfing, everyone's waiting for the wave to break, and they're sitting there in the water. So if we imagine we have these apes, they're all sitting here waiting for the wave to come. The wave comes along. Here he goes. A few of them get in, but a few of them get left behind, and the wave goes on. These guys wait for the next one, and then so on and so on. So every block is like a big wave that comes along, and everyone's sitting in the mempool waiting to be picked up.
00:06:07.266 - 00:06:08.946, Speaker C: Now, if you've seen videos of big.
00:06:08.968 - 00:06:10.178, Speaker B: Wave surfing, you can have lots of.
00:06:10.184 - 00:06:11.710, Speaker C: People surfing the same big wave.
00:06:11.790 - 00:06:13.618, Speaker B: It's a little bit like that.
00:06:13.784 - 00:06:41.414, Speaker C: Solana doesn't do anything of the sort. Solana doesn't have a mempool. So how does it work? So you have validators, but you also have leaders. Now, these are the leaders. The leaders are the only ones that can actually sign a block into the ledger. Now, if you think of it a bit more like a relay race, here's what happens. You have a leader, but you also have another leader that is known ahead of time, and this is known in the leader calendar.
00:06:41.414 - 00:06:54.126, Speaker C: So basically, everyone that is going to be a leader is kind of known in advance. So what happens is validators listen for transactions. Oh, here's one. Here's one. And then they pass that on to.
00:06:54.148 - 00:06:56.506, Speaker B: The leader because the leader is the.
00:06:56.548 - 00:07:12.962, Speaker C: Only one that can sign a block. Now, the leader remains the leader for the entirety of an epoch, which is about a week. Once that time is over, they then move on to the next leader, so they pass on the baton, the responsibility for signing blocks onto the leader.
00:07:13.026 - 00:07:16.418, Speaker B: Now, all of that works great normally.
00:07:16.514 - 00:07:34.906, Speaker C: But here's what happened. In this instance. So many transactions were coming in to these validators that they simply couldn't keep up. They started to fall behind the leader, and in order to compensate for this, they started to skip this leader and jump to this leader.
00:07:34.938 - 00:07:36.526, Speaker B: Now, normally, this is fine, because this.
00:07:36.548 - 00:07:46.366, Speaker C: Is how Solana works, because you know the leader in advance. You can send a transaction past to a leader here and get most of the work done in terms of processing.
00:07:46.398 - 00:07:51.746, Speaker B: That transaction ahead of time. And that's great, because it means that the network is extremely fast.
00:07:51.848 - 00:08:14.986, Speaker C: But once all of this crap started getting piled up and piled up, it started to swamp the leaders and make such a mess that the whole network began to fork. So now, suddenly, we have a second version of the network but this one's getting clogged up as well.
00:08:15.088 - 00:08:16.620, Speaker B: So here's the thing.
00:08:17.070 - 00:08:31.358, Speaker C: Normally in the ETH BTC mempool, there are around 150 to 180,000 transactions pending at any one time. Now, that sounds like a lot, but here we had 400,000 transactions per second piling into the Salana network. Now, if we go and look at.
00:08:31.364 - 00:08:43.438, Speaker B: The requirements for a Salana validator, they are pretty heavy, probably the heaviest of any network. Around 128 gigs of ram is required, but they recommend that you have 256gb.
00:08:43.454 - 00:08:48.174, Speaker C: Of ram, and that, by any standard, is a lot. And it's also very expensive.
00:08:48.302 - 00:08:52.258, Speaker B: And that means that running a Salana validator should, in theory, even though it's.
00:08:52.274 - 00:09:01.738, Speaker C: Expensive, be able to handle all of this. But as we now know, it couldn't. And as all of this transaction volume started to spam the network and the.
00:09:01.744 - 00:09:07.094, Speaker B: Whole thing started to fall apart, the engineers were faced with a horrible, horrible.
00:09:07.142 - 00:09:09.258, Speaker C: Horrible truth that they were going to.
00:09:09.264 - 00:09:11.310, Speaker B: Have to shut down the network.
00:09:19.810 - 00:09:22.334, Speaker C: So that's when the validator community came.
00:09:22.372 - 00:10:20.766, Speaker B: Together and elected to restart the network with a patch release, giving engineers what was almost certainly a horrible period of intense coding and testing. After all, they couldn't just put out a shoddy piece of code that would then break after five minutes. So finally, after a few full starts, the network was restarted with version 1.6.25, with Dapps and block explorers gradually catching up with the network, a quick glimpse of the explorer, and things do indeed seem to be back to normal. But if all this was a bot, then what was that bot doing in the first place? Well, according to Anatolia Yakovenko, it was a radium Ido and a bot trying to snipe tokens at the launch. And the most likely culprit. That's right, Grape, a decentralized social networking project which was due to launch on September the 14th.
00:10:20.766 - 00:11:03.470, Speaker B: Grape, or the great ape community, is a token based membership community focused on accelerating the growth and adoption of Salana. Which is ironic, isn't it? I've been seeing this issue quite a lot of late. Groups of sophisticated, motivated bot fiends piling resources into sniping tokens on idos, like YGG, for instance, or this week's galaxy eggs drop. And it's a start reminder that this is basically all a game. But when there's money at stake, then that game inevitably has victims. Strangely, though, Solana's price really wasn't that badly hit, possibly assisted by the overall positive momentum in the rest of the market. Or maybe most people really don't care.
00:11:03.470 - 00:11:36.774, Speaker B: Or maybe it was just because they couldn't really do anything anyway, but it was a bit strange. But if people didn't care, should they have? Let's look at some of the issues that were raised by the blackout. Firstly, centralization. The meme would have it that the Solana foundation just reached up to a big red button with stop written on it and shut the network down. But this isn't the case. There was a vote, and then it was shut down because, well, they had no other choice. But it is true that the foundation is the only team actively developing the code that allows validators to connect to the network.
00:11:36.774 - 00:11:55.870, Speaker B: If we compare ethereum there, you have a number of independent clients like geeth and parity. So, yes, that is an area of centralization. But as I've said before, decentralization. It isn't binary. It isn't just a switch. It isn't just yes or no, it's a sliding scale. Secondly, there was the possibility of arbitrage mayhem.
00:11:55.870 - 00:12:44.782, Speaker B: And another hat tip here to comet shock. So the longer the network was offline, the greater the chance of severe price deviations across the defi ecosystem that relies so heavily on accurate pricing to keep everything in check. Now, remember, Dexes rely on arbitrages to keep prices in sync with external markets. So the potential for carnage when the network came back online and arbitragers could exploit those massive price differentials, well, that might have had a big effect on, for example, liquidations. Imagine being stuck in a potentially devastating position, but you're unable to do anything about it, and you are watching as the price of solana tumbles. Stressful. Now, Cometshock also theorized that the outage could possibly result in there being insufficient overall liquidity to make lenders whole.
00:12:44.782 - 00:13:25.146, Speaker B: So not only could borrowers be in danger, but the lenders as well. But it looks as if the potential risks were mitigated by the overall buoyancy of the market and the actions of lending protocols, such as Solend, to create liquidation grace periods by temporarily increasing liquidation thresholds. Or solfarm, a yield aggregator on Solana whose pools touch many DeFi projects across the network. And they tweeted, no bad debt has been found and no liquidation has been processed. Well, that was lucky. If we were in the unpleasant grip of a bear market or one of those classic crypto drops, as we saw just recently, then this all might have been a very different story. It all feels like a very lucky and narrow escape for salana.
00:13:25.146 - 00:14:02.246, Speaker B: Well, what about arbitram? Well, they, too suffered an outage. But then, 50 minutes later, the team tweeted that the chain was fully restored. In a statement, arbitram actually says the root cause of the downtime was a bug causing the sequencer to get stuck when it received a very large burst of transactions in a short period of time. The issue has been identified and a fix has been deployed, and they are at pains to emphasize this was a sequencer outage and not a network outage. And if you remember, the sequencer is the secret source of arbitrum, giving users fast, semi trusted transactions. And for the most part, that's kind of all you need. But it's a mode on arbitrum.
00:14:02.246 - 00:14:38.514, Speaker B: It's not the default setting. And one of the neat things about arbitrum is that you can actually bypass the sequencer and commit transactions directly to ethereum for delayed inclusion in the arbitrum chain, and this facility remained intact. So if you really had to absolutely, positively get a transaction through, well, then you could. And once again, the root cause was a rapid burst of transactions that caused the outage. Spamming a network till it just trips over its own feet is actually one of the most common ways attackers make life difficult for engineers. But in both these cases, it appears to have been a period of unusually high volume. That did for them both.
00:14:38.514 - 00:15:02.414, Speaker B: It wasn't really even an attack. It was just a load of stuff coming in. Now, the Solana issue had actually been identified weeks previously, but the fix hadn't been shipped yet. And as for arbitrarium, well, right from the get go, the team advised there would most likely be outages. And so it proved. And this gets us to the heart of what it means to be in defi, to be in blockchain. Right now, code is law.
00:15:02.414 - 00:15:35.046, Speaker B: The terms and conditions of its use are public, and they're baked into the smart contracts reviewable by anyone. That includes you. But have you ever actually looked? We pride ourselves on being apes. We blindly jump in. And it's precisely because we do that that projects can learn such valuable lessons, and so quickly. Now, these things actually need to happen, because that's how networks become more resilient, more battle tested, and better at being the thing we actually want them to be. We need them to fail publicly and often so that it can get better.
00:15:35.046 - 00:16:06.306, Speaker B: Solana's main net is in beta. They are very clear about that. And that means that we, when we use it, are all beta testers use at your own risk. Fortunately, this time, nothing too terrible actually happened. But that doesn't mean it wouldn't in the future. And if the network was brought down like this, are there attackers out there thinking about how they might maliciously attack the network in the same way? However, it does give us a wonderful opportunity to poke fun at whoever wrote the copy on their website.
00:16:06.488 - 00:16:07.630, Speaker A: A bit of the fool.
00:16:07.710 - 00:16:36.520, Speaker B: So no transactions will never be stopped unless we all take a vote and decide that we absolutely, positively have to. Now, the speed with which everything has just kind of gotten back to work does, however, serve as a timely reminder of just how resilient this space is taken as a whole, and we should take it as a whole. This is not about Solana. It's not about arbitrary. It's about all of us. It really is kind of unstoppable. And that deserves, well, it deserves this.
00:17:04.890 - 00:17:27.880, Speaker D: But sucking it up you because we're fixing that reflection because we unstoppable we were stoppable we are stoppable decentralized and we're living the best life we are unstoppable because we unstoppable decentralized and we're living the best life.
