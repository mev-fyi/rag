00:02:39.230 - 00:02:57.650, Speaker A: Hello everyone, happy to be back. So let's welcome Murat Agdinis from Primev. And this is a workshop on pre confirmations on Main net, so he will explain ways to hedge with transactions. So I'll leave the floor to Murat.
00:02:58.070 - 00:03:33.140, Speaker B: Thank Java. Hey everyone, sorry for the confusion there. I guess I should have pre confirmed my slot earlier, no puns. But at Primev we've been thinking about pre confirmations on Mainet for a long time. And about a year ago we got on this journey and it didn't resonate with a lot of people, first because it required a lot of understanding of mev and block building dynamics. But today I'm happy to say that we're able to achieve pre confirmations on Mainnet and we're testing them on Holskeep. But before we get into all of that, let's go into what pre confirmations are.
00:03:33.140 - 00:04:21.390, Speaker B: So we published a research piece earlier this month that established a definition for pre confirmations, and we defined them as a credible heads up before a confirmation happens. And this definition applies to many things, not just blockchains. So when you order something from Amazon, for example, Amazon gives you a credible heads up before the item is delivered in your house. And that credibility is so powerful that you trust it. And you know you're better off not second guessing. Amazon's heads up that some pack of razors is going to be at your house, and ultimately you don't care about whether USPS is delivering the pack of razors to your house or somebody else. So we want to achieve the same kind of paradigm on Ethereum and blockchain systems.
00:04:21.390 - 00:05:28.498, Speaker B: So we dive into how we do this and we define these four types of pre confirmations as transactions, state, block and slot. So what do these mean? We're going to go into transaction pre confirmations for the most part in this presentation. However, the others are state where you claim some state on Ethereum, a block. So you might have a block that might get pre confirmed by a validator, and then you might also have a slot that is way in the future that you have some rights against, right? So these are how pre confirmations can apply in different states. But right now we're focusing on transaction pre confirmations, meaning you have a transaction that you want to get on chain and you receive a credible heads up from a group of entities or an entity about this. So I gave this kind of Amazon USPS example a little while ago, and it really holds under this condition. And the common thinking around the space for pre confirmations was that it needs to be delivery focused because the proposer has the ultimate monopoly on what block goes on chain or what transactions go on chain.
00:05:28.498 - 00:06:27.386, Speaker B: Everyone was thinking, okay, we need to enable the proposer to facilitate this somehow, but we have about a million validators. So who wants to kind of have the millionth person or want to do a sales cycle to have the millionth validator adopt your solution and then include all of this complexity and kind of these solo stakers and all this world where people don't want to be doing this, validators just want to kind of stake their ETH and then call it a day. So we introduced these fulfillment specified entities, and right now they're block builders and relays on Ethereum network. So we show that through a fulfillment consortium model and having a network between these fulfillers of pre confirmations, you can achieve similar results without validator participation. And the fundamental problem today is that there's no known execution risk on Ethereum. What you do is you send your transaction and a group of block builders relays. Validators decide at the end of the day that it lands on chain or not.
00:06:27.386 - 00:07:05.382, Speaker B: And you find out 15 seconds later. And through this time, you have no idea what your execution risk is. So this fulfillment consortium model, where you have the different block builders on a network, allows you to quantify your execution risk. Because if they represent, let's say 20%, 30%, 50% of the network, you can add them up and get to a level that is satisfactory for you for pre confirmations. And then, you know, your execution risk, in this example, it's 20%. And then you can plug that number into your risk algorithm and hedge your trades or whatever else you have. However, this model gets incredibly strong once you have the proposer commitment as well.
00:07:05.382 - 00:07:36.826, Speaker B: So if the proposer said, hey, this pre confirmation you guys are playing, I will honor this no matter what. Then you know you have the ultimate credibility for your pre confirmation. So you know that the block builder will be able to deliver that pre confirmation promise that it gave you in real time. So how do we achieve mem boost style transaction pre confirmations? There's two key characteristics here. One is you need a p to p network for fulfillment and delivery. We don't want to deal with single block builders. We don't want to deal with centralized entities.
00:07:36.826 - 00:08:17.134, Speaker B: What we want to deal with as users is a network, and we just send it what we want and the network replies back to us. We don't want to care what this provider or what that block builder or what this proposer says. We want to care what the network thinks about our transaction and our pre confirmations. The second thing is you need a different chain to play these fast games. And fast games are defined as games that Ethereum does not have by construction because it has twelve second block times. So if you're trying to play these intra block games, you cannot do them on Ethereum. So we're creating a chain, a very kind of high throughput chain, so that these kinds of pre confirmation fast games and others that we get into later can be played in.
00:08:17.134 - 00:09:05.766, Speaker B: So when you combine these two things together, you get mevcommit. Mevcommit is a specialized network that is p to p oriented, it's real time oriented, and it has this fast chain that can settle these bids and commitments. And this is the first time such a chain or concept is introduced to Ethereum. So we're very excited about what that can bring. Now, we have two things, as I said, but one caveat is that it's an encrypted p to P network, because you don't want to be leaking information about what is being pre confirmed, because that can change all sorts of auction dynamics when it comes to MEV. So it has privacy built into this p to p, and then it also has a fast games chain. As I just mentioned, what's different about the MeV commit node compared to traditional blockchain nodes is that it's different per your role in the network.
00:09:05.766 - 00:10:01.774, Speaker B: So if you were a bidder and you're bidding for pre confirmations, you run a bidder node and that's all you deal with. And if you're a provider, a provider of execution services, you run a provider node, and then that might hook into your other infrastructure and your decisioning engines, et cetera, where you can issue these credible commitments in real time. What's interesting about how we've set up this network is that it doesn't care whether you're a proposer or sequencer or block builder or whoever else. It's that you're on a bidder role for someone else in the MEV pipeline and you're a provider for someone else in the MeV pipeline. And this allows for a host of applications to be developed on this platform, because basically we cannot even imagine this design space and what it means for these actors. And the fact that they can coordinate over this network and achieve things on Ethereum makes it super powerful. So we basically think pre confirmations are a new transaction type.
00:10:01.774 - 00:10:36.490, Speaker B: We think it represents net new order flow for block builders, and we think it's just simply new and different than other transactions. And I'm going to go into why. So we came up with this piece of research about a year ago. As you can see, the last time it was changed was seven months ago. And I had this thesis that EIP 1559, with its gas expression of base fee and priority fee, was not sufficient to really express what you want from the network. And I had this insight, and it was quite controversial. I said, hey, look, you need something better or you need an improvement on EIP 1559.
00:10:36.490 - 00:11:29.162, Speaker B: And I got the chance to talk about this with Tim Roughgarden, who was the game theory professor at Columbia University, who was partially authored, or if not fully authored, EIP 1559 with Barnabay from the EF. And to my surprise, he agreed. He agreed that 1559 had limitations and that such a pre confirmation bid could augment the characteristics of EIP 1559. So what does that look like? EIP 1559 has these two fields, max fee and priority fee, and none of them are concerned with time or pre confirmations. What we now add over MeV commit is a third field about your pre confirmation bit. And as you can see, this is expressed through a transaction hash reference, a bit amount in way. So in gas and eth, and a target block number that you want this pre confirmation to happen against.
00:11:29.162 - 00:12:05.410, Speaker B: And once you issue this to the network in real time, providers are able to give you credible commitments that you can use to understand your execution risk and take action. And this concept of decay becomes very, very important. Some of you might recognize this character, which is a goblin banker from the world of warcraft. And the famous quote is that time is money, friend. Right? So in the case of pre confirmations, time is actually money. The amount you bid has to do with the time that you bid it at. And it decays in real time such that all providers are incented in real time to commit to your transaction.
00:12:05.410 - 00:12:59.346, Speaker B: Because if you don't have such a decay mechanism, what ends up being is everybody waits till the end of the block and then pre confirms everything. But that's not useful because, you know, like 1 second or ahead of time or even less. So it's imperative that there's a decay mechanism when it comes to pre confirmations, and it sets the preconf bid apart from EIP 1559 or other gas related bids. Now, how does this work? Well, you send your pre confirmation bid and you get real time commitments. Some magic happens afterwards, and then you profit. Well, let's dive into this a little bit. Right? So what does that really mean? Well, once you receive these commitments, the actor that committed to you, the provider, is working to figure to how to deliver this commitment to you, right? And they're going to make some decisions to do that and ultimately opt to include you in their block, because otherwise they will get slashed.
00:12:59.346 - 00:13:40.406, Speaker B: So that's a whole bunch of kind of magic that happens in between where your intent or whatever is being solved, right? But at the end of the day, you should get your result most of the time. And in the case where you don't, the provider would be slashed and you would get rewarded funds. But in the golden case, if all goes well, your transaction lands on chain. You knew about it ahead of time, and therefore, your pre confirmation bid goes to the provider that provided you this service. Now, we take a different route when it comes to EIP 4844. And this is a very new phenomenon. We have research in this space that is very, very important.
00:13:40.406 - 00:14:23.742, Speaker B: Now, we identify blobs as the Rio character from street fighter here, because Rio has a special power, and I will reveal what that is to you. But EIP 4844 is fundamentally different because it introduces another transaction type. These blob transactions. And these transactions are, one, very, very cheap for roll ups to submit their state commitments, and two are very, very large. They're equivalent to about the largest transaction on Ethereum. It might raise some questions about, well, why should I add this really cheap transaction that's going to be very big and be troublesome? And that is an uncomfortable truth today. Now, what becomes very important when it comes to EIP 4844 is the block latency.
00:14:23.742 - 00:15:04.622, Speaker B: Each blob transaction adds a tremendous amount of latency to the block because of the size that it brings on. And we go into this in some charts. Now, this demonstrates how, basically, blobs might travel to be verified by proposers. And as you can see, they might arrive at different times. And that might be problematic because it can't be verified in time, and then it could lead to a reorg or missed slot. So what you really want is to have the knowledge ahead of time of what blobs you need to have in your block. And pre confirmations become very important for that, because if a block builder can tell you, hey, these are the blobs that you're going to need ahead of time, then they don't have to wait for these blobs to travel over the network or anything.
00:15:04.622 - 00:15:39.174, Speaker B: They can just send you the block and you have the blobs. Boom, propose it to the network, everybody wins. So we demonstrate how sizable blobs are compared to the rest of the block, as you can see, 90 or so percent of the time. Actually, they take about 90 or so percent of the block in 10,000 plus block counts that we've observed on the whole ski network. So they take up a lot of the block, basically. This is a similar chart. It shows you what the size difference of a block is with or without blobs.
00:15:39.174 - 00:16:18.246, Speaker B: And as you can see, many blocks have lots and lots of blobs, and they add a tremendous amount of size and kilobytes to the block. And this slows it down for propagating across the network. And what's very interesting about EIP 4844 is that there is no direct priority fee mechanism, so you can't actually tip the block builder. Hey, here's some extra money. Please include my blob. What ends up happening is that the priority fee per gas that EIP 1559 refers to gets stuck inside the type two transaction, referring to the type two transaction details. And this new field, max fee per blob gas, ends up referring to what the blob is.
00:16:18.246 - 00:16:53.762, Speaker B: But it works more like the base fee rather than the priority fee going to the network over the block builder. Now, you can work some fancy stuff and figure out some solutions here, but really, the availability of preconf bids makes this easy. Just tip the block builder and there you go, it's pre confirmed. So we identify blobs as Ryu and then Mev as Blanca in this case. And Ryu uses precomp to meet Blanca. And this is what is going to really happen in reality in EIP 4844. It's not enough that the blobs are cheap, it's that they have to contend with MEV for block space.
00:16:53.762 - 00:17:24.170, Speaker B: And this is an uncomfortable truth today. So you think, oh, well, roll ups are going to have access to this cheap data in this field. But guess what? In times of high mev, they're still going to have to pay the same prices. So in order to basically abstract this concept, we use pre confirmations so that these timing games related to blobs don't have to be played. Ko we announced Mav commit on Holski Testnet. This is available today. It's working.
00:17:24.170 - 00:17:48.846, Speaker B: We're very excited, actually. We had a major release go out today that stabilizes the network as well. And we're on our way to Mainnet to have pre confirmations happen on Ethereum. This is our explorer. It just reset because of the new release. But as you can see, there's a few folks on there testing pre confirmations. And actually the blockbuilder that integrated is, I believe, the dominant blockbiller on Holskey Testnet.
00:17:48.846 - 00:18:33.902, Speaker B: Today I encourage the audience to check out, you know, let us know your thoughts. To summarize, Mevcommit is this new fast games chain and a peer to peer network for pre confirmations on Ethereum and many other fast games to come. And we believe this is a groundbreaking moment for Ethereum to present user experiences that are expected in the web two world, such as real time user experiences. And we believe it also unlocks a new design space for real time applications to be developed on Ethereum. This is a QR code that you can use to get more information. It has a bunch of links, so if you scan that, you can read more about Mevkame. Reach out to us, follow us on Twitter, reach out to me, et cetera.
00:18:33.902 - 00:19:09.994, Speaker B: We're working with block builders, validators and relays. Right now, searchers are already sending bids on the network, but there's a lot of room for all sorts of folks to come, wallets, RPC providers, other protocols to make use of pre confirmations. Again, this is live today on the Holski Testnet and will be available on Mainnet, hopefully by Devcon in Thailand in November. So hopefully way before that. But yeah, I believe we have a few minutes for questions, so I'd love to hear the audience's questions, if you guys have any. But yeah, that's us at Primev. And this is Mav commit.
00:19:09.994 - 00:19:10.800, Speaker B: Thank you.
00:19:21.670 - 00:19:35.510, Speaker C: Hello. I would like to know how Mescommit would help to prevent sandwich attacks and stuff like that. Does it help at all or not?
00:19:35.580 - 00:19:54.494, Speaker B: Basically, yeah. Great question and thank you for it. So we have a spicy take when it comes to mev protection. We don't believe you can be protected from MeV. We believe it's a fundamental fact of distributed systems and current blockchains. And we demonstrate this in our reordering slippage research. If you want to read it.
00:19:54.494 - 00:20:30.882, Speaker B: It was published on Frontier tech, where we show that even mev protection services experience lots and lots of slippage up to 10% of times. So what mev commit allows you to do is fight fire with fire, which is why it's fundamentally different. It is not protecting you from mev, but it's giving you the superpowers that you need to beat the other mev. And you can use pre confirmations for that purpose. Right? So if you're working against some state, and the blockbiller pre confirms your transaction, guess what? You've won that. And then we're working on other sorts of commitments where you can specify things like, hey, I want to be the top of the block. Hey, I want to be in the top 10% of the block.
00:20:30.882 - 00:20:55.330, Speaker B: Right. So you can statistically avoid lots and lots of front running in these ways. Now, is it a foolproof 100% guaranteed mechanism? No, it is a social commitment at the end of the day, but it should hold 99 plus percent of the time. And that's way better than where we are today. And that would be real wins and not just some fake protection that you're sold and shown some nice numbers. But then you find out that you experience 10% slippage on chain.
00:21:07.640 - 00:21:31.130, Speaker C: Hi, I was curious, how do you deal with subsecond latencies on the parallel chain that you're using for processing the transactions? I saw the 0.1 2nd block times and I think it's a particular challenge to keep track of time with that granularity in a distributed system.
00:21:31.740 - 00:22:01.444, Speaker B: Thank you. Wonderful question. So that .1 2nd block time right now is basically possible because of its poa chain that's built for high throughput. It is problematic when you try to decentralize that more and more, unless you take some round robin kind of approach. Right, so we have an innovation here where we're working on adding a timestamp to the bid. And we have a tester on the network that attests to the timestamp that the commitment happened.
00:22:01.444 - 00:22:43.152, Speaker B: So the delta between those timestamps ends up being how you want to calculate the decay over the block seconds. So basically having this abstraction mechanism for time allows you to increase your block times and still be compatible with a fast games mentality. At the end of the day, these are signatures happening over a peer to peer network. And yes, they do settle in a chain, but the settlement is not kind of in the critical path for you to understand the knowledge about your pre confirmation. Right. So because of that mechanism and then the decay, we're able to kind of abstract things away from the block times eventually. So we would anticipate the block time to go a little over 0.1
00:22:43.152 - 00:22:53.510, Speaker B: second, but settle hopefully somewhere around zero, two or 0.3, something below 0.5 at the end of the day. But great question. Thank you.
00:22:56.280 - 00:23:10.200, Speaker A: Thank you, Murat. Can we show some love to Murat, please? It's been great learning more about pre confirmations and I'm very excited about what you're building. Okay, so we have a break, five minutes and then we'll be the panel.
