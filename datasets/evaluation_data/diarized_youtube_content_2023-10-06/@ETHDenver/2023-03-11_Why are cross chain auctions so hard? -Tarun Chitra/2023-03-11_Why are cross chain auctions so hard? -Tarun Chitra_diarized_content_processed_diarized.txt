00:00:53.890 - 00:02:10.290, Speaker A: This is going to be a very different talk than the last talk, so apologies. But one thing I think that is becoming much more clear in the multi roll up world is that auctions are a lot harder in crypto. And one question is, how do you actually design these in hold? Okay, should I just use a dongle instead? Okay, cool. Yeah. So, cross chain auctions, hard sort of mechanisms to design. So let's kind of see why. So, crypto has had a very long standing tradition of being intertwined with auctions, whether they're off chain or on chain.
00:02:10.290 - 00:03:11.858, Speaker A: The very brief history of famous auctions in Crypto, of course, the Silk Road bitcoin was maybe one of the first big auctions. The second was gnosis, had on chain dutch auction polka dots. ICO had a dutch auction that was used by hundreds of thousands of people, flashbots, January 2021, for the first bundle. And then NFT auctions have had a bunch of incentive changes in design since then. So a natural question is, why are auctions important in crypto? Well, they're mechanisms for price discovery of scarce goods. So you might say, why do auctions, or how do auctions facilitate price discovery? And the simplest explanation is that if we look at the social welfare of all market participants. So that's all the buyers, that's all the sellers.
00:03:11.858 - 00:03:54.610, Speaker A: It's maximized when the person who wins sort of pays a cost equivalent to the externality they cause on all the other users. So if the winning bidder, by winning the item, causes someone else to have sort of like a loss in utility, they have to compensate them for it. And auctions are actually, it turns out, one of the unique mechanisms for achieving that. But the real hard part in designing these is that you don't really know everyone's utilities. So I can't exactly say how to compensate for these negative externalities. Moreover, they're quite adversarial. The buyers and sellers are incentivized to be duplicitous.
00:03:54.610 - 00:04:59.962, Speaker A: So if you look at value that exists on the Internet right now, one of the largest sort of places that you see financial transactions are in auctions, whether it's online ad auctions, whether it's sort of collectible auctions. Notice the thing I have here ends in 2019, so it's obviously a lot higher now. With NFTs, on the other hand, centralized nds are very famous for manipulating their auctions. So this is directly from the Department of Justice's case against Google from a few weeks ago about how Google basically frontrun people on their own auction. And it was a case that took ten years to prove, partially because you have to figure out that people are manipulating the auction indirectly from observing many years of interactions. It wasn't obvious that it's like, hey, they have a big red button that says manipulate. And so it's a very complicated case.
00:04:59.962 - 00:06:24.126, Speaker A: But one of the most interesting things is that decentralized auctions are often really manipulated. So one question is, when we think about things like MeV, which is one of the most used auctions in crypto, you might ask, is there a way to get around some of these problems? And can we have the same volume of value transfer, but without actually having to deal with some of these issues with centralized players? And what we're going to kind of explore today a little bit is a in a world with many domains or chains, the types of auctions you can build are quite complex. But with using newer technologies, whether it's zero knowledge proof homomorphic encryption, we can actually get to a place where these auctions are, in a very concrete sense, fair and hard to manipulate. And in a lot of ways, the goal of technology and cryptocurrency is to reduce these negative externalities. Okay, so I'm assuming sort of a more general audience. Many of you may already know about the main on chain auctions in crypto, but I figured we'll give a quick summary. So the main auctions on chain are liquidations within DeFi.
00:06:24.126 - 00:07:26.230, Speaker A: So when you have underwater debt positions that need to be cleared out, large transactions. So like when a DAO wants to sell a large portion of its treasury, NFT secondary sales, of course, that's sort of a famous example, and then minor extractable value, maximal extractable value. Another question you might ask is what types of auction formats are used? So you have your mev auctions with flashbots. First price auctions, you have dutch auctions. So for instance, some d five protocols use dutch auctions for clearing dutch auctions, or descending price auctions, and are named due to the tulips in the 19th century. The third type of auction format you see on chain is sequential auction. So that's additions of nfts, sequences of nfts, and the fourth, which is the one that I think we're starting to see, are combinatorial auctions, which are order flow auctions.
00:07:26.230 - 00:08:31.946, Speaker A: So the title of the talk said, why are crosschain auctions hard? So now that we've sort of walked through where the auctions are, I think it's worth trying to understand explicit examples of where crosschain auctions are significantly more difficult than single chain auctions. And we're going to go through one example, which is cross chain bid splitting. So the way this works is, suppose we have two chains, let's say, I don't know, optimism and arbitram, and we're trading the asset, you're paying gas in. And on one chain, we have a version of the native asset x and the synthetic asset y. And on the other chain, we have a synthetic version of x and the underlying, true version of y. And someone observes a sort of Dex arb. So there's a price of x to y on chain x, and there's a price of x to y on chain y.
00:08:31.946 - 00:09:14.234, Speaker A: Now, remember, on chain x, you pay for gas. In x chain y, you pay for gas and y. So you have these sort of two parallel universes that are supposed to be synchronized by arbitrage. So how do you actually get to sort of the optimal arbitrage? So you may say, okay, I'll sell some unit, set of unit, some amount of x to get synthetic y. I take the synthetic y to the other chain, and I get some amount of real units of y, and then I go backwards. So you close the arbitrage by going backwards. The idea is that on chain x, you incur this slippage, defined by this function a.
00:09:14.234 - 00:09:47.134, Speaker A: On chain y, you incur the slippage, defined by this function b. So think of those as, like, the price impact function. So, in uniswap, for instance, the price impact function is one over the reserves minus the trade size squared. So now you say, okay, well, how is this profitable? So, the key thing when actually thinking about the auction design here is that you have to include many factors. First factor is gas costs. That's gx and gy. The second factor is the actual bids.
00:09:47.134 - 00:10:39.022, Speaker A: And this is where this gets quite complicated. Do I bid in x units? Do I bid on optimism for the right to do the arbitrage? Do I bid on arbitram, or do I bid on them separately? And it turns out that all three of these give you different outcomes. So, what I mean by that is you can actually write out the profit, expected profit, for these two things. So, on the optimism to arbitram leg and the arbitrum to optimism leg. But there's this very, very weird thing. When you execute your trade, you're actually causing the gas price on the remote chain to change implicitly relative to the input token. So I sell op, I get some, well, nonexistent RB, and I push the arbitram price up.
00:10:39.022 - 00:11:30.150, Speaker A: Now, the question is, how much should I bid for that? Because I've actually made my arbitrage more expensive in some sense. And so you can design an auction where you bid on each chain separately. Like, I have a flashbots auction for optimism, a flashbots auction for arbitrum. Or you could have a sort of consolidated one over their shared validator set or shared sequencer. You may bid on the whole bundle. And so, a natural question to ask is, is it better to bid in two auctions for each leg separately, for the optimism side and the arbitram side? Or should you actually bid on both simultaneously? And the most interesting answer is that it actually very much depends on the particular market makers and the slippage you have. There's no unique best auction.
00:11:30.150 - 00:12:27.270, Speaker A: So what this says is that in the cross chain world, if I try to design an MEV auction, that's meant to have certain properties, say, maximizing revenue for validators, or is efficient to clear, like, it's easy for people to figure out how to participate, then it depends on the actual applications. For each application, a particular auction format will work best. This is sort of an impossibility result. There's sort of not a unique best optimal cross chain auction, because you can always construct these examples where on one chain, you're actually impacting the gas price on the other chain, and then you get this feedback loop between them, and it's not clear how to actually design the best auction. So you might say, okay, this is a pretty bad result in some ways. It means that there's not, like a perfect set up. But the difference is, you can actually have pretty good auctions by having the single auctions on each chain.
00:12:27.270 - 00:13:27.926, Speaker A: There's a certain sense in which they approximate what the optimal revenue is. But the real question is, what happens if the auctioneer, the validators, the sequencers, are actually manipulating the outcome of the auction. And so, one other sort of desirable property for cross chain auctions is that the validators, the sequencers, cannot manipulate the actual outcome of the auction. So, in a normal mev auction, say, on flashbots, you could imagine that we have a bunch of different people with different value distributions. So we have this first individual to the bottom left. They have sort of this bell curve value distribution for their transactions. We have the second person whose value is sort of this kind of decaying value, and then we have this third person who has sort of these, like, fat tailed values.
00:13:27.926 - 00:14:16.422, Speaker A: And the idea is, each person, for how much they want to bid in the auction, they draw a value, and then they submit their bid, and maybe they'll get the malady here. So what it means for an auction to be credible is that the auctioneer actually runs the mechanism. So that's first price auction, second price auction clock auction, whatever it is. And even if they add fake bids or they lie or they manipulate the auction, they can only decrease their revenue. They can never increase the amount of money they make by spoofing bids or wash trading or adding in fake transactions. And you might say, okay, this is a great property in crypto. This is in fact the thing that the Department of Justice accuses Google of doing, which is front running everyone on their own auction.
00:14:16.422 - 00:15:29.460, Speaker A: So if you can actually achieve that in crypto, that's a unique value proposition that you just don't have in the centralized web, where you actually know for a fact that an auctioneer who you're buying something from is not front running you. And so two papers that kind of came out very recently. One says, censorship resistance in these types of auctions requires multiple proposers. This probably doesn't come as a big surprise to anyone who is a critic of the fact that there's only one sequencer on arbitrage. Optimism. Right. Now, on the other hand, the other paper from us shows that if you use DK proofs, if you use commitments, you can actually achieve this credibility property, which is extremely important, which means that even if someone does front run you or sandwich attack you in flashbots, you can actually have a ton of proof that the person who's running it, the validator, is not cheating in exactly the same way that Google was cheating, and the Department of Justice is sort of accusing them of.
00:15:29.460 - 00:16:18.580, Speaker A: So I think to keep this short, blockchains, they're great public broadcast mechanisms, and these public broadcast mechanisms are actually really good ways to ensure that market participants aren't cheating you, and that publicly you can validate that they're not cheating you. This sort of means that all these properties that people have wanted from certain types of mechanisms, like fair auctions, can only sort of happen in blockchains. And the real question is, can we actually get all of these properties? We want? We want credibility. The auctioneers can't cheat. We want them to be sort of roughly fair across different chains. We want high revenue. And these are kind of the main open questions left.
00:16:18.580 - 00:17:00.180, Speaker A: So with that, I actually have a lot of time for questions. So if anyone wants. Has any questions, that is the end. I'll repeat your question once you actually. I think he's going to get you. How do you ensure credibility in gradual dutch auctions? Yeah, good question. There is a way to do that.
00:17:00.180 - 00:18:14.624, Speaker A: Basically, the idea in those auctions is you need the auctioneer to have no incentive to basically buy early auctions, push the price up, and then force everyone to buy above that floor. And the way you do that is you force the auctioneer to hold inventory. So they have to actually be holding goods, which means they're holding risk, and if the price goes down, then they actually take the loss. So there's sort of this risk reward trade off between the auctioneer and the buyer for those auctions. Cool. If not, then what are some of the interesting auctions that you're looking at now? Yeah, so I think one of the kind of interesting things to look at is the order flow auction in flashbots, which is sort of a way of matching people who are, say, wallets, who want to sell order flow to searchers and then split some of the profits with them. These order flow auctions are significantly more complicated than the current set of auctions.
00:18:14.624 - 00:19:37.170, Speaker A: Whether it's single block auctions, like block, that block builders participate in, or whether it's sort of the traditional, like I send you a bundle, and the validator finds a way of sequencing the bundle. The reason for that is these order flow auctions are extremely high dimensional. It really depends on a lot of different factors, because you're matching many different types of searchers with validators, and you can have these very weird loops where one person actually does aggregate all the order flow in them. So making them incentive compatible is really hard. So I think that's going to be one of the big problems in MeV in the next six months, is that order flow auctions are sort of this thing that is really complicated, but actually will help wallet Ux a lot, and definitely help wallets have sustainability. How do you think ERC four, three, seven bundlers are going to play into ofas? Yeah, that's a good question. I think there's sort of a question of transaction, what other types of signature encodings you can use.
00:19:37.170 - 00:20:55.660, Speaker A: So, for instance, if I was able to actually have four, three, seven bundles that were encrypted prior to execution, I could encrypt it in a certain way. Like these commitment type of schemes, you can hopefully avoid some of the DOS vectors and centralization vectors of the bundlers. Sorry to give a bit more context, in EIP 4337, bundlers take transactions from users and submit them on their behalf in a way that they can't really change them, but it allows the bundler or the application to pay gas for the user. So it sort of makes a large ux shift. One question you might ask is, well, how does MeV work in that case? Do those bundlers participate in these auctions, or do they just forward it to searchers? And I think you need to come to a place where the bundlers actually don't provide all the information to the searchers. They just say, like, here's some metadata of this set of transactions, and you can bid on it, but I'm not actually giving you the full set of transactions prior to inclusion in an order flow auction. Otherwise, the bundlers can get front run themselves quite a bit, and it might not work out super well.
00:20:55.660 - 00:21:24.930, Speaker A: There's a bunch of people who've analyzed these DOS vectors against 4337 that might be worth looking at. Cool. I think that's it. And with 38 seconds left and nine, nine.
