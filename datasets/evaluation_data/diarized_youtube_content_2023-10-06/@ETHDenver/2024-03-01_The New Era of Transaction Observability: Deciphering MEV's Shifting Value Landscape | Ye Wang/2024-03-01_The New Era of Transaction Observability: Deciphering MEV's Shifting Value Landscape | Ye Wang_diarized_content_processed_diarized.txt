00:00:00.090 - 00:00:20.878, Speaker A: You for joining us here at the trident stage of ETH, Denver 2024. I'd love to welcome our next speaker. Her name is Ya Wang. Wang, I'm sorry, ya Wong. She's a data scientist at Eigenfi, and the talk today is titled the New Era of Transaction Observability. Sorry.
00:00:21.044 - 00:01:28.970, Speaker B: That's fine. So, hi everyone, I'm ye from the data team at the Iconfi. So today I'm going to share with you the recent findings from our team on the battle of backgrounding the private orders and how the transaction observability on Ethereum may impact the distribution of MEV revenue in the whole supply chain. For those who may not be familiar with the idea of private orders, you may probably hear of the following products here that provides mev protection services like the flashboard protects and map blockers. What the idea of private orders? So basically, on Ethereum, the user transactions may face the risk of MEV. So these types of products, they may provide services for users to choose to submit their transactions directly to the builder's private RPC. So this means that these user transactions may not be seen from the public, and then this can prevent those user transactions from running meV.
00:01:28.970 - 00:03:44.078, Speaker B: And currently, the data from flashbots shows that every day, about 10% to 20% of all the user transactions on Ethereum are sent to the builder's private mempos. Which means these parts of user transactions cannot be seen by the public. So when we have a basic understanding of what our private order flow are, so we can go through about several questions that you may hardly think of before. So first of all, imagine that when you are trying to submit your transaction to the private order flows, do you know exactly how much value that can be created from your privately submitted transaction? And also, if I told you that there are some mev opportunities that can be found inside your privately submitted transactions, so who can be powerful and who can be privileged to take advantage of these private orders and to try to make profits from backgrounding these private order flows, and consequently in the supply chain whose revenue was taken during this process? And for the last question is that if there are only a small parts of players in the whole supply chain that can utilize these private order flows and try to make profits from backgrounding these private orders, what will have impact on the whole mev ecosystem? And will we go to like, a world towards mev utopia or mev dystopia? So, within these questions in mind, so let's start from the idea of so called transaction observability. So it derives from the idea of the public transactions and private orders. So basically, if a user want to submit their transactions to the builders without any other settings, specific settings on Ethereum, their transactions may probably enter the public mempool. So in the public manpool, it means that everyone can see the transaction in public man pool as well as for the searchers.
00:03:44.078 - 00:04:49.862, Speaker B: So if the searchers, they find that there are some MEV opportunities that are in the user's transaction in that public man pool. So those searchers can take actions, right? They can try to backround or front run your transaction. So for the users, they may face the risk from front rounding. So front running might be harmful because the searchers, they can submit a transaction before the user transaction. So the users have to pay more about their swap and at a higher slippage rate. And for the backgrounding opportunities, this may be a little bit tricky for users because sometimes the user may even not recognize that their transactions can create such a huge MEV opportunities for searchers to make profits. So for example, if a user has made a swap on a certain liquidity pool that create a backgrounding opportunity for searcher, this revenue from the MeV cannot get back paid back to the users.
00:04:49.862 - 00:06:11.886, Speaker B: So users cannot get any MEV kickback from the backgrounding transactions. And imagine that if the user submitted their transactions to the private channels, so things will change because the users can choose to send their transactions to several builders specifically, so only the selected builders can see their privately submitted transactions, which means searchers cannot see these private orders. So this can protect the user transactions from front running MeV. And for the back running MEV, there are some order flow auction mechanism also provides the users an option that you can submit your transactions to the orderflow auction clients and the searchers can bid for the backgrounding opportunities from the user's order flow. And then if there's any MEV revenue that can be extracted from the backgrounding transactions, the users can also benefit from this backgrounding transaction, which means they may get some of the part of the MEV revenue from the backgrounding. So let me explain by detail. So basically we have three types of private order flows, and these private order flows are exclusively visible to the builders.
00:06:11.886 - 00:06:57.566, Speaker B: The first one is that what I mentioned about is the MEV protection RPC. So basically these user orders are sent directly to the builder's RPC. And the second type is the order flow auction RPC. So via these types of channels, the user transactions are submitted to the clients and searchers can bid for that user transactions. So once the searcher included the user transaction and they can redistribute the user transaction in a searcher bundle and send to the builder's RPC. And the third type is basically the searcher bundles. It's like because the MEV searchers, they rely on a bundle mechanism.
00:06:57.566 - 00:08:34.958, Speaker B: So once they find some, there are some MEV opportunities that hidden in the user transaction, they can choose to include the user transaction in their searcher bundles and then send this bundle directly to the builder's RPC. So when we get a basic idea of all the private order flows, we can call back to the first question, so do you know exactly the value of your private order when you're sending your transaction to the private order flows? So we find that actually there's a large cake for backgrounding those private order flows. And this part of mev value has been largely ignored in the past as we have observed that there are more and more mev bots, they are shifting their competitive focus from bidding for the transaction orders in a block to the compete for the transaction observability. However, we found that although from backgrounding this private order flow stack can be huge MEV potentials, these backgrounding opportunities are found exclusively available for a very limited amount of players in the market. So how it happened and how the private orders create exclusive MEV opportunities for searchers. Like for the searchers who want to background the user transaction in a public man pool, so they may face intense competition to bid for the top of the next block opportunity. So they have to pay high bribe payment to the builders.
00:08:34.958 - 00:09:41.842, Speaker B: And then these parts of value will flow to the validators in the end and for the searchers who can have the privilege to background those transactions via private channels, because there are only a limited players can see these private transactions. So backgrounding opportunities are less competitive. And only a few of the players are trying to background in these private transactions. So these builders, these privileged searchers, may not have to pay a large amount of the gas fee or cost for bidding these MEV opportunities. So for those privileged searchers, their costs are pretty low. And I will explain this based on these several types of private order flows because that the user orders sent via protection RPC are of limited disclosure of the data sources. So we will mainly focus on the last two types.
00:09:41.842 - 00:10:28.530, Speaker B: The first type is the user order sent via order flow auction RPC. And we will see an example of the backgrounding private order flow via order flow auctions. So here's a list of transactions in a block and from position three to position five it was a MEB share bundle. So it includes three transactions. Basically the first one is a user swap and the second one is the order flow auction searchers backgrounding of the user transaction. And the third transaction is a builder refund. So the builder transfers parts of the mev value to the user in this whole bundle.
00:10:28.530 - 00:11:06.770, Speaker B: And we found that interesting. Something interesting that at the position ten it was another background targeting this MEV share bundle. So it's crazy because the MEV share bundle is privately submitted, right? But this transaction are targeting the user transaction in this map share bundle. And let's see how it happened. So first of all, basically in this map share bundle, we can see the three transactions. In the first transaction, the user tries to swap Eth for alert based on a Uniswap v two pool. As you can see this pool highlighted in orange.
00:11:06.770 - 00:12:17.666, Speaker B: So the user swapped web for alert and then the searcher in this order flow auction mechanism sent a backgrounding transaction targeting the user transaction which made a reverse swap in this sample in this Uniswap v two pool. So basically this backgrounding transaction are swapping alert to west. And then in the third transaction in this bundle, the builder then directly transfer the ETH to the user. So this is a builder rebate that shares part of the MEV value to the user. So this is typically what a map share bundle works like. And then let's look at the backgrounding targeting this privately submitted bundle. So for the order flows auction searchers backgrounding transaction, as we talked previously, it made a reverse swap targeting the user of the user transaction right from Ali to the west within this uniswap Vtube pool.
00:12:17.666 - 00:13:29.098, Speaker B: And for the background in these private orders, we can see that the MeV bot also took advantage of this Uniswap Vtube pool. It made a semirection swap just like the order flow auction searcher. So it also backgrounds the user transaction in that map share bundle. But for the order flow auction searcher, they have to pay part of its mev revenue back to the user. But for this backgrounding of the private order flow, this searcher here, all of the mev revenue are taken by the searcher. So you may ask that, you may have question that how to make sure that whether this backgrounding transaction targeting this bundle are really targeting this private order, will it be like will this searcher see any on chain signals previously and then make a background? So we can do a very simple check by using the transaction simulation. So we can see that on the position ten as what this transaction happened, it will be successfully executed.
00:13:29.098 - 00:14:20.478, Speaker B: Right? But if we position this backgrounding transaction in front of the privately submitted bundle, what will happen? So if we position this transaction at position two, yeah, it will be reverted. So it will return a reverted fail message. So we can say that before that Mev share bundle, there's no arbitrage spaces for those mev bot to make profits. And this backgrounding transaction is exactly targeting this privately submitted bundle. And here's another example, targeting the searcher bundles, specifically targeting a sandwich attack bundle. So here's also a sandwich attack bundle in the block. So it will be from position zero to position three.
00:14:20.478 - 00:15:04.154, Speaker B: It also includes three transactions, right? For the first one is the front running and also the second one is the victims transaction. And third one would be a backgrounding transaction targeting the victim's transaction. So it's a very typical sandwich bundle. And then soon after this bundle, we found that there's also a backgrounding transaction targeting this sandwich bundle. So let me explain this in a simple way. So let's only look at the backgrounding transaction from that sandwich attacker. So we can see that that attacker utilized the pool of this USDT and WBTC curve pool to make profit.
00:15:04.154 - 00:16:10.654, Speaker B: And let's see what that private background transaction of this private order float have done. So basically, the MEV bot also took advantage of the same curve pool. It also made a same swap, just like the sandwich attacker do. So in this way, these searchers can took advantage of those privately submitted bundles or private transactions to make profit without paying a high cost for the builder bribe and to the downstream. So it's more important to think about who is privileged to background these privately submitted order flows and in the supply chain whose revenue was taken. So we can see that basically we found that these searchers are privileged because they have collaborated with the builders. Because only builders who receive those private order flows can have the privilege to knowing which orders will be appear in the next block.
00:16:10.654 - 00:17:45.122, Speaker B: So those vertically integrated builder searchers can take advantage of this transaction observability and make profit from backgrounding these private order flows. And then when backgrounding these private order flows, they need not to pay bribe payment and high gas fee to the downstream. And then so in this way they can reclaim some MEV revenues from validators in the downstream. So as we have investigated from October to November in 2023, we found that in the whole arbitrage market, there are over $7 million in revenue were generated and over 18% are generated from background in the private orders. And more impressively, we found that if we break down the revenue structure, we may find that background in private order is super cheap because only 30% of the whole revenue were paid for pay as cost and basically for other types of arbitrage, searchers usually pay over 90% from their whole revenue as MEb costs. So in this way, we may say that for backgrounding those private orders, some of the profits that would be flowed to the validators are taken from these vertically integrated builder searchers. And then let's come to the last question.
00:17:45.122 - 00:19:19.290, Speaker B: So what will happen if this transaction observability as a competitive advantage continues? So we found that those vertically integrated builder searchers may take advantage of the transaction observability to background private transactions without paying a higher fee, and then get some of the value from validators. And also they may not follow the same rule as those other flow auction searchers and they need not to pay back MEV revenue to users. And also it will redistribute the MEV revenue throughout the whole supply chain as the validators are getting less than the past. And also so if this circumstance continues, we may face the threat that falling into what Stephanie calls a so called MeV dystopia, where a few amounts of players in the market may take most of the MEV revenue and they can take those transaction observability as competitive advantage and set higher entry barriers. So I think it's time for us to reconsider these circumstances and take possible solutions for that. And so much for today's sharing. So if you are curious about the cases that I mentioned today, just feel free to scan this QR code to read the full research article that written by our data scientist Sophie.
00:19:19.290 - 00:19:30.540, Speaker B: And we are also welcoming all the discussions regarding the MeeV issues and also regarding the whole supply chain. And so much for today's sharing. Thank you again, I'm ye from ionfly. Thank you.
