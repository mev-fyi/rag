00:00:00.330 - 00:00:44.150, Speaker A: Sam. Hi everyone. Hi. So this is Thomas Stamcheck from Flashbuds. So I'll be talking today about cross domain PBS interfaces for swap. Thank you so much for invitation. Thank you everyone who's listening, who will be listening, the recorded version.
00:00:44.150 - 00:02:02.674, Speaker A: Let's go. So maybe first introduction of what's my story of Flashbuds. Joined flashboards in 2021 as a mate, which means contributor, individual contributor, full time worked on the late Mev gap spec. So really just specifying what was built by the great Le engineering design team from Flashbots, then working on the Lemu Boost design. So the design of the PBS for the proof of stake ethereum, then later focused on the product management of the Le Flashbots relay in the time of the Mvkf and then the Flashbots block builder later took over by others, then worked on some of the SUAVE architecture components. So think of SUAVE as like many modules, ideas, components working together towards the single unified auction for value expression. And I work on some of them and some of the research I'll present today, it's based on the recent ones that when I have been exploring the decentralization shared sequencers, decentralization of the sequencers on L two S mostly and across chain mevs is something that Flashbots have been interested for a long time.
00:02:02.674 - 00:03:11.686, Speaker A: We've published some of the research and kind of introduction to the cross domain mev in the past. So check out what Flashbots posted on the research basis in the past and maybe as a disclaimer. So this is part of the building, the open of flashpot. So it may present some ideas that are at the elis research stage. They may not be fully reviewed by all the strategy teams at flashboards. And this means that in some areas that may not be yet fully aligned with the Flashboard's values or even the quality of design and the research might be lacking. Nonetheless, I think that's worth to present it as an invitation to collaboration and the ideas presented and also well, to work together towards a full alignment of how we want to present all the products at Flashback and how do we want to achieve full alignment is always eliminating, democratizing, distributing mev in a permissionless transparent way for Ethereum and other chains.
00:03:11.686 - 00:04:42.674, Speaker A: So when you think about elimination, we bring transparency about the past. So explaining what happened on the chain, explaining through various tools and write ups, explaining what happens now by the real time dashboards, monitoring tools, solutions and explaining also what will happen in the future by educating, researching and providing fundamental research for the blockchain community. Democratizing the permissionless access for solo stakers for solo searchers. When you think about mevkaf in the past, this was all about enabling solo searchers to access the market without any big OTC arrangement. Nowadays for the Mev Boost, that's democratizing for allowing solo stakers to access that market without having to access to joint pools and distributing so for the solutions like mev share nowadays, but also through swap. Our ultimate goal, distributing Mev to where it originates from, to the users or also together in collaboration with solutions from EF like Mev Burn, distributing it across all the Ethereum holders and also the holders, builders of other chains or whoever the users are. So all these free ideas also behind what I'm calling here, the Mev garden.
00:04:42.674 - 00:05:50.518, Speaker A: So we say let's move away from the dark forest of Mev to Mev garden. So we want to start introducing solutions that are or continue introducing solutions that are very clean, clearly divided into components as modular way. They create a space that is adapting to all the different market conditions and different stage of growth of various builders, participants of that market and obviously designed for the pleasure and utility of users. So maybe one aspect of it the bright place that defines transparency, the transparency of rules and arrangement for sure, but not the transparency of what users want to hide. So privacy in all of this for sure. So some space for privacy in this garden is very important for the users to decide what they disclose about their trades and what they do not within the Swab ecosystem. All right, so what are design goals to repeat some of these ideas and to introduce some new so we want to support, first of all what we are building with Mvgarden.
00:05:50.518 - 00:06:50.270, Speaker A: We are building a solution for connecting block proposers with block builders, but in the cross domain market. So the same as you say, PBS in Ethereum connects the Ethereum proposers, ethereum validators with Ethereum block builders. We want to do that for L two S for different domains, for multiple L ones working together and potentially enable block building for multiple chains at once. So the builders, to be able to make proposals, make bids about synchronized blocks together. Now, what we want to achieve while designing the solution, want to support multiple solutions on sequencers. So however the design is whatever the design is coming from L two S from L ones about how to sequence, whether to share sequencers, whether to provide the native sequencers only, whether they are ready to decentralize or not. Yet all of that should be ideally connected to the solution to swap.
00:06:50.270 - 00:07:56.478, Speaker A: We want to make sure that it's all permissionless and transparent in design. So any shared sequencer should be able to join the system without any whitelisting, without any permissions from trusted operators. So maybe unlike the nowadays solution of PBS, where to some extent you think that the relays are whitelisted by participants, the design goal here is to allow anyone to join, be in line with Ethereum protocol direction. So we do origin from Ethereum space and we do think that Ethereum is defining much of the innovation and defining how Mev is built into protocols. So we want to make sure that we don't design something that will be at ODS with the designs coming from the ethereum foundation or from generally Ethereum community. We want to respect the market space of various players. And this is very similar to the first goal of supporting Heterogeneous sequencer space.
00:07:56.478 - 00:08:51.110, Speaker A: But here we say that not only we want to support it, we want to say that we build for other builders to connect, to co design the solution. And again, this is an invitation to research together. For sure they should be stepped towards swap. So even as we talk here about something that we call mev garden, it's not really like that's important this name, because it should be simply a component of swap and a step towards swap. So it shouldn't be alternative to swap, it should be inconsistent with swap. Anything that we design here should be part of this great vision of Fosbot status. This unifying all the expression of value within the context of mev and builds a permissionless fair financial market on and off chain.
00:08:51.110 - 00:10:17.940, Speaker A: And the last part which is particularly important because I would say it's not fully resolved in this design, it's ensuring equal rights of solo stakers and large operators. Equal rights are more like equal opportunities because the rights are the same but the opportunities are there for the large operators to have a bit of advantage and hence the solution might be centralizing, not very much. You'll feel that this is not a big concern? Maybe not comparable to the one that we've seen in the PBS space before PBS was introduced, but nonetheless the one that necessarily has to be solved before we say that the solution is consistent with the values of how Flashbots designs products. Then a bit of glossary, maybe the basics. So we do separate the roles of sequencers, proposers, builders and relays and particularly I'm pointing out that the sequencers and builder separation so sequencers are those here in this context, sequencers are those who pick the transactions and order them. Builders are the ones who really take what sequencers preferred and wrap it up with the metadata and construct blocks out of it. So maybe further filter the data.
00:10:17.940 - 00:11:25.378, Speaker A: Those two roles not necessarily have to be separated in the actual designs, but they might be. So we'll be separating those and proposers are the ones who pick the blocks from the best blocks provided by builders and propose them to the market, right? So announce them to the chain as it is nowadays with validators on Ethereum or in other situations. And domains is this concept that was introduced by the early cross domain flashpots research. So domains are either blockchains or centralized exchanges or any space which provides the opportunities for mev creation for the state that is less or more discrete and changes over time. So when we talk about cross domain we can imagine that might be between the centralized and decentralized exchange, not necessarily to decentralized exchanges and not necessarily to blockchains. And the most important innovation here, not too complex I hope it's the idea of global time, maybe not too complex to understand, but possibly complex to implement. So the global time and synchronized proposals.
00:11:25.378 - 00:12:22.730, Speaker A: We want to introduce the notion of looking at all the blockchains, all the domains together and ordering the events there and having a consensus on how those events were ordered across this nonunified time of different chains. And when we think about global time, the order of events, we show that we want to sequence events from multiple domains. It can be, as in this example, Ethereum StarkNet polygon blocks happening one after another. What we want to achieve is to say that the Ethereum block 100 happened before block 23 on STARTnet. And we want all the participants of this market to agree on this ordering of events. So we have to find some solution to that and we can propose something. But this not necessarily is easy, that open actually for discussion.
00:12:22.730 - 00:13:16.390, Speaker A: So one of the examples that could be a set of chain observers, kind of oracles or simply nodes that are trying to achieve a consensus, that look at different chains, that are forced to observe chains and push the information about the blocks appearing as soon as they appear. So through the observation of the exchange of messages, we can do some kind of attestations to what we're observing. The same way that Ethereum is attesting to the blocks appearing and being served in the P two P network. The same way we can build something here, obviously, observation of multiple chains, chains with various speeds. Think about Salana versus Ethereum and so on. This might be quite challenging, but we do want to have a simple chain of events like this. So there should be no processing, no excessive EVM operations.
00:13:16.390 - 00:13:59.462, Speaker A: We just want the ordering of events. So you can imagine a construction like this built on some modern mapple solutions with the basic narwhal plus ball shark solution, for example. So saying, yeah, we want to have thousands or more events every second, but not necessarily any calculations based on that. It's just a blockchain of records of what happened. When, why do we need that? We'll explain. So we need the ability to prove something for slashing and related to the announcements of the shared proposals or show it. So I want to define also something that I call here synchronized proposals.
00:13:59.462 - 00:14:54.054, Speaker A: So when we were designing some of the early cross domain solutions at Washbots, we were saying that we can do the bids on the success of transactional cross domain execution. So we can say that as a searcher, I promise to pay if something happens transactionally and then someone can claim that bid claim that payment. So as a searcher, I say if you manage to execute transactionally on Ethereum and StarkNet, then I'll pay you X if those transactions land on chain. And I don't know how you do that. You have to judge if you can do that. And if you do that then actually the chain, the swap will allow you to claim the payment. Now, the figure is what I wanted to introduce with mevgarden is also the possibility to make some kind of credible commitment or promise about the synchronized proposal.
00:14:54.054 - 00:15:58.398, Speaker A: So if you're an executor on multiple chains, how can you promise to me that you actually can do that transactionally? So I feel a bit more confident about bidding and how can I potentially slash you if you don't deliver on that promise? So I'm proposing here just like three different definition of that synchronized proposals, not because I think there are only free or exactly free or that one of them is perfect, it's just that in the context of our discussions in research, we realize that this is not just like very clear definition, that this is what synchronized means. So I'm proposing three examples, but what really is the final definition of synchronized proposal is a bit open. So here I'm saying the universal strict would be like we have a set of domains that we're looking at here. In the example, it's ethereum polygon. StarkNet. There are three different domains. And I'm saying that the two blocks are synchronized only if they are generally happening in a sequence after another, but there's no other belonging to any domain in between.
00:15:58.398 - 00:16:39.238, Speaker A: So in this example, ethereum X is synchronized with polygon y. These are two blocks that are sequenced one after another and the same for the last two blocks. But I already say that Ethereum X is not synchronized with STARTnet Z because there's some polygon block in between. Now, very often when you talk about cross domain mev and we think about two domains, we don't care about what happens on other domains. So here we are very, very strict universally across all the domains that we could take ever into consideration in our global time assessment. So it might be really too strict. And we say that if there's any other event from any chain in between, then it's no longer synchronized.
00:16:39.238 - 00:17:50.820, Speaker A: Like someone might have executed some kind of mev extraction that changes the state of the cross domain execution in a way that I am no longer too confident that transactional execution on Ethereum and STARTnet will be good enough because something on polygon might have changed the opportunities. As I say, it might be too strict, but we present it the domain strict, probably closer to how I would think about it. It says that everything is synchronized as long as there are no other blocks belonging to the same domain in between. So I'm saying here that for example, ethereum X with Start net z are actually synchronized even as there is block polygon y in between, because I don't care about the domains outside of the domains that I'm considering in my cross domain proposal, synchronized proposal promise. But I would say that the polygon y is not synchronized with Ethereum X plus two. Here why because there is some other Ethereum blocks. So we want to say that synchronized blocks are only the ones that within the same domain are after another, and there should be anything in between.
00:17:50.820 - 00:18:51.106, Speaker A: And even less strict synchronized proposal definition is the one that says well, there might be multiple blocks belonging to the same domain. So like Ethereum X is synchronized here with STARTnet y plus one, even as there is a STARTnet y block in between. But what I'm blocking, what I'm removing from the definition of synchronized is that there shouldn't be any other pair of synchronized blocks in between. So Ethereum X here is not synchronized with darknet y plus two because there is some other pair of darknet Ethereum blocks synchronized in between. So I'm saying that, well, I feel that I can extract something transactionally as long as there is no other opportunity to extract something transactionally in the same domains, which would totally lock me out of the ability to execute mev extraction in a predictable way. As I said, this is not super strict definition. You can think of your own, how you would like to say that something is synchronized.
00:18:51.106 - 00:19:50.870, Speaker A: Why do we need those synchronized proposals? We'll start talking about the messages being exchanged between builders and proposers. So in Ethereum PBS, we have the builders, we have also the proposers or the validators, and they talk to each other through the relay. And in the current design, the relay is the trusted party in between the EPBs. So in Shride PBS, in Ethereum, seems that the relay disappears. That actually solution doesn't change much because you still have the builders and the proposers collaborating. But instead of using the relay, there is some set of attestations and staged attestation and P, two P communication that allows agreement on what the best bid between the builders are and how to keep the proposers to their promise and potentially slash them on non execution, on non delivering the promise. So we remove the relay, you remove the trusted component from in between.
00:19:50.870 - 00:20:50.918, Speaker A: And we remember that design goal from the beginning of the MVG garden, which says well, they should be in line with Ethereum protocol direction. So now we say that whatever communication between the proposer and builders about the synchronized proposals, I would like to have the messaging between those two parties, between the cross domain builders and cross domain proposers. The messaging should be not necessarily through the relay. The design should allow for the P, two P based communication. And I think we should intuitively see that there shouldn't be requirement for the relay that might be slightly more difficult because they don't have the same level of testations. But with the global time, with the global time that we mentioned, it should be possible. Now, this cross chain PBS, as we introduced this cross domain proposal builder separation, we add in communication from proposal to builders, not only from builders to proposers nowadays.
00:20:50.918 - 00:21:42.554, Speaker A: So nowadays we have builders announcing their bids, announcing the best blocks, then it goes to the relays or through the PTP communication goes to the proposers. Proposers select the best block and announce it. And here we say that not only this direction but also proposers communicate with builders back. They announce that they are about to propose something in a synchronized way. So we have those synchronized proposal announcements and they should be ideally delivered and announced and included on the global time. And why on global time chain? Because you need to potentially be able to slash the proposer on a failure on the promise, right? So you're failing to deliver the promise. And why do we use this communication, why we use the global type chain? Just to make sure that it can be permissionless and transparent.
00:21:42.554 - 00:22:23.046, Speaker A: So the proposers can join and announce whatever they want. And they should be slashable. So there should be some deposit. You can imagine that it might be in the form of the Eigen layer deposit. So the restaking and anyone can join if you can verify that they actually made a deposit. It's transparent, it's included on that chain. This is an example of a proposal where I say I'm announcing a proposal and there is a specific slot, like some time that I sequence, and I have a set of domain proposals that define a domain and domain slot.
00:22:23.046 - 00:23:31.950, Speaker A: ID so some number on chain and when I estimated my expression of global time or something, so sequence or daytime when it would happen. And I say that maybe I'm proposing according to some rules of synchronization. So I'm saying that there is a universally strict announcement that I will propose on Ethereum and Polygon for example, at the same time and I say that maybe a minute ahead. So now the builders have this announcement, they can check that it exists on the global time and they may start preparing the bids and they know that I'll be slushed if I don't deliver. So they start to be a bit more confident to set the blocks. So if me as a proposer, if I accept the blocks, then I have to deliver those and the same as I include my announcements on global time, also the beads with the headers can be announced on global time and my commitment to the headers can be announced on the global time. So you can have the same properties of the commitments as in Ethereum PBS, where I say I'm about to publish that block, so I sign that header, so you give me the body of that block, the details of the block, the transactions, so I can actually announce it and if I don't announce it, I get slashed.
00:23:31.950 - 00:24:26.814, Speaker A: What can be the types of proposals? So as I mentioned, we want to respect all the players in the market, so whether these are shared sequencers, native sequencers, they can all participate in those announcements. Shared sequencers should be much more confident about doing any shirt proposals. They may be absolutely sure, like 100% probability that whatever they will announce, they will not be slashed. In some cases they might be randomly being chosen on different chains and sharing that with other sequencers that are competing with them. In those cases they will maybe judge whether they want to risk slashing or not. Like was there a level of confidence in particular unit of type that they'll produce the blocks to be synchronized that will be next to each other, that will be sequenced in the global time and again. Whether these are centralized or decentralized sequencers, they can all make this announcements.
00:24:26.814 - 00:25:30.062, Speaker A: Nobody is whitelisting them, nobody's blocking them. They should be allowed. So here you have an example of this global time when actually I'm indexing events and somebody announces that they about to propose synchronized ethereum n STARnet n plus one that they approve some beat for these two blocks with some hash. And since they approved and announced both of those events can be slashable against their deposit frog and layer or some other solution. And if it's slashable, then the beats can be protected the same way as they are nowadays protected with the slashing condition on ethereum. So this design goal, it should be stepped towards swap. So, as I mentioned on swap we have designs for these beads to be payable on successful execution, but we didn't have maybe the design on how to slash on a promise and the executor telling that there is some specific probability of execution.
00:25:30.062 - 00:26:25.474, Speaker A: So me as a searcher, as a cross domain searcher or builder, I can feel a bit more confident. So it adds a piece of swab like on the side of proposers making similar commitments like on the side of bid makers of the searchers. So now we have both sides actually trying to communicate of how much they can achieve and what kind of promises they make. And that last call that I mentioned, that it's not resolved and notice it here. So if I'm about to make announcements about the sequenced synchronized proposals, then the larger my stake is onto different chains, the more likely I am to have synchronized proposals. So the more often I will be benefiting from the extra bids, extra payments to me from the searchers. If I'm a solo staker, then I cannot do that on multiple chains because I'm not probably not staker on multiple chains.
00:26:25.474 - 00:28:01.110, Speaker A: So you would have to team up with someone or just give up and join the large operator large pool that can actually synchronize this across many chains that they are operating. So there should be a solution when me as a solo staker can dynamically exchange messages with some other solo stakers and together make commitments to the synchronized proposals. So what is required? First of all, we need to define this communication between proposals, something that is reliable and again, it would have some promises, but then the question is about the splitting the payment from the cross domain block builder from a cross domain sequencer about how exactly I'm paying to the proposer on chain A and chain B. So this should be doable that should be easier part maybe study harder is the slashing target so if I don't deliver my promise who is really slashed if I'm teaming up with as a proposer on ethereum if I'm teaming up with a proposer on polygon who will be slashed if we don't deliver that promise? That's a good question. That's why this has to be answered. So within the roadmap, think about this collaboration of the multiple proposers has to be resolved and also making sure that this design really answers the questions from the shared sequencers and whoever builds sequencers. So it all has to work together to satisfy the goals of how Flashbots builds the products.
00:28:01.110 - 00:28:11.620, Speaker A: It's very early building in the open as just a research potentially component would be dropped never delivered or maybe something that would be fundamental component of swap. Thank you so much.
