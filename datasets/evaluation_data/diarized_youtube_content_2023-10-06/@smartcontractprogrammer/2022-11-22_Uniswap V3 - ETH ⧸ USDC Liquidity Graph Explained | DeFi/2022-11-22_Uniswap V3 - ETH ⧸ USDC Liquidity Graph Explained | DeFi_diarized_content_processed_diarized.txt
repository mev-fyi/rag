00:00:00.250 - 00:00:35.606, Speaker A: Let's take a look at an example of a liquidity price graph. For this example, I'll be using the USDC ETH pool. In pink you can see the current price to the left of the current price, all of the tokens are in USDC, and to the right of the current price, all of the liquidities are in ETH. So in this video I'm going to explain why liquidity to the left of the current price is in USDC and to the right is in ETH. Let's draw the USDC ETH pool. X will be USDC and the y axis will be ETH. And let's also imagine that between the price range P of A and P of B, there's some liquidity L and the current price is P.
00:00:35.606 - 00:01:12.450, Speaker A: If we were to graph this on the liquidity price graph, you'll see that to the left of the current tick will be usdc and to the right will be ETH. Notice that in the previous video we had the X to the right of the current price and y to the left of the current price. But here you can notice that X is on the left and Y is on the right. And also notice that in the previous video we had ticks being positive, but here they have a minus sign. So for the rest of the video, I'll explain how to derive this graph. To start off with, we'll start with a quick review of what p is. P is equal to Y divided by x and this is equal to the price of x in terms of Y.
00:01:12.450 - 00:01:49.198, Speaker A: In this ETH USDC pool, x is USDC and y is ETH. So this p will be equal to the price of USDC in terms of Ef. However, what we're interested in this video is the price of ETH in terms of USDC. So to get this, we'll need to flip this equation. Instead of Y being on top, we'll have the y on the bottom, and instead of x being on the bottom, we'll have the x on the top. We just flip the x and y's and a simple algebra shows that this x over y is equal to one over p. Instead of using p to show the graph for the liquidity price graph, we'll be using one over p.
00:01:49.198 - 00:02:20.450, Speaker A: Let's start off by reviewing what the liquidity price graph looks like. We first start off with the ticks. T of a being the tick for the price p of a, t being the tick for the current price p, and t of b being the tick for as the ticks move to the right the price increases. So t of a is smaller than or equal to the t and t is smaller than or equal to the t of b. Let's say that uniswap b three has a current liquidity of L. Then we represent this as a line on the vertical axis. To the right of the current tick t, we will have our token x.
00:02:20.450 - 00:02:57.566, Speaker A: To the left we will have our token y. In our example, we're using the ETH USDC pool, so x will be USDC and y will be ETH. Now, recall earlier that when we visited the unisoft b three website, to the left we had USDC and to the right we had beef. So how do we convert this graph into the graph that we saw earlier in the website of unisoft B three? Let's start off with the price. P represents the price of x in terms of y. In this case, this will be the price of USDC in terms of price of beef. But as we said earlier, what we're concerned with is the price of beef in terms of USDC.
00:02:57.566 - 00:03:46.114, Speaker A: So instead of p increasing this way, we want to convert this graph into a graph where one over p increases this way. To the right, we will display our modified graph here, and one over p increases as the tick goes to the right. Let's start off by mapping the ticks to this new graph. We know that PLA is less than or equal to the current price p, and less than or equal to the upper price p of b. If we take one over p of each of these, then we will flip this inequality so that one over p of a will be greater than or equal to one over p, and one over p will be greater than or equal to one over p of B. So first, let's map this onto the graph. So one over p will be here, one over p of a is greater than one over p, so it'll be here.
00:03:46.114 - 00:04:05.126, Speaker A: And one over p of b will be the smallest. So be here. Okay, next, let's convert these one over p's to ticks. We know that p is equal to 1.1 to the tick. And to get the tick from the price, we would do log of base 1.1 to the p and we get the tick.
00:04:05.126 - 00:04:29.982, Speaker A: Using the second equation, what is the log of base 1.1 to the one over p? Well, using the rules for logarithm, we know that this is equal to minus the log of base 1.1 to the p. We already know that log of 1.1 to the p is equal to T. We have a minus here, so this will be equal to minus t. Okay, so using this equation, we can replace the one over p's.
00:04:29.982 - 00:05:10.650, Speaker A: One over p will be simply equal to minus t. One over p of B will be equal to minus one over t of a and likewise one over p of B. We'll replace it with the tick minus t over B. So this is what the ticks will look like. As one over p increases, we're moving along minus T of B to the current tick t and to minus t of A. The liquidity will be the same for swaps. So we'll have our l at the same height as this l over here, to the right of the current tick t and between the current tick t and t of B, we have our token x to represent this token x on this graph.
00:05:10.650 - 00:05:46.614, Speaker A: The current tick t will be here and the tick t of B will be here. So token X will be between t of B and t of A. It will be on the left of minus t. Likewise, to the left of the current tick t and between t and t of a we have token y on the bottom graph. The ticks are flipped, so token y will come to the right of the current tick t. To the left of minus t we have our token X, and to the right of minus t we have our token y and the price of E. In terms of USDC, this is represented as one over p increases as the tick moves to the right.
00:05:46.614 - 00:06:12.700, Speaker A: Going back to the unison B three website for E USD DC pool, you can see that to the left of the current tick, all the tokens are in USDC and to the right of the current tick, all of the tokens are in E. And as we move the tick from left to right, you can see that the price increases. Here the price is 1082 and as I move over to the right, you can see now that the price of ETH has increased to 1096.
