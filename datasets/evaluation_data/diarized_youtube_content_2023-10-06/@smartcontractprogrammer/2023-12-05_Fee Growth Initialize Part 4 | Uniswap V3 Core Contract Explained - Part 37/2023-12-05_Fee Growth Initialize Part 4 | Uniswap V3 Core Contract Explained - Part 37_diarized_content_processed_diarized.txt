00:00:00.410 - 00:00:27.080, Speaker A: This is part three of unison. B three fee growth initialized. In this video, we will calculate fk minus f zero. And this will give us the fee growth inside a position. And in this case, we'll look at when the tick I lower is not initialized and tick I upper is initialized. Since tick iupper is initialized, we will label this as fu. So fu will have the value of f out of I upper at time t zero.
00:00:27.080 - 00:00:59.150, Speaker A: Okay, let's calculate fk minus f zero. When the current tick ILC is less than tick, I lower. Imagine the case where at time t zero, we have phi growth f g zero. Over here, below tick I lower. At time t one, the phi growth crosses over lower tick, and at time t two, it is in between the two ticks I lower and I upper. And we want to calculate the fee growth that is inside il and iu. To do this, we'll need to calculate fk and we'll need to calculate f zero.
00:00:59.150 - 00:01:19.794, Speaker A: So let's start with f zero. What is f zero equal to? Well, here's the equation that we'll need to use to calculate f zero. And we're going to be using this equation. Since at time t zero, the current tick is over here. Below tick I lower. This is equal to f alpha by lower. We said that it is not initialized.
00:01:19.794 - 00:02:03.054, Speaker A: And since the current tick IOC is less than tick I lower, this will be equal to zero. Okay, how about f alpha by upper? Well, we said that f alpha by upper is initialized to fu, so this will be equal to fu. Now, notice here that when we evaluate zero minus fu, which is a positive number, f zero will turn out to be a negative number. So what we can see from here is that fee growth inside does not really make sense by itself to actually get the fee growth inside a position. This is why we would need to subtract fk minus f zero. So with that in mind, let's calculate f two. At time t two, the current tick will be inside the two ticks.
00:02:03.054 - 00:02:45.658, Speaker A: So the equation that we will need to use is this one. This is equal to fg two. At time t one, the fee growth crosses over tick I lower. So f out of I lower will be now be equal to fg one, and f out of I upper will still be equal to fu. Okay, so now that we know f two and f zero, we can calculate f two minus f zero. To calculate the fee growth inside this position, this is what f two is equal to. And since f zero is equal to minus fu, minus minus fu will be equal to plus fu, we can see that the minus fu cancels out with the plus fu and we get that this is equal to f g two minus f g one.
00:02:45.658 - 00:03:24.062, Speaker A: Again, we can verify by looking at this diagram that the fee growth inside this position should be equal to fg two minus fg one. Okay, next, consider the case where the current tick I ofc is in between tick I lower and tick I upper. And again we'll assume that tick I lower is not initialized and tick I upper is initialized and has the value f u. So again we're going to calculate fk minus f zero to calculate the fee growth inside this position. So let's start with f zero. Since at time key zero, the current tick will be in between the two ticks. This is the equation that we'll be using.
00:03:24.062 - 00:03:57.394, Speaker A: The first part is equal to f g zero. How about f out of I lower? Well, since current tick I of c is greater than tick I lower. When we initialize this position, we initialize f out of I lower to be equal to f g zero. So f out of I lower at time t zero will be equal to f g zero. How about f out of I upper? Well, we said that it was already initialized to fu, so this will be equal to fu. Let's move on to f two. At time t two, the current tick I'll c will be above tick I upper.
00:03:57.394 - 00:04:23.534, Speaker A: This is the equation that we only need to use now. Notice that at time t one, the fee growth crossed above tick I upper. So at this point we update f out of I upper to be equal to f g one minus fu. So when we evaluate f out of I upper at time t two, this will have the value f g one minus fu. Okay. And f alphab I lower. At time t zero, we initialize this to f g zero.
00:04:23.534 - 00:04:56.700, Speaker A: So this will be equal to f g zero. How about f two minus f zero? This is f two. And from this we'll need to subtract f zero. You can see here that f zero is f g zero minus f g zero minus fu. So if we minus f zero, this will turn into a positive fu. We can see that the two fus cancels out and we're left with fg one minus fg zero. And again, looking at the picture, it looks like the fee growth inside this position is f g one minus fg zero.
00:04:56.700 - 00:05:43.706, Speaker A: For the last part of this video, let's calculate fk minus f zero. When the current tick I ofc is greater than tick I upper. So imagine the case where at time t zero, we have phi growth fg zero above tick iupper and we initialize this position between il and iu. Now, using the initialization rule for phi growth, since tick I lower is not initialized and the current tick IOC is greater than tick I lower, we initialize f out of I lower to be fg zero. At time t one, we'll say that the fee growth crossed below tick I upper and at time t two it is in between the two ticks. And again we'll evaluate the fee growth inside this position at time t zero. Let's calculate f zero.
00:05:43.706 - 00:06:11.694, Speaker A: At time t zero, the current tick will both be above tick I lower and tick I upper. So this is the equation that we'll need to use to calculate f zero. F alphabi upper will be equal to fu. It was initialized as fu f alpha by lower. We'll use the initialization rule for phi growth and this is set to fg zero. Okay, let's calculate f two. At time t two, the current tick will be in between tick I lower and tick I upper.
00:06:11.694 - 00:06:53.230, Speaker A: And this is the equation that we will need to use. The first part is equal to f g two. How about f alpha by lower? Well, f alphabi lower has not changed, so it is still equal to f g zero. Okay, how about f out of I upper? Notice that at time t one, the fee grove crossed below tick I upper. So f out of I upper will be updated to be f g one minus the previous f out of I upper, which will be fu. So this will be equal to minus f of g one minus the previous f out of I upper fu. Now that we have f zero and f two, we can calculate f two minus f zero to get the fee growth inside this position.
00:06:53.230 - 00:07:24.258, Speaker A: Here's the first part, f two. And here's the second part, f zero. This is a long equation, but you'll notice that fu cancels out with this fu and this fg zero cancels out with this fg zero. And we're simply left with fg two minus fg one. And again, we can check looking at the diagram that the fee growth inside is fg two minus fg one. In summary, in this video, we calculated fk minus f zero. This will give us the fee growth inside a position, tick I lower and tick I upper.
00:07:24.258 - 00:07:38.490, Speaker A: When the tick I lower is not initialized and tick I upper is initialized. In the next video, again calculate fee growth inside and we'll consider the case when tick I lower is initialized and tick iupper is also initialized.
