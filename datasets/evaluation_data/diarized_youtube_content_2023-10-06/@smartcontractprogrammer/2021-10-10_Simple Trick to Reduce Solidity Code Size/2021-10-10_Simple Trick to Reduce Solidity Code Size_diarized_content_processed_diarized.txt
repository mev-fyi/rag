00:00:00.410 - 00:01:01.790, Speaker A: Smart contracts have a code size limit of 24 kB. If your contract is too big and you're hitting that 24 kilobyte limit, then the simplest thing that you can do to reduce the code size is to wrap any code inside a function modifier into a function. Let's take a look at how much code size we can reduce by simply wrapping the code inside a function modifier into an internal function. First, let's take a look at a code that doesn't use an internal function inside the function modifier. What is the size of this code? Here we have a simple function modifier and a bunch of functions using that function modifier. When I compile this contract and then get the actual size of the bytecode, I'm going to paste what I copied from here into over here, and then get the bytecode from here, open my JavaScript console, and then paste the bytecode and then get the size of the bytecode. The size of the bytecode is 5120 characters.
00:01:01.790 - 00:01:39.482, Speaker A: I'll make a memo to myself over here. We'll say modifier. The size of the characters were 5120. Okay, so let's now use an internal function and see how much code we can reuse. The trick here is to wrap this code into an internal function. So you'll say function. I'll name this function with an underscore only owner private view, and then inside the function body I'll cut and then paste it in here.
00:01:39.482 - 00:02:29.380, Speaker A: Lastly, we'll call the internal function that we just declared inside the function modifier. I'll compile this contract again and then get the ABI bytecode, paste it here. To get the actual bytecode, open my JavaScript console and we'll say b is equal to the bytecode, and then get the length of the bytecode by saying b length. And the length for the bytecode is 2100 characters. So using a regular function modifier, the code size was 5120 characters, whereas wrapping that code inside an internal function, we reduced the code size to 2100 characters. So if you're having problem with code size limit, then this is one trick that you can use to reduce your code size.
