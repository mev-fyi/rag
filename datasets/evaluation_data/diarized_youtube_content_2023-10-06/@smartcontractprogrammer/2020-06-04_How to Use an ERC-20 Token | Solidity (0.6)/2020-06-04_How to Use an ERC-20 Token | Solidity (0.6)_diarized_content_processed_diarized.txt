00:00:00.410 - 00:00:45.820, Speaker A: You. Hi everyone. In this video we'll go over how to use an ERC 20 token. I'll show you how to use the transfer function, and then I'll show you how to use the approve allowance transfer from functions what you're seeing here is functions and events that all ERC 20 tokens have. So this means that if you're building your own ERC 20 token, then you'll have to implement all of these functions. The function total supply, as the name suggests, returns the total amount of tokens. The function balance of returns the amount of token that an address holds a token holder could call the function transfer to give away some of its tokens to another address.
00:00:45.820 - 00:01:44.922, Speaker A: Functions allowance approve and transfer from are used to allow others to transfer token on behalf of the token holder. The function allowance returns the amount of tokens that a spender can spend from a token holder. The token holder calls the function approved to set the amount of tokens that a spender can spend. So, for example, if a token holder calls this function with an amount of 20 tokens, then the spender will be allowed to use 20 tokens from the token holder. The spender can call the function transfer from to send tokens from the token holder to anyone, as long as the amount doesn't exceed the approved amount. Let's see how all of this work using Alice and Bob Alice coin is an ERC 20 token where Alice has 100 tokens and Bob has zero. Now, Alice wants to send ten of her coins to Bob.
00:01:44.922 - 00:02:26.490, Speaker A: So how can she do this? She can simply call the function transfer with address of Bob and say ten. And this would send ten tokens from Alice to Bob so that Alice now has 90 tokens and Bob has ten. And this is the only function that you'll have to call if you're directly sending tokens to another address. So now let's look at an example where someone wants to use your token on your behalf. In this case, Bob wants to withdraw 20 tokens from Alice using the functions available in ERC 20. Let's see how this is possible. First, Alice will approve Bob to spend 20 of her tokens.
00:02:26.490 - 00:03:12.250, Speaker A: After this function completes, Bob is allowed to spend 20 of Alice's tokens. In order for Bob to withdraw 20 tokens from Alice, he will call the function transfer from and he will get 20 tokens so that Alice now has 70 and Bob has 30 tokens. So these are the steps that are involved to withdraw tokens from another token holder. Now let's say that Bob is being greedy and he wants to withdraw another 30 coins from Alice. So Bob calls the function transfer from Alice to Bob 30 tokens. But this time the function fails. And this is because Alice has not approved Bob to spend 30 additional tokens.
00:03:12.250 - 00:03:43.634, Speaker A: Let's see this in action. Using remix, we'll create our own ERC 20 token by first importing it from open Zeppelin. We'll call it my token. To make this contract into an ERC 20, all we have to do is inherit the ERC 20 imported from open zeppelin. So here we'll say is ERC 20. And that's it. Recall that in our example of Alice and Bob, Alice had 100 tokens to begin with.
00:03:43.634 - 00:04:48.642, Speaker A: So here we'll do exactly that by giving 100 tokens to the account that creates this contract. We'll declare a constructor and we'll pass the inputs that the ERC 20 contract needs. Name is name that you want to give to the ERC 20 token symbol is used to give a short name to the token, and it's usually three to four letters. Next, we'll give 100 tokens to the address that creates this contract by saying mint message sender 100 multiplied by ten to the decimals. So we said we're going to give 100 tokens, but why are we multiplying this by a power of ten? Well, similar to how $1 is equal to 100 cents, and that's two decimal places. And one ether is equal to ten to the 18 way with 18 decimals. Our token also has decimals.
00:04:48.642 - 00:05:29.586, Speaker A: So here we're multiplying it by a power of ten and this will give us 100 tokens that we wanted. All right, let's now deploy this contract and call some functions. I will call this token Alice coin and the symbol will be Ali. Let's check that Alice has 100 tokens. So we'll scroll up, copy the account address, and then call balance of. That's a big number. Let's use the browser console to check that that is equal to 100 tokens.
00:05:29.586 - 00:06:08.034, Speaker A: So first I'm going to call the function decimals to get the number of decimals. And it's equal to 18. So this number here should equal 100 times ten to the 18. I'm going to open my browser console by typing f twelve and compare this big number with 100 times ten to the 18. And you can see here that these two numbers are equal. So now we know that Alice has 100 tokens. So next, let's see some examples using transfer and transfer from.
00:06:08.034 - 00:07:08.930, Speaker A: So I'm going to scroll up, switch the address to Bob, copy the address and then switch back to Alice's account. Scroll down, and we'll call transfer with Bob's account. Since Alice has 100 tokens, we'll paste that amount in here and remove 10. So that will be ten tokens now, and then hit transfer, and we'll check Bob's balance by copying the address and then pasting it in here and calling balance of and we can check that Bob now has ten tokens. We can also check here that Alice now has 90 tokens. All right, so that was an example of transfer. Let's now try transfer from in order for Bob to be able to call transfer from Alice to Bob, Alice will first have to approve Bob.
00:07:08.930 - 00:08:29.390, Speaker A: So you'll copy the address of Bob, then scroll up, and then call approve and then here we'll approve Bob to spend 20 tokens. Bob can check that he is allowed to spend 20 tokens from Alice by calling allowance. So we'll copy the address of Alice, and then next copy the address of Bobby and then hit allowance. You can see here that Alice allows Bob to spend 20 of her tokens. So now Bob can call transfer from to withdraw 20 tokens. So I'm going to scroll up, switch the account to Bob, scroll back down, and we'll say transfer from Alice, transfer to Bob and then 20 tokens, and then hit transfer from let's check Alice's balance. So we'll hit balance up and we can see here that Alice now has 70 tokens.
00:08:29.390 - 00:09:08.660, Speaker A: We'll copy the address of Bob and then check his balance, and he has 30 tokens. Since Bob spent the 20 tokens that Alice allowed, allowance should now equal to zero. Let's check it out it and you can see here that it is zero. So that covers how to use an ERC 20 token. You can call the function transfer to directly send tokens to another address, or you can use combinations of allowance approve and transfer from to allow others to transfer tokens on your behalf. Thanks for watching and see you in the next video.
