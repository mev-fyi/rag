00:00:00.410 - 00:00:44.874, Speaker A: Visibility defines how a contract or other contract have access to state variables and functions. There are four visibilities, private, internal, public, and external. Private means that the function or the state variable can only be accessed from within the contract that defines it. Internal is similar to private, except that a child contract can also access it public. State variables and functions can be accessed from both inside and outside a contract, and the external function can only be called from other contracts. So if you define a function as external inside your contract, then you won't be able to call it inside that contract. To give you an example, let's say that I have contract a and contract b inherits from contract a.
00:00:44.874 - 00:01:21.478, Speaker A: Inside contract a, we have a private function named private, an internal function named intern, a public function, and an external function. This private function can only be called inside this contract date inside the contract. It can also call the internal function and the public function, but it won't be able to call the external function. Remember that external function can only be called from other contracts. So let's say that we have a contract c. Then contract c can call the pub function and the external function. Now, moving on, let's say that b is a child contract of a.
00:01:21.478 - 00:02:06.578, Speaker A: Well, it doesn't have access to the private function because private is only accessible inside this contract A, so it doesn't have access to private. However, it has access to the internal function because internal state variables and functions are available to the child contract, and b is a child of a inside b. We can also access pub funk defined in contract a and contract c. Another contract can call the function pub and the function external. Let's look at an example using code. So here I have a private state variable, an internal one, and a public one. I also have some functions, private function, internal function, public, and external function inside this function.
00:02:06.578 - 00:02:42.862, Speaker A: Examples let's list out all of the state variables and the functions that we can call inside this function. So let's start with the state variables. Do we have access to the private state variable x? Private state variables are only accessible inside the contract that defines it. So yes, we have access to the private state variable x. How about y? The internal state variable y. Internal state variables are accessible to the contract that defines it and any other child contract. So yes, we have access to the internal state variable y and the public state variable z.
00:02:42.862 - 00:03:25.978, Speaker A: Do we have access to it inside this function? Public state variables can be accessed from inside the contract, any child contract, and from outside the contract. So yes, we have access to the public state variable z. How about private function? Can we call this private function inside this function. Examples private functions are accessible inside the contract that defines it. So yes, we have access to the private function. Likewise for internal function, we also have access to public function. How about external function? Can we call external function inside this function? We cannot.
00:03:25.978 - 00:04:25.150, Speaker A: This is because external functions can only be called by contracts or account that are external to this contract. So if we were to call external function here and try to compile it, then you'll get a compilation error. So we cannot access external function inside the contract that defines it. I'll compile the contract again and the compilation is successful, meaning that we can access these state variables and functions inside this function. Now, you can't call external function inside this contract, but there is one hack to call it, and it is to use this external funk. What this is doing over here is instead of directly calling the external function by prefixing this function with the keyword, this code is making an external call into this contract. This line of code is like calling another contract, except you're calling into this contract.
00:04:25.150 - 00:04:52.566, Speaker A: This is a hacky trick and it is also gas inefficient. So don't do it. Okay, moving on. I have a child contract that inherits from visibility based contract, which is defined over here. Now, inside this function I want to list out all of the state variables defined inside here and all of the function defined inside here. Which ones can I call inside this function? Example too. So let's start with the state variables.
00:04:52.566 - 00:05:39.462, Speaker A: Can we call the state variable x? Well, state variable x is private, so we won't have access inside here. The state variable y is internal, so we will have access inside here, and the state variable z is a public state variable, so we'll have access. Likewise, we won't have access to private function. Internal function, we can call it inside here. Public function we can also call external function can only be called from outside this contract because this contract inherits from visibility base. Technically, this contract over here is as same as having the external contract defined over here. So we won't be able to call this external function inside here.
00:05:39.462 - 00:06:04.890, Speaker A: So inside the child contract, these are the state variables and the functions that we can call inside. In summary, private state variables and functions can only be called inside the contract that defines it. Internal is similar to private, except the child contract can also have access to those state variables and functions. Public, anyone and any contract can call, and external can only be called from contracts and accounts that are outside the contract.
