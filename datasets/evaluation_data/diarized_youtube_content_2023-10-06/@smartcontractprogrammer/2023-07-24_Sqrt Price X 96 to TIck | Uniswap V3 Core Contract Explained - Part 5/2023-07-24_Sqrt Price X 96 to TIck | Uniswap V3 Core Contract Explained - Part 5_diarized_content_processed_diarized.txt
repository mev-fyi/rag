00:00:00.330 - 00:00:44.566, Speaker A: If we know the square root price x 96, then how do we calculate the tick? The square root price x 96 is given by this formula equal to square root of price p times q 96, where q 96 is two to the 96. To get back the price, in the previous video, we worked out that P will be equal to square root price x 96 divided by q 96. And we raise this to the power up to and how does price p relate to the tick? Well, if you know what the price p is, then we can calculate the tick by solving for this equation. P is equal to 1.1 raised to the tick. Okay, so using this equation, let's solve for the tick. The first thing that I'll do is take the natural log on both side of the equation.
00:00:44.566 - 00:01:15.058, Speaker A: On the left side we'll have the log of this expression, and on the right side we'll have the log of this expression. Exponents inside the log can come out to become a multiplication. So this two will come out and we will have two times the log of square root price x 96 divided by q 96. And the same goes for the right side of the equation. Exponents inside the log. We can bring it over here and it will simply become a multiplication. So we will take this tick and then just move it over here.
00:01:15.058 - 00:01:47.310, Speaker A: Okay, we're almost done. The last part to solve for tick is to just divide both sides by log of 1.1. So dividing both side by log of 1.1, all I have to do is simply just bring this over to the bottom and this is the equation for the tick. Given the square root price x 96, we can work out this equation to calculate the tick. And here is an example in Python. So from the arbitram e USDC pool, I've got the current square root price x 96, which is this number.
00:01:47.310 - 00:02:25.046, Speaker A: And as a reference, I've also got the current tick. So when we do the calculation of the tick, we expect the calculated tick that you see over here will be very close to this number over here. Okay, so let me explain this code. So we have square root price x 96 and q is two to the 96. To calculate the tick, you would do two times the log of square root price x divided by q. And then we divide this by the log of 1.1. Okay, let's execute this code and we get that the current tick is -200,922 notice that there's a little bit of difference.
00:02:25.046 - 00:02:37.900, Speaker A: The tick stored inside the smart contract is -200 921, whereas the one we calculated is -200,920 so there is a difference of one.
