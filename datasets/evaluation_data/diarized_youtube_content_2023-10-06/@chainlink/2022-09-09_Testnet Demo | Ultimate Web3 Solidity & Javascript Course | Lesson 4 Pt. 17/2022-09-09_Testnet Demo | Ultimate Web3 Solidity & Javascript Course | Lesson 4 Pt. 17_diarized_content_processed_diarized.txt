00:00:11.050 - 00:00:52.986, Speaker A: Awesome. We have all the basic functionality of our contract that we need here. Now we're finally actually going to run everything on a testnet and see everything happen live before our eyes. Are you ready? Let's do this. So let's go over to the deploy tab and we're going to switch of course, to injected web three. Remember, we're using injected web three because our priceconverter Sol is using Chainlink oracles that actually exist and are actually monitoring the Rinkbee network for us. Now we're going to scroll down to and we're going to choose the fundme contract and we're going to go ahead and deploy once again, we want to make sure we're on the Rinkbe testnet and we have a little bit of Rinkbeeth in our wallet.
00:00:53.098 - 00:01:00.378, Speaker B: Let's go ahead and deploy, confirm and we'll wait a little bit and I'll pull up our log here and we'll.
00:01:00.394 - 00:01:03.562, Speaker A: Wait a little bit for our contract to get deployed.
00:01:03.626 - 00:01:04.410, Speaker B: All right, great.
00:01:04.500 - 00:01:18.930, Speaker A: It looks like our contract has indeed been deployed. If we scroll down, we can see all of our functionality. Minimum USD is going to be that $50 but with 18 zeros so that the units are the same as Ethereum.
00:01:19.090 - 00:01:22.358, Speaker B: The owner of our contract was set.
00:01:22.444 - 00:01:50.218, Speaker A: To our address the instant we deployed this contract. It was deployed by calling our constructor function. So this address, Zero X 10 66, is going to be the same as the address in our metamask. Your address here, of course, is going to be a little bit different than mine. We have our funders array, which of course is going to be blank. We have our address array, which is also going to be blank. And then we have two functions that we can use to modify the state of the blockchain.
00:01:50.218 - 00:02:17.846, Speaker A: Withdraw is going to be orange because we're not paying any ethereum. We're actually gaining Ethereum or whatever native blockchain currency fund is going to be red because fund is a payable function that we are going to be sending Ethereum to or sending whatever native blockchain currency that you're working with. So let's go ahead and see how this all works. So first, let's go ahead and fund this contract. Again, funding. We got to do a little bit.
00:02:17.868 - 00:02:18.982, Speaker B: Of math right now.
00:02:19.036 - 00:02:27.340, Speaker A: Since the price of ETH is around $3,000 and we're looking for $50 minimum, we can do 50 divided by 3000.
00:02:27.710 - 00:02:32.606, Speaker B: We can do 3000 divided by 50. We can do 50 divided by 3000.
00:02:32.708 - 00:02:44.658, Speaker A: So we know that around 0.2 ethereum should be enough for this contract to work. So 0.2 ethereum is this much way.
00:02:44.824 - 00:02:48.290, Speaker B: We can copy that, paste that into here.
00:02:48.440 - 00:03:19.830, Speaker A: So when we hit fund, it should actually pass. And we do indeed see metamask pop up and we'll go ahead and confirm. Once this transaction goes through, we'll be able to see this contract on Etherscan with the funds in it. Now, if we don't add way here, if we don't add a value, once again, if we hit fund, we'll say gas estimation failed because we're not sending enough here. And in fact, we even see execution reverted didn't send enough. We can absolutely send this transaction, however, it's going to fail.
00:03:19.910 - 00:03:20.250, Speaker B: Great.
00:03:20.320 - 00:04:09.910, Speaker A: So now that our transaction has gone through, if we go onto the rinkbe ether scan, once we wait a little bit for it to finish indexing here on the Rinkbeeth ether scan, we can see that transaction actually went through for doing the funding. We can actually see a lot of different details going on with this transaction as well. And if we scroll down, we once again, we can see all the information about us calling this fund function gas limit, gas usage, the gas fees, gas price, and we can see the input data as well. We can see that we called the fund function down here. We'll learn more about the input data later. If we go to the contract that we deployed, we can now see two transactions. We can see our contract created transaction, and we can also see we called a fund method.
00:04:09.910 - 00:04:21.646, Speaker A: And if we look at the balance of our contract, it now has 0.2 ether, which makes sense since we just sent it 0.2. If we put that 0.2 ETH in.
00:04:21.668 - 00:04:28.562, Speaker B: Terms of way back into the value section, and we call fund again after.
00:04:28.616 - 00:04:45.398, Speaker A: This transaction goes through, we should see this number go from 0.2 to 0.4. Now, after we wait a brief delay, we do indeed see the balance has gone up to 0.4, which is exactly what we'd expect.
00:04:45.564 - 00:04:46.038, Speaker B: Awesome.
00:04:46.124 - 00:04:50.890, Speaker A: So our funding mechanism is working correctly. And if we go down into our.
00:04:50.960 - 00:04:55.226, Speaker B: Array and our mapping, if we do.
00:04:55.248 - 00:05:08.510, Speaker A: Address to array and we paste our address, we should see the four number show up. And if we go to funders of zero, we see our address. And if we go to funders of one, we also see our address.
00:05:08.580 - 00:05:10.254, Speaker B: And we see that and we see.
00:05:10.292 - 00:05:13.678, Speaker A: This call going through. If we go to funders of two.
00:05:13.844 - 00:05:15.534, Speaker B: In our log over here, we actually.
00:05:15.572 - 00:05:37.078, Speaker A: See that we get an error. An optimization that we could make to our contract in the future is to check to see if an address is already in the funders array and then not add it if it's already there. Now, let's go ahead and try to call this withdrawal function, but let's try to call it with a different address than the address we originally deployed this contract with. So to do that, scroll all the.
00:05:37.084 - 00:05:45.290, Speaker B: Way to the top of this here, and I'm going to go to my metamask, and I'm going to switch to.
00:05:45.360 - 00:05:54.974, Speaker A: A second account and hit connect. Now, our remix should be updated with the new account that's in here. You'll see that if I switch back.
00:05:55.012 - 00:05:57.694, Speaker B: To account one, it switches back to.
00:05:57.732 - 00:06:34.214, Speaker A: Account one, so long as they're both connected. You can see which accounts are connected to applications by clicking this connected button and see which ones are connected. If you ever want to disconnect that account, you can click the three little dots and hit disconnect the account. And now we can see that this account is not connected. However, account two is connected. Let's go back to account one and connect account one so that both of them are connected, but we'll switch to account two. Let's switch to account two, because again, account two isn't the owner of this contract.
00:06:34.342 - 00:06:36.586, Speaker B: If we scroll down to owner, we.
00:06:36.608 - 00:06:44.574, Speaker A: Can see owner is zero x 10 66 something something, and account two is zero x 43 something.
00:06:44.772 - 00:06:45.374, Speaker B: Awesome.
00:06:45.492 - 00:06:57.950, Speaker A: So what do you think will happen when we hit withdraw here? Well, our modifier only owner should kick in, and we should get notified that if we send the transaction, we'll get this error sender is not owner.
00:06:58.030 - 00:06:59.330, Speaker B: So let's try it.
00:06:59.480 - 00:07:17.442, Speaker A: Ah, gas estimation failed. We do get this error sender is not owner, which is perfect. This is exactly what we want. We could absolutely send this transaction if we wanted to, but that would just be a waste of gas because this transaction is going to fail. However, if we switch back to account.
00:07:17.516 - 00:07:22.906, Speaker B: One and we hit withdraw, Metamask will.
00:07:22.928 - 00:07:46.986, Speaker A: Pop up, enabling us to hit confirm and withdraw the ether out of this contract address. Now, if we look at this contract address on ether scan, after a brief delay, we'll see the balance go from 0.4 back down to zero, and we'll see our wallet balance go up from what it is back to 0.4 plus what it was, and after a brief.
00:07:47.018 - 00:07:51.834, Speaker B: Delay, you can see our balance is indeed back down to zero in our contract.
00:07:51.882 - 00:08:06.050, Speaker A: Now, if we do address to amount for our wallet address that was doing the funding, it's back down to zero. And if we try to check the address of funders at index zero, we get call to funders fund me error execution reverted.
