00:00:00.410 - 00:00:00.960, Speaker A: You.
00:00:03.490 - 00:00:46.300, Speaker B: Hello everyone. Thank you for wait a bit for me. I'm preparing my material here with you. I just arrived in a new city and I need some minutes to prepare my setup. But I'm so happy to be here with you. And our goal today is to give you some tools to build defy applications and especially using chain link. So I create a token with you and then I do a lot of different things with this token and we are doing this to get it.
00:00:46.300 - 00:01:31.470, Speaker B: Let's do one warm up. Wait, that I'm creating the first link for you and prepare your computer. We are doing this so slow, step by step. I'm pretty sure that you can do everything with me. Wait a minute. I'm preparing your first document and this will be our collaborative bed. Then we can be together.
00:01:31.470 - 00:01:53.010, Speaker B: Yes. 1 minute mark. Almost done. Hey, here we are. So I will share a link with you. Let's do it now. Here.
00:01:53.010 - 00:02:30.700, Speaker B: Let's see if you can see this link. Yes, probably yes. And please add your name and your country in our collaborative bed. Like I am Solenjiderus. The people used to call me Saul like this one. And I am from Brazil. Welcome more from Canada which more will be with you in the pets.
00:02:30.700 - 00:03:02.920, Speaker B: I share my screen with you and you can see what we are having now. Let's see, president. And here we are. We have a lot of people from different places. Welcome, welcome. Paul from Argentina. Evan from USA.
00:03:02.920 - 00:03:17.900, Speaker B: Oh, I don't know how to say your name, Hickey. I think India. Namang from India. A lot of people from India. Another Evan from Colorado. One from New York. Another from Colorado.
00:03:17.900 - 00:03:51.050, Speaker B: Hey, amazing. Hey Luca from Italy. Good to see. Welcome, welcome. Let's prepare my material to start the session with you. We can break the ice, put your name in the bed and be ready. Before that, I hope that you have metamask, install it in your computer.
00:03:51.050 - 00:04:21.490, Speaker B: I did this in my first session. I will not do this again. So let's put the names above and then if you need install metamask. Meanwhile we are adding the names. After having metamask today we are on Sepolia. So you need to have some iters on Sepolia. Let's see if Sepolia will be good for us today.
00:04:21.490 - 00:04:57.832, Speaker B: And also we need to have link. So if you go to the faucet you can get both. So try to get some links and itung sepolia. We are working today on Sepolia network. Welcome, welcome. Wow. A lot of people from India.
00:04:57.832 - 00:05:20.608, Speaker B: Amazing. And aurorate teaches how to do this. How to install metamask, get your tokens. So I'm waiting a bit for you. And also I'm preparing my material some minutes more almost.
00:05:20.694 - 00:05:29.040, Speaker A: That's.
00:05:31.340 - 00:06:12.950, Speaker B: A lot of people. Welcome, welcome. Good to see you here. Amazing. So if you have all of this, I can say that it's talk about Defi without talk about tokens. Because Defi related tokens related to decentralized finance. Our first exercise today will be create a token and let's understand how we can do this.
00:06:12.950 - 00:06:42.524, Speaker B: Almost done here. I'm preparing my screen for you. Yes. Now I have how much item here? This is old. I'd like to have a new one of these exercises. Let's go. English hey.
00:06:42.524 - 00:07:06.612, Speaker B: Amazing. Now. Okay, I think you already have your tokens. Probably I am in a wrong network. Let's see it. Here we are. I was in Aval last week so I am in a different network now.
00:07:06.612 - 00:07:41.328, Speaker B: We are on Sepoya. Great. And we are using remix in our workshop today. So let's go to remix and edit this for you as well. And remember that in remix you need to connect your wallet. Let's wait for the remix to load and connect our wallet. Amazing.
00:07:41.328 - 00:08:20.440, Speaker B: Here we are. First point I may go into the fifth button deploying drilling transactions and I change the environment to connect remix with my wallet, my metamask wallet. So change it to injected provider and then you'll be connected with Metamask. If this is the first time that you are doing this, probably you need to approve this on Metamask because I already did before. I don't need to do this. Hey, welcome Evan. Now I see that you are a chaining advocate.
00:08:20.440 - 00:08:59.156, Speaker B: Amazing to have you with me helping me. Thank you so much. And this is we are ready to start. Like I said before we start in create a token then what do you do with this token? First I will create a token shop. So it's a shop that I define the price of my Token in USD and I will use Chainlink data feeds to get the price of it in USD. I will send it to my smart content to buy my own token. This is the first exercise.
00:08:59.156 - 00:09:51.224, Speaker B: Second exercise, we are creating an automation with our token. Imagine that I'd like to mint one token per minute and you do this using automation from chaining. And third, we are using VRF to do a refer to mint a random amount of tokens. So in this way we are using most of the chain link products, services and are related to a token are related to Defi when we talk about tokens and it's so easy to use open zeppelin. And I added the open zeppelin here as well. Open zeppelin. It's a company.
00:09:51.224 - 00:10:16.968, Speaker B: Let's wait to chat. To load this. Open Zeppelin is a company that they audit as much contents. They are a security company, but they also create a library. So we use any projects. And they have this amazing wizard that we can use to create a token. And here you can define the name of your token.
00:10:16.968 - 00:10:43.116, Speaker B: Let's create the hack token example. And the symbol can be hack hack. And this is you can choose yours. But my token is a bit different from this. So I will copy my token for you. And we are creating together.
00:10:43.298 - 00:10:53.912, Speaker A: So let's come back here to remix. Now I'm going to the second bottom here file explore.
00:10:53.976 - 00:11:32.248, Speaker B: Let's see if I can here. Yeah, I have a create the creative token saw. And here in the pad I put a comment to define the begin of the code and end. And I used to say that if you know how to copy and paste, you can do my workshop. So I will copy and paste for you our token. And you do the same. Now select this and copy and paste in your own remix.
00:11:32.248 - 00:11:38.110, Speaker B: Be careful, don't cut our code. You need to only copy. Okay.
00:11:38.880 - 00:11:42.604, Speaker A: And this is probably you are doing.
00:11:42.642 - 00:12:11.668, Speaker B: This part and can explain a bit of our token. Our token. If I come back here to open zapping our token is mintable. I'd like to mint more tokens after create this. And also I'd like to have roles, like a role to define who can mint the token. The difference between this token and my token is that I create. Oh, let's change the name of this token because I did this token.
00:12:11.668 - 00:12:37.084, Speaker B: Another workshop, it was a boot camp in Brazil. Here we have the chain in Kihat token. And it will be the ChT. Now it's good. And this is come back to remix. This is our token. And you can see here that I have the minter role.
00:12:37.084 - 00:13:17.368, Speaker B: Only the address who is in the minted role can mint tokens. And in the constructor that it's collect. Only when we deploy this patch content we are initializing the roles. After this we have the mint function and only who is in the mint role can mint tokens. And I'm changing the token. You know that the full for a token in Ethereum and for the date itself. The ethereum cryptocurrency is 18 decimal places.
00:13:17.368 - 00:13:37.728, Speaker B: But in our token we will have only two decimal places. So I change it here. This is our token. It's done. Let's see if you are with me. If you have some dubbed. You can put this in our chat.
00:13:37.728 - 00:13:42.448, Speaker B: Okay, well, I have my token.
00:13:42.544 - 00:13:44.070, Speaker A: So let's go to.
00:13:45.800 - 00:14:12.030, Speaker B: Deploy ingredient transactions here in contract. Be careful. Be sure that you have your token selected because we are importing a lot of libraries from open zapping. So we need to be sure that we have the token here selected and I can deploy now. Are you approved?
00:14:16.010 - 00:14:16.760, Speaker A: It.
00:14:18.490 - 00:15:00.286, Speaker B: Is low now. Confirm and is this. In a few minutes we will have the content here deployed and I'd like to know if you are with me. So copy the address and let's add here your name and your token address. For example, this will be mine. Let's see, where is my token? Here we are. Copy.
00:15:00.286 - 00:15:37.600, Speaker B: So in the deployed contracts part, scroll down and in the right side you can copy the address of your token and add it here. Paste it here. If you are with me, do the same. Let's do this together. I'd like to know if I have more people doing with me. Let's see if we have someone doing or if you have any doubt, you can post a comment in the chat. And I'm checking this now.
00:15:37.600 - 00:15:50.690, Speaker B: Hey, amazing. I have Victor. Is this. Yes. Luke and Victor. Amazing. Well done.
00:15:50.690 - 00:16:07.430, Speaker B: Congrats for their token. More congrats for all of Harry. Oh, amazing. Amazing. I'm so happy for you guys doing this with me. Great. Now we have a token.
00:16:07.430 - 00:16:39.886, Speaker B: Second, let's add your token on metamask. So how can I do this? I copied the address of my token. Then I will go to Metamask and in the assets part. Assets. I can import tokens. And here we are. I will paste the address of my token.
00:16:39.886 - 00:16:55.480, Speaker B: You can see the symbol. It's right. And the decimal places. Two decimal places. So add custom token. And I didn't mint tokens yet. So always good to know.
00:16:55.480 - 00:17:20.320, Speaker B: Now let's mint some tokens. How can I do this? I will come back to remix. Well done. We have a lot of talkings. Amazing. Shinkarad, Evan, Mick. So happy for you.
00:17:20.320 - 00:17:40.946, Speaker B: So let's go to remix now. And here in my token. Iu click in the left side to expand my token. And we have a lot of functions here. We are using some of them now. And I explain more if you need it. Okay, now I mint tokens.
00:17:40.946 - 00:18:10.554, Speaker B: This is the mint. I will explain the mint part. I mint tokens to my address. I can copy my address from Metamask. Or if I scroll up here in the account part, I have my wallet and I copy it and come back to the mint part. So I mint tokens for myself. My wallet and how many tokens? I would like to mint 100 tokens.
00:18:10.554 - 00:18:43.240, Speaker B: But because we have two decimal places, I need to add two zeros here. Okay, so here we are. I will mint 100 tokens. Let's edit this for you. Remember this. Okay, result.
00:18:47.210 - 00:18:53.920, Speaker A: Here we have filming this transaction and.
00:18:54.290 - 00:19:41.738, Speaker B: You have my tokens. Copy this and let's come back here. So here we have the two, your address and the amount is this. Probably if I come back now to my metamask wallet. Probably I already have the tokens. Let's see. I come back here to metamask and assets.
00:19:41.738 - 00:19:56.194, Speaker B: Hey, here we are. Now I have 100 tokens. Amazing. If you have any question, you can write in the chat. And I'm looking the chat. Okay. All time.
00:19:56.194 - 00:20:17.910, Speaker B: I have two screens. I may talk with you here, but I have another screen in this side for you. Is in the other side. Okay. And it's over there to us to be together. Amazing. So next, we already have our token.
00:20:17.910 - 00:21:20.678, Speaker B: We are creating now a token shop. And the idea is that our token, you have a price in USD, but we are sending it to our contract to receive our token. There are a person asking, where are we getting tokens from? First of all, you need to have some sepolia it. We are on Sepolia. And also I ask you to get some link tokens that I'm not using now, but I will use in a few minutes. So remember that you need some sepolia to get it in our faucet. You need to have a Twitter account.
00:21:20.678 - 00:21:32.800, Speaker B: But if you don't have it, let's add another faucet for you. You can use alchemy as well. But you get another.
00:21:37.110 - 00:21:38.626, Speaker A: Like, this is.
00:21:38.648 - 00:22:13.162, Speaker B: The faucet from alchemy. But also you need to have a token over there. Okay. So you can get it here as well. And I like another faucet that's a bit different, but can be useful to us. Let's get this other faucet for you. Token faucet.
00:22:13.162 - 00:22:18.750, Speaker B: No, I don't have it here. If you need it, I can share another faucet with you.
00:22:18.820 - 00:22:19.440, Speaker A: Okay.
00:22:20.930 - 00:22:41.862, Speaker B: And this is now we are creating the token shop. And it's the same Iocop and paste the token shop for you. And we are understanding. How is this? Let's get it.
00:22:41.916 - 00:22:42.520, Speaker A: Now.
00:22:46.250 - 00:22:56.726, Speaker B: Let'S see if I have it here. I'm not sure. Token shop. Yes, I have it. Amazing. And let's see. Yes, it's in Sepolia.
00:22:56.726 - 00:23:08.750, Speaker B: This is the token shop that I can share with you. Here we are. You can copy and paste this code. I will explain what we have here.
00:23:08.820 - 00:23:09.440, Speaker A: Now.
00:23:11.490 - 00:23:32.934, Speaker B: But be careful to not only copy. Okay, and let's see what we have here. I would like to check if this is the last version that I created because I have a new one. Token interface token shopping yes, this is perfect for you.
00:23:33.132 - 00:23:36.200, Speaker A: Let's what we have.
00:23:38.590 - 00:24:51.120, Speaker B: Here, I'm using the chain link data feed and for this I'm using the aggregator interface to understand a bit better what I'm using, I have two more links. First documentation and then let's understand the data feeds a bit. In our documentation here we are, we have the data fittings now of these networks and we have different kind of data feeds. We are using the price feeds now and here you can have some basic examples as well and I will add some links for you. First our documentation. Second, here we have all the feeds that we have the most popular and you can see that we have for example et in USD for Ethereum and for polygon for different networks. We have the recent feeds and you can check all of them.
00:24:51.120 - 00:25:49.780, Speaker B: Let's come back to our token and here we are. Like I said before, I'm importing the aggregator from Chainlink to use the data feed. Then I have an interface because from my token I'd like to use here only the mint function. In order to do this I create an interface where I define only the parameters of the mint function and I will use this in my token. Next step, I'm defining my content. This is the token shop. I have the aggregator interface and I call it them price fit.
00:25:49.780 - 00:26:41.458, Speaker B: Also I have my token, I call it minter and I define the token price for us the token in USD will be $2 per token and I need to define and to have the owner of this contract to manage a bit our permissions. After using this constructor I'm initializing the variables. I'm passing the parameter of my token address and instantiating it and then preparing the aggregator with this is the address of the sepolia in it USD and I have the price feed over there and define the owner. Well if you'd like to have this.
00:26:41.544 - 00:26:44.740, Speaker A: Back can be interesting for you.
00:26:46.790 - 00:27:34.526, Speaker B: Go a bit forward. This is the function that it is in the documentation of Chainlink and I'm getting the latest price of it in USD I need to get only the price. I can have more information if I like it. I'm hitting this price. Okay, I have an interesting question from Moko. If I write the coding from Tolkie shop on open zapping no, I didn't because I use Chainlink part of this code. For example, this part I got from our documentation.
00:27:34.526 - 00:27:37.670, Speaker B: If I have hearing price feeds is.
00:27:37.740 - 00:27:41.814, Speaker A: Interesting to you first to have address.
00:27:41.852 - 00:28:23.380, Speaker B: Like I told you, I'm using the address in Ethereum and in Ethereum sepolia. But you can the data fit for any of these chains. For example, in Sepolia we have these data feeds done for us to use it. And here in the documentation as well, I can get more information. I can learn how to read this information. We can get some example there. Check this out later.
00:28:23.380 - 00:29:03.622, Speaker B: And this let's come back. No, this workshop is not showing how to connect the content with the front end. But check the workshop from Austin Griff because he using scaffold it. And it is all project done for you to use this. Let's come back here. So in remix we use the get latest price from the aggregator. And now I have two functions.
00:29:03.622 - 00:29:41.142, Speaker B: One is the token amount. Imagine that you are receiving it and you'd like to know how many tokens can you have for this. I need to check the price of it in USD. This is the price. The amount in USD will be the amount of eats multiplied by the price. And the amount of tokens is the amount of USD divided by the token price. This is the amount of tokens we have to take care of some decimal places.
00:29:41.142 - 00:30:39.278, Speaker B: Here I explain each of these for you. And this is the amazing function that you need to know. Now I have a function that don't have the function name calidreceive. And this function is a special function in solidity to receive it. And this is payable in order to receive this it and what I'm doing here, I will calculate the amount of tokens and this is related to the amount of it that I may receiving in the contract. And then I will mint tokens to the person to the address who sent the eaters for my contract. After this I have the only owner modifier here only because I need to have a way to withdraw the iters from my content later.
00:30:39.278 - 00:31:23.042, Speaker B: Imagine that if I don't create this function and I receive it in my content, these iters can be lost, can be locked in my contract forever. And I don't like this. So I need to have a withdraw function. And it is here to transfer all the eight that I have in my contract to the owner who created the smart contract. And this is the token shop. We are done to create it now. So let's go to the deploy endurance transaction.
00:31:23.042 - 00:31:38.174, Speaker B: Fifth button. First of all I will copy the address of my token again. And here. Be careful. I have the token interface selected. This is not good. We need to have the token shop selected.
00:31:38.174 - 00:31:58.230, Speaker B: So in contract selected, the token shop and I need to add the parameters. The address of my token is not the address of your wallet. It's the address of your token that you created a few minutes before and click on deploy.
00:32:11.010 - 00:32:11.760, Speaker A: It.
00:32:12.770 - 00:32:30.500, Speaker B: Yes, confirm and in a few minutes I have the token shop here and okay, iu ask you so to add your name and token shopping address.
00:32:36.890 - 00:32:37.254, Speaker A: And.
00:32:37.292 - 00:33:02.218, Speaker B: There you do the same. Let's add my name and get the token shop address. Yes, I have it. Well done Luca. So happy that you are with me. And this is the token shop. Now the next step, imagine.
00:33:02.218 - 00:34:09.730, Speaker B: Remember that I told you that our token is managed by a list whitelist who can mint tokens. We have access. We have access roles. So in order to my token shop, mint tokens, the token shop address must be added in the minter role of the token. How can I do this? So you need to go to the token, go to token and then we need to have two points. Here is the token I need to grant role. What is the name of the role? I need to find this, get the minter role, copy the minter role hash and then grant role.
00:34:09.730 - 00:35:22.220, Speaker B: In the grant role. The role is this and the account will be your token shopping address. So let me roll here. I'm in the grant role now and let's copy my token shopping again here. And here we are. I have the role, I have the account and I will give you access to my token shop to mint tokens. If you have any questions, you can add in the chat confirming and in a few minutes I will have it done here.
00:35:22.220 - 00:36:11.802, Speaker B: Okay, now on Metamask send 0.1 etega to the token shop address and let's see what will happen. If you'd like to check another point before on remix, go to token. In the token shop, check the amount. This is interesting for you. How can I get the token amount? Here we are. Probably this is done.
00:36:11.802 - 00:36:48.722, Speaker B: To be sure that it's done, I will come back here in get role has whole. So it's the same. Let's add my account here and I don't have my account anymore. Let's add the role minter. Let's get the address, my token shop address and call. And I can see that this is true. It means that the account, the address of token shop has the role minter.
00:36:48.722 - 00:37:19.406, Speaker B: This is good. This is okay. So let's come back to the token shop. And for example, you like to get the latest price. This is directly from the chain link aggregator. Is this, this is the price now. So if you use the get the latest price, you receive something like this.
00:37:19.406 - 00:37:58.650, Speaker B: Not exactly, but something like this. And this means that this is the price. With some decimal places we have eight decimal places. This is the price. Next I'd like to know now send some amount of it. How many tokens can I receive in order to this? I need to convert.
00:38:01.010 - 00:38:01.760, Speaker A: It.
00:38:02.770 - 00:38:39.830, Speaker B: And I used to use the convert each function eating this. Let's share this with you. And then we are checking the token amount. And let's see if I send this 0.1 eth. How many is this? 0.1 is this in way the token amount? I need to use this parameter.
00:38:39.830 - 00:39:27.926, Speaker B: Let's check it this amount of it in way. And here we are. I can receive 90.31 tokens. Now I know how many tokens can I receive? It's time to. It's time now to mint tokens. So to mint tokens, I use this amount of features to my token shop address.
00:39:27.926 - 00:40:04.360, Speaker B: Let's see if this works well. And I saw a question over there. Are you sending me 1 minute. This is the address of the token shop. I copied again. Now I'm going to Metamask directly sent? Yes, 0.1 next.
00:40:04.360 - 00:40:49.240, Speaker B: And when this transaction is confirmed, I send it to my contract and I bought tokens. I received tokens in my wallet after confirming it. Let's check the question from Luca. If someone can exploit my content getting the minter role. Yes, if you can get the minter role, you can exploit this. Okay, but for now, who can add new minters? It's only the owner. You can test this in your contract later.
00:40:49.240 - 00:41:34.198, Speaker B: Because if you go here, not here in the token, the default adaming role is only the owner, only the message sender. But if I add another, it's possible. Okay Luca, so let's see if Jesus confirmed it and I may go into assets now. And yes, now I have 190.31 tokens. So I buff my own token. And in this way, this is public.
00:41:34.198 - 00:42:16.462, Speaker B: We can buy tokens from any of us here. And I can also check the balance in another place. For example, if I went to my token, here is my token and I go to the balance of function, I add my address over there. I can see that now I have 109.31 tokens. And another interesting point to you. If you explain the token shop again, you can see that the balance of the token shop is 0.8
00:42:16.462 - 00:43:01.570, Speaker B: because the it is stored inside the concrete now this was our first approach related to defiant tokens that we just create a token shop and we use the chainlink data feed. If you have any questions you can add in the chat. And I'm going to the next step. The next step is to create a token. Not exactly a token shop. I'd like to create automation using my token. I can use automation to different points.
00:43:01.570 - 00:43:14.760, Speaker B: For example to check balances. To do transfer I will use the automation from chain mink to mint one token per minute. Let's see how can we do this?
00:43:16.490 - 00:43:22.120, Speaker A: I can close that not using this.
00:43:25.610 - 00:43:29.638, Speaker B: And this is done as well. Are you maintaining here?
00:43:29.804 - 00:43:30.880, Speaker A: Okay. In.
00:43:32.610 - 00:44:04.840, Speaker B: Now automation with tokens. Before that I would like to buy a token from another person. Let's see. Oh, I buy the token from Luca. Luca prepare yourself. I will buy your token now what am I doing? I copied the token address. Anyone can buy tokens from the others now.
00:44:04.840 - 00:44:19.690, Speaker B: And in metamask I send it to Luca address. Before that I'd like to be sure that this is a token address.
00:44:19.760 - 00:44:20.620, Speaker A: Let's see.
00:44:21.550 - 00:44:34.350, Speaker B: Only mix is I already have the same code, the same source code and Luca deployed the content. We are in a network.
00:44:34.430 - 00:44:38.274, Speaker A: So if I came here and I.
00:44:38.312 - 00:44:56.690, Speaker B: Will not deploy, I will use the add address button. It means that I will create a new instance for this token shop but using the address that Luca deployed before. Let's see now you can see that I have two instance of the token.
00:44:56.770 - 00:44:57.400, Speaker A: Shop.
00:45:01.230 - 00:45:05.382, Speaker B: But I did it wrong because I use the token interface.
00:45:05.446 - 00:45:08.666, Speaker A: Remember that you need to use the token now.
00:45:08.688 - 00:45:33.540, Speaker B: It's good ip address. Now I have a token shop. Not mining token shop. This token shop is from Luca. I don't know what is the token. So let's see on minter this is the address of his token. I first added this token in my account as well.
00:45:33.540 - 00:46:45.020, Speaker B: Assets add a new token import Token and I don't have any token. Luca created the same token, the chain link hack token. Okay, and now you can see that I have two chain ink hack token. I you buy the second now. So let's come back to sent and I need to get the address of Luca token shop again. It is this and I use send it to Luca token shop not mine 0.1 the same amount and in a few minutes I have Luca token in my wallet as well.
00:46:45.020 - 00:47:16.580, Speaker B: Let's see when this is confirmed. And in this way you can buy tokens from any person. And I think this can be useful for you to understand a bit more related to roles related to how to send it to a smart contract and also how to use tokens on Defi. And it's completed. And yes, the second one, I have 90.31 tokens. This is amazing.
00:47:16.580 - 00:48:05.430, Speaker B: Next step, let's come back and create the automation part. Nice one evan, I like it. So let's get it where I have it here. Yan Ching token minter oh, I don't have this done. I don't have this for you maybe. Let's see when I did this. Let's see if this is the token.
00:48:05.430 - 00:48:55.480, Speaker B: No, this is token out. Is this token using automation? So now you are creating the Tokenauto Sol and I will copy and paste the code for you. Wait a minute, let's check if this code is in the right network. Oh this doesn't matter. Okay, perfect. Okay, here we are, you can copy and paste the code for you now. And iu explain what we have here.
00:48:55.480 - 00:49:37.940, Speaker B: So to understand now I'm importing the automation service from Chainlink. In fact I'm using the automation base and the automation compatible interface here. You can see that in my interface related to the token. Now I have two functions, the mint that we already understand and just wait a bit because you create a problem for you. I'm pretty sure because of this external return, if you come back here in the token shop, you can see that.
00:49:38.710 - 00:49:44.298, Speaker A: This new version of my token, not this anymore.
00:49:44.494 - 00:50:32.290, Speaker B: So we need to have this here. I will date your careful, okay, because that I use it in an Og version of the automation, this mint is not returning nothing. Let's check here. If you go to the token, the minter didn't return nothing. So here is the same I can't return. Here we are, I have the mint and I add another function over there to check the balance of the account. In fact I know that I'm not using the balance, but it's for a future implementation.
00:50:32.290 - 00:51:16.142, Speaker B: Imagine that I'd like to change tokens only if the person has less than ten tokens, for example. So my token out is automation compatible interface. It means that I'm using the automation from Chainlink. And here I have the amount of tokens that I'd like to send. Who you receive this token and the token interface, it's my token. I also have accounted to check how many times I'm sending tokens to this person and I'm checking the interval. Something like I like to send one token per minute.
00:51:16.142 - 00:52:25.354, Speaker B: So I need to define the interval and I need to manage the last time that I send tokens this will be the last time step. When I created the token in the structure, I will pass the parameter, the interval and the token. In fact, here is not exactly the token minter, it's the token itself. Here we are, I'm creating the token minter, the token, it's the instance of the token, two is the sender, amount is to send one token per minute the interval I define it here the late last timestamp and the counter is starting on zero. Here is the mint function, my mint function and yes, I'd like to return if I mint the token successful or not. And I'm using the token mint function. This is the automation function.
00:52:25.354 - 00:53:22.780, Speaker B: The automation has two parts. First is the checkup keep, which are checking the rules of your business, the rules of your concrete. And then if the rules are true, you have the perform upkeep to define what you'd like to do when your rule is true. In our case, the checkup keep is only checking the time state the interval. I can do this in another way, for example using a chrome job automation, but I prefer to do this in a custom mode, especially so you understand better that I can add more functions here, more conditions. For example, I just told that I can check the balance before send tokens. I'm not in doing this way just yet.
00:53:22.780 - 00:53:58.630, Speaker B: The performance keep when the interval is more than six second, I'm updating this increase the counter and mint topics is this. This is done. And you can see here that I have a parameter in checkupkeep and performance keep that I'm not using. It's only connected. Let's do this now. Here we are. I am in deploy endurance transactions.
00:53:58.630 - 00:55:01.530, Speaker B: Be careful. Be sure that you have the token out selected. Now you need to add the interval 60 and then let's edit this for you to help you deploy interval 60 and the other parameter, the token, enter your token address, let's do mine, copy the interval 60. Let's get my token address here. And then I have the token minter transact. And now I'm creating another approach of tokens to mint tokens. One token per minute.
00:55:01.530 - 00:55:37.846, Speaker B: And wait a minute, we will have the conference here. I ask you to put your name and token out address here. Let's see who is with me until now. Are you following me? Are you coding I hope? Yes. Hey, Luca is with me. Thank you Luca. I'm so happy.
00:55:37.846 - 00:56:38.168, Speaker B: This is my token auto. Are you added here? Do you have more people doing this with me? Let's see, let's see if you have any question oh, even in fact the contract, the compiler version is different only because I did this before. You can put all of them in the same version, but in the same way. This is interesting to you to know that I can use different versions in the content and even when one content is calling another. This is good. You don't have a problem with you and thank you for your answer. Shinkar yes, Shinkahar and Mick are doing with me.
00:56:38.168 - 00:57:05.920, Speaker B: Amazing. Congrats guys. And here we are. For now, the automation network doesn't know about my contract. In order to the network to the automation services checking my contract, I need to create a register to do this. So we are going now to automation.
00:57:06.340 - 00:57:08.930, Speaker A: Chain link.
00:57:10.820 - 00:57:30.120, Speaker B: And create a new upkeep. This is the service. First you need to connect your wallet and then create a new upkeep. Hey Evan, congrats.
00:57:30.540 - 00:57:31.864, Speaker A: Here we are.
00:57:32.062 - 00:58:36.900, Speaker B: I am on tomato. I read connected my wallet a few minutes before so it's connected here. Hashtag it's hashister. Amazing. Naman Hashister new upkeep and like I said before, because my only rule now is time, I could use a timey basis with any content that I deployed before, but I'm using a custom logic in order to show you that you can have different approaches and different rules in your content in your business. So it's not this, this is a custom logic. I need to add the contact address.
00:58:36.900 - 00:59:35.302, Speaker B: This is mine. It's not a problem that we can't verify because we didn't verify on netriskin yet. Let's go to next upkeep name. It can be the same token autoimmune and another pointing he here. Pay attention. Think that we didn't use the link token when we use it in the data feed before. Why the data feed? It's a kind of public good that everyone can cow and you are only paying the gas to use it.
00:59:35.302 - 01:01:10.450, Speaker B: But when you are using others chaining services, it's not a public good, it's your own business, your own application that needs to use the chain link service. So you need to pay to use it. How can you pay? You are paying on link. In this case, let's send five links to our content and every time that the perform upkeep will be colored the perform upkeep use gas. The gas is in it but we are paying on link and the automation network are converting these links to it to pay the gas to cow your performance keep. So let's start with five link and this is you don't need to add anything more. Register upkeep confirm and let's wait the confirmation register.
01:01:12.630 - 01:01:13.380, Speaker A: Keep.
01:01:18.010 - 01:01:54.880, Speaker B: It seems that it's done. And if I came here to the main page of automation chain link, I clicked it on the icon automation. I can see all my upkeeps like I used to do a minter, a flower. This is the token out. And now you can see that I have five links here. Now let's click on it. And this is my automation sales.
01:01:54.880 - 01:02:42.640, Speaker B: And for now it's only funded my upkeep. Probably in 1 minute I have it is done. I don't know if it is already said 1 minute, not yet. Oh, I have a problem. Remember that in the same way that we authorize the token Shop, we need to authorize the token minter. Add the token auto in the minter role token. Let's do this.
01:02:42.640 - 01:03:23.000, Speaker B: How can I do this? I will get the address of my token auto, I will come back to my token again, go to the grant role. Probably you already have this. Fillet the role. If you don't have it, you need to get it here the minted role. Copy the hash of the minted role, paste here in grant role the minted role and paste the account of your token auto transact you.
01:03:33.120 - 01:03:36.140, Speaker A: Yes, and confirm.
01:03:37.280 - 01:04:05.268, Speaker B: So for now my token automatic match content cannot mint tokens. And because of this I know that I read pass it 1 minute. But it's not possible. It's confirmed. Now let's see if it has the role. Yes it's true. So now the token out has the role to mint tokens.
01:04:05.268 - 01:05:24.928, Speaker B: This is interesting for you, because in the way that it was before, you can realize that I had an error because if I try to use the performance keep, you not work. But what Chainlink automation services do, first it do a simulation of the checkup keep. And if the simulation is true, you do a simulation of the performance keep. If the simulation is true, then you send the real transaction to the blockchain. So in the way that it was before, it wasn't send any transaction to the blockchain. Let's see now if something happened here, probably yes, yes you can see that the performance keep you was kalid once and probably you have you one more token here. Let's see assets and yes, remember that I had 109 before, now I have you 110.
01:05:24.928 - 01:07:03.854, Speaker B: Is this, um. I'm not sure if I understand your question life of Mick, because related to the functions input, what can I say is that if you would like to have parameters here, when we call it, when we have stages, we can have a parameter, but you need to have one job per parameter and yes, we select the mint function here, this excellent question. Here you can see that in the constructor I define that I'm sending tokens to the owner, to the message sender, the address who created this content. Okay. And here I create the mint function inside my token, out where I'm sending to the token who created the amount of token that I defined it here as well, one token. And in the performance keep I'm only calling the mint function. Now we have one more approach related to defi and chain link.
01:07:03.854 - 01:07:47.520, Speaker B: You can use automation with tokens and whatever. What would you like to do with automation or with tokens? Let's see if it was one more time. Yes, three probably now I have 112, I think. Let's see. Yes, 112. Amazing. Do you have any question related to automation? If not, you prepare our token raffle.
01:07:47.520 - 01:08:30.262, Speaker B: Let's see if I have the token referen here. Yes, I need to add one more here. And talking about versions, let's add this to the latest version. And here we are. I will copy and paste this for you. Then I will explain what we have.
01:08:30.316 - 01:08:39.804, Speaker A: Here's.
01:08:39.952 - 01:09:08.690, Speaker B: So here we are remix and in this concept I'm using the Vrf to generate random numbers and I'd like to mint a random amount of tokens. This is both concepts from VRF that I need to import. And remember I have a hole here. Wait, it didn't copy it.
01:09:10.420 - 01:09:14.050, Speaker A: Let's fix this first.
01:09:17.140 - 01:09:51.172, Speaker B: Look at that function is not returning nothing. This is the right. Be careful with this. The mint function in our token is not returning nothing. I have another OD token that hidden, but not this. And I need to do this in mine as well. So it's the same token interface.
01:09:51.172 - 01:10:44.050, Speaker B: I have the token refer that is using the VrF consumer base v two. And here I define the coordinator for sepolia. You can get all of this information in our docs. And also I present the automation in our docs. Let's see, both. Yes, here you can see that the automation is deployed in these networks and this can be useful for you. Let's add this there as well.
01:10:46.020 - 01:10:57.104, Speaker A: For the. And also we are going to VR.
01:10:57.152 - 01:12:02.196, Speaker B: Ref not for this, using VRF. And it's important to you that the address that I have here, all of this I got from the Chainlink documentation. The coordinator is the Chainlink complex used to get the numbers in the chain link services. The key hash depends of the coordinator, the callback gas limit. This is a callback function that you ask the number you need to wait a bit and you receive this number in a callback function. This is the gas limit. To execute your callback functions we need to wait some confirmations.
01:12:02.196 - 01:12:32.130, Speaker B: In sepolia the minimum is three. You can wait more blocks but not less. And I'm requesting only one number. This is not words, it's numbers. This is my subscription Id. I create a subscription on VRF services and then I use this here. When I get a number I can get this directly with a lot of numbers.
01:12:32.130 - 01:13:06.728, Speaker B: I can have a list if I get more numbers. And also each time that I make getting a number you have a request id. This is me, the owner. This is the result that you get. The maximum of tokens that I would like to mint is between one and ten. So this is the maximum. This is the amount of token that you get the latest time and this is my token.
01:13:06.728 - 01:14:05.010, Speaker B: So when I deploy this I need to pass the address of my token and the subscription id that you create. I didn't create yet to get tokens here I'm asking to use the VRF services from Chainlink and you need to wait the blocks and a few minutes later you have the fulfill random words done with the result over there. Here is interesting because the random words it's a huge number, a crazy number. And to get a number between one and ten, first I'm dividing by the maximum, that is ten. It means that I'm getting the rest the model. So it means that I have a number between zero and 90. And then I we add the one to have a number between one and ten.
01:14:05.010 - 01:14:38.680, Speaker B: And remember that our token has two decimal places. So I need to multiply by 100 and mint the token. Before deploy this we need to go to the VRF and create our service scription creates a description.
01:14:42.940 - 01:14:45.212, Speaker A: I already have a lot.
01:14:45.266 - 01:15:41.260, Speaker B: Probably you're not created now. Okay, let's see everyone here. So imagine that. Are you creative? Create subscription here we are. I do not need to add any of this. Remember that you need to connect your wallet before and this is my address. I am the admin create subscription first waving the confirmation in a minute.
01:15:41.260 - 01:16:11.670, Speaker B: Let's see if my transaction is confirmed. It's pending yet. We need to wait a bit more after confirm it. You can see that you have your own subscription in the list. Oh, it's long now. Like here. Remember that I show you a list.
01:16:11.670 - 01:17:08.410, Speaker B: Oh, it seems that's pyramid. And yes, you can see I clicked on VRF in the logo here at the top corner, left top corner. Then if I scroll down I can see my subscriptions and I can see that I have this subscription here. This is the latest I you click on it. This is my subscription. Next step I need to fund subscription with five links. The same here.
01:17:08.410 - 01:18:14.174, Speaker B: Actions fund the subscription five link confirm after this my subscription is done. I need to get the id of my subscription and use it to deploy my contract. I can do this part. So copy the address. No the id of your subscription go back to Linux and should your sub description id. This is mine, not yours. You cannot use mine.
01:18:14.174 - 01:18:43.610, Speaker B: Sorry. So let's go back to the polyndrant transactions and first. No for this. And here we are. Be careful, it's not the token interface, it's the token raffle. Now and address your subscription. Add the id of your subscription and add the address token.
01:18:43.610 - 01:18:59.950, Speaker B: Your token subscription id transact.
01:19:02.130 - 01:19:02.880, Speaker A: You.
01:19:13.290 - 01:20:21.360, Speaker B: Why my metamask is so slow today? Okay, now I deployed my content using the id of Mysub description. But mys description doesn't know that idgs. So the next step is go to VRF again and you need to add a consumer and this will be your token refer address. Let's get it before that or maybe later. Please put here your name and your token refer address. Let's see if we have you 1 hour and think five minutes of class. Let's see if you are with me.
01:20:21.360 - 01:20:55.532, Speaker B: Are you following me? Do you have any doubts? I'm here to help you. Token heffle copy hey Luca, amazing. Congrats for you guys. I'm so happy if you're doing all the contracts with me. You are amazing. So I have the address of my contact. I will come back to the VRF subscription.
01:20:55.532 - 01:21:18.760, Speaker B: This is my subscription, remember? And I will add consumer consumer address. Here we are. And consumer don't have nothing defaulted.
01:21:23.020 - 01:21:59.354, Speaker A: Let's see if I get a faucet to help you. I'm asking for a faucet for you.
01:21:59.472 - 01:22:42.850, Speaker B: I'm looking for. Oh, this is a faucet that works for me. Faucets part here. This is a different faucet that you will add your address here and like mine it. You know that we are not mining but it works well. So even try to get some. It's here.
01:22:42.850 - 01:23:22.494, Speaker B: Okay, let's see if it can help you. Hey, congrats Eti and Naman and all of you. I'm so happy if you're doing this with me. So let's come back to our subscription and see what happened. Oh girly. Even it would be so hard to do this in Girly on girly because Girly was asking a lot of money, a lot of tokens try to do on Sepolia. You'll be better now.
01:23:22.494 - 01:24:33.100, Speaker B: Okay, unfortunately we are not using Gurley anymore. I really like Girlypot. It's the evolution of the testnets. Let's see, I will refresh this to see if my concept is here. Yes, I have you one consumer over there and now I can ask some talkings. Here we are. I know that my subscription is good, so I'm going to come back to remix scroll down in the deployed congress part until I found the token raffle.
01:24:33.100 - 01:25:51.100, Speaker B: Expand it and you get tokens. I run the functions, get tokens and this function, you ask the chain link vrf networks a random number. Then after this you be back for my contact. It's a callback function and you mint tokens for me. Let's see, get tokens, confirm it. So if I come back here to VRF, I know that you get. I need to go to the token, add the token raffle address in the minter row.
01:25:51.100 - 01:26:22.624, Speaker B: I didn't this, so I know that I got an error. You'll be painting, but this will fail. Okay, let's fix this. Get the address of token raffle, come back to the token grant role. The role. You know that this is the hash of the minted role. Grant the role to the token raffle.
01:26:22.624 - 01:26:44.604, Speaker B: Concrete is this transaction. Wait, my metamask. And after this we work.
01:26:44.662 - 01:26:47.380, Speaker A: Let's see if it fail.
01:26:47.960 - 01:28:29.374, Speaker B: It's supposed to, but I don't know if it's only waiting. You can see that I don't have enough in here, but I have a failed request and because of this my token refer was not in the minted role probably so I use esc again, ask another close the token, call the functions get tokens again on tokenrefo tau get tokens. And now I know that I'm waiting. If I came here, I can see the request id. We need to wait a bit. If I came here to VRF, you can see that this is painting. Now I ask the number I'm waiting now for the VRF network generated this number for my refer.
01:28:29.374 - 01:28:49.510, Speaker B: My token refer. And let's see how many tokens I have before, because you'll know that I'm minting one token per minute. Yes, now I have 133 tokens. Oh, I'm so rich.
01:29:03.890 - 01:29:04.640, Speaker A: It.
01:29:06.450 - 01:29:36.410, Speaker B: Let's see if fail or not. Here we are. I have the fulfillments done. So I have your number. Now if I come back here, I can see how many amount of tokens I receive seven tokens. Probably now it's more than 140 because I didn't stop the automation. 134 okay.
01:29:36.410 - 01:30:07.024, Speaker B: It was not updated. Probably yes. Probably not. I will stop the automation. Pause automation to only check you. And please check if you use latest version of my content because I need.
01:30:07.222 - 01:30:10.050, Speaker A: To update a part.
01:30:15.000 - 01:30:42.010, Speaker B: The line 80 how is the definition of the mint functions? It must be only external. It's not returning nothing. Probably you use the first version that I added over there. Sorry. If you go here you can see that it's important to be only external. Okay.
01:30:44.460 - 01:30:45.210, Speaker A: It.
01:30:51.860 - 01:31:17.688, Speaker B: Hey. Hello. Are you trying to do this again? I was checking the numbers. The maximum is ten. The render result. Remember that I told you the render result is seven. Okay.
01:31:17.688 - 01:32:22.950, Speaker B: Remember that I told you that the number itself is so big if I try to check the render words. This is the number and this is interesting to you. This is the number and I need converting this in one number from one to ten. I good shinkahad. This is important. You must first add the grant role. But also you need to add the consumer.
01:32:22.950 - 01:33:01.110, Speaker B: Nice catch. Remember you deploy. Then you add the consumer. Then you add the token referees in the minted rope. Now I have your second list over there. Here I have you one done another that we are waiting. We have even that failed.
01:33:01.110 - 01:33:45.014, Speaker B: We have the event. We need to wait a bit more. Maybe see is different. Let's check my balance. 135 supposed to be more. Didn't I use the right token? Let me see what's my token token? Zero B 90 b nine. Yes.
01:33:45.014 - 01:33:56.772, Speaker B: My token is righteous. Let's see if it's confirmed.
01:33:56.836 - 01:34:00.330, Speaker A: Now you go directly here.
01:34:03.100 - 01:34:29.660, Speaker B: Now I have a new handle. Result is only one. And okay. Because of this I have you one more token here. Yes. 135 and you ask again because it's the same of the order. You cannot see.
01:34:34.590 - 01:34:35.194, Speaker A: It.
01:34:35.312 - 01:35:11.890, Speaker B: Do you have a dupt? We are waiting the last attempt here. But what we did today. First of all we create a token. Then we create this token. Then we create a token shop where we are using chain link data fit. And the token has a price. I'm sending it to my content and receive tokens.
01:35:11.890 - 01:36:03.290, Speaker B: Mink tokens. Then we create the token automation. The idea is to mint one token per minute for example. And this token is going to your own wallet using the Chainlink automation safety. And the last step was creating a token raffle where you can raffle amount of tokens and mint tokens different amount of tokens using the raffle. And I did this for the first time because I to have a different number and if you have any question, please add in the chat. I'm waiting a bit to see your questions.
01:36:03.290 - 01:36:39.490, Speaker B: Thank you Joseph for your comment and see result now was ten. So it's supposed to receive ten tokens. Let's see if this is right or I need to check my computer. Yes, 145. I have ten more tokens. Oh, it's working. Nice.
01:36:39.490 - 01:37:18.384, Speaker B: So everyone, congrats to everyone who was with me until now. Even if you not did, you can do this later. You know that this is recorded and it's on YouTube. You can see anytime. In the same way, special congrats for all the people who did the smart contract with me here live. We know that to see my presentation and to do the same in your computer, it's a hard task. It's not so easy.
01:37:18.384 - 01:37:48.730, Speaker B: And you did it so amazing. Well done for you. And even if you not did now, you can do it later. Like I said before. And my goal was talk a bit about defi with you, but how you can use chainlink services on Defi. I gave some ideas of you, some inspiration. Feel free to use the tokens in different ways.
01:37:48.730 - 01:38:03.950, Speaker B: So it's just. Thank you so much. Good luck in your projects in the hackathon and see you around. Bye.
