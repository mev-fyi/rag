00:00:00.440 - 00:00:32.604, Speaker A: A new version of Rust was recently released, version 166.0. To update to this new version, simply run rustup update stable. In this video, well go over all the new updates you need to know about. Speaking of things you should know about if you haven't already, make sure to get your free rust cheat sheet by heading over to letsgetrusty.com cheatsheet. The first feature in this release is explicit discriminates on enums with fields. Discriminates are integers that uniquely identify enum variance.
00:00:32.604 - 00:01:17.412, Speaker A: By default, discriminates are assigned according to the variance order in source code. However, explicit discriminates are useful when passing values across language boundaries where the representation of the enum needs to match. In both languages. For example, we can force this enum to be represented as an unsigned eight bit integer and explicitly set the discriminant of variant c to in the previous release, we could only set explicit discriminates if none of the enum variants had fields, but in this release, explicit discriminates can be set on variants even if they have fields. Another feature in this release is the black box function. This function accepts a value and immediately returns it without doing anything else. You might think it's useless.
00:01:17.412 - 00:02:07.120, Speaker A: However, the compiler treats blackbox as a function that can do anything with its input and return any value, meaning compiler optimizations will be disabled. This is very useful for benchmarking or examining the machine code produced by a compiler. For example, let's say we want to benchmark the function push cap, which executes the push function on a vector four times in a loop. If we look at the optimizeassembly output, we'll see that the entire push cap function has been optimized away. To get around this, we can use the black box function as a hint to the compiler that the vector will actually be used for something after each iteration. Iteration of the for loop now we can see the unrolled for loop by looking at the optimized assembly output. You can see different results by experimenting with the placement of black box or using it in multiple places.
00:02:07.120 - 00:02:44.232, Speaker A: In rust version 162.0, the cargo add command line utility was introduced, which allowed you to add cargo dependencies to your rust project using the command line. In this release, its counterpart cargo remove was added, so you can now easily manage your dependencies from the command line. Half open range patterns are now supported in match expressions. This allows you to match from the beginning of the range to some value. Those are all the important features in this release. Let me know down in the comment section below which feature you found most valuable, and if you want to read the official blog post, a link will be provided in the description.
00:02:44.232 - 00:02:55.860, Speaker A: Before you go, if you haven't already, make sure to get your free rust cheat sheet by heading over to letsgetrusty.com dot forward slash cheat sheet. With that said, I'll see you in the next one.
