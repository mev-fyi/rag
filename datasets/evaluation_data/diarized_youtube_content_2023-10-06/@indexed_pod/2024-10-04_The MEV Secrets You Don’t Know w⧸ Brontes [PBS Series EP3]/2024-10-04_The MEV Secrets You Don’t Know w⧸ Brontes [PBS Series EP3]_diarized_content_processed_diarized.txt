00:00:00.400 - 00:00:28.125, Speaker A: Hello, everyone. Welcome to the Index podcast where the three of us come together every couple of weeks to discuss child crimes happenings in the crypto industry and in general data. Today we are joined by two guests. So that makes us Denning, researchy corgi at flashbots. Hello, Hildoby, resident data Dragonfly. Hello, Ludwig, chief karting racer at Sorella Labs.
00:00:28.865 - 00:00:30.645, Speaker B: Hi, guys, thanks for having me.
00:00:31.265 - 00:00:36.325, Speaker A: Joseph, General Meow and full time data daddy at Sorella Labs.
00:00:37.105 - 00:00:39.045, Speaker C: Hey, guys, thanks for having us.
00:00:40.185 - 00:01:22.135, Speaker A: And I am Boxer and I am the community powerhouse at Dune. Before we get into the meat of this episode, nothing we say here should be relied upon as legal, financial, investment, tax, or even life advice. We are acting independently of our respective professional roles here. And with that, yeah, very happy to have the data daddy and the chief karting racer from Sohla Labs on the podcast to learn even more about MEV data. So this is a continuation of our MEV series. And first of all, Ludwig, Joseph, maybe if you could quickly describe your respective paths to kind of founding solar Labs, that would be great. And maybe Ludwig go first.
00:01:23.115 - 00:02:02.657, Speaker B: Yeah. So I started off in my first year of university, UChicago, got really into defi and started providing liquidity across, like, many very questionable chains. So I was in Harmony Phantom. I was basically moving like LP funds everywhere, and I was really frustrated with the solutions that existed to make that job easier. So I, like, started learning about MEV to try and automate the entire thing. And that really just got me into the whole rabbit hole. But I came to realize, like, you can't really do it profitably because LPing kind of sucks right now.
00:02:02.657 - 00:02:05.245, Speaker B: But that's a topic for a different day, probably.
00:02:07.345 - 00:02:42.335, Speaker C: Yeah, similar with me, I was at UChicago, this is my second year, and, you know, Ludwig and I had been friends through another vein at the time, not through crypto. And he was, he was talking to me about it, telling me, you know, what he was working on, his whole LPing, you know, I just found it really interesting. I thought that the space in general, or at least the way he portrayed it, you know, was at the intersection of a lot of interest at my time. Math, computer science, economics. So, yeah, around the, around that time I joined him and, you know, as part of the Sorella founding team.
00:02:42.845 - 00:03:00.385, Speaker A: Okay, cool. So you guys basically met in university or like in some other avenue outside of university, and then you both went down the defi rabbit hole and then finally you were like, okay, let's providing liquidity, all of this stuff, let's just build mev kind of related tools. Is that kind of the story?
00:03:01.325 - 00:03:56.265, Speaker B: Yeah, kind of. So first we kind of tried to build like a system that was very similar to a lot of the like MEV style infrastructure to like track the mempool, like understand what flow was coming in and aim to optimize the like liquidity allocation across pools. So trying to do jit, JIT liquidity provision and generally just have an optimizer that could allocate to different pools when yield, when yield was like quite high. But we realized that was just a terrible idea because if you're going to build out all of that infra, there are a lot more things that you can do that are far more profitable and far easier. But most importantly that there's a reason why the most sophisticated players aren't providing liquidity right now. And that is because of some of the MEV that we're going to talk about. It just makes it completely unprofitable.
00:03:57.765 - 00:04:11.465, Speaker A: Okay, so but you were kind of going from I have this one specialized tool of like that I'm going to build for my own use cases to. Okay, like there's actually a broader story here and like if we zoom out there's, there's like more interesting things to do.
00:04:12.125 - 00:04:19.185, Speaker B: Yeah, yeah, it was like very, yeah, very targeted in the beginning and then kind of coming to learn like the space throughout.
00:04:20.125 - 00:04:25.797, Speaker A: Yeah, I see. So that brings us to what does Relapse actually do? What are you guys cooking?
00:04:25.981 - 00:05:30.887, Speaker C: Yeah, I mean, so our main, our main focus, you know, is Angstrom and it has been for, for some time now. And you know, before we went or were attempting to solve the problem of lvr, which is brought on by, you know, sextech's arbitrage from centralized to decentralized venues, which is one of the types of MEV we will be talking about shortly. But before we did this, you know, we kind of sought out to quantify the issue how much, you know, LPs were losing from centralized to decentralized arbitrage. And so this was the inception of Brontes, which as Ludwig said then went on to become some sort of a generalized MEV data project tool. But yeah, our main focus is definitely trying to make LPing profitable and trade execution better. Right. So I'd say that's, that's the central ethos of what we're trying to build.
00:05:30.911 - 00:06:51.681, Speaker B: Out right now and to like to expand on that and give like a easy to understand explanation of what LVR is like a loss. It's an acronym for loss versus rebalancing, basically. The idea is to say, okay, if you were to have a rebalancing portfolio, what would the performance be compared to? Just liquidity providing in the pool and then comparing those, you can quantify the loss versus the rebalancing portfolio because an AMM should mimic that rebalancing portfolio cluster fees in the hope. But because of the lack of information and the complete asymmetry of information that occurs where liquidity providers don't know like how prices have evolved off chain on the more liquid venues where price discovery actually occurs. They're selling these assets at the wrong prices and they are filling in bulk toxic flow. So you can imagine them just every 12 blocks or so selling and offering their liquidity at a significant discount. And that's like very, very unlikely to be profitable except if your assets jump up in value exponentially.
00:06:51.681 - 00:07:51.697, Speaker B: But then again you'd be better off just holding them. So yeah, our main focus today is to solve sex dex arbitrage and make on chain market sustainable and also prevent sandwiching to ensure that users get the best experience. But overall I'd say our broader mission is to tackle the MEV problem at the application layer and take back control from the proposer, from the builders and back to the application. Because I think that is the largest problem in crypto today is that as apps we care about our users, we want them to get the best execution because we want them to be returning customers. But as a proposer or builder, your incentive is to make as much revenue as possible. And that goes. That happens by extracting revenue by creating inefficiencies or just executing various forms of arbitrage.
00:07:51.697 - 00:07:58.845, Speaker B: So if we can bring back control on how these transactions are actually executed, we can ensure like optimal outcomes or close to.
00:08:01.265 - 00:08:20.615, Speaker D: So does that sounds like basically. So ensuring is a, as I understand, a V4 hook design AMM and this AMM supposedly will be able to capture MEV or somehow protect the LP and redistribute back. Or is that the right way to think about it?
00:08:20.955 - 00:09:12.357, Speaker B: Yeah, yeah, it's. I think that the biggest, like the easiest way to understand it is that Angstrom is not so much like a novel AMM design insofar as like the underlying a curve that's being used or how the liquidity is disposed in smart contract. But it's really about what happens before things get executed, before the swap is actually accepted by the pool. And the idea is to say, okay, we've got these builders, we've got these proposers, they're making a lot of money because these Arbitrageurs are competing against each other to get the right to arbitrage. So they're already paying someone to be able to execute this arbitrage. The problem is that they're paying the builder and they're paying the proposer, but if they just paid the lp, the bulk of that value would go back to them. So what you do there is you create an auction system that isn't bypassable.
00:09:12.357 - 00:09:51.595, Speaker B: And so these bidders have to go through this auction to be able to execute their arbitrage swaps. At the same time, we do frequent batch auction for regular users. So after the arbitrage gets executed, we have this off chain order book through this off chain network of nodes that we form consensus on and so we can match users against each other and also pull AMM liquidity and market maker liquidity to form all of that and combine it into one batch where everyone settles at the same price and that you get order agnostic execution which prevents the sandwiching problem.
00:09:52.145 - 00:10:22.775, Speaker D: Okay, a little bit quick clarification on the things you said, like what is frequent batch auction? Because I understand like for example, cow swap is doing a batch auction, as in like it will wait for multiple orders to put them together and submit on chain if they make sense to have, you know, when they have a higher new price improvement. Is there any difference between like frequent batch auction versus batch auction? Or how is it, I think how is the different from cow swap?
00:10:23.715 - 00:11:23.015, Speaker B: It's different in the sense that cow swap doesn't control the underlying liquidity. Source and solvers are competing against each other to clear an entire batch. Whereas for us the network has a deterministic rule on how it has to clear the batch. So it's not about finding the optimal route and pulling liquidity on chain, but rather it's about taking all of these orders, matching them against each other, identifying the intersection between the demand and the supply curve. So the bid and the asks that forms your uniform clearing price and then combining all of those, compressing them down and then settling them on chain every block. It's different in the sense that you're not relying on different solvers to compete, but rather the network itself has rules to take all of these orders together and then process them deterministically.
00:11:23.595 - 00:11:31.775, Speaker D: Okay, I see. Does that sounds like your batch will include not only the swap trade orders, but also the LP orders?
00:11:33.115 - 00:12:01.565, Speaker B: Yeah, you can have market maker orders, you can have regular user orders. They aren't really differentiated because they're just like represented as limit orders. But that's combined with the arbitrage swap as well, because you can just compress them down into a single actual swap and then you can just. You're basically just doing transfers at that point. So in terms of gas cost, it saves you a lot, but it also just enables you to pull a lot of liquidity from different sources and not just the amm.
00:12:02.065 - 00:12:36.101, Speaker D: Okay. I mean, so I think like we know that sort of labs built is building not only on Strom, but also Brun Test. And Brun Test was released like I think a few weeks ago, a month ago. And we're very curious about this data tooling because we're all like data wizards or like data nerds here. And so, yeah, I mean, today I think we would want to know like how to say, have a deeper dive and look into the Brunt test data and how you guys started building it. Like, what is the tech stack? And then, yeah, like getting some insights from you guys. And so I'll.
00:12:36.101 - 00:12:43.945, Speaker D: I guess I'll start from here because I prepared a bag of questions. So. So why did you guys start building Brontes and what it is about?
00:12:45.285 - 00:13:15.237, Speaker C: Yeah, so Brontes, you know, originally came into inception as the idea of, you know, quantifying this loss versus rebalancing as Olympic set. You know, it had been theorized, but it hadn't been like proven. There had never been a number put to the. To the term yet. So this was the original goal. And, you know, at the time we were still learning this was. We started building at probably about a year and a few months ago.
00:13:15.237 - 00:13:36.107, Speaker C: So, you know, we were still exploring different types of MEV a bit more deeply. And in doing this right, we were like, why not just turn this into a generalized, you know, MEV detection mechanism? Right. So that's what we did. Yeah, that was the progression.
00:13:36.251 - 00:14:51.417, Speaker B: Yeah, I was going to say, to expand on what Joe just said, you can't really just identify one form of mev. You're forced to aim to classify all of them because we have an entire deduplication pipeline after, because otherwise it's just all overlapping. An atomic ARB kind of looks like a sex dex. A sandwich will look like a background if it's seen in isolation. A JIT that isn't considered a JIT sandwich will be evaluated as a jit, which is also in some sense a sex that's like. It all gets super messy where if you don't run all of the inspectors at once, you get misclassifications because the pattern matching that you're doing will match on specific subcomponents so you kind of have to create this hierarchy mapping of meb, which is super annoying to do, but was a fun challenge. But yeah, overall tech stack wise, it's built on top of ref, it uses alloy and it has a local MDBX database and we have a whole data warehouse on the side and so you can run it by just downloading the the snapshots.
00:14:51.417 - 00:14:59.005, Speaker B: And if you have a RET node you can kind of customize and create your new inspectors. And we try to make it as modular as possible there.
00:14:59.425 - 00:15:07.885, Speaker D: Right. So it's actually a open source ripple right now and anyone can spin up a RET node and run it. And it's only Ethereum right now.
00:15:08.265 - 00:15:48.515, Speaker B: Yeah, it's only Ethereum. It could be applied to any other EVM chain pretty easily. The only thing you'd have to change is the address list because we basically created these proc macros where you can just pass in an address and a function signature and easily decode any data at the trace level. And that doesn't manage multiple factory addresses per chain. So if someone was to create a PR for that, that'd be really cool. And then you could easily go on Optimism or any other EVM L2.
00:15:49.975 - 00:15:59.839, Speaker D: Yeah, I think that will be very interesting because right now we also have zero idea of how much L2MEV is happening. And if there's a tool that can be applicable, that'd be cool.
00:15:59.927 - 00:16:15.469, Speaker C: One of the constraints obviously being that faster block times Brontes is quite fast, but there are some limits. You know, when you start to get into the like low, low second block times.
00:16:15.557 - 00:16:16.185, Speaker B: Right.
00:16:17.125 - 00:16:20.181, Speaker C: You might run into issues with being able to keep open chain.
00:16:20.213 - 00:16:20.825, Speaker B: Tip.
00:16:21.925 - 00:16:51.975, Speaker C: Another thing is tokens. Right. I know base there's a ton of token deployments unlike that one. And this might, you know, increase the graph complexity when actually calculating no trading prices, you know that tip. But for the most part I think it's pretty modular enough to be able to adapt it to run on any EVM compatible chain with maybe a couple exceptions.
00:16:52.595 - 00:17:13.955, Speaker D: If you don't mind, Joseph, we want to walk us through the whole dashboards and explorer so we can have an idea of what exactly the information and insights Brontus is presenting to everyone. That would be great. And I mean I expect Boxer and Dobby will have a lot of questions. Yeah. When we are diving into the numbers.
00:17:14.295 - 00:18:10.285, Speaker A: While you pull that up, I think kind of stepping back a bit, it's like the motivation for building this data pipeline is probably to prove the like why do you even need your angstrom product. Right. It's like without mev, it's like, okay, like what are we actually helping to prevent? And it's like the best. Yeah, like we see companies raising on Dune all the time. More like, hey, this is a problem we can solve. And like you show that data and this is kind of the, like, this is one variant of this where you're like, hey, like we built this tool to like look at this problem and now we're kind of like hoping to solve this exact problem with our, with our product that we're building. So I think that's very interesting and it's probably going to be really interesting once the product is actually live and we can, we can hopefully see the impact that, that your product is going to have on the landscape.
00:18:11.665 - 00:18:26.025, Speaker B: Yeah, that was one of the hopes is to like see the decline after ideally. Yeah. It was also in part, I must admit, like just really cool to build. But yeah, that, that was probably like most of the justification was that.
00:18:26.145 - 00:18:46.497, Speaker D: Yeah, I mean I think like one thing to admit is that like data is the best marketing like these days, like if you see all the Dex are fighting on Twitter be like, no, we have better price. The other ones are like, no, we have better price. But like just show me the receipts from the chain will be the best. And so people would understand, okay, you have better price. So yeah, I think it makes a lot of sense. Yeah.
00:18:46.601 - 00:18:52.765, Speaker C: Yeah. This is our dashboard view. One moment.
00:18:54.345 - 00:18:55.193, Speaker D: Sorry.
00:18:55.369 - 00:19:38.581, Speaker C: This is our dashboard view. You know, at the. We're showing the tip all the data that's currently happening 15 blocks behind because you know, Brontes needs time to run. So yeah, I guess I'll start with the Mempool highlights. Basically we shut out chain band first of all for providing the mempool data. So what we have here is we've defined all the public transactions that occur in each block and assign them a ranking based off some, you know, some heuristic, albeit like a victim transaction, like this current one being at the top of the list. Right.
00:19:38.581 - 00:20:12.843, Speaker C: And then we will show in real time or 1000x I believe, the propagation of this transaction from different nodes in the, in the network. Right. So you can kind of see where your transaction is going. You can get a brief little info info in this box in the bottom left. Now over on the right for the value over time. This is showing the bids and values as the slot progresses. Right.
00:20:12.843 - 00:20:17.915, Speaker C: And I think this is really cool because it's quite indicative of timing games.
00:20:17.955 - 00:20:18.107, Speaker B: Right.
00:20:18.131 - 00:21:02.991, Speaker C: You're able to see some of these bids being Submitted post the actual slot time right along with their values highlighted below. Down here we have the latest block just like you see it in the block Explorer. I guess this block is empty. Just wait for the next one. Go down to here for now this is showing the MEV over time and different statistics that go along with this. Right. You can, we have profit, revenue, average profit margin, bundle count, top searchers, most ARB pairs, pools and dexes.
00:21:02.991 - 00:21:35.931, Speaker C: Right. This is also a cool feature because you can, you can kind of, you know select a combination and the statistics will change with that. Yeah. Sorted by profit or revenue. Both is quite interesting as a view. And then for the explorer, yeah we have searcher and builder statistics including you know, funds associated with some of the top searchers. And this can be viewed in different time ranges up to 30 days.
00:21:35.931 - 00:22:09.703, Speaker C: Right. And on the right we have MEV type specific statistics for these time ranges. Right. Kind of similar to the MBV over time, just constrained by time. And then down here we have, you know, the latest blocks and bundles that have, that have happened on chain Top fund is we have a list of addresses that we have associated with different funds. So the top and the, and the top searcher is we just, it's just an address that we don't have associated with any specific fund.
00:22:09.819 - 00:22:56.525, Speaker D: Okay, I see. And just to understand the definition of when you say like revenue and profits, the MEV revenue, is it actually like say the proposer revenue or is it like the total extracted revenue from the searching transactions where specifically. So for example here like on the left there is total MEV profits which so like I'm trying to understand like say because there is a process of like say there is a sandwich and there is total of say $1,000,000 extracted and out of that there might be like 500,000 sent to proposer builder, there might be 500, 500,000 kept by the searcher. So how are you calling all those terms?
00:22:56.865 - 00:23:10.975, Speaker B: Revenues before cost, before transaction inclusion costs. So before the payment to the builder before consideration of just transaction gas cost and priority fee or bid to gain inclusion.
00:23:11.515 - 00:23:15.935, Speaker D: Right, so it's like the total extracted profits from the searcher transactions.
00:23:16.355 - 00:23:25.475, Speaker B: Yeah, yeah. And maybe we can go into the latest blocks and the bundles and show the analysis path there. I think that probably be quite interesting. Yeah.
00:23:25.555 - 00:24:13.325, Speaker C: So this is the, I guess I'll start at the table. This is the block view that we have. We highlight some basic statistics on revenues and fees paid from the builder and then we also highlight the different bundles that happened, different bundles that happened in the different Bundles that happened in the block. Right. So we have a sex deck sandwich and atomic art in this one. And then if you go over to analysis, right, you can, you can see the slot option again similar to how you would see on the dashboard. And then you'd again see some more stats on the actual specific types of arbitrage that occurred in the pool.
00:24:15.505 - 00:25:14.595, Speaker B: And the block. So the block is like the space that each color occupies represents the bundles relative profit compared to the other bundles in that block. And if you could switch to revenue, we can also show the relative revenue as opposed to the bundles like bundles and all other transactions. So here you can see basically viewing based on the thickness, how much each of these bundles contribute to the general value of the block in terms of base gas priority fee or builder tip payment. Yeah. Other like cool thing that we can know here is in terms of builder PNL card. So you have like the baseline builder P and L and one line probably you're seeing, and you might ask yourself what does that actually mean? Is the builder MEV profit that's accounting for the MEV profit of searchers that are associated with that builder address.
00:25:14.595 - 00:26:07.415, Speaker B: And this is like really important to have because without it you cannot see real profit numbers because they can obfuscate their PNL by just overpaying to the builder. And so some builders are known to do this where they will just send these huge tips, basically 100% if not more of their revenue to their builder because it's the same entity at the end of the day. And you can only see the profitability within the builder's underlying P and L as opposed to each individual searcher. And so that makes it a bit more annoying to track it. And then if you could click on the gossip tab. Yeah, there we go. And then with the gossip tab you can see the relays and like the relative timestamps of when the relays received it.
00:26:07.415 - 00:26:18.875, Speaker B: And you can also see the P2P timestamp of the block. So when the block was first seen by other nodes after the relay release date.
00:26:19.895 - 00:26:30.155, Speaker D: I see, yeah. I'm curious, who is the winner here in terms of like the first one to see the transactions is it blocks route you guys see most often.
00:26:30.895 - 00:26:35.703, Speaker C: I'm sorry, just a quote. The first to see the blocking as.
00:26:35.719 - 00:26:45.081, Speaker D: In the relay, the first one like for example here it's representing who is the relay seeing the block first. Right.
00:26:45.153 - 00:26:48.201, Speaker B: It's ultrasound and blocks route.
00:26:48.233 - 00:26:49.525, Speaker C: Yeah. Yes.
00:26:51.785 - 00:27:15.589, Speaker B: Flashbumps is kind of lacking, I'm not gonna lie. Like we see your deltas and it's pretty gnarly. It's pretty bad. I think it's because the. They're like. It kind of makes sense now with like the. So you have the optimistic relaying, which was like the talk of the town for a while, but now it's mostly bid adjustments and that we track that as well.
00:27:15.589 - 00:27:52.475, Speaker B: Oh my God, what a pain to track that was. They will basically like relays to explain. Relays will basically look at how much the second best bid is and will modify the block to penny the second best bid and will split the like, basically the value that they've captured between the builder and the relay. Ultrasound was the first to implement this. Bloxroute implements this as well. But they want a lot of money for it, I believe. So it's like unclear who is doing that there.
00:27:52.475 - 00:28:04.621, Speaker B: And we can't track that because the addresses aren't public. But for Ultrasound we have all the addresses and so you can take that into account and a good amount of blocks from the top builders are, are like benefiting from this.
00:28:04.813 - 00:28:37.001, Speaker C: It's also just in general pain to implement because the, the winning, the winning block, the bid for the winning block, the block hash isn't the same as the block hash that's actually submitted on chain because the relay will add an extra transaction at the end of the block to. To be post on chain. So it'll have a different block hash. Right. So it's not as simple as just looking at the block hash of the bid and you know, the block hash of the actual block that was posted. So yeah, just a bit tricky to navigate.
00:28:37.073 - 00:28:41.929, Speaker E: How do you manage to just remove that, that last transaction and recompute the hash or.
00:28:42.097 - 00:28:52.765, Speaker C: Well, thankfully, Ultrasound does have an endpoint for matching, you know, the payload that was delivered and the bid that was asked for.
00:28:53.065 - 00:30:10.057, Speaker D: Yeah, yeah. So I saw Boxer had a question face so like, if I would iterate on what I understand on like bit adjustment, as Ludwig already explained. So basically like there are these performance relays, like Ultrasound is the top example and they are better at latency and they receive the blocks faster. And so they were thinking about what if we hold on the block value? I mean, supposedly if you have better latency, you would receive a block with a higher value and more pending transaction in the mempool compared to other block being delivered by relay, if that makes sense. Because the transaction in the mempool comes in every millisecond and if you get the later block faster at the same time as the other relay with the previous collection of Mempool transaction, your value is likely higher than others. That's your edge brought out by your latency performance advantage. And so then at this point ultrasound would be like I will check if the second highest bid lower than me, how much value is that? And I'll basically only submit as same value as that bid to the proposer.
00:30:10.057 - 00:30:56.457, Speaker D: Theoretically I just want add one way the proposer, if they're rational, they will accept my block instead of the others, if that makes sense. So basically they don't need to bid their full value, they only need to bid a second price auction. So like basically whoever the second winner is bidding, they will pay for that plus one way. And so the delta here we call it surplus, they will split it with the builder who submitted the bid. And so but then here is a like implementation details. Right, like so when they receive a block from the builder they will have to in the end of the block the payouts to the proposer is a fixed amount. And when the ultrasound needs to adjust the bid they will have to drop that transaction and create a new one.
00:30:56.457 - 00:31:50.637, Speaker D: And the way they create a new one is by adding a transaction sending from the builder's collateral address with them. So like basically for example when I have to like I'm a builder and I need to send send my block to ultrasound with like the optimistic bidding, I will have to spend like, I don't know what's the current threshold but say like I need to deposit one eth to make sure I don't behave badly. And so if I behave badly they will slash me just like optimistic design. And so that's my collateral and they will have the access to my collateral address balance. And so ultrasound at this point they can basically remove your last end of block payment transaction and change to a new one that's sending some funds from your collateral address they have access to. And then in this case the block is new because the end of block transaction is new. So then the block hash is different.
00:31:50.637 - 00:32:10.945, Speaker D: So now for them to map. Okay, this block landed on chain, but the block hash is which one from the bits that ultrasound received is very tricky and I think a way to do it, it could be like. Yeah, I mean I don't know the details but it sounds like you guys are just checking the values and trying to do the calculation.
00:32:13.135 - 00:32:21.115, Speaker C: They have an API endpoint that will give you the bids block hash and the block hash with the modified transaction.
00:32:23.135 - 00:33:02.979, Speaker D: Yeah, I don't know if that made sense. Boxer. I was rambling. Yeah, okay, cool. Yeah, you guys also mentioned Some other earlier you were mentioning, the builder profits was also adjusted based on the vertical integration. So like in the case of say we know like SCP trading firm is basically also beaver build and in a lot of cases they have their own searching transactions included in their blog and sometimes they don't need to send the searcher profits to their builder. They can just like let the builder address pay out whatever the theoretical profits coming from the searcher transactions.
00:33:02.979 - 00:33:18.715, Speaker D: And now if you only check the builder addresses balance change, you will think oh, are they subsidizing a big amount of funds because you don't see anything that's receiving to the basically the fund coming into the builder address. So sounds like you guys accounted for that cases.
00:33:20.735 - 00:34:41.265, Speaker B: The most annoying is when like there's, there's. It can arise in two situations, right? Or your bundle is super profitable because the builder's paying out and that's fine because you still classify the med if you're just doing baseline pattern matching and then you can just do like entity level accounting. The more annoying one is when they're overpaying their builder and so the searching activity seems deeply unprofitable and then the builder just happens to be extremely profitable on that block. Because then now in your underlying pattern matching and evaluation of what constitutes a bundle, you can't base yourself on the general assumption that a bundle should be profitable. And then there's like backdoor deals as well that come into play that also muddle the profitability. A few, I mean like the two top builders will look extremely profitable at times and some searchers that are, you know that love, love gastronomy if you catch my drift and very much into food will look deeply unprofitable on a lot of their bundles and you're like suspicious suspicious. So yeah, that muddles the picture even more.
00:34:41.265 - 00:34:51.745, Speaker B: But you can attempt your best. But you're realistically never going to get perfect profit values on all of these.
00:34:53.015 - 00:35:27.255, Speaker D: Yeah, cool. Yeah. I mean so I would love you guys if you can share some examples from Brontes that captured because we tried to make this series as like a one on one intro to any data wizards or person who is interested in getting into mev. So we probably should have like a very one on one session about what are all type of MEV we're talking about. What exactly do they look like in terms of transactions. I think Runtest might have some like cool example visually as well to look at if any one of you want to share. Yeah, cool.
00:35:27.255 - 00:35:36.531, Speaker D: Yeah, like I'm interested to understand like what are Atomica, mev, What is Sextex Arb you're talking about? What is sandwich? What is JIT and everything.
00:35:36.603 - 00:36:11.775, Speaker B: Yeah, yeah. So I have a few examples pulled up. This one is just a baseline sandwich from our good friend Jared. So basically how it's laid out so the sandwich transactions will be highlighted in red. A sandwich is a front run transaction, a victim or multiple victims. And then a back run front run pushes the price of the AMM up. The victim buys the asset at this inflated price and then the back run brings the AMM back to the true price and extracts a profit from the whole ordeal.
00:36:11.775 - 00:36:52.165, Speaker B: A few interesting things to note in terms of just using the UI generally. So we try to simplify the view as much as possible in terms of what's going on in a transaction. And so we break up transactions into core actions which you can see here. And you have classified and non classified actions. An action is just like a trace that happens within the transaction. So here you can see it's simply just a swap. You have transfers, you have builder tips to show you builder payments as well that we'll probably see in other transactions.
00:36:52.165 - 00:37:44.323, Speaker B: But if you want a more in depth view you can toggle the all where you'll see literally all of the like calls that were made within the transactions. And so this is really basically the lowest level of granularity you can get. Interesting, interesting thing to note here. Jared tends to almost always sends a very small amount of value when he calls into his contract. And this is not for the purpose of funding the contract whatsoever. But we assume that it is cheaper to encode instructions within the value field and interpret it from that rather than have larger core data. So you can always see like a tiny bit of dust being sent over.
00:37:44.323 - 00:37:57.589, Speaker B: And this just goes to show like the crazy shit that mev searches will do to save like 6. Like what, however many gas. Yeah, Wait, hold on.
00:37:57.677 - 00:38:11.665, Speaker A: Just to make sure I understand this correctly. Instead of sending hex data, they encode data within the value field and that makes it cheaper because you don't pay additional gas to. Okay, wow.
00:38:12.725 - 00:38:47.645, Speaker B: It can be cheaper to. I'm a bit dusty on this stuff because I haven't looked at like MEV bought smart smart contracts in ages. But if I remember correctly, yeah, you're saving on core data because you're not encoding these instructions in core data. So you can have a specific special value that you encode in the message value field. And then in your smart contract you just interpret it and you match to that kind of scenario in which you can execute your actions, which is kind of sick to see.
00:38:48.945 - 00:38:55.165, Speaker D: It's the same innovation of how people use it. You see core data for it. What's that thing people are trading?
00:38:57.505 - 00:38:59.205, Speaker A: Are you going to say inscriptions?
00:38:59.505 - 00:39:05.085, Speaker B: Oh yeah, inscriptions, yeah, quite similar.
00:39:05.545 - 00:39:08.889, Speaker D: MEB Searcher invented an inscription first way.
00:39:08.937 - 00:39:43.745, Speaker B: Before they were doing the messages way back when. This is one of the cooler features, very much in alpha. We should have made the alpha tag a bit bigger. So it's a bit buggy still. But it kind of works where you can basically see the transaction tree. So you can visualize the nestedness of each trace and you can kind of play through it. And so if you go to the left here, you can kind of play through each action and then you can visualize what's going on.
00:39:43.745 - 00:40:16.911, Speaker B: So here we have a bit more complex of a call we can move through. Okay, there's the first transfer, then the swaps, then the calls and more transfers. On the left here you have the net balance changes. So you can see the difference in balances for each address. And then you can filter and select whichever you'd like. And then other small details that might be interesting. Here you can see if a transaction was seen or not in the mempool.
00:40:16.911 - 00:40:51.437, Speaker B: This isn't always 100% reliable because the coverage isn't necessarily perfect. But here it says that the victim transaction was not seen. I'm not sure that's true, but it could be. There's some weird ways that Jared gets, like is able to sandwich on private flow. So yeah, that's a bit of an overview of a sandwich. Now we can move to slightly more complex version of it, which is a JIT sandwich. So this is kind of the evolution of the baseline sandwich, which is maybe.
00:40:51.461 - 00:40:53.221, Speaker C: We should do JIT first.
00:40:53.413 - 00:41:24.685, Speaker B: Yeah, but I want to do JIT, but it's JITSextex. And okay, I'll just explain what a JIT is and then we can. Yeah, so a JIT is just in time liquidity. So on concentrated AMMs, you can provide hyper concentrated liquidity. The idea here being there's a swap that I know is coming. It's a really large swap. As a like sophisticated actor, I can front run the swap, provide extremely concentrated liquidity, exactly where the price, where the swapper is going to to swap through.
00:41:24.685 - 00:42:08.293, Speaker B: So extremely active liquidity. And because of how the concentration works, I'm representing like most of the liquidity that's being used for that underlying swap. And then after the swap has occurred, I'm withdrawing my liquidity and Collecting the fees immediately. This is not an extremely profitable strategy because it is quite costly, gas wise. And you can also just do way more extractive and nefarious stuff that will be more profitable because the swapper is not getting more liquidity, but rather is losing out for different reasons. One of them is the JIT sandwich that Jared's a huge fan of. And you can see their profit margin being like significantly higher in general when they do JIT sandwiches.
00:42:08.293 - 00:43:22.239, Speaker B: So basically the idea is you swap up to the limit price of the sandwich e of the victim. And you can kind of think of this as the intent of the sandwicher here is to maximize the average execution price of the victim because that means that the discrepancy from true price is as large as possible, which means that they can back run further down. Right. But when you're sandwiching, you don't want to push the price above the limit because then the transaction will revert. So what the JIT sandwich lets you do is it lets you push the AMM price right up to the limit and then provide instantaneous, almost infinite liquidity at that concentrated point so that the victim is swapping basically all of their swap at the very limit of their intent price. And you would basically be getting a similar average execution price without that liquidity. But you'd push the price above because there would be less liquidity.
00:43:22.239 - 00:43:37.225, Speaker B: So this means that they can manipulate the price even further and on top of that get paid fees on the swap that you're making. So it's kind of a double win for them. Does that make sense? Yeah.
00:43:39.525 - 00:43:46.797, Speaker E: You mentioned concentrated AMM. So does that mean on univ2 we or univ2 style AMS we barely see any.
00:43:46.981 - 00:43:49.525, Speaker B: You. It doesn't, it's not like it doesn't work. Right.
00:43:49.605 - 00:43:50.077, Speaker A: Okay.
00:43:50.181 - 00:44:19.945, Speaker B: Because I'd imagine it could work in like a, in a setting where there's extremely low liquidity. But even then I'm not sure. And yeah, actually I don't think it would work. But you'd also just be better off just pushing the price up a lot, a lot further. But with concentrated AMMs you can just. Because you can represent like so much of the liquidity that is at that specific portion where the swap is occurring. So you're getting most of the fees.
00:44:19.945 - 00:44:23.581, Speaker B: And you can also think of like providing liquidity as swapping.
00:44:23.653 - 00:44:23.813, Speaker A: Right.
00:44:23.829 - 00:44:35.475, Speaker B: You're the counterparty. Yeah. So Jared here also gets to trade at this ridiculous price against the other person and is therefore like making a really good trade by providing that liquidity.
00:44:35.935 - 00:45:43.451, Speaker D: So yeah, like, like just like a straightforward example we say like a user in front end say let's say they're coming from one inch and then the user got a price in the front end said okay I'm getting the liquidity for you from the Uniswap AMM pool and you are buying a ETH at $2,000 USDC. And so that was a price user saw in the front end and they were like okay confirm with a slippage threshold of some percent. Let's say like the wizard slippage threshold accept the worst amount they will receive was like say at the price of 1,900. And so the sandwicher would try to push the price before users transaction in the pool to the limit. Like say they will make the user to buy the ease at the worst price they can accept. And then so in the case of I think okay, sorry about that, I think I'll mark the clip. I think I should make an example of like the selling ease.
00:45:43.451 - 00:45:50.135, Speaker D: Selling ease for usdc. Okay, yeah, sorry. Okay, I'll mark the clip. So one example, do you want to use this one?
00:45:52.465 - 00:46:04.457, Speaker B: Because here you can see the mint, like the swap before then the mint and then the trade here. So it's like 1, 2 and then 2 and then 1, 2, 3 here I can zoom in.
00:46:04.521 - 00:46:43.161, Speaker D: This is also still complicated. I was trying to make the easiest example. So okay, I'll mark the clip again. So basically say for example if a user is trying to sell one ease on say one inch front end and they come there and one inch said okay we got the price for you from Uniswap AMM. Say you're selling one east and you're getting 2000 USDC and users are like okay cool. And then with a slippage threshold of like 1% or something say the worst price I will accept is 1,900 USDC. If I'm receiving less than that I'm going to revert my transactions so to basically have like some protection, I'm not losing too much money.
00:46:43.161 - 00:48:09.505, Speaker D: And so now this transaction goes to the mempool and the sandwich searchers see it and they will try to make a swap before the users in the pool to make sure the user is only getting 1900 and basically they will make a swap that is taking all the liquidity out that is a better price say at 2000 and then the user will price transaction going to come after theirs. And now user have to access the liquidity next to the ticker that was in the middle price and the next ticker price will be worse, right? And the worst price is say 1,900 and so then user is getting basically whatever the worst price they accepted. And then later the sandwicher will try to like background back to sell back the assets they got. And during these two transactions they will get like a price difference in terms of like the yeah, profits. And so my understanding of like why JIT sandwich makes sense is basically we need to think about like the implication of all the MEV transactions in the LP aspect. So basically if you think about like arbitrage in general they are trying to eat one side of the liquidity compared to a fair market price. So like basically saying either say if it's atomic arbitrage where they are trying to how to say arbitrage the price difference between 2:00AMM pool or they are trying to do sex dex arbitrage.
00:48:09.505 - 00:48:56.425, Speaker D: They are trying to take the stale liquidity from AMM off compared to the binance price. They are accessing the liquidity in the one side on one direction and in that case they are pushing the LPs how to say price one side. So it's like the LP is getting LP fee but they're also getting some like LVR or like impairment loss like in the measure. But in terms of sandwiching the sandwicher actually access the liquidity twice. So basically like they're pushing the price in one direction first and then later they're selling it back. So in this case like sandwich is actually healthy for LP because they're getting double the LP price. Okay, I see you don't agree there and but my last thought is like it makes sense for the sandwicher to say I'm paying double the LP price.
00:48:56.425 - 00:49:21.545, Speaker D: Why don't I just be the lp? So that's why they're like let me just come in and submit it liquidity and become the LP who is being accessed and getting paid. And then I'm putting my sandwich here with the front round user transaction background, withdraw my liquidity and so basically I'm not only making the profits from sandwich but also getting the LP fee I'm paying. But I see Lulu, you disagree on the point. I'm curious your thought.
00:49:23.165 - 00:50:47.925, Speaker B: Like I think that more like the biggest point I'd like to make in terms of like why Jet Sandwich makes sense. It's not only the fee, the fee is like a nice kind of bonus almost compared to that. Like the real value here for Jared is that they get to be the counterparty for the shitty swap at the top. So it's not only and it's really more so about being the one that is fulfilling the really bad swap at this super inflated price point and taking the other side of that trade, right? It's like if a market maker was pushing you up to like a ridiculous price and then got to trade against you at that really stupid price where you're buying their assets at an extremely inflated price compared to fair market value. So I think it's really that that probably contributes mostly to their profit. In terms of sandwiching being profitable and healthy for LPs, I think generally you can make a meta argument that it reduces the usage of AMMs because of the toxicity of them. But more importantly, if LPs were smarter and AMM design was better, the LPs would be better off pulling their liquidity and not refilling it directly.
00:50:47.925 - 00:51:10.695, Speaker B: But then again, sandwiches wouldn't occur. So I think that's a bit of a dumb argument and I've seen it a lot of times, but I think it kind of makes sense. But mostly I'd say it's the toxicity side of things, like it's pushing people away. If you're losing 50% of the value of your swap the first time you interact with an amm, what are the chances that you're going to go back?
00:51:11.835 - 00:51:15.175, Speaker C: Or what are the chances you just set your slippage a little bit lower.
00:51:16.495 - 00:51:44.695, Speaker E: For like, for NAMV searcher to actually do JIT sandwich instead of sandwich? If my understanding is correct, does that mean that there's kind of a tipping point in terms of trait size and slippage that basically makes sense to become a JIT sandwich instead of a normal sandwich? Or would that not be the case and where like JIT sandwich are on much larger, older or, you know, more slippage than normal Sandwiches?
00:51:45.595 - 00:52:39.685, Speaker B: I'm not 100% certain, but my assumption would be it's like as you said, like slippage amount and size because you're operating with this like fee bound, which is related to gas costs. So how much are you saving? Like how much in gas are you saving versus just sandwiching? Like if you were to just sandwich, how much gas would you save? And then on top of that, how much extra are you making off of the fee and clearing the swap at the super inflated price. But yeah, I think whenever there's size it becomes worthwhile. There might also be a consideration of like depth of the liquidity pool and how much you can represent of the specific active liquidity for that trade which maybe comes into play. But yeah, we've mostly seen it for really high Size transactions.
00:52:40.185 - 00:52:54.525, Speaker E: Yeah, there may be some cool research to do on what is the tipping point they're looking for whether they're becoming a JIT sandwich to normal one. Because I'm guessing there is in hyper optimized MEV bots.
00:52:55.225 - 00:53:05.295, Speaker C: Yeah, it's definitely some optimization problem that has to be solved in order to know compute more saving on gas versus how much am I paying in fees.
00:53:06.555 - 00:53:19.779, Speaker A: But, but this is only possible in kind of long tail pools. No, like did like, no to do this in like could you do this in a WEF USDC pool? Because you need to buy so much concentrated liquidity from the pool and like.
00:53:19.787 - 00:53:36.895, Speaker D: You that's, that's a good observation because basically like if the like PO liquidity depth is better, the more liquidity you need to buy out or meaning the more inventory you will have to have as a sandwich to push the price off from the center.
00:53:37.395 - 00:54:36.075, Speaker B: But so long as you're pushing the price and then represent some portion of the like active liquidity at the top level swap, you should be profitable. Like the question then becomes like how much am I paying for inclusion? Right. But like you're almost, it's almost always a win. It's like, oh, I am pushing price super high and then becoming the market maker effectively and selling you these assets at this really inflated price. You're paying me a trading fee for the luxury of getting arbitrage and then I withdraw my liquidity, collect my fee and then back run the entire thing back to true price to offset my initial front loading costs. That seems like a, I mean if you told that to like a tradfi market maker and you explain them that they could do this, they would like laugh and be like there's no way this shit is legal because that is just ridiculous. And speaking of examples of ridiculous trades, I have here an example of a jit.
00:54:36.075 - 00:55:41.865, Speaker B: We didn't add the JITSEXT classification, but that's something that we also have. But this is an example of a Jitsextex classification where Sox 869 babe, which is symbolic capital partners. And here what they're doing is that I really like this example here because it shows that JIT and like sandwiching, sorry, JIT is bad for the swapper and Sextex is bad for the swapper as well. And it's not just bad for the lp. And why that is is that basically what SAP is doing here is they're providing this instantaneous liquidity and they're not doing this out of the kindness of their hearts to ensure that the swapper has less slippage. Rather, they realize that there is a price discrepancy between the pool's current price and binance. And so they want to be providing liquidity for the swap because the end swap will be discrepant and then they can arbitrage it back against a centralized exchange.
00:55:41.865 - 00:56:35.163, Speaker B: And the beauty here is that they don't have to swap against the pool to do this, so they don't have to pay a fee to LPs. So they can do this even when the price discrepancy is small enough to be within the fee bounds of the pool. And when I say fee bounds, I mean the amount of discrepancy and how much profit they would make is less than the trading fee that they would pay when they're executing the swap, which means that the arbitrage is unprofitable. But the crazy thing here is that they're doing this like while building a blog. So you can imagine all sorts of funky combinations where they're doing this and then they're pushing the price even further for the AMM and then they're back running all of this with sex sex arbitrages. But they can kind of sequence the transactions. However, they'd like to ensure that people that are swapping against the true price are pushing the pool as far as possible and then they can bring it back.
00:56:35.163 - 00:56:58.935, Speaker B: And the greater that discrepancy, the more profit they make. Does this make sense? Are there any questions here? Oh, as you can see here, the builder tip. So that's one other action that we classify. But yeah, otherwise I can move to some other arbitrary like MEB types and probably go a bit quicker. So yeah, this is just a simple sex decks. This is Winter Mute. They're trading weth for mana.
00:56:58.935 - 00:57:43.051, Speaker B: I guess takeaway on this and big thing that we learned was that you assume that sex like we assumed at least that sex dex only happened on like top tier blue chips. This is not true. You have many different arbitrageurs with many different risk tolerances. You have some that you will see literally direct deposit to their Kucoin address like within the same transaction. And they're trading like pardon my French here, but absolute dog like pop 2000 low liquidity buy bit listing garbage. And they are just holding it for an extremely small period of time and are really profitable and you can see really nice profit margins on those as well. So that was really cool to see.
00:57:43.203 - 00:57:49.651, Speaker A: How, how do you programmatically, how do you programmatically determine this Sex text.
00:57:49.683 - 00:57:51.415, Speaker B: I was going to. Yeah, yeah.
00:57:53.955 - 00:57:56.015, Speaker C: Yeah. You want to go look? You got it.
00:57:56.995 - 00:58:10.211, Speaker B: Yeah. So there are two methodologies that we use. First is just simple mid price and then markouts for T2, T12, T30 and T60 and T500 in the future.
00:58:10.363 - 00:58:13.775, Speaker A: Sorry again, in non technical terms.
00:58:14.635 - 00:59:04.047, Speaker B: Sorry. It actually reasonable. We take the mid price of the most liquid venue for that pair over the recent month and we look at the instantaneous profit realized. And when I say instantaneous I mean the time at which the bid was submitted to the relay, to the first relay. We use that time stamp and look at the price on the exchange and then we look at the price 2 seconds in the future, 12 seconds, 30 seconds, 60 seconds and 5 minutes. And we use those prices to evaluate profitability over these different timestamps. But we use the bid submission one as the anchor which will result in a classification.
00:59:04.047 - 01:00:16.543, Speaker B: So if they're not profitable instantaneously but they're profitable five minutes after, we won't classify it except if they're like a known searcher with a very high volume of successful and profitable bundles. And then there's all sorts of heuristics that we use to filter them out. The second more complicated strategy is like our experimental one where we do volume weighted average pricing where we have this dynamic time window. So instead of just looking at a specific point in time relative to when the trade occurred, we have this time window that will expand if there isn't enough volume on the exchanges. And this is useful when you have extremely low liquidity tokens where the arbitrageur has to spread out their hedging on the centralized exchange because otherwise they'd impact the price too quickly. And so it can expand up to minus 20 plus 30 seconds relative to the block time. And it's really funny because you see like on the, when you look up the trades for like certain like low liquidity tokens that they're arbitraging, they're like 99% of the volume.
01:00:16.543 - 01:01:01.135, Speaker B: So it's just like sex dex activity on both sides which is really fun to see. Yeah. And then we have like other parameters that you can play with with the experimental where you can weigh like the price is closer to block time more or less and various other things that you can play with but it's super parameterizable and you can kind of go crazy with it. But yeah, that's mostly classification. The heuristics is mostly just like filtering based on unknown addresses, et cetera. But we really wanted to prevent any whitelist based methodology because that just isn't scalable. So we don't use like known addresses as a way of systematically identifying them.
01:01:01.915 - 01:01:23.905, Speaker A: Okay, so this is kind of conditional of having all the price APIs from all the different centralized exchanges and you just call them and you're like, okay, are these prices kind of similar? Is there delta here? And then based on that, you're classifying this transaction probably happened because there was an ARC to be ARP tier.
01:01:25.085 - 01:01:28.493, Speaker B: Yeah, yeah, yeah. Joe, you want to touch on that?
01:01:28.589 - 01:01:33.945, Speaker C: I mean there are some outliers of course to that, but yeah, for the most part that's how we do it.
01:01:34.765 - 01:01:46.585, Speaker A: Yeah, super cool approach. I didn't even like, I hadn't even thought about like that. Do all the exchanges just have open price endpoints and like also for like historical data?
01:01:47.085 - 01:02:34.783, Speaker C: Yeah, so none of them have them for historical data that's passed. I don't know what the time frame is, but they all have websockets that you can connect to that will stream price and quote and trade data and L2 data, I think. But the first methodology Ludwig mentioned uses the quotes data, while the latter uses the trades. So yeah, we have a few servers like you know, in Tokyo and just somewhere else that will stream the price data from Coinbase, Binance, Kucoin, Bybit. The API for that we made like a combined one that's on GitHub if anybody wants to use it.
01:02:34.919 - 01:03:15.385, Speaker A: But yeah, yeah, it's super interesting. I think pricing assets in crypto in general is like a hard problem to solve. And like this looks like a very kind of holistic approach. And classifying sextext arbitrage is using this methodology of just like, what are these people probably doing? And it's like they're doing the same, right? Like they're calling, calling these, calling these price functions of the APIs and then based on that, they're looking at the on chain state and they're like, okay, there's money to be made here. And it seems like you're just replicating that approach and just using the same methodology to then just classify these trades. Super, super cool to see.
01:03:16.125 - 01:03:16.885, Speaker B: Yeah.
01:03:17.045 - 01:03:19.245, Speaker C: Reverse engineering it in a sense, I guess.
01:03:19.365 - 01:04:25.265, Speaker B: Yeah. Because one point of clarification is like we don't, we don't like evaluate based on pricing if an arbitrage is possible because then like it kind of blows up in terms of like the amount of things that you have to evaluate. So we just look at like historical trades and say, okay, this trade, what's the execution price for this swap? Okay. What is the price on the exchange? How much more or less are they getting? Like how different are the rates? That minus the transaction cost, does that render the transaction profitable? And then like for the fancier way, it's just a different way of calculating price really. But yeah, you can, I think you can get like really good results with a purely programmatic approach. You just need a bit of filtering because a lot of like there's some weird stuff that can happen where like these random people will do trades and just get lucky and they're like, and this is more like way earlier on when markets were less efficient. Now it's like either way, so they don't really get that chance to get a really good price.
01:04:25.265 - 01:04:26.865, Speaker B: But yeah.
01:04:29.125 - 01:04:33.965, Speaker A: Yeah, accidental sex, text arps. But then you just told me like that doesn't.
01:04:35.065 - 01:05:06.405, Speaker B: Yeah, we found a few. Yeah, we found a few of those. And yeah, it's the most painful thing in all this is getting a unified representation of like listed pairs and centralized exchange data to like token mapping representations. Because you can't just rely on symbol mapping. You need like a hard coded address to listing. We did the symbol mapping approach first. No, it did not work.
01:05:06.405 - 01:06:07.835, Speaker B: Don't do that. And then lastly, atomic arb. This is probably the biggest abuse of terminology on our part. We call atomic ARB a lot of things and nothing at the same time. And it is also by far the most likely and prone to have false positives. Although we fixed this yesterday before we came on the podcast, but it is still loading right now, so we'll see the results soon. So the different forms of atomic arbitrage that we classify and what an atomic arbitrage is in the first place is a transaction that atomically is profitable by executing a sequence of interactions or swaps that ends up with them having a higher balance of tokens and that balance of tokens being more valuable in some dollar term or whatever denomination that they're using to account.
01:06:07.835 - 01:07:05.425, Speaker B: And like my description here is like purposely generic so that our classification doesn't seem too crazy. But yeah, we're pretty loose with the classification. We break it down into types, into triangle arbitrage, which is like you buy a token, then you sell it on a different exchange and then you end up with a higher balance. That's like the typical where you do a closed loop. Then there's cross pair arbitrage where you're basically extracting the discrepancy in pricing between two separate assets on like two separate venues as opposed to returning to the original asset. And then there's stablecoin arbitrage, which is just like a specialized form of cross pair arbitrage. And then finally there's long tail, which is basically everything under the sun that happens to be atomically profitable.
01:07:05.425 - 01:08:07.971, Speaker B: And how we classify these is that we have a pricing module that we built that will like look at all of the on chain pools and calculate the kind of liquidity weighted instantaneous price by identifying the optimal trading route that you can take that is like the deepest in liquidity. And it will use those prices to evaluate the profitability of a transaction, comparing the pre transaction value and the post transaction value. And importantly here we don't just account for like balance times like a fixed price. Our prices are actually granular at like the transaction level. So you have a price before the transaction occurred and you have a price after the transaction occurred. And that's quite important because then you can take into account the impact that the transaction had on the market and on the pricing of the underlying tokens. But yeah, it's a pretty wide net that we cast and the pricing can bug out when you have low liquidity stuff that messes up the calculations.
01:08:07.971 - 01:08:15.455, Speaker B: But we tried our best to kind of iron those out and we're going to be working in our spare time to make this even better.
01:08:15.835 - 01:08:49.691, Speaker E: I am curious for atomic arbs. So I worked on those a bit last year and surfacing those on Dune using like a looping function. But I only looked at things where the first and the last token was the same. Do you do anything, any kind of pairs or bundles of assets like I don't know, eth and wrapped eth for example, where you accept that it starts with eth and ends with wrapped eth or vice versa? Do you do any kind of bundling of these kind of assets or how does that work in terms of is it all manual, do you do none of that or.
01:08:49.723 - 01:09:30.973, Speaker B: Yeah, we don't do any manual mapping of tokens. The only mapping of tokens is the stablecoin. So we just classify what constitutes a stable coin and we break that into types. So you have dollar stablecoins, gold denominated stablecoins, euro stablecoins. And then we can evaluate arbitrages based on like the like dollar to dollar, assuming they're one to one type of profit and then the like gold to gold or euro to euro. But otherwise we don't have any like fixed mappings, we just, we just classify them like to tag them. So if there's a for loop we consider it a triangular, if it's A cross pair.
01:09:30.973 - 01:10:37.595, Speaker B: So asset A to asset B to asset C and you're basically arbitraging the like exchange rates between those two and you're getting more of that other asset, but you're not returning to the original asset. We'll tag that and then for Long Tail we basically accept anything under the sun that ends up with a profitable token delta balance with heavy filtering though. And I think that you need to do that to get the interesting stuff. And that's why we had a lot of false positives but at the same time why we found the cooler stuff that we were really excited to see that kind of challenged the assumptions that we had on Atomic Arb where we always assumed, oh it's the most obvious, the most competed away, lowest profit margins. We actually found that it is where you have the largest distribution of searchers. So biggest diversity in terms of like searcher base because there's so much creativity involved and so much alpha and being the first to move and doing like the craziest shit. So yeah, we, we have like way more coverage than any other like MEV explorer in general, but specifically on Atomic Orbs.
01:10:37.595 - 01:10:47.855, Speaker B: But that does come at the cost of like false positives, especially with routers that kind of mess it up and like dubious pricing at times. But those things will be fixed in due time hopefully.
01:10:48.515 - 01:11:33.095, Speaker D: Yeah, yeah, that makes sense because like Atomic ARB is also like like the long, longest history and like most competitive one that people are competing. So yeah, as actually to that point I was going to ask like how does the numbers benchmark with other existing tool like you know, like Libby seems to have a good reputation from the searchers mostly because Jared was in one of the interview and said oh yeah, that was good. So it's kind of like a trust me bro case. But yeah, I've heard a good comment about them and there was. I can find MAV Inspect as well. So would you expect like I guess sounds like Atomic MEV value here on Brand Test would be slightly higher than others, but also like Sextext doesn't exist on any of those.
01:11:34.235 - 01:12:12.525, Speaker B: Yeah, yeah, I think our Atomic number right now on the website is definitely wrong. Like 100% wrong. Like definitely overestimated likely 2x for the simple reason that like although like 99% of the stuff we classify as correct, the pricing bug that we have when we weren't like sufficiently filtering out low liquidity stuff would mean that like your profits like 5 million for a bundle and that skews everything so much that even though it's like Very small volume wise it represents so much of the profit. That was super frustrating but we're updating that tomorrow with our fix. That should fix that.
01:12:12.565 - 01:12:32.545, Speaker C: Yeah, I think as far as the front end goes that number on the front what we're just talking about, I've actually where we trimmed out the absurdly large atomic orbs so I think that it might be quite close to accurate in terms of as far as the number goes for the atomic orbs.
01:12:34.305 - 01:13:14.201, Speaker D: Got it, got it. Yeah. I mean appreciate the honest information and like restaurant or being I guess like yeah being responsible as a data provider and I mean yeah, this is a good call out for anyone in the space that can help contribute. Just create PRs and like say hey this can be improved in this way that will make everyone's life better. Yeah. I think also like we're curious about some like high level ticks based on the data you guys built. Like I'm curious some what are some highlights from the data? For example, who are making the most money right now across all kinds of and across the supply chain.
01:13:14.201 - 01:13:26.945, Speaker D: Like if you guys have any like say how does the profit margin for example specifically compare across different mbb. Are searchers having higher profit margin? I assume own sex decks compared to atomic?
01:13:27.805 - 01:14:08.959, Speaker B: Yeah, on average. Yeah, on average 6x is higher profit. Who's making money? Simple answer. SCP and Jared. Right now they're making, they're printing money. You have a few background bots that do really well as well in terms of like highlights I'd say like some builders like that when you look at their raw P and L and don't consider mev they seem like they're I think proposer cucks in some sense as in they're just outrageously subsidizing and it looks like they're making no money. And we were like why are these people even doing this? This is absolutely ridiculous.
01:14:08.959 - 01:14:38.409, Speaker B: They're just bleeding money. But then you kind of look into it more detail and you realize no they're the ones having a good time. I think specifically of ICANN has block. It's a builder with very low volume builds very few blocks. But the blocks they build are beautiful. That's honestly works of art. And when you map so they're vertically integrated and they operate a generalized front runner.
01:14:38.409 - 01:15:36.075, Speaker B: I think Koid Yoink is the name and they just do some really cool stuff like they were they front ran Ronin bridge exploit a few months ago that was like a 700 ETH block and you just see stuff like that and you're like wow, like this is so cool. It's a shame that we don't like look into this more because like for all of the, you know, problems that MEVIA creates, there's, there's some really cool parts that are somewhat positive. And you can also just see the like underlying creativity these people express through how they design their stuff. Yeah, otherwise like it's mostly boring. Takes on like stuff that people assumed in the past and is generally accepted. But yeah, if you look like in detail, there's some quite interesting stuff going on. Joe, do you have any general taste?
01:15:36.405 - 01:16:17.825, Speaker C: Different composable types of MEVs is quite amazing. There's super creative ways that these people are coming up with just to make money on chain. Just sex. Dex being one of them. And had it not been for us being forcing ourselves to build out the other components of this, I don't think we would have realized that a lot of these newish unheard of types of MEV occurring or these methodologies might not have been, you know, recognized. We might, might have thought that it was just a regular jit, but this allowed us to, you know, see another component of the, of the MEV that we wouldn't have recognized otherwise.
01:16:19.445 - 01:17:01.249, Speaker B: Yeah, like we love making like stupid names for the new types of MEV that we find. Like one of them is like Big Mac for like a SAT for Jared sandwiches. And so you can think of a Big Mac as like the breads on top and on the bottom, but there's also that slice of bread in between. And so what they'll do is that they will like front run like multiple victim sets. But those victims have different like slippage tolerances. So they'll push the price up for the first victim set that are like have like a tighter slippage tolerance. Then those trades will execute and then they will push the pools price even further to the like let even less informed victim set so that they can like do the entire thing in one bundle.
01:17:01.249 - 01:17:14.365, Speaker B: It's like stuff like that, you're like wow. Like you really have to think about that. And it takes like, it takes us a bit when we're like misclassifying stuff and we just have to stare at it and be like what is, what are they doing? You know. But it was, it was really fun.
01:17:15.145 - 01:17:28.535, Speaker D: Got it, got it. So you would see a bundle of like Jared's front run and like victim, but also Jared's trip swaps in between. Just adjusting all those like price ticker for the users to take the most out of it.
01:17:28.955 - 01:17:59.825, Speaker B: Yeah, it's like a It's like a layered front run, kind of like push price first. Most like tightest slippage tolerance victim first. Continue pushing price looser slippage tolerance victim, and then background the entire thing. And there's like certain sandwiches with like 60 victims that we found. Like, this stuff is like full blocks, you know, I don't know how much gas has been wasted, but it's insane. Like, we talk about ethereum scalability a lot. Like, if you got rid of the bots, you'd have like, a lot more block space.
01:17:59.825 - 01:18:39.435, Speaker B: Like some, like, there's some, like, tokens that try and get around, like the sniping problem. The MEV bots always find a way, like the limited quantity tax token technique, where basically like token deployers will identify how much you're trading. And if you trade more than a certain amount, you're considered like a sniper bot. They will literally fill the block with separate swaps up to the very limit of the amount that is created on the contract. And they will just swap in that exact amount 100 or like a thousand times so that they don't get the tax. Like so much ridiculous stuff that you can find.
01:18:40.015 - 01:18:54.967, Speaker D: Yeah, I. I just realized Jared is such a genius name because, like, Jared is a guy from, like, the real life, you know, sandwiching a sandwich shop called the Subway. I don't know if Europe has that, but you know Subway? You don't know. Wait, why?
01:18:54.991 - 01:18:56.191, Speaker E: You don't know Boxer?
01:18:56.343 - 01:18:57.639, Speaker D: Boxer? You don't know?
01:18:57.807 - 01:18:59.555, Speaker B: You've never heard of Subway?
01:19:00.335 - 01:19:08.045, Speaker A: I know, I know Subway, but maybe he's called like some German name in Germany. Maybe like. I don't know. I don't know.
01:19:10.585 - 01:19:43.175, Speaker D: Yeah, this guy, this sandwich MEV searcher, he's like the experts making sandwiches, all kinds of sandwiches. So it's really making a lot of sense now. Yeah. Okay. Any spicy takes? I know you mentioned that they're trading all kinds of shitcoins like the Sex Dex searchers, which is, you know, a. I guess, like a thing that people wouldn't expect. Is there anything that you guys learned from something that's like, people always thought this way, but it's actually wrong? Like, that's not true.
01:19:43.175 - 01:19:45.495, Speaker D: Yeah, that kind of thing.
01:19:46.555 - 01:20:09.835, Speaker C: So something for me, I saw and I was just like. It kind of went against my intuition at first was that some of these searchers, you know, they hold inventory on these absolute chickpoints that rarely see any volume. Granted, it's only temporarily, but. Yeah, I thought this was an interesting, interesting thing that would go against anything that I think most people would Think.
01:20:10.455 - 01:20:12.591, Speaker D: Right, yeah. Makes sense.
01:20:12.623 - 01:21:23.685, Speaker B: Yeah. For me I'd say atomic ARB is dead and the idea that that's unprofitable, definitely wrong. I'd say cross chain MEV I think is just complete psyops and doesn't really make sense. This idea of like, oh, we can combine multiple chains. Like the whole shared sequencing narrative of let's take multiple chains, sequence them atomically together and the emergence of value by cross domain MEV will be greater than the sum of its parts. I think is a bit of a BS take for the simple reason that like transaction cost and swap efficiency on chain is ridiculously bad compared to like the most liquid off chain venue for the time being and probably for a while. And in that, with that in mind and with the assumption that like trading is just that much cheaper off chain, you're basically always better off doing centralized off chain to a given layer and arbing that discrepancy and doing that for the multiple domains.
01:21:23.685 - 01:21:28.725, Speaker B: So that's, I guess, I don't think it's that spicy anymore. It's probably somewhat accepted.
01:21:29.385 - 01:22:04.895, Speaker A: Wait, so what are you saying instead of. Sorry, so what are you saying instead of me going and kind of arbing base and ETH prices, Like if I see some discrepancy between those two, I would rather kind of go from base to binance, like do that trade and then the same with like eth to binance and it's never worth it to basically like run two separate searcher instances on two separate chains and try to make those like compatible with each other. Just because like the infrastructure is like is it the infrastructure or is it the kind of cost overhead?
01:22:05.195 - 01:22:51.067, Speaker B: Just cost overhead. And also like you're competing with specialized people that are doing like Ace Binance and so they're paying less. Like I feel like there might be examples of this in the wild. Maybe you know, Flashbot sponsored. Maybe you know, other entities that like wanted to show that it was possible like as like hackathon projects. I'm sure like this has happened in the past, you know, where like we like the jam sessions where they were like building me bots and like they're really cool examples of stuff that you can do but in like a hyper competitive market, it just doesn't make sense. The only thing I could imagine is like these really weird like composable long tail stuff with tokens that aren't listed.
01:22:51.067 - 01:22:56.139, Speaker B: Yeah, but that stuff, it just, it's not that significant. It almost never is.
01:22:56.267 - 01:23:08.525, Speaker A: Yeah, yeah. Like the only thing I can think of is like Tokens that are not listed on exchanges side like that's a case where this might actually make sense. But how many like significant tokens are there that are not listed on an exchange? Yeah, that's fair.
01:23:09.265 - 01:24:02.437, Speaker D: Yeah. So basically there's like three cases, right? So it's either the blue chip major token that is listed on binance and you're saying why not they just arp on like L2 to Binance rather than L2 to L2 like because the L2 price, how accurate or how true the price really is can you know. Second is like if it's a long tail token that only exists in one chain, you can't really do arbitrage across other chain. And the third case might be the only case where L2 cross chain makes sense which is some mid long tail that maybe say exists on both on base and optimism. And that's the only thing you can do across chain to arbitrage but probably really small. And so basically your spicy take is that what I heard is that the money raised from a VC with this L2Arbus narrative might be bigger than the actual L2Arb volume.
01:24:02.556 - 01:24:41.979, Speaker B: 100%. 100%. I'm quite confident in that take actually. Like yeah, like that money raised. For the matter of fact, I'll go further. The money raised from VCs for cross chain like sequencing with the assumption of like composability generating additional arbitrage value is greater than atomic arbitrage in like 5 like since the merge probably like and I say atomic arbitrage full stop like general atomic arbitrage. Like people think that MEV is like this massive deal and I think the nerd snipe is because it's cool, but it doesn't matter that much.
01:24:41.979 - 01:25:25.101, Speaker B: It's not that big like it is. People have widely overestimated it in terms of the value that it's generating and it occupies probably more mind share than it should but it is really fun. So we have a great time I guess leaning into that take. The other spicy take, but I think it's also coming to be accepted is that we don't need generalized solutions for mev. We just need to deal with the negative externalities because it will all be solved at application layer. If you look at the data, it's always the same stuff. There are only very few types of MEV that actually matter.
01:25:25.101 - 01:25:41.945, Speaker B: It's atomic, arp, sex, dex and sandwiching. That's basically all that matters. Even liquidations aren't that important, although they're somewhat easier to fix so it's probably worth it to do it, but they just don't matter, most of them. It's really inconsequential.
01:25:42.245 - 01:25:57.955, Speaker E: But in a very long term future where a lot of the trading has moved on to on chain and you got higher performance blockchains with much lower costs, it probably eventually makes sense. Just isn't a crazy huge deal as.
01:25:57.995 - 01:26:01.695, Speaker B: People are making it makes sense to do what?
01:26:02.355 - 01:26:03.875, Speaker E: I mean cross chain arb.
01:26:03.995 - 01:27:02.981, Speaker B: Cross chain arb in a world where there's no off chain trading and those are the main venues. Sure. But even then you won't need atomic settlement cross chain you won't care because it will be cheaper to do it with just two addresses and then managing them and having a view on both states and then being able to arbitrage those layers independently because I don't think that the atomic composability side will matter in those arbitrages. And I think that in general here there's a really big assumption that I hope it realizes itself where on chain trading becomes the predominant trading venue. But it's really tough because you're fighting one box performance versus replication across the world and network overhead there and that does suck in terms of computational overhead and latency.
01:27:03.173 - 01:27:04.745, Speaker E: Yeah, makes sense.
01:27:06.135 - 01:28:36.541, Speaker D: Cool. Yeah, I, yeah I love this debate about L2 and maybe so another thing I I guess like to ask is like is there any trend you guys observed from the data set over the past, you know, one year, two year course? Is there for example like has there I assume actually something I observed in the past was like the atomic arb profit margin for social has been going down and down. They're paying more and more to search proposers because it's getting more competitive and Iran needs to bid out to make sure they got included. So another thing I think like related it would be it seemed like I'm not sure but it seemed like sandwiching has been dined down or at least what I saw I shared the other day on Twitter was that if you look at a Jared's flow value meaning basically how much Jared is paying out to builder then proposer the value seems to be kind of trending down in the past one year and that kind of correlates with the movement or the development in the market where like the order flow become private. So like we know like Metamask now have smart transactions which is basically they will ask user to opt in and if user opt in they will take control of the submission not to send to the mempo anymore. They have this somewhat Kind of like auction towards different block builders and the builder will have to bid on top of getting the flow and whoever the winner is will get the flow exclusively. And that's all I know from their public docs.
01:28:36.541 - 01:29:38.535, Speaker D: I don't know any details about what's the numbers and arrangement but we would visibly see a lot of order flow moved into private liquidity. Maybe I can quickly share something here. So for example if you compare these few charts, basically this is what I was talking about where Jared's value flow paid out to build a proposer has been going down. If we track their MEV bots then the control variable is that maybe that's because Dex trading volume is down but that's not quite true because we accounting these value from Jarrett in east units and the trading volume in east units on over Dex has been pretty flat. So it's been kind of stable. I mean if you have to look at it it actually goes up in USD volume because eth price has been going slightly up this year. So yeah the flow value has been going down but it's not because of Dex has been going down.
01:29:38.535 - 01:30:25.885, Speaker D: And if you also compare like the private transaction percentage on Ethereum it's been going crazy up like this year. So starting from beginning of this year it was still around like say 15% of the transactions are not observed in the mempool. So they are in private mempool up until May. This number has been going up now actually around like 33% on a daily basis. And I mean if you zoom into the type of transactions that are related to MEV which is Dex swaps. So you would see that actually like all the Dex swaps by transaction count went up from 40% around April up to now like 80%. So like 80% of the users Dex swaps are now in private mempool.
01:30:25.885 - 01:30:45.597, Speaker D: The intuition here is that less user victim transactions in the mempool then there's less sandwich for Jared to make. So I'm curious like if that's true as how you guys observed in the data set and yeah if there's anything relevant that you guys observe like from all these order flow markets development.
01:30:45.781 - 01:31:29.935, Speaker C: Yeah, I mean I think that intuitively this definitely makes sense. You know a lot of the uninformed flow is going to come from things like Metamask and similar wallet uxs and you know if they're submitting their transactions privately then there's no chance for Jared or any other sandwich or to see them. Right. So I think with that you'll definitely see A decline in their activity. However, I'd have to go and do some analysis on the data to see if this is always the case. But I mean intuitively this definitely makes sense. I know Metamask is one of the largest wallet providers, so I mean, I assume that that would definitely cause a decrease in activity as far as searchers go.
01:31:29.935 - 01:31:36.215, Speaker C: Either that or he's just. He's getting lazy. One of the two.
01:31:36.715 - 01:31:50.895, Speaker B: One thing I'd say is like private doesn't mean safe and so even if they're not in the mempool, there are different ways that you can find a way to make a pretty penny.
01:31:51.355 - 01:31:57.455, Speaker D: And are you suggesting of all the people, are you suggesting there is sandwiching happening in the private event pool?
01:31:59.235 - 01:33:45.855, Speaker B: I would not be surprised if there a were ways that specific actors got access to the block template so that they could sandwich private order flow. Although I'd assume that top builders are not doing this because obviously you're not going to send their flow to them. But I think that you can move away from just baseline sandwiching and then it's more so a question of ordering to the benefit of arbitrageurs, where you're entering mostly games of maximizing sextext value. And so it's not so much that your price is getting pushed and then it is a clear sandwich, but rather you are part of creating greater discrepancies in the AMM market to maximize sextext value for the arbitrageur, which implies that you're getting a bad price and you are pushing the price further in the wrong direction, which is definitely suboptimal for users. So with that in mind and with the centralization that we been seeing where Beaver and Titan have been dominating even more because Winter Mute seems to have fallen off the top stage in the last six months, I'd assume that actually profit margins might have increased. Again, I have to look at the data there, but I wouldn't be that surprised if profit margin slightly increased for sex decks. Yeah, and there's a lot of profit that is really hard to quantify.
01:33:45.855 - 01:34:02.975, Speaker B: Could you scroll to the other chart and just to understand that all Jared's flow value like so this is denominated in eth, but how are you accounting for that eth? Is it just payments or is it like the ETH value of the tokens that are being moved around?
01:34:03.675 - 01:34:32.055, Speaker D: No, these are all the payouts they sent to the builder tip and plus gas. So like it's basically whatever the profits out of, like Jared is paying out out of their total profits. So it's more like approximation of saying like it seems like Jared's paying less nowadays from their sandwiching profits and I would assume they're making less money in general, but I guess there is a layer of assumption there that they, they are paying the same margin.
01:34:32.135 - 01:35:05.675, Speaker B: But yeah, I guess this is likely true. But they've also been crushing it so much with the more complex jit sandwich types. And I wouldn't be that surprised if they were also trading on centralized venues because it's just like the maximally profitable thing to do. Right. To jit sandwich and then also end up by arbing the price back to decentralized price where I think that there might be a lot of additional profit that they've been able to extract that isn't necessarily directly visible. Got it. Yeah.
01:35:05.795 - 01:35:17.295, Speaker D: Right. So you're suggesting like the total value they're paying out might not only just because the sandwich flow has been going down, it might be because they find other niche that they can keep a higher margin.
01:35:17.995 - 01:35:35.475, Speaker B: Yeah, but I still agree that like generally it is likely that it is trending down across the board and will continue to trend down, especially as, you know, as the, as like the applications evolve to counteract this.
01:35:36.055 - 01:36:31.085, Speaker D: Right. Yeah. Okay, cool. I think we would pretty much wrap up with all this learning from Brontes and I guess the last few bigger picture question for you guys is like I understand that like all these data digging and research on Brontes is more like also to serve the foundation for Enstron's design. And so with all this learning, how are you guys thinking about tackling the MEV implication on users? I know that you shared about some details earlier about like say basically to be able to capture the MEV and also to categorize the flow from the user. Do some frequent batching, any other thing you can share or like maybe more specific like how does a user like us to expect? Like what does the UI or interaction would look like for unstrung? Would that look like a normal dex in front end?
01:36:32.825 - 01:36:49.905, Speaker C: More or less the swapping, you know ux, when you actually go to do the swap, it'll feel like a regular, regular dex swap. We will have some more components and hopefully some more analysis that we'll be able to show as well.
01:36:50.525 - 01:37:40.275, Speaker B: Yeah, you're not like sending an actual transaction though. You're signing an intent, like you're just signing a message and you don't have to pay any gas, so it's all gasless. So if you have 0 ETH in your wallet that's fine. However, obviously that is being charged on the output or input of your swap. But the great thing here is you're mutualizing GAS with searchers and every single other person that is swapped on that pool and all other pools within our system for that block. So if there's like 30, you know, 30 people that are swapping on a given pool, you're basically just paying for the transfer costs and then you're splitting that based that base like swap cost across those 30 users and the searcher. So it gets really cheap very quickly.
01:37:40.275 - 01:38:45.645, Speaker B: So yeah, I think that's the main difference in terms of ux. The other thing is composability in the beginning is not going to be available where you can't swap and then atomically interact with other state. But we have a bunch of solutions in mind that we're building out now which should enable you to do so. Yeah, I guess that's most of it in terms of ux, in terms of like lessons that we learned from Brontes and Impact that that's had. Biggest one's probably just realizing that Angstrom is useful for more pools than we thought and more assets than we thought because we were first targeting just like the highest volume stuff. But even for pegged assets, even for you know like, you know like middle of the pack that are still listed on centralized exchanges but see less volume, they're clearly getting arbitrage by a lot, you know, so there's definitely value in recapturing that. And even for stables for the like one off, you know, Black Swan event, that's a lot of revenue that you get to recapture.
01:38:45.645 - 01:38:49.885, Speaker B: I think that's, that's probably the biggest lesson.
01:38:51.145 - 01:39:27.765, Speaker D: Yeah, got it. Cool. Any, any like alpha on like when it will be launched or when should we expect the thing to come out? You can say no because I feel like when I just met you in the beginning I asked you anything about the details, you will be like it's a secret, like wait for it. Actually there's a fun story I've heard. I don't know if that's true, but anecdotally the solar team was like trying to talk to the investor and the investor was like okay, tell me more about it. But they basically used some tactics saying no, it's a sealed bid auction and you will have to commit first and then I'll tell you what are we going to build? And was that how the deal was done?
01:39:28.265 - 01:39:37.485, Speaker B: We can neither confirm nor deny. Yeah, I don't know, I don't remember. I forget.
01:39:37.865 - 01:39:52.373, Speaker D: Okay, okay. But I guess I think it will basically launch with the V4 hook launch, which I think it's being expected by later this year or earlier next year.
01:39:52.549 - 01:40:32.639, Speaker B: I'd say like yeah, late Q4, early Q1, a lot of stuff to build, a lot of audits to pass. But yeah, hopefully very, very soon and hopefully we see a big dip in just raw extraction that goes also proposing build up because why are we paying these people? They don't deserve it. They're not losing the money. It's like what's the point? Let's just give it back to the people that are actually losing a lot of money. So yeah, if you're an LP or a searcher, hit us up. We'd be more than happy to work on integrations and help you on board so you don't have to pay the builder or the proposer.
01:40:32.727 - 01:40:39.475, Speaker D: Cool. Any other comments? Question from Boxer and Dolby before we go to the chart crime section?
01:40:40.655 - 01:41:10.051, Speaker E: Are you. So you mentioned that dexes are definitely where the bulk of like these are the bulk of mev. Have you ever considered looking in? This is more tail end, but there's other, you know, MEV kind of types. Although it's like maybe more sniper bots. I think like Friend Tech had quite a bit of sniper bot activity. There's also like Zora, you know, being like the first Minter kind of thing. And like there's very different type of navs across all over the board.
01:41:10.051 - 01:41:14.735, Speaker E: Are you interested in this at all or are you solely focused on Dexes for now?
01:41:15.315 - 01:41:52.347, Speaker B: Yeah, no, we're interested in classifying as much as possible. Most of it. The stuff that we didn't classify is just we didn't have the time and I think it's mostly because we spent so much time building the core primitives of the classification model because now you kind of have feature complete block explorer. You have to classify every single transaction at the trace level granularity. So you have all of the centralized exchange pricing for the top and then all of the dex pricing of transaction level granularity. Again, you can kind of go crazy with it. And we just wanted those building blocks to work.
01:41:52.347 - 01:42:17.185, Speaker B: But we'd love to see longer tail stuff. Our concern is that it's probably going to be kept private because there might be a good amount of alpha there. But we have a nerd snipe milestone in the GitHub repo with the sniper bot as like an issue and long tail. But we, yeah, we just, we don't have the time right now. Okay. But if you want to build it we'll definitely help.
01:42:17.925 - 01:42:19.565, Speaker E: Okay, I'll. Why not?
01:42:19.685 - 01:42:20.505, Speaker B: Why not?
01:42:21.525 - 01:42:32.125, Speaker A: Sure. Easy. Any hot takes from you guys on the kind of general trend of sex and Dex volumes and like Dex volumes are increasing. Right.
01:42:32.165 - 01:42:32.295, Speaker D: So.
01:42:32.325 - 01:42:49.635, Speaker A: So how fast do you think this development is increasing or are we going to stay in this? I don't even know. Is it 20% dex? Like 20% of the global DeFi volume is dex volume and 80% is sex volume? Something like that.
01:42:49.795 - 01:42:58.335, Speaker D: So I guess the question is basically if the Dex volume will take over and take, how to say the flip compared to the sex volume.
01:42:59.105 - 01:43:12.641, Speaker C: I don't think anytime soon. Hopefully in a few years. But as of now I don't see an indication of that happening. Not to speculate or anything, but yeah.
01:43:12.833 - 01:43:55.237, Speaker B: I think Angstrom will on board the next trillion. So I think as soon as we launch we'll probably flip easily. Yeah, I think we're actually in a flip tradfi by probably first week. So yeah, those are my thoughts on that. No, but seriously though, I think most of the Dex volume increases are just like increasing sophistication and arbitrage and innovative ways to extract money and do wealth transfer from uninformed retail to the best like HFT shops and MEV shops. So I think that you can throw probably 70 to 80% of that volume in the bin and label that toxic flow. So yeah, increase, yes, positive increase.
01:43:55.237 - 01:44:36.327, Speaker B: Not necessarily. Probably. I mean top uniswap counterparty slash like traders are Jared, SCP and Wintermute. You know, like literally top three. Which you know, it sounds bad, kind of makes sense but is also like kind of wild when you see how much it is compared to just like general volume. You can see it on Etherscan when you go to a pool and you look at like transactions for the contract and then you just see execute ffseo like for fuck's sake, yo. Which is their function like selector and it's just all of the transactions and I will like regularly go on pools when I'm like checking an arb I'm like this might be a false positive.
01:44:36.327 - 01:44:50.061, Speaker B: Look at transactions, 50 of them are the same address with same function signature and we all know what's going on there. So we're getting there slowly, slowly. But I think we need like sustainable and reliable markets before we can get anywhere close.
01:44:50.213 - 01:45:50.509, Speaker D: I mean I sense strong new defi builder vibe from the bold goals or like the ambitious goals about adoption. But yeah, I feel like people who have been in the cycles of a few bear and bull market cycles are much more burnt out from those like the Defi founders. But yeah, I appreciate the bullish energy and of course like hoping that will, you know, be true. Okay, so I have a chart crime that's related to MeV data that I want to share. So basically there was this tweet on basically some L2MEV numbers and I basically had some discussion in DM with Muhammad, he's a analyst analyst from Delphi Digital. And we were pretty much just looking at actually the data set that Dolby built on Dune. But one specific thing to call out is that like in Dolby's data set it's talking about trading volume.
01:45:50.509 - 01:46:14.119, Speaker D: It's not talking about like the revenue from Searcher or profits from Searcher. Right. You could derive those. But pretty much like the most thing to note here is that it's about like when we say like there's 3.9 billion atomic arbitrage volume, it's about trading volume. But I want to say like the trading volume for MEV doesn't make sense pretty much. Or it's a vanity metrics similar to tvl.
01:46:14.119 - 01:46:59.645, Speaker D: Right. So actually like Ukif, also from Cerella Labs had a comment here which is basically about this point. It's very easy for people to mislead to think that okay, there's like 3.9 billion arbitrage revenue extracted by Searcher, but really it's about volume involved in the trades or swaps. But if you think further, it's actually a counter, how to say index because as what we discussed earlier with Boxer, the deeper liquidity it is for some pools, the more volume it will occur when you try to do a sandwich. And so actually the higher volume sandwiching is a healthy index for less. How to say like for the pool if that makes sense.
01:46:59.645 - 01:47:49.695, Speaker D: Because like the deeper liquidity it is the pool, the better the pool is for the users to access price without much like slippage or anything. Yeah. So like for example if you look at here, if we look simply out of one sandwiching transaction, say this one, like Jared is sandwiching a Xerox user who unfortunately sent the transaction into the mempool. If you look at the first transaction, Jared spent like this much money into the pool. And so basically Jared got this much USDC, so 7220 USDC. And in the end how much profit does he make? Really? It's like 20 bucks. So like he spent $7,000 to make 20 bucks.
01:47:49.695 - 01:48:15.947, Speaker D: It's just saying that like sandwiching is actually very not capital efficient MEV strategy. And if you're reading into like the MEV volume. It's not really a good index to say yeah anything about mev but yeah, I mean appreciate the shout outs on public in Twitter but I think we should probably be careful when we talk about MEV volume if that makes sense.
01:48:16.131 - 01:48:52.505, Speaker E: I would like to defend my data sets. Yeah so that my book my goal was never like to single up profit here but like Cloud Vic said before like labeling kind of this Dex volume and trying to make sense of you know, what percentage makes up mev, what percentage makes up the rest and whatever. Kind of similar to I did this on NFT where I labeled like wash trading and here I'm trying to you know segment out Dex volume into retail MEV and other kind of things. And I mean it's been misinterpreted a bit like just the data set the way I published it has been fairly.
01:48:52.545 - 01:48:54.217, Speaker B: Clear that this is my intent.
01:48:54.281 - 01:49:03.485, Speaker E: But whatever I guess it's been since it's on Dune in public anyone can use it and misinterpret it just from the name. But yeah it is what it is.
01:49:05.875 - 01:49:31.695, Speaker B: Isn't that like common joke about San Jose like moving the like GDP of a small African country to make 12 cents like when like they're they're flash loaning like 50 mil or 500 mil and they end up like post cost with like 12 bucks or like I think I saw one where was like it was 50 mil and it was 12 cents in profit. Like that's, that's wild.
01:49:32.155 - 01:49:37.495, Speaker D: Yeah. Yeah. Pay and paying like $12 probably in gas fee.
01:49:37.955 - 01:50:15.085, Speaker A: Yeah but wait Danning, so your the argument you were trying to formulate is sandwich volume per se is not a good measure of kind of anything because like the cheaper the fees the higher like the volumes can be. So like by definition on L2s they're there's going to be like high sandwich volumes just because like if you do a swap like this where you like spend or like Your inventory is 50 million or you might even flash loan money or something. So like the like cheaper the costs to do this operation the higher the sandwich volume is going to be.
01:50:16.425 - 01:51:01.815, Speaker D: My point is like basically saying like the sandwich volume doesn't directly correlate the. I mean I guess there's some correlation but it doesn't reflect what how much profits and exactly how much like slippage user are suffering or anything. It just says how much you have to spend to move the liquidity in the pool because the higher volume it is means you have to make a bigger trade to cross the Ticker, which means the pool is more concentrated, which means it's a good metrics for the pool. So it's kind of like a counter actually indicator, if that makes sense. People usually would think the higher volume for the sandwich is worse because more sandwiching, more users suffering, but it's not true. It's actually meaning that the pool is pretty healthy.
01:51:03.395 - 01:52:13.629, Speaker B: You're probably right across the board, but I think that there is a consideration to be had in terms of it also being somewhat of a proxy for. So it's probably liquidity, depth, sophistication of end user in terms of slippage tolerance and then availability of flash loan liquidity. And then finally if we're USD denominating this stuff and you're using the price of the pool as the value of the asset that is being pushed through, if the slippage is really wide, then if you're marking it at the peak pricing, I hope you probably wouldn't do that. Most likely. But if you do some weird stuff where you're marking the value of the assets in terms of USD volume at peak volume price, then it's mostly a slippage tolerance proxy. But I'm assuming it was done correctly. I think in most part you're probably right, but there's that tiny consideration.
01:52:13.787 - 01:52:36.193, Speaker A: All right kids, be careful when looking at MEV data. And with that I think this was another episode of the Index podcast. Thank you for listening. Thank you Joseph and Ludwig for coming on. I think we certainly, or Dobby and me are mostly the pupil here. We are always learning about MEV on these episodes. So I certainly learned something today.
01:52:36.193 - 01:52:51.565, Speaker A: I think the data pipeline that you guys build is super exciting. I wish I had that in Dune. I'm thinking if we could host an instance or something. I mean it's open source, right? You guys wouldn't be, wouldn't be offended or anything.
01:52:51.945 - 01:52:53.609, Speaker B: So I'd be more than happy.
01:52:53.737 - 01:53:19.473, Speaker A: Yeah, I don't know. Always, always cool to see. And yeah, now I'm excited for the launch of Angstrom to see on chain volume go into the trillions and to bring on the next billion users and they can, they can trade in peace from the MEV searchers and Jared is finally going to have a bad day, I guess. But yeah. Thank you everyone for listening. Thanks for coming on. Catch you in two weeks.
01:53:19.569 - 01:53:40.755, Speaker B: Bye bye. Uncovering public secrets in the blockchain shape Bachelor cherry picking liar we call them out.
