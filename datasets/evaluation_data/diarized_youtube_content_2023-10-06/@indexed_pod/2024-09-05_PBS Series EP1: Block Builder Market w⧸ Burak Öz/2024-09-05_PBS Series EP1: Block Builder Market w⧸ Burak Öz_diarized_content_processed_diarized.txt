00:00:00.280 - 00:00:33.565, Speaker A: Hey everyone. Boxer here with a short pre podcast notice. This episode was based on a research paper from Brook and Denning which had a lot of charts and a lot of graphs and a lot of very dense research material in it. We tried our best to make this accessible for audio only listeners, but we did not always succeed. So we suggest having this open on the second screen or, or maybe your phone or something. We will try to do better for future episodes. Hello everyone.
00:00:33.565 - 00:01:35.807, Speaker A: Welcome to another episode of the Index podcast where the three of us come together every couple of weeks to discuss the latest in chart crimes, metrics that move to crypto industry and now also latest research. So with me today, I have Denning on Chain Corgi at Flashbots and Burak, an actual professional researcher from TU Munich. And I am Boxer, the community powerhouse at Dune. Before we get into the meat of this episode, nothing we say here should be relied upon as legal, financial, investment, tax or even life advice. We are acting independently of our respective professional worlds. And today Burak is joining us because Denning and Burak and Thomas Thierry have worked together on a research paper which has the nice name of who wins Ethereum Block building auctions and why. But before we get into that, Burak, welcome to the podcast.
00:01:35.807 - 00:01:53.545, Speaker A: Very happy to have you on and discuss this exciting research. But maybe just for our listeners who might not be aware of you, how did you end up in this strange world of mbv? Like maybe from your university? Like how did you like specialize on this specific thing?
00:01:53.845 - 00:03:09.545, Speaker B: Yeah, yeah, thanks a lot for having me. So I've been doing my PhD at Technical University of Munich for the past three years, since August 2021. And I had some background in game theory and auction theory and some blockchain based systems and community was becoming like a thing when I started my PhD. So yeah, like I think in my first month or something I got like hooked into it and then it was like down the rabbit hole. A lot of reading, getting into a problem space and then producing research finally in the past one year and so on. And yeah, we met with Danning through this research fellowship program called the Latest in Defi Research, or TLDR for short, which is funded by Uniswap foundation. And Denning was my like counsel and Thomas was my mentor in the program and we simply worked on this problem for the, well, not exactly past six months, but starting from October 2023 until simply when the paper came out.
00:03:09.545 - 00:03:13.185, Speaker B: And yeah, that's how I ended up here.
00:03:14.445 - 00:03:30.429, Speaker A: Interesting. So you're the academic part to this and Denning obviously works at flashbots. Thomas Thierry is part of the Ethereum Foundation. So you kind of found two people who work in the industry to kind of also help you do this research. Is that a correct assessment?
00:03:30.597 - 00:04:07.285, Speaker B: I mean, I think all of us did parts from all sides, but yeah, I mean, Denning and Thomas definitely has more insights into the industry and they provide with me a lot of insights actually throughout the project. Like, I could, I don't know, create a chart, like try to analyze something and then something doesn't make sense to me. And then they actually know this happens because of this or something. There's a deal. And so I think like a paper like this really wouldn't have been possible without their insights and like actually experience in the industry and the knowledge.
00:04:07.785 - 00:04:14.685, Speaker A: Yeah, yeah, I was more getting at Denning. You wouldn't have written a paper on your own. No, no, no.
00:04:15.065 - 00:04:52.485, Speaker C: Yeah. I think my set of motivation is a little bit like, there's so much data I like deal with every day and like there's so many like, secrets or like dirty secrets, like going on. Heard it from this searcher, that searcher, and you can see that sometimes on data. And I really want to formalize all this analysis and this great opportunity to work with Burak. He taught me a lot and he carried over a lot of paper writing. And we also got the paper accepted into aft, which is a pretty good academic conference. And he was handling all those like, okay, with this timeline, we should try to shoot it for this conference and this one.
00:04:52.485 - 00:06:08.615, Speaker C: So yeah, I learned a lot about how to do industry research, but put them into like a academic research level. I think, like, initially I mentioned in the last episode's teaser that I we found this data website called payload de where they showed like over the 12 seconds, how did all the bits come in into the auction and then how, which one win with what value? They also had like a composition decomposition for the block content of like, oh, you see like Dex or mev always take the top of block, et cetera. And I thought that was like a really good like high level labeling, but we could go deeper. And so basically the whole research started with me and Burak jamming on like, how can we do a taxonomy of labeling all kinds of transactions and how can we categorize their value? And also Thomas chimed in later to also help Brooke to do the machine learning part and analyze the results. And he also is very helpful to help us to like highlight some discussion on what the future EPBs, future direction can go, you know, in relation to his work at ef. But yeah, I think Burak is the carry for us, you know, to complete this whole paper.
00:06:08.955 - 00:07:02.055, Speaker A: But yeah, yeah, cool. Interesting, interesting background here. And I gotta say I learned a lot from this. And I think like with Defi, like I think Dune slogan is literally the revolution will not be reported quarterly. And everything is in live dashboards and stuff like that. But it's like if you actually just take a slice of time and you deeply analyze what's happening in that slice or like what happened in that slice of time, I think there's a lot like deeper insights that you can gain other than looking at like you could probably like build real time dashboards which would offer like similar insights, but it's just like, who does that? Like, nobody. And I think just like time boxing the research period, which you've done here From I think April 24th to on October 23rd until April 24th, somewhere around that time period and then just going really, really deep.
00:07:02.055 - 00:07:33.615, Speaker A: That seems to like. I think we can all learn a lot from that. So very, very cool. So maybe I think with that we can basically jump into the paper. I think that's about all the background we needed. And for that, or maybe we're recording a week or two weeks after. How's this called again? Stanford Blockchain Week, where you guys did a presentation, so a presentation on this exact paper.
00:07:33.615 - 00:08:04.351, Speaker A: So I think the best way to do this whole podcast is basically we're going to jump between kind of the slides, what I, what I've mentioned, and then also like just getting more contextual information. I think Burak, maybe if you can just walk me through the high level context here. And then I think we already got to stop because most of our audience will not be MEV aware, so we got to kind of roll back. But just talk me through the context setting that you guys did for this whole paper.
00:08:04.543 - 00:09:45.355, Speaker B: Sure. So our idea was that since the merge that happened on Ethereum in September 2022, the way that blocks are getting built has gone through a significant change, not necessarily on the protocol level, but simply this off chain implementation called MEV Boost came out, which was implemented by Flashbots and Ethereum foundation researchers. And this off chain protocol simply allows validators who were previously the miners or consensus participants who has the right to propose a block on the network. They can now simply say, okay, I outsource this task of building a block to external entities whom we name as builders, and we then simply say, okay, the builder who offers me the most money for getting the right to build this block. Well, I will just accept his bid, I will get paid, he will propose the block. And this is simply the idea and the reason why we need to implement a solution like this is that because the block content is, well, there could be discrepancies in block content in terms of the value that they provide to the entities who build these blocks. So before all these defi applications were more popular and so on, the blocks were simply having like say on, yeah, simply having these simple Ethereum transfers or like more simpler transactions interacting with smart contracts.
00:09:45.355 - 00:10:49.075, Speaker B: But the key thing was like a transact, like transactions were almost homogeneously paying fees to get included. So. And all of these transactions were usually available to all of the miners back then. So there wasn't really a competition regarding, oh, who builds the block which pays the most money? Because simply there weren't really that much discrepancies between the transactions. But with the evolving space and the defi applications coming out, these activities which we call like maximal extractable value, which simply is the name that like, by looking at a system in a certain state, what can you do to like extract the most value from it? And simply an arbitrage is an example for that. And with these activities becoming more popular, well, because these are like activities with high priority and high sensitivity to how they get executed, they also started offering more fees. And then miners who were able to access such transactions were able to build blocks which simply made them richer.
00:10:49.075 - 00:11:48.655, Speaker B: And then some miners, well, if they didn't have access to such transactions, they were still building the old simple blocks. And this created a discrepancy which is directly on the consensus level of the network, which is a super threat for us. So with this transition to proof of stake, which introduced validators, which has the now right to build blocks, we also wanted to separate these roles of building blocks and then also validating the network. So the consensus duties. And that's why MEV Boost came out. So that from the validator's perspective, now they don't need to deal with block building intricacies, but they simply say, okay, I will just choose the block which offers me the most money. And actually this competition of getting the most value out of a block or like building the most paying value is pushed to these builders who are actually professionally doing this job so the consensus participants, validators, don't have to deal with it.
00:11:48.655 - 00:12:34.753, Speaker B: And that's why we have this system called MEV Boost today. And the paper is simply about, okay, the SEMEV Boost market has been going on since the merge so almost two years now. And where we are today is a heavily monopolized market. Well, in the day that we did the study, it was by three builders. Now it's more like two builders. And of course, well, yeah, this means like as the numbers indicate on the slide, around 80% of all MEV boost block, which is like 90% of all Ethereum blocks, are only built by three entities, which is kind of conflicting, this decentralized ethos we have on Ethereum. But of course this is a trade off again.
00:12:34.753 - 00:13:11.995, Speaker B: Like this decision was made so that we protect the decentralization on the consensus side, on the validator side. But it comes with this drawback. And the whole point of the paper was, okay, we are here and we want to understand why we are here. So like, how do these guys become so successful? And yeah, that's what we looked into and we tried to identify those features which helped them to like build so many blocks and make so much profits. That was a long answer, but I tried to cover the whole landscape as well, like why we are here today.
00:13:12.115 - 00:13:54.645, Speaker A: Yeah, that was a good short history lesson. I think we need to double click on a few things here as some of our audience will probably not be familiar at all with mev. So you kind of went from okay in POV as the network was still pow. We also had maximal extractable value. But now after the merge, basically what happened is flashbots released MEV Boost, and now there's kind of this whole MEV pipeline. And I think there's some good articles. I think HASU wrote the first one on the MEV pipeline in wake of MEV Utopia, Dystopia and Amsterdam, but whatever.
00:13:54.645 - 00:14:22.697, Speaker A: And it's like, I think that for the first time for much of the industry kind of like shone in light on like, okay, this is actually what's happening behind the scenes. So maybe I think this is actually part of your paper. So if you could pull that up real quick and kind of walk us through this maybe first on a theoretical level and then maybe I can give you an example of like, I don't know, a swap or something and how that looks like going through this pipeline, I think that would be interesting.
00:14:22.881 - 00:15:26.065, Speaker C: I can chime in to explain this first and then Brooke can talk about like to add up stuff. So like, so Boxster, you asked about like, what is mev or what that really means to like a normal user on Dex. And my explanation to people usually or like try to Eli Fi is always like, so as a user you goes to a front end and you try to make a trade and you requested price, the price is not going to be what you're going to get in the end that the price you see in the front end is called quoted price. And that's based on what the liquidity distribution are when the person is requesting a front end. And then when the user submit their transaction to the wallets and then to the rpc it might go to a public mempool which is basically like storing all the pending transactions for the validator or the miner to basically put in the next block. But also you know, these days there's also like private RPC where you can send to private channels. So people can be avoid to avoid like amoeba attack or like sandwiching attack.
00:15:26.065 - 00:16:21.315, Speaker C: But yeah, normally then you go to public mempool there are these type of people called searchers. They're basically checking if all the incoming transaction in the next block or all the user who are trying to trade on say uniswap who are trading at the same direction or the opposite direction of what they want to trade. And so they can basically try to extract value based on other users trade and by adding a background or by adding a front run or by adding both to sandwich attack. So that's like one typical pipeline of how MEV searcher extract value. They find a transaction in the mempool and then try to send a bundle together with the user transaction and theirs to now to builders endpoints. You know after PBS implementation was MEP boost. So the builder is actually now the person is packing the transaction into a block.
00:16:21.315 - 00:17:06.771, Speaker C: They receive transaction from public mempool and also multiple like searchers bundles that are sending towards them. Or they might have some like order flow deal with some like front end who own the transactions. And then the builder will try to pack a block with the highest value because they will have to propose it to the proposer. They will have to bid it to the proposer and all proposer can see is a block hash and a value. That basically prevents proposer from being able to look at the block content and try to insert or remove transactions. But that also makes them just like a person who pick what's the value I'm going to get. Rational player would always pick the highest value for themselves.
00:17:06.771 - 00:18:01.151, Speaker C: So in this case the builder is competing to have a higher value to be accepted by a proposer. Of course everything goes through this thing called relay who supposedly is a neutral entity who is as a key component for PBS. In this design they will validate if the block received from builder is valid, like how to say complying with the block syntax and everything is a valid block and then they will make the block eligible or exposed to the proposer to be able to retrieve. Then the proposer basically will try to get the block and land it on chain. Here what we are looking at is basically the builder competition part. But I think by the way to add one explanation why MEV will affect the user. So once the.
00:18:01.151 - 00:19:05.295, Speaker C: I think the key reason is because Uniswap today, which is still like a dominant design of all the amm, the price goes on a curve or how to say, like even it's a order booked, how to say it like Uniswap V3, the order or sequence of retrieving the liquidity matters a lot to your price. And so if by the design of the Jose Ethereum blockchain, everyone should retrieve the lend their transaction based on their gas fee. But it's the design, but it's not always happening. So either block builder or in the past miner, they can arrange the order of the transaction arbitrarily and also the searcher can also bid higher gas fee to basically put their transaction before you or after you. So there's a lot of like transaction ordering can affect the final results and that's when MEV happens. So again like I feel like every everyone of us trying to explain something, it becomes a long explanation.
00:19:05.675 - 00:19:56.479, Speaker A: Yeah, no, but it's a complicated topic. I think that's fair. So if I repeat this back, basically if some party swaps a million USDC for ETH on the Uniswap front end then like let's say there's some MEV to be captured there. I don't know if like 1 million is enough to like actually or general or like maybe some like fringe meme token or something but like some, some amount of trades and they just submit that into public mempool. And then in the public mempool basically searches look at this public mempool and they're like oh, okay, like I can, I can front run them, I can back run them, I can do something with this trend, with this transaction. So then the searches are basically running like, I don't know, pathfinding algorithms to extract the maximal value or something like that. And then the searchers go okay, but how do I make sure that my transaction actually gets included into the block? So that's where the block builders come in.
00:19:56.479 - 00:20:30.645, Speaker A: So then the searcher kind of like bits or makes a bit to the block builder and is like okay, I will kind of bribe you with 0.1 eth or whatever to include my transaction into the block, I don't know. And like at the very top of the block or something like this. And then okay, then there's the builder. The builder gets bits from all amounts of people, like from searches. And then the builders also look at the public mempools since like you can't always be sure that there's enough searcher bits to come in. And also yeah, like my simple die transfer also needs to go through sometimes.
00:20:30.645 - 00:21:43.345, Speaker A: So then the builder kind of like constructs the maximal profitable thing for him, which is basically like okay, like searches will have bit and there's like things in a public mempool. And then the builder forwards his block towards a relay and I think there's like two, three, four relays, something like that. And I think you can point MEV boost to like look at different relays and then I guess like depending on which relay offers you the best, like the block with the highest tip for the validator, then the validator or the proposer actually chooses that block. So my poor, like my swap transaction will have kind of like there's computations all over the world that happen and like communication all over the world that happen just because like I submitted my swap to like trade whatever doge for Ethereum. So like okay, like I think like coming from the paradigm of like, okay, I submit my transaction into public mempool and like based on my, based on the gas fees, like it gets included or it stays there. That's like a whole new world. There's a whole new second infrastructure here.
00:21:43.345 - 00:22:17.471, Speaker A: And I think this wasn't even the case with. This was the case in 2017, 1918. I don't know when MEV first emerged. But okay, so now we've worked out, okay, there's all of these actors and all of these things are happening and now the precise. Or like you mentioned earlier that there's like an issue of censorship. So maybe if you could break this down on the validator level. Because I think that's what MEV Boost is trying to prevent or you were alluding that MEV boost is trying to prevent censorship from proposers.
00:22:17.471 - 00:22:21.235, Speaker A: And then how do block builders solve that?
00:22:22.135 - 00:23:15.747, Speaker B: Yeah, so okay, the issue with censorship is actually the issue at hand. So that's the issue that we have because of the structure of MEV Boost today. What MEV Boost or in general this design of proposer builder separation aim to achieve is simply validators or consensus of Ethereum not being influenced by the value that can be extracted by block building. So MEV per se. So the idea is every validator should be able to extract MEV in a homogeneous way. And then we avoid centralization because of MEV on the consensus side. But this then creates this market we have on the builder side, which is then prone to censorship because, well, three entities are building 80% of the blocks.
00:23:15.747 - 00:23:30.675, Speaker B: And then, yeah, if one of them or all of them say, okay, we are not accepting boxers transactions, well then you have like 20% chance of getting into the block. So maybe you have to wait four blocks and then you only get in the fifth block.
00:23:30.795 - 00:24:23.571, Speaker A: That makes a lot more sense than what I had in my head just now. And I think there was a time to just illustrate how significant this is. Where OFAC sanctioned transactions were not being included by a lot of block builders for a period, right. And then I think eventually they were all like, yeah, fuck this, we're just going to include them again. I don't know about the exact history and we don't need to go that down that rabbit hole. But like that, that's just one example where it's like, okay, you could no longer submit a transaction like depositing eth into Tornado if the block was mined by like, I don't know, one of one of the like major block builders at the time or even a tiny one because they were just like, okay, this is too risky for us. We, we are under threat of being, I don't know, prosecuted by the U.S.
00:24:23.571 - 00:24:41.435, Speaker A: treasury or the like some U.S. justice departments. So we're just not going to do that. So all of our algorithms are not no longer only driven towards profitability, but now also for kind of legal compliance or something. That was probably fun code to write.
00:24:42.015 - 00:24:45.315, Speaker B: Yeah, okay, that's the exact idea.
00:24:45.735 - 00:25:25.627, Speaker A: Okay, now we have understood the. I hope our audience is with us in this MEV pipeline. And now we will try to understand, okay, these block builders are very centralized. And why are they very centralized? Maybe. What are properties that make them very centralized? So maybe burak, you already have the paper open and if you just go back to the presentation and then I think if you just walk us through the first slide, which is basically breaks down or introduces the concept of brt, which is beaver build, arsing and Titan.
00:25:25.731 - 00:26:34.141, Speaker B: This is from our slides that we did at the MEV SPC workshop by Flashbots two weeks ago. This is one of our measurements that we did on the block builder market. So simply like we first wanted to understand where we stand and what we see here is that in the Period that we covered, which is from October 2023 until end of March 2024. We see that these three builders on average have around 80% market share cumulatively. And we can also see some trends here that, okay, Beaver Build and Titan, which is shown by purple and green on the chart, are actually increasing their market share and Arsync is relatively having a smaller market share. And then on this chart in the middle, we actually looked at their profit or cumulative profit over time. And one interesting takeaway here is that purple is again now denoting Titan.
00:26:34.141 - 00:27:38.011, Speaker B: And we see that Titan is getting like much more profitable over time, especially after February, whereas like Beaver or Rsync have more stable increase in that matter. And interestingly, Titan ends up having more profit in total than Rsync, although Arsync, as we also show in the paper, has a higher market share. So this was an interesting result. And we also will look into why this can be the reason. And then we also looked at like how their profit margin changed daily. And the key takeaway here is that the green and the orange lines which are Beaver and Rsync, again they have like less fluctuations compared to Titan who has base which is like in the negative zone. So this red highlighted zone which indicates that they were on average like had a negative profit margin that day.
00:27:38.011 - 00:27:44.135, Speaker B: And again we can go into the details of why this may happen.
00:27:44.755 - 00:28:04.105, Speaker A: Yeah, there's a double clicking on a bunch of things here. So Beaver, Build, Rsync and Titan, those are all like very undescriptive names. So like is there any inclination to like are these people public or is it just like, is it secret cabals or like how can I think about these organizations?
00:28:05.165 - 00:28:20.663, Speaker B: I think Danny can provide further insights here. I know Titan is public, has a Twitter address. And then yeah, we know the trading companies behind Beaver and Narsync, but okay.
00:28:20.719 - 00:29:16.245, Speaker C: I mean, so I think like in the beginning when they all came up, nobody knows who they are, especially Beaver and Rsync came up. It's all just like a bunch of like Anonymous, you know, like crypto, Twitter people and there, there's all other like type of builders like Penguin and like Jet Builder and like. But then I think, you know, through the conferences we saw like people and then we know that Tiedem Builder is a neutral builder. They basically really trying to specialize in block building. They're trying to improve their performance in their infra latency and they try to create a lot of innovative features. And meanwhile we found out a lot of people found that Beaver and Rsync seems to have some exclusive order flow from the biggest searchers. So basically Wintermute and SAP who are also the biggest MEV training firm and the market makers in Defi.
00:29:16.245 - 00:29:34.245, Speaker C: Like we've some people started noticing that like a lot of the Winter Mu labeled addresses their transactions are only observed in the R sync blocks and similar thing for SCP to beaver. And so I, I think over time it's being revealed that they are actually these two big trading firm actually.
00:29:35.305 - 00:29:49.825, Speaker A: Okay, that's pretty interesting. Yeah, I think the perception of the soul space would be very different if it would be like Winter Mute Block builder. It's good that they have a pseudonym there.
00:29:51.125 - 00:30:15.695, Speaker C: Okay. I think they have some sense of humor because they also have different names when they do the solving in different platform. You would notice that the same address is also handling all the transactions handled by resolver solver on 1 inch fusion which is a funny name. And then. Okay, Resolver is also intermute entity.
00:30:16.355 - 00:30:42.551, Speaker A: Okay, okay, interesting, interesting. Okay, second question here. So profit margin I can kind of probably think about in terms of how much do I pay to the validator to get my block proposed or like included in the chain and then versus what do I get back from searches and stuff like that? Is that.
00:30:42.663 - 00:31:39.844, Speaker B: Yeah, exactly, that's the correct idea. So if say the block has in total like 10 ETH in transaction fees that goes to the builder. Well like that's like the first auction that happens that is like users searchers are paying to the builders for getting some block space. But then of course if the builder can't land this block on chain it means nothing. So the builder has to then offer some percent of this fee or maybe even more which we call subsidy on top to the validator. And then based on the ratio of how much the builder initially got versus how much he paid, we calculate this profit margin. So out of the 10 ETH for example he got from the transaction fees, if he paid like 9 ETH to the validator, well then he kept 1 ETH.
00:31:39.844 - 00:31:42.455, Speaker B: So his profit margin would have been 10%.
00:31:43.315 - 00:32:48.065, Speaker C: Yeah, to caveat on this as well because I think people refer to MEV in many different senses. But similarly, but kind of confusing because like I think MEV study started with like by Flashbots and also later on there's like very good data websites like I can find and now Libmev.com is the best I would say rated by searchers. The MEV those websites measures is basically how much value are extracted by searcher and basically searcher profits out of all the mev Transactions. But here when we say MEV for transactions, when we define MEV value for order flow, we basically see all the transactions, how much the gas priority fee they pay plus the builder tip they send to if they do. So we deduct base fee because base fee is burned. Basically this MEV value from order flow indicates how much potential of total builder plus proposal revenue will be.
00:32:48.065 - 00:32:53.193, Speaker C: That's different from the searcher mev. When we talk in the past, yeah.
00:32:53.329 - 00:33:07.337, Speaker A: I think Titan here has a bunch of negative days in like February early or like late January. How does that make any sense? Is there any inclination as to what happened there?
00:33:07.521 - 00:34:02.399, Speaker B: Yeah, so the idea there is this. So of course this is a daily average first of all. And yeah, it could be that maybe they had one block which was really profitable and then in some other blocks which they were maybe unprofitable but losing not that big amounts. Well, because we averaged then it looks like this. But the more interesting takeaway here is that. And again the results of the paper also converge to this, is that the builders who Banning all just mentioned, such as Beaver Build or Rsync, who are associated with these trading firms, which means that they have transactions, they have order flow which other builders potentially don't have access to. Well then they can have a more consistent stream of profits coming because they have this order flow coming consistently.
00:34:02.399 - 00:34:33.195, Speaker B: Whereas builders like Titan or any builder who doesn't really have their own searcher running, they're dependent on external entities, external searchers. So then when they provide order flow to Titan, yes, they can win and profit and so on. But when that's not there, they simply have to either not make any profits or sometimes even lose money in that case. So that's why the consistent order flow stream is pretty critical for builders.
00:34:34.775 - 00:35:05.905, Speaker A: Okay. So that's why the vertical integration for those two trading firms is such a good deal, seemingly. Okay, I see. So now we've kind of understood the high level market. I think if you go one slide ahead, you basically work out only 10 builders have 1% market share or more. Together they produced 79% of the blocks. So I don't know, the genie coefficient for this would be absolutely horrible.
00:35:05.905 - 00:35:25.979, Speaker A: So this market is very, very centralized and not even like you can't even say like there's a long, long tail which is like picking up some transactions. It's like there's some long tail, but like it's not, it's not really like super diversified. But I guess there at least there's some other people who would, who can pick up the slack.
00:35:26.147 - 00:36:35.261, Speaker B: Yeah, so like, we measured the builders who build produce blocks in that time range that we analyzed and we found like 39 builders producing at least one block in this range. But as written here, only 10 of them have like a market share closer to 1% or higher. And yeah, these 10 builders together have like 97.67% of all blocks built. But the interesting thing here is that, like, as maybe I can plop this chart which is showing the profits of the builders on the total profit they made on Y axis and their profit margin on X axis, and then the sizes of these scatter points indicating their market share. We see some builders on this right top which have like a high total profit and a high profit margin which build not so many blocks. And this really made us question, okay, these guys, they are not winning the auction that often, but they are really profitable.
00:36:35.261 - 00:37:23.513, Speaker B: So we want to understand this as well. So, yes, these major block builders, Beaver Build, Titan Rsync, you can see their large bubbles or also other considerable builders like flashbots and so on here. But you also see such builders on this right top or you see some builders on the left bottom which are like low profit margin. And in total, they are losing money actually. And we want to understand, like, okay, why is this guy here, why is he even involved in this? And so, yes, this 10 builders matter, but also the whole picture can also say some thing about, okay, how can you actually win blocks versus also how you can be profitable and so on.
00:37:23.569 - 00:38:11.735, Speaker C: Yeah, I mean, we can give the audience the answers on a high level. I think if you go to that bubble chart, we basically from this analysis or research understood that basically the small purple bubbles where they have high profit margin but super small market share are mostly searcher builders. So basically these are the peoples who are actually searcher. They just want to land a block with their transaction in it. So when they see their blocks, it's like a block of 4 app transactions only, or a block of 5, 9 transactions at most. And they're trying to front running or sandwiching some transactions and they don't even care to land other transaction in the mempool because smaller blocks will be processed faster in the relay. So to reduce latency and stuff.
00:38:11.735 - 00:38:54.861, Speaker C: But yeah, when they do it, they have a high alpha and they try to, they will have really high profits. And like at the meantime, you see, T builder is the one that's on the lower side in the corner who has relatively a good market share, but like low profit and low profit margin. Like, why is this guy Just subsidizing or like losing money like making blocks the whole time. And the answer is that actually they are also associated with a market maker and they're trying to land their flow on the solver platform from one intrusion and so they probably is making money somewhere else but from just the block builders profit, you see, they're like losing money.
00:38:55.053 - 00:39:23.621, Speaker B: Exactly. Actually our latest research which isn't involved in this paper also confirms this. So yeah, yeah, as Denning says, builders who have their exclusive order flow providers, like their own searchers or their market makers, whatever, well then they don't really need to build that many blocks but when they build it they can have real high profits. And this is what we also see here.
00:39:23.733 - 00:39:57.959, Speaker A: Okay, very interesting. So basically there's a bunch of searches. We're just like okay, I want to absolutely make sure that my transactions get included in this block and like I'm going to sacrifice a lot of other stuff and like I'm just going to build like the bare bones builder infrastructure. I'm not going to bother to even include like any public mempool stuff or whatever and like get bits from other searches. It's just like my own search. A bit is like the only thing that counts and like I'll just include that into the block and then do you have any examples of such transactions? Like did you, did you look into that?
00:39:58.157 - 00:40:33.027, Speaker C: Yeah, yeah. So for example like I can add block I think is the searcher called frontrunner yank. Like if you go into a blog of this builder you will see like it's basically the front runner yuank searching ad transactions and thank you for the block is from Another searcher called 0x Coffee Babe. He's a famous like front runner white hacker. So like when there's like an exploit in any protocol he will do like a front running transaction too save the protocol. So you see like he's thank you for the blog. He's a really polite guy and really nice guy.
00:40:33.027 - 00:41:14.709, Speaker C: But yeah, I think when you look at those transactions the reason why they do that is because if you have alpha or some kind of searching strategy you don't trust other builders who might be also searching. And so you wouldn't want to send your bundles to others which might be censored or might be copied. Might be like you know, extracted with some profits. Like if you are trying to make 30eth profits and other builder going to take 10eth out of it and like give the block the proposer only one eth they may not even lend your transactions. Why don't you just give the proposal 2 ETH or like, you know, just slightly more out of the profits.
00:41:14.797 - 00:41:54.399, Speaker A: It's very time sensitive. Like sometimes it can be very time sensitive. Sometimes, like there might be transactions where it's not that time sensitive, but usually it should be. Okay, interesting. So basically, like, even with all the research that you guys have done, it's like, it's very hard to actually get an insight into. Like, okay, what are the motivations here? You can kind of like this T bill example where it's like, okay, they're a market maker, their solver in this 1 inch solver model or maybe also in coswap, I don't know. And they have like very different set of motivations here, but they're just like, ah, I need to get these transactions settled so like I can fulfill my sovereign duties.
00:41:54.399 - 00:42:44.235, Speaker A: And maybe like, I don't know, they're like doing some cross chain arbitrages to like settle their trades or some like complex stuff like that. Okay, so I think that's like, okay, it just gets deeper and deeper the more you think about this. But I think like you guys did a bunch of research on and like, if you can scroll down a bit. Burak Denning, you specifically made you kind of build a framework on. Okay, there's kind of two, not only two, but I think on a broad scale there's like, okay, was this transaction public, private or IFA order flow auctions and then what actually happened in a transaction? So maybe if you could just walk us through the findings that you had.
00:42:44.615 - 00:43:59.357, Speaker C: Yeah, I think the question you were having is exactly why we try to dig deeper and try to label all the transactions by type and understand why these people do this, why these people do that. Me and Brooke designed this framework to basically see what are all the labels we can extract and try to make them how to say, don't overlap and confound it with each other. The first layer of label is using the Mempool dumpster data, which labels if a transaction was seen in public, mempool or not, by a Flashbot team member. It's also on Dune. So anyone can basically join with transaction hash to see if it was in Mempool or not. With that, we label public signal, exclusive signal. We also try to like categorize ofa bundles separately because it kind of makes so ofa bundle means like if there was a transaction sent by user to a private endpoint, like a map blocker or mem share by fastwas or you know, like the map blockers by Coswap where they will send their privately but it's exposed to a set of searchers or basically some design like for a map blocker.
00:43:59.357 - 00:44:41.227, Speaker C: It's permissionless. Anyone can listen to the endpoints and try to insert a bundle but they also have some other mechanism to protect the transaction being sandwiched and others. And then the searcher will try to add a background that's also a promise on those platform that basically the searcher can only background rather than doing any front on sandwiching because background doesn't really hurt users prices but instead actually clear out the abstraction opportunity. And so but then now this bundle together makes the transaction neither a public transaction or a private transaction, if that makes sense. So we kind of like separated them because they may carry a different implication than me value as well.
00:44:41.291 - 00:45:23.237, Speaker A: Repeat back. That's this concept of like I go somewhere and the application kind of captures the MEV and gives it back to me, right? Which is like cow swap. Cows are kind of like. I think in their marketing they say like okay, if there's MEV to be captured, one of our searchers silvers whatever is gonna do this. And this is basically ofa bundles where if my trade actually opens up an arbitrage opportunity or something like this, an opportunity for a searcher basically the searcher is gonna keep part of my like of the, of the arbitrage that opens up. But they basically give me back like 95, 90, something like that. Okay, so three types of transactions.
00:45:23.237 - 00:45:34.785, Speaker A: One is I just like raw dock my transactions into the mempool which is not advisable today. Then the second one exclusive signal. Do you do have examples for this?
00:45:35.445 - 00:46:19.557, Speaker C: Mostly for example like the searching flow from say rsync or from Beaver. So basically those big sex decks arbitrage searchers who also have their own builders then their transaction will never be exposed in mempool or anything. They will just add it into their own block. That's one example. There's also a lot of telegram bots. Transactions are these days like sent to private endpoints because they know that their trades are most like meme coin loan tail that can be sandwiched or can be amebia tagged basically. And we also saw a bunch of solver transactions that are sending to the private channels because I think most of time it's basically decided by how are the transactions submitted.
00:46:19.557 - 00:47:17.655, Speaker C: Because if you are a normal transaction, usually it's user they send in their metamask wallet and they set their RPC in their metamask wallet or if they don't set it it's going to by default by like inferior public node or something. And so normal retail user wouldn't have much of like idea of like oh, they must use the private endpoint Point we do see around like 20, 30% of DEX trades volume from retail are actually using private. But that's basically the adoption level. But whenever the transaction is settled by solver instead who is a more sophisticated player or telegram bots who basically is the telegram bot team is settling your transaction, they know what to do. Right. And they will send to exclusive signal if that makes sense. And I think one thing to point out on that label, what we see is that like overall right now, I think there's one chart below it to show that right now we're seeing like private mempool adoption more and more.
00:47:17.655 - 00:48:48.337, Speaker C: And today the percentage of all the transaction goes to private Mempool is around 30%. So some people would like make a statement saying like the Ethereum public mempool is drying up. That might be a little bit like exaggerating but we definitely see a shift from transaction goes to public mempool to private. This could have some problems because imagine all the services that's trying to estimate the gas fee for the next block and provide to different applications that will go off now because majority of transactions that will actually affect the gas fee for next block are not going to public manpool who carries MEV value. One other thing to point out in this chart is that we see that like the comparison of like 8020 rule where like the Pareto rule where like you see the green is the public transactions who consume 80% of a gas fee who only carries around 30 or 40% of MEV value and the 20% of private or exclusive signal are carrying more than 60% of the MEV value. So it's again like a very small amount of MEV rich transactions is actually taking very little block space but carrying a lot of value. Yeah, but going back to the taxonomy slide, besides the transparency label, we also try to label the content of the transactions.
00:48:48.337 - 00:49:54.931, Speaker C: So we call them order flow labels. We categorize them as a few big category as if it's a mev transaction, if it's a telegram bot transaction who actually is retail. But it's submitted differently and usually indicate a different set of dex trades like long tail meme, coin or token, snipe, etc. And then solver model which is also retail flow but it's settled or submitted by the solver rather than the retail user and then centralized exchange. So meaning like If I have money on Coinbase and I said I want to send it to my like Metamask wallet, Coinbase will make a deposit transactions. So it's like centralized deposits and then swap flow, so including retail, meaning like all the front end, Matcha, Uniswap, one inch front end but not the solver part. And within the swap flow we also leave all the like transactions that we can't identify who is the front end or like what the router does as a bot swap.
00:49:54.931 - 00:50:46.395, Speaker C: And also we didn't capture them in the MEV transaction. So it's likely maybe like some bots swapping their assets or potentially some other MEV transaction we didn't capture. And then OFA and then all the other transactions, including if they are public or if they're exclusive by the transparency label. And under MEV we categorize atomic and non atomic and sandwich and liquidation. And atomic basically means like if the transaction guarantees that they will swap from one pool and then sell it in another pool and make the profits like atomically. And now atomic, in other words is called a stat arb, so statistical arb or basically they're going to have some sort of model to predict how much profits they have. They might do it like one leg on dex, one leg on sex.
00:50:46.395 - 00:51:23.815, Speaker C: All these MEV data sets, we used it through multiple sources, including zero map data, which is essentially the MAV inspect implementation. We also used the tables that had all be built on Dune. We also had some other heuristics that we built by ourselves. To categorize Sextex. For Telegram bots we used a dataset built by Whalehunter and so it includes like more than 20 or Telegram bots. But we only identified Banana Gun and Maestro as the biggest value contributor. So yeah, so that's pretty much how we labeled them.
00:51:24.595 - 00:51:24.931, Speaker A: Yeah.
00:51:24.963 - 00:52:04.275, Speaker C: And then, and then there was a, there was a chart I think two slides down where we showed that. I think. Yeah, one more. I mean this chart also showed that basically the transactions with how to say who are more like exclusive will carry how to say higher. Higher value. We also labeled them by, on the right side by the builders. So we can you generally see that lower builders meaning like higher market share will have more exclusive transactions in general and yeah, next one.
00:52:04.275 - 00:53:04.595, Speaker C: Yeah, for this one we basically are showing the time series of all the transactions on Ethereum. How does the MEU value looks like? By different category and it's again like the 8020 rule. So on the right side the time series chart is showing the gas assumption or block space consumption and on the left side it's the MEV value and you would see the big red and the pink who are basically consume most of the gas are retail swap or other public and altogether on the left side they are probably only contributing to like 20 to 30% MEV value. And meanwhile like the tiny blue and the tiny green those are like non atomic arb and like sandwiching is consuming probably like 2% of gas fee. Oh sorry, gas consumption, gas used block space but they're like contributing to also around like 30 40% of ameb value.
00:53:05.735 - 00:54:56.071, Speaker B: Yeah, I think the key takeaway here is that like valuable order flow or valuable transactions in general. Valuable in the sense that valuable for the block builder, like valuable that they pay a lot of money to get involved in the block are usually relayed to the blockchain in a private manner. So they skip the public mempool and the transactions which actually use the public mempool they offer less fees and they are still consuming the most of the gas available or the block space available. One interesting insight here is that the gas used by private transactions or simply the block space that private transactions consume because like we limited our study to six months, they it pretty much looks like constant around 20% but we also did a study with a student where we tracked this, trace this back to November 2020 or something using the block native mempool data set and we see that actually over time one of the things that influenced the or yeah like which was correlated with the increase in the private transaction block space usage was the emergence of the order flow auction solutions like MEV Blocker and MEVShare. I think the share of private transactions increased around like yeah, three times or something when these solutions emerged. And this also highlights that like private transactions doesn't mean necessarily all searcher transactions. It also includes like users who are trying to get like a front running protection and so on.
00:54:56.071 - 00:55:22.075, Speaker B: So it's not necessarily oh, everyone is extracting value and 20% of the whole block is just extracting value. It's just meaning that users are not preferring to submit transactions publicly because they can get front run, they can get like exposed to an MEV attack and so on. So yeah, I think that's also an interesting angle like why we have transaction private transactions so prominent today.
00:55:22.495 - 00:55:37.965, Speaker C: Yeah, the number was around like two years ago. In the beginning of 2023 it was like 5% of private transactions and by the end of 2023 it was around 15 and nowadays it's around 32 as.
00:55:38.054 - 00:56:22.101, Speaker A: I just checked 34 actually okay, and some of this will be searchers, some of this will be just me swapping shitcoins in my Unibot app. And some of these will be people using services like MEV Protect from flashbots project RPC endpoints which are protected. And then there's probably a few more long tail cases. But basically what you're saying or trying to work out is it's not all searchers. There's actually there's legit use cases which are not like MEV extracting here where you could just want your transaction to be private.
00:56:22.253 - 00:57:01.547, Speaker C: Yeah. And I think a lot of this are driven by this block builder competition in the block auction. Because now block builder sees, okay, these front end has value, I'm going to go after them, try to get an exclusive order flow deal. Hey, send your transactions to just us. And so now we're seeing like more and more type of like features coming up and the privatization, you know, of the order flow market. One thing is basically showing that. It's basically saying that people are also realizing that there's a lot of value left out in the table to the MEV searcher and the builders rather than like the user and the front end application could have captured it.
00:57:01.547 - 00:58:10.155, Speaker C: And I think now there are, I think it's a good thing that like there's more and more how to say design that's trying to capture it. For example, MetaMask now have this smart transaction mode where user can opt in and say okay, yeah, you can send my transactions privately to a builder where they are doing another layer of auction like autofloction with the builder. So basically now whoever opt in into MetaMask smart transactions, their transaction will be sent to not the default RPC or the public RPC anymore, but taken as exclusive order flow by MetaMask team. And they will show it to the registered builder and the builder will bid on say I want to buy this flow. And whoever win will be able to handle this set of transactions to include it in their block and bid to the proposer. Which is great that at least we don't know if I'm not sure the details of how MetaMask is redistributing the value back to user. But at least now the value is captured by the front end and then later they can decide to the user or directly to the user.
00:58:10.155 - 00:58:17.079, Speaker C: We see the dynamic change shift of the value distribution in the whole settlement layer.
00:58:17.207 - 00:58:26.935, Speaker A: Okay, I see but we like surely we're not replicating Tradfa here where Robinhood sells the order flow to horses trading film called again.
00:58:26.975 - 00:58:28.875, Speaker C: Payment for order flow, you mean?
00:58:30.375 - 00:58:45.155, Speaker A: Yeah, Melvin Capital, something like that. No, Melvin Capital was the fund who blew up. There's. I think Robinhood is like selling the order flow to. How's this. Like there's one. There's one giant giant trading firm who's like.
00:58:45.155 - 00:59:01.985, Speaker A: But anyways, so basically now there's kind of. There's an analog here where it's like Metamask sells the order flow or like they say they expose this to like registered builders. Or like is it builders or is it searchers?
00:59:02.365 - 00:59:15.297, Speaker C: It's builders who might be searching too. But I'm sure there is like agreement that you're not allowed to like front run or sandwich our users. But it's not.
00:59:15.401 - 00:59:38.993, Speaker A: You can always say that. But okay, so so basically now if I use the like infura RPC endpoints or whatever that metamask is or like maybe. Yeah, if I opt into smart transactions then like instead of going to like a public MEM pool and everything like goes into like an ofa kind of like path or that the transaction can take. Okay, very interesting.
00:59:39.089 - 01:00:29.737, Speaker C: Yeah. I think we have another few charts right below the order flow composition. One where we saw. So I guess the most significant exclusive order flow deal we identified is from this chart that Brooke did where when we looked at all the order flow that are exclusive across the top three builders, we noticed something where you see this SCP yellow flow is only how to say observed in Beaver's block. You see this like darker yellow which is winter meter is only observed in rsync and you see that something is like the orange which is Banana Gun telegram bot. It's observed in everyone's block, but it's a lot more significant in Titan's block. And there is this correlation again like we always call out chart crime.
01:00:29.737 - 01:01:36.833, Speaker C: So this is a chart crime because we have this like black dots here which is showing the cumulative profits over time for builder. But the reason why we did this is because if you see the spike up for Titan, it's kind of like interestingly correlated with the spike of the orange which is when Banana Gun flow is a lot more observant. Here we pretty much, I think it's pretty much known secret now that they had they win basically Titan. I mean every builder was trying to get the deal with Banana Gun but I think Banana Gun, based on my interaction, I think they're actually a team even though their logo is in there like pretty crazy. But like I think there's actually a team with believe, you know I think they picked a tie down maybe because they are neutral builder. And one thing to note that like based on what we know the latest all these profits on Titan is basically a overcounting. So how the deal goes is basically now when Banana Gun have a bunch of transactions to be submitted for their users, they will give it to Titan exclusively.
01:01:36.833 - 01:02:22.439, Speaker C: Maybe they're also giving out some transactions that are not that profitable to other builders. That's why we see RNG in many builders for Bananagon. But for the most mev valuable transaction they send it to Titan only and they will prepay all the gas fee they were going to pay without this settlement arrangement. But then Tiedem will try their best to bid including the transactions to keep the profits. And later on they will redistribute I think 95% of their profits back to Nagam. So whatever we see here as a profits likely only 5% is actually kept by Titan. So there could also be a lot more work to be done to account builder profitability better.
01:02:22.439 - 01:02:26.615, Speaker C: And I think that's a follow up study Burak is interested in so.
01:02:26.695 - 01:03:12.727, Speaker B: Yeah, exactly. So that's why like we have this note here. This profit amounts that we calculate is simply just like adding up per block the value that they kept. But we don't know if this tells the full picture actually because well first of all if they're running their own searchers or I don't know if they have some off chain deals, some private valuation from the for the block, well they can be profiting like that as well. So the on chain profits doesn't really tell everything. And then of course as Denning explained if they have these payment for order flow deals where they have to refund some of the value that they got back. Well then again this Titans like really good performance like getting profits this much while not building that many blocks.
01:03:12.727 - 01:03:25.751, Speaker B: This could be actually misleading because well if half of this value is going or like 95% is going back to Banana, well maybe Titan will end up here and that will be then a different thing actually.
01:03:25.823 - 01:04:22.833, Speaker A: Yeah, definitely. Like the charts for Beaver and Arsync are like very, I don't know the rate of growth of the cumulative profits, it's very consistent. And the Titan one is like there's like a, there's like a very stark deviation from the, from the usual trend starting like almost February 1st. Like that would be funny if it started like exactly on the month start just like very like the deal goes in effect at like this date. Yeah, I guess you could compare it like if you, if you look at like a conglomerate of corporations and there's like you, you sell like you're like one like small like sub, sub, sub company of this like giant conglomerate and you like, I don't know, you sell screws to the parent company for a loss but like the whole like the whole operation makes sense, right? So like this is kind of the inverse here. Like maybe you're not operating at a loss but rather you're actually making a bunch of profits. But like those profits are not real profits.
01:04:22.833 - 01:04:45.471, Speaker A: And I guess this is like limitations of the research scope here and like I don't even know if you like, do you think you can even resolve this based like I think you have like a whole section on this in a paper of like there's like different addresses and we don't really know what's happening here. So what's your like, what's your current kind of state of thinking of? Like can you even like do the accurate accounting at one point in time?
01:04:45.623 - 01:05:33.451, Speaker B: Yeah, that's a really good question. So you can do accurate accounting for the stuff that you know about, obviously. And for example, like if when we identify that a builder is operating a searcher, which is, let's say doing, I don't know, simple arbitrage trades on chain, so just atomic arbitrage, well we have a good idea of how to calculate arbitrage profits. So we can just say okay, on top of this value that the guy got from the blocks, his searcher also made this much from the arbitrage. So maybe this is his total profit. But then when we say okay, the searcher is then making maybe sex decks arbitrage, so non atomic arbitrage, well then estimating the profits of that one is becoming more challenging. And this is something that I'm actually actively looking today.
01:05:33.451 - 01:06:26.069, Speaker B: But still you can have an idea there. But then for like as we mentioned in the beginning for builders like T builder who have market makers and solvers and so on, well then it kind of becomes almost impossible to track what's happening there because yeah, they have all these crazy deals going on. So then the only thing you can say is okay, this guy is operating a searcher. So if he is subsidizing this money on chain for paying his blocks or for winning the block, probably he is making at least this much off chain or not off chain but from his searcher or market maker, whatever. So like that's the best estimation I can come up with for those cases. But yeah, it's pretty difficult actually for these Searcher builders as the boxer was.
01:06:26.117 - 01:07:24.507, Speaker C: Pointing out, it's like all become tradified a little bit. It's like a lot of things become like closed door deal and off chain settlement or payment payback. I mean one plug for the thing we're working on at flashbots is that we're trying to build a decentralized builder so to basically trying to remove or avoid all this where you can trust some, you know, hardware like TEE and you can submit your order flow and that TEE will basically run the block building how to say algorithm so that nobody needs to like trust each other. It removes the trust assumption and it also removes the like the like stupid competition between subsidy and that which is a efficiency of the markets. Like everyone makes less money rather than and the proposer gets all of them as a monopoly player. But yeah, that's just a plug. But we'll see if that can be happened can be implemented, adopted.
01:07:24.507 - 01:07:25.215, Speaker C: Yeah.
01:07:25.595 - 01:07:54.081, Speaker A: I think one thing to note on this slide as well is the question I had at the very beginning. Who are Beaver Build, Rsync and Titan? I think this you can really work out here. Okay, SCPS very closely associated with Beaver Build and Winter Mute is very closely associated with Rsync. And then you put a few more contextual clues together and you can, I don't know, infer or maybe you could say that they're at least related.
01:07:54.233 - 01:09:13.245, Speaker B: So those relations like as you said, Beaver Build, scp, rsync, intermute and so on. We actually did this study which is in our results where we tried to identify such relationships using machine learning models. And you can find the details of this in the paper. But simply what this heatmap is telling us is that on the Y axis you see the block builders and then on the X axis you see exclusive private order flow providers. So this is your searchers like channels like Flashbus Protect or MEV Blocker Jared from Subway Banana Gun but also like scp, Winter Mute, Yoink Searcher and so on. And this decoding accuracy simply indicates that okay, if we see this searcher's transactions, let's say Searcher 83 in A block, can we identify who is the builder without knowing the builder of that block? And if it's a higher accuracy then we can do it accurately. And you see that and simply like what we show is that if you see a single color cell on a column that indicates that that searcher, that order flow provider is only providing value to a single builder.
01:09:13.245 - 01:10:02.259, Speaker B: So all these integration relations like SCP with Beaver Rsync, VINTIMUTE or as Danning said, yoink with Ican, Hasblock, it can all be identified here. And yet, just to spoil the final results, we have around 55% of the builders have at least one of such relations. We call them exclusive providers. And actually such builders have a higher profit profitability than those builders without any such deals. And it makes a lot of sense because, like, if you have an exclusive provider, well, then you have value that the other builders simply don't have access to. So while you are winning the auction, you can also simply just keep some delta, keep some profits that the other guys cannot do.
01:10:02.427 - 01:10:38.025, Speaker A: Yeah, it's very interesting. Like, I've never thought, like, I would have never even thought about, like trying to match that and seeing, like, does this actually, does this actually make sense? Okay, so to kind of progress in this whole thing. I think there's also, like, you did some research on where in the block transactions are included. So maybe if you could give a very quick primer on why does this actually matter? And when would I want to be at the top of the block, when would I want to be in the middle, and when would I want to be in the end?
01:10:38.185 - 01:11:50.231, Speaker B: Okay, yeah, sure. So the paper simply had like three parts where we first tried to, as Danning explained, identify these transactions, label them, and then, as we shown in the initial charts, show how the landscape is looking, like how much block space every label consumes and so on. And then we then want to understand, okay, also, these builders are known to be adopting different strategies. And we identified four of them, which I will briefly mention. And at the end, the point we want to come is that, okay, out of all these order flow labels that we have seen and the builder strategies that we identified, which ones are associated with gaining market share so winning the auction and which ones, like this exclusive provider thing, are associated with being profitable. So now I will quickly talk about the four builder strategies that we identified. But then in the end, the results, I will show that all of them come together and we show the ones which are needed, not needed, but really associated with winning the auction or making profits.
01:11:50.231 - 01:13:03.391, Speaker B: So the builder strategies, the one thing that we identified is that blocks, like if we, let's say assume like a block has like, yeah, 100 transaction block space in it, well then not every, like the value that comes from these block positions, it's not evenly distributed. And the idea is that of course, if you have a transaction which, let's say you want to execute it on the latest block state, so you see the price on uniswap on a given pool on the last block. And you want to say, okay, I want to do a trade on this. Well then of course if you go to the lower sections of a block, there is a high chance that someone does some trade before you so that you don't get the same price. So then you want to ideally get executed at the top of the block. So with this motivation, we simply split the block into three parts and we picked top 10%, bottom 10% and the in between 80%. And the numbers we got influenced by some prior work.
01:13:03.391 - 01:14:06.335, Speaker B: And what we see is that the top 10% or like the first 10% of the block actually provides around like 74, 74% of the total value to these top three builders, but also to also most of the other top builders get most of their value from only the top 10% of the transactions. And like when we dig deeper we actually see that I don't have the exact number on mine, But I think 88% of the value that comes from private transactions. The more valuable transactions, they lie in this 10% part. So although this is like say if it's a hundred transaction block, only the 10 transactions at first they provide actually the majority of value. And this is because as I said, they want to get executed on the latest known state without the state transitioning into something else. So there is no this thing called unexpected slippage. For example.
01:14:06.335 - 01:14:48.155, Speaker B: One other interesting result here was that we also see some builders having a relatively significant end of block value share. And this could potentially be because of course top of the block is valuable. But if a builder says okay, this is my block and this is where we end up, you can also just do searching at the very end of it. Well, it's pretty much the same as being at the top of the next block. But now builder controls his block so he can simply say okay, go do this. And we think maybe these guys have end of block value because they allow such operations. But we didn't really dig deep into what's going on exactly there.
01:14:48.155 - 01:15:34.065, Speaker B: This is just like the measurement we had. Another strategy we looked into was this, as Danning already mentioned, like subsidy, but in general like the block wise profitability of the builders. So did they profit from a block? Did they make no profit but also not lost money or did they just subsidize? Meaning like maybe they were earning 5 ETH from transactions but they paid 6 ETH to win the auction, so they subsidized one. And we see that again I'm like spoiling the final results. But the builders who have higher market share. So in every chart, the builder who has the highest market shares of Beaver build is listed at the bottom. And going up, the market share decreases.
01:15:34.065 - 01:16:17.793, Speaker B: We see that there's a positive correlation with the market share and the amount of profitable blocks that builders actually build. And yeah, again this will all come to this final result of a chicken and egg problem simply saying that okay, to be profitable you need order flow from exclusive providers. But then you only get such flow if you have high market share. So then if you don't have any exclusive order flow or can't access this valuable order flow, you just have to subsidize to win the block. So you can still win it if you are paying it from your own pocket, but you cannot simply profit from it. And this is where these results converge into.
01:16:17.969 - 01:17:19.633, Speaker C: And then yeah, add a comment on the two basically observation like I think why top of block and end of block matters? Because simply top of block good price, end of block bad price. You know, like if you are trying to trade based on the last blocks distribution and yeah, what we see is like pretty much in the top of block is people trying to extract value based on strategy that is related to last block. Right. And so if the price is off from centralized finance, basically from Binance, then they will try to extract in the top of block. But then at the end of block it's basically after all these transactions that happen in this block, some pools are not at the same price, then there's arbitrage opportunity and some people are coming in to clear out the arbitrage opportunity. So that's what we see. And for subsidy I think the thing we try to understand is why there's motivation for builders to subsidize.
01:17:19.633 - 01:18:10.369, Speaker C: And one thing I think everyone know as a common sense these days in PBS is a lot of the new builders, when they enter the market, you wouldn't know them because you wouldn't know there's a new endpoint you can send to as a searcher or user. So they have to kind of do this on chain marketing by basically adding some amount of money into the block and try to win some block. And so people notice, oh in those data dashboards there is this new builder with some like good amount of like market share. So if we want to land our transaction in the next block, we have to include them. Because you know, like if you say one builder have 50% market share and you send to that one builder, so then you basically need to wait for two times of time to land A block probability wise. Right. And so if a builder has a good amount of market share, everyone would want to include them.
01:18:10.369 - 01:18:45.095, Speaker C: So people are like trying to bootstrap and by adding subsidy in the beginning, I think it might work for a little bit. But nowadays with this like really fierce competition between the top builders, it really not working anymore. I think like everyone is just sub 1% market share. And if you're adding crazy amount of subsidy, for example Flashbots did an experimentation like for around like two weeks you have to like subsidize a few eth. And to increase like 1% of market share for like one week. And that's not sustainable for anyone really. So yeah.
01:18:45.095 - 01:19:51.673, Speaker C: And but I think there is another. So we also saw like the top builders are subsidizing and why do they need subsidized if they already have 30% market share? I think the answer is that for top builders, especially the builder like Titan and Beaver who probably acquired some like order flow deal, they will have the promise to those order flow owners say oh yeah, we will make sure to land or include your transactions for users within like two or three blocks. Then they have to keep their market share at a certain level or at least yeah, it's somewhat also a marketing or guarantee or promise for the order flow partners they have. It's kind of interesting. I think this might be why from some discussion why we saw there were three top builders like Beaver, Titan, Rsync, but now there's only tight end and Beaver Rsync just like gave up because I think there's not many more deals on the market to talk about to talk to. So they, they're like why we're still subsidizing. They kind of just went down to like 5%, 3% and nowadays yeah, I.
01:19:51.689 - 01:20:28.651, Speaker B: Think also like this subsidy behavior as Danning described could be really good for initially earning some market share to simply introduce yourself. But also seeing this T builder as we initially discussed having such a high subsidy share, although yeah like it has a considerable market share now. I think this also is like a good indicator that okay, maybe this guy is like subsidizing on chain but like he has a searcher, whatever solver, so it's not actually subsidy if we add them up.
01:20:28.723 - 01:21:12.679, Speaker A: Let me jump in here real quick. So basically there is kind of an oligopoly that's forming or there already is a duopoly. Like I think like based on your latest research, you, you mentioned that a couple times now as a, as a searcher, do I have any like as an independent searcher. Like let's say I, I learn how to be a mev searcher tomorrow. Like would I, would I send my transactions only to like Beaver Build and Titan? Or would I, would I send them into like some whatever like searcher mempool and like that wouldn't make sense because then like I reveal what my, what the transaction actually is. So I privately transmit them to one builder or multiple builders. How does this work?
01:21:12.767 - 01:21:26.647, Speaker C: I think most of the time they try to send to like the top five top 10. So as many as possible. As long as they think their strategy is not competing with them. Like say if I'm a Sex Dex searcher, then I wouldn't send my flow to Arsync and Beaver.
01:21:26.711 - 01:22:06.085, Speaker B: The idea is that like yeah, these guys have really high market shares, but they are also in the business of searching. So then are you going to trust them? And that's why also as we like as Danny mentioned, these decentralized block builder solutions which are running inside trusted execution environments, well, they kind of remove this need for trust into a social entity. And you simply know that, okay, transact against this. I know that they are not going to censor me because I'm like going for an opportunity that they were trying to exploit.
01:22:07.345 - 01:22:54.175, Speaker A: Wait, so if I'm a, if I'm a trading firm, I run a searcher, I run a builder and I do sex Dex arbitrage. Like that's already like super specialized. And then like I basically. What's a, what's the appropriate word here? Like I see all the flows of all the other searches who are trying to do sex Dex arbitrage. If I have a high market share or like I have a, like I have, I like my chances are the best. If I'm like one of the like dominant builders, doesn't that make me like essentially like I have a very privileged position to profit off these sex sex arbitrages in that case. Right? Because like the searchers can't like if they submit the bundle to me, like I could just, I could exclude them and like whether they do that or not, like is that a thing?
01:22:55.555 - 01:23:11.575, Speaker C: That's why I think the other sex deck searcher, if they're competing with them in the specific strategy, then they wouldn't send to those people. And that's actually one way people are identifying vertical integration, I think.
01:23:12.115 - 01:23:25.325, Speaker B: But that's also like the whole point of the paper, this censorship resistance. Can we make sure that Beaver Build is not censoring you because they have a transaction that they want to Do.
01:23:25.665 - 01:23:44.215, Speaker A: Yeah, yeah. As a, as a searcher, like my prob, like, like you, like you mentioned earlier, like my probability of actually being included in a block then becomes really low if I just go with like the long tail of builders. So like essentially like these opportunities don't persist through like 10 blocks. So like essentially like I am like kind of.
01:23:44.675 - 01:23:49.255, Speaker C: Or they will have to become a builder. Like we saw like those long tail builder, you know.
01:23:49.755 - 01:24:04.443, Speaker A: Okay, okay, yeah, yeah, right. As long as the relays are like reasonably neutral. And I think in the current stage they are like you tell me. But like from what I've heard, not.
01:24:04.539 - 01:24:37.217, Speaker C: Anymore now with Titan relay. But yes, yes, in the past there was only one. I think Flashbots is running builder and relay, but Flashbots is not searching. So we're still neutral. But now we have Titan as a relay and they might have facilitating. I don't think they're searching themselves or they may have tried like atomic searching at end of the block. But yeah, so now that's only biggest vertical integration between builder and relay.
01:24:37.361 - 01:24:48.325, Speaker A: All right. Yeah, that's super interesting result. Yeah. I think if you go through the last builder strategy here is exclusive order flow access.
01:24:49.265 - 01:25:30.461, Speaker B: Yeah, I mean we already talked about this one. Danning showed the charts and we already looked at the final heat map. But yeah, simply what this leads into is identifying those exclusive order flow provider and builder relations. So and then the other thing here is, or maybe one interesting result here is that only seven entities here actually provide around 70% of all exclusive transaction value in more than half of the blocks. So you can see that. Okay, yeah, exclusive value or exclusive order flow is valuable and so on. But there's still a centralization there simply because these are the.
01:25:30.461 - 01:26:35.775, Speaker B: Simply the actors that provide it in most of the blocks. And then the final thing we looked into is because this whole bidding process in the auction and so on happens actually on this MEV boost network between relays and builders and proposers calling for headers and so on, there is actually some latency introduced and some different bidding strategies that were developed. So also we quantified that and try to again look into like, is there some association with being successful in the auction again? And we can look into that again in the final results. So then I can simply move on to the findings we have. Okay, so this is, I think one of the findings that I find the most interesting. So to briefly describe what we see here is that on the Y axis, we again see the builders again on the bottom. We have the highest market share builder.
01:26:35.775 - 01:27:19.317, Speaker B: And then on the left chart we see a Shannon entropy simply indicating that. And yet this is a Shannon entropy value on the diversity of order flow of the builder. So what this means is that if you remember on this chart here, Weaver showing the order flow composition. So like from which order flows, which transaction types of builders blocks get composed of. So like you see for example, I don't know, Beaver has around 18% Telegram bots, maybe some 20% Sandwich and so on. And this changed from builder to builder. And we have a chart in the paper which actually applies this to every builder that we have in our study.
01:27:19.317 - 01:28:23.089, Speaker B: And what we see is that and then we calculate this entropy value which is like showing like how diverse a composition is. So if I have all my blocks only including my own searcher transactions, let's say then I have no diversity, I only have a single type of transaction. So this Shannon entropy value would be really low. And then if I have like order flow coming from different type of transactions like sandwich arbitrage, telegram bots, I don't know, sex transactions, then I have a more diverse order flow in general. And like with this entropy value we simply encapsulate that. And what we see is that there is a positive correlation between a builder's market share and the diversity of the order flow they have. And this makes sense I think because this simply shows that okay, like I'm not dependent on a single type of transaction, but I get order flow from different sources and I can be competitive in more options than if I just run my own searcher and only get my searcher flow and only then win when that is available.
01:28:23.089 - 01:29:21.367, Speaker B: And yeah, the chart on the right hand side simply is showing like among all the blocks that every builder here has built, like what is the highest share order flow label. And we see that the value of the label is much lower for these high market share builders compared to the low market share builders. Because again if you have diversity, this kind of indicates that there shouldn't be an order flow which is extremely dominant. And yeah, this is the order flow diversity market share like relation that we identified. Then moving on. Yeah, I think we already talked about this exclusive providers. But to simply recap, we show that then there is a positive correlation between now making profits with having exclusive order flow coming to you ideally from these exclusive providers which don't provide order flow to someone else, but only to you.
01:29:21.367 - 01:30:31.845, Speaker B: So yeah, these two results simply say that okay, to win the auction you need order flow from different sources which are ideally coming consistently and making you competitive in more auctions. But then you can win auctions just by subsidizing, to tell the truth. But if you want to actually make profits, then you need exclusive providers which simply provide you value that the other builders don't have access to. And then in this final chart we simply find correlations for all of these order flow labels and the strategies that we identified and then see how they correlate with the market share and profit margin on the right hand side. And we see that actually most of these features are overlapping and in fact there is among the top 10 builders only there is a positive correlation between the market share and the profit margin. So then this simply means that okay, like if you want to be profitable, well then you need to get order flow from these exclusive providers and so on. But then you only get such order flow if you have high market share.
01:30:31.845 - 01:30:46.185, Speaker B: So again then yeah, the only chance that you can win a block is by subsidizing if you don't run your own searcher. And yeah, subsidizing forever isn't a sustainable strategy.
01:30:47.245 - 01:31:23.005, Speaker A: So if I want to be profitable on scale and I actually want to become like a, I don't know if my business is being a builder, I need to have a big market share and I need to have diverse order flow and all of that stuff. And basically either you're, I don't know, like these sniper builders who are like this is my block, I don't care about anything else and these are my three transactions which is virtual integration as a searcher or everything in between. Doesn't really seem like a viable strategy. Is that the correct summary that I can say here?
01:31:24.145 - 01:31:45.801, Speaker B: Yeah, I mean I think like at the end, yes, you can be like a small market share builder just having your searcher and like making like profits seldom. But if you want to be a real dominant player which gets like a lot of market share, then you simply need to attract people to send you order flow.
01:31:45.873 - 01:31:53.505, Speaker A: How does one attract order flow? I guess this is like the, this is the big, this is the big, this is the big problem here.
01:31:53.625 - 01:33:20.385, Speaker B: That's the chicken and egg problem. Because you attract order flow because you have high market share. Yeah, but yeah, I mean the subsidy strategies as Danning said, like try to like simply inflate your market share, could be an option or like offering some refunds to the searchers or the users, et cetera, to simply make them choose you so that then you can win the option and make profits. I think that's the only way. And yeah, to simply wrap this up in the last part of the paper and these slides we kind of discuss, okay, we see that the market is in this shape today and this is how we got here with these like strategies coming, like being significant for winning the auction and making profits. And finally we discussed, okay, then we need to like preserve Ethereum censorship resistance and chain neutrality properties, meaning that like if you have a transaction which pays a sufficient amount of transaction fee, then you should be included on chain. And we simply discussed like the different directions of like achieving this on Ethereum.
01:33:20.385 - 01:34:19.905, Speaker B: So like we already discussed suave, like removing the social trust in the builders. We can like try to diminish these games that's happening on the bidding side of the auction. And then we can also try to capture the MEV without leaking them to builders or to the proposers. Eventually These are these mev aware applications, like your OFAs and so on. And then finally more in protocol mechanisms like inclusion lists or concurrent proposers and so on. These are also then tackling the problem not just directly from an MEV boost perspective, but actually tackling the core problem of censorship resistance of Ethereum. And yeah, so as Denning said initially, the paper will be featured in Advances in Financial Technologies conference this year in Vienna in September, I think.
01:34:19.905 - 01:34:28.065, Speaker B: And the paper, yeah, you can just find it online if you type ovens and Y Ethereum block options.
01:34:28.655 - 01:35:09.637, Speaker A: Yeah, we'll also include it in the, in the show notes, of course. All right. I think one thing that I didn't expect here is like, why the hell are these telegram bots such a big, like they were like a story for like three weeks and then like everyone kind of, or like maybe a month or two and then everyone forgot about them. But like, if you look at the. I mean, this is also like, I guess the schools your research a bit because like they were so significant in your research time. Like, I don't know how these market share and how all of these graphs would look updated today if the telegram bots are still as relevant. That's like a big surprise for me.
01:35:09.637 - 01:35:34.835, Speaker A: And then this was a really interesting deep dive into how this MEV pipeline works. And especially I still don't know how. I can kind of imagine how searches work, but not really. And builders were also like a total riddle for me. And it's like this, actually, I know a lot more about builders. So thank you for sharing your knowledge and thank you for publishing this research. I guess.
01:35:34.835 - 01:36:13.189, Speaker A: What's your like, I mean, the situation like, frankly looks pretty bad now. Like if we are trying to, like, if we're trying to Be a censorship resistance network and if I can't even like let's just take the like access to being a searcher or like access to extracting value. Like not even that is democratized at the moment. Like even if I'm like a sophisticated actor and I'm trying to like do some I don't know, sophisticated sex dex arbitrages or something like I. My chances as a non integrated builder. I mean yeah I could always just run a builder but like that's, that's quite an infrastructure overhead. I mean I'm.
01:36:13.189 - 01:36:26.877, Speaker A: I'm just rambling obviously I don't, I don't really understand what's happening here but what's the like I don't know. You mentioned your follow up research. So what are you focusing on now from, from this vantage point?
01:36:26.981 - 01:37:38.355, Speaker B: Yeah, yeah I think so. There are like yeah like one obvious direction to research is simply these mechanisms for preserving Ethereum censorship resistance. Although we have such a, such a market and yeah there are different proposals for that and I think like yeah like everything like happens like sequentially. First we decided that okay let's build this solution so that validators don't get affected from mev so that we don't have centralization on consensus side because of MEV access. And now yeah we have like we succeeded in that but now we have this problem of censorship and now we will tackle that and then after that we will try tackle the next problem. I mean me personally I do like thinking about these censorship preserving or censorship resistance preserving solutions but I'm also like quite interested in like better estimating these builder profits these days. So because of these, all these like integrated builder relations and so on we talked about.
01:37:38.355 - 01:37:47.315, Speaker B: I think yeah the picture looks like this but it's actually also not exactly like this. So yeah that's, that's what I'm looking at right now.
01:37:48.095 - 01:38:27.839, Speaker C: Yeah, I think like the motivation for our paper is really just like to tell everyone including you know like people weren't in the MEV or PBS rabbit hole like hey there is this problem right now and like few people really understand or like see it and so to inspire more discussion and like for now for example I think inclusion list might be implemented soonish as the next EPBS thing and also like decentralized block building and many other discussion direction would know. Okay there is this centralization of builder market which they should consider to also including to solve it. Yeah but we don't know how it will go yet.
01:38:27.967 - 01:38:41.115, Speaker A: I mean it's hard to predict the future. Yeah I think this was super interesting. Is there any chart crimes? Probably like do you have a chart crime in your paper?
01:38:41.855 - 01:39:31.037, Speaker C: It's not like a chart crime, but like if Brooke, you would let me share a screen and I want to share like a funny thing. So Brock tweeted about our paper and Vitalik saw it. And Vitalik replied, said, oh, this is the first time I've seen a graph with x, y axis using an inverse hyperbolic sign scale. So like where the first chart, Brock had this like minus 10, like zero times zero kind of thing. And like the media went crazy. The media said Vitalik, surprised by this new research, impressed by the new research, stunned by the new discovery and health groundbreaking research paper on Ethereum block building. It's, I think it's like a beautiful misunderstanding, but I like, I like the outcome.
01:39:31.037 - 01:39:32.741, Speaker C: So it's kind of funny.
01:39:32.893 - 01:39:34.413, Speaker B: That's how I promoted.
01:39:34.589 - 01:39:35.785, Speaker A: I did notice.
01:39:37.605 - 01:39:39.189, Speaker B: That'S how I promoted the.
01:39:39.277 - 01:39:43.105, Speaker C: Oh yeah, yeah, I saw the lightning talk. Had spc.
01:39:44.205 - 01:39:49.545, Speaker B: You can use this as my nickname. Vitalik. Surpriser.
01:39:52.365 - 01:40:16.925, Speaker A: Oh man. What? Wait, so he was simply fascinated by the way you designed the chart. I commented on that and then like, I don't know, media interpreted that as like, oh my God, look at this, like research in general, not just like this one. That's so. That's so funny. But yeah, I mean, congrats, that's. That's pretty good to have like a bit of media coverage and everything.
01:40:17.005 - 01:40:22.505, Speaker C: Yeah, I'm currently applying green card. I'm gonna include that into my documents.
01:40:23.355 - 01:40:39.755, Speaker A: I mean, you definitely should. All right, I think with that, anything else you want to plug, any, any other research that has already been posted. Otherwise if anything comes to mind, we can also post it in the show notes.
01:40:39.875 - 01:41:01.325, Speaker C: That's it. And I guess like, just to tease out the future episodes, I'm also excited to like talk about all the things that we kind of, you know, touched upon but didn't expand, like censorship resistance. We're going to chat with Tony. We're going to probably talk about the timing and the proposer side with data always. And so yeah, looking forward to the future episodes.
01:41:01.445 - 01:41:24.311, Speaker A: Yeah, I'm going to become an MEV expert in August. I'm going to leave Mr. Hildoby in the dust. But yeah, I think this is super interesting and certainly it is a super important topic as it impacts all of us. So yeah. Thank you for listening to the Index podcast. Share this with your friends.
01:41:24.311 - 01:41:32.755, Speaker A: Share this with anyone who's MEV Horny. And yeah, we will see you again in the next episode. Thank you for listening. Bye Bye.
01:41:38.865 - 01:41:59.025, Speaker C: Bitcoin ETF to Solana Mint coin trade Uncovering public secrets in the blockchain sheet Bachelor cherry picking liar we call them out Shark Clam of fire Index Podcast Crypto gaming empire.
