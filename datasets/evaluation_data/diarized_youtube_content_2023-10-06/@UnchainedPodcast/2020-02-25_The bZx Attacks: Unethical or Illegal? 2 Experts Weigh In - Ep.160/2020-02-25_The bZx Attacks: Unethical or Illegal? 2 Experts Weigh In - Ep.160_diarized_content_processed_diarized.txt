00:00:04.330 - 00:00:34.920, Speaker A: Hi everyone. Welcome to Unchained, your no Hype resource for all things crypto. I'm your host, Laura Shin. If you enjoy Unchained or Unconfirmed, my other podcast, which also features a weekly news recap, please give us a top rating or review in Apple podcasts or wherever you listen to the show. What's the best way to spend crypto? The MCO Visa card lets you spend anywhere Visa is accepted, including your coffee shop or the Apple Store, all with up to 5% back. Download the crypto.com app and reserve yours now.
00:00:35.290 - 00:01:13.570, Speaker B: Kraken is the best exchange in the world for buying and selling digital assets. It has the tightest security, deep liquidity, and a great fee structure with no minimum or hidden fees. Whether you're looking for a simple fiat onramp or futures trading, kraken is the place for you. Cypher trace cutting edge cryptocurrency intelligence powers, anti money laundering, blockchain analytics and threat intel leading exchanges, virtual currency businesses, banks and regulators themselves use CipherTrace to comply with regulation and to monitor compliance.
00:01:13.990 - 00:01:27.138, Speaker A: Today's topic is the BZX attacks. Here to discuss are Maya zahavi, blockchain consultant, and zubin Koticha, co founder and CEO of open. Welcome, Maya and Zubin.
00:01:27.314 - 00:01:28.758, Speaker C: Thanks so much for having us.
00:01:28.844 - 00:01:29.480, Speaker D: Hi.
00:01:30.090 - 00:02:06.680, Speaker A: In the past couple weeks, DeFi Lending Protocol BZX suffered two attacks in which flash loans were used. The attacker or attackers it's not clear whether it was the same person or different people behind the attacks made off with about $950,000 in ether. I did an interview with Lev Livnev, the person who discovered that the first attack had occurred on Unconfirmed last Friday, where we covered how the attacks happened. But for those who missed that interview, can you briefly recap how it occurred? We'll just start with the first one. Maya, can you explain how the attacker executed it?
00:02:07.210 - 00:02:59.320, Speaker D: Yes. The attacker took about $2.7 million in a flash loan on dYdX, which is ten K in ETH. He put five and a half E onto Compound and borrowed 112 WBTC, and then he went onto BZX and shorted WBTC on a margin trade with E on the three X. And behind the scenes, of course, BZX ended up dumping all the WBTC on Uniswap on the Cody. Uniswap triggered a slippage in the price of which allowed the attacker to basically both return the ten K E and take back 71 ETH as a profit from that one single trade, which is kind of elegant, to be honest.
00:03:01.130 - 00:03:21.066, Speaker A: I know we were seeing and I kind of tweeted this, but the first time that I read about this, I had the sensation of having just watched a snowboarder doing some really elegant flips on a half pipe or something, with the sheer number of go ahead.
00:03:21.248 - 00:03:45.700, Speaker D: Sorry. I'm just saying that the fact that you can take a flash loan was well known in advance. The fact that it could probably, and maybe with a slumber of a chance, lead to a flash crash that was also well known, but doing that in one trade and kind of using a logic exploit on the BZX, that's genius. I mean, that's a work of art. You have to hand it to whoever it was.
00:03:46.230 - 00:04:14.240, Speaker A: Yeah. So they borrowed this money and then they know some of it in wrapped BTC, but they with the other half shorted it significantly in order to benefit. And that's how they made off with the money. But then the group that was left holding the bag was BZX to the tune of like about $600,000. I think.
00:04:17.570 - 00:04:53.230, Speaker D: Let me just stop you. I think one thing that's kind of not well known was that the margin trade that the attacker did was on a three X on BZX. Right. Just in terms that they're shorting it and they're going to get a return three X at the amount that they shorted. Right. But there was an exploit on BZX for five X the amount, and that might have allowed them to squeeze that trade a lot more than they originally thought. And it also leads to the issue of whether it was a logic or an ARP trade.
00:04:53.410 - 00:05:00.880, Speaker A: Okay, and I'm sorry, can you explain that once more so they repeat it? What was for three X and what was for five X?
00:05:01.490 - 00:06:04.980, Speaker D: The short that the attacker did was on a three X on BZX. Right. Meaning they were going to get three times the amount that they shortage as a return if there actually is a slip in price or the price of the bitcoin drops. But what led to more of a slippage in the price on Uniswap than was originally intended was the fact that behind the scenes BZX protocol, in order to compensate, ended up also dumping more ETH than they had to. Let's put that way on the Kyber uniswap. And it leads to the second order effect, which is the insurance of Nexus Mutual had on the BZX contract. Was it an arbitrage trade or was it a bug? That the attacker kind of that's still an open question, I think, in regards to whether or not Nexus Mutual has an obligation to repay that insurance.
00:06:04.980 - 00:06:12.420, Speaker D: And they chose to repay almost every one of the people that had a trade on that.
00:06:13.030 - 00:06:49.390, Speaker A: Okay. Yeah. So now we're getting really into the weeds. But I will say that in that interview I did with Lev Liv Nev on Friday, he did say that he felt like the real culprit was a bug in BZX. And so obviously in that situation, that would be something that would be covered by the Nexus Mutual protocol, which, by the way, for those who aren't aware, is a decentralized insurance protocol. Obviously you would need to sign up for it and to ask to be covered for BZX before you could make a claim. But they did end up paying out a few claims.
00:06:49.390 - 00:07:00.340, Speaker A: So before we get even more into the weeds on all this, why don't we just go to the second attack. So, Zubin, can you describe what the attacker did in the second attack?
00:07:01.190 - 00:08:07.430, Speaker C: Yeah, absolutely. So in the second attack, it was a similar flash loan mechanism where you can take out a massive amount of ETH as long as you repay it in the same transaction. And they took out 7500 ETH from BZX itself. So it was weird because in the first exploit, they used dYdX, a different platform for this flash loan, but here they actually use BZX itself. Then what they did is they took some of this ETH, about 900, and essentially they dumped this ETH in an SUSD pool on Kyber. So what that means is they're pumping the price of synthetix USD a stablecoin, and then they took the rest of the ETH and they deposited on BZX itself and used it to borrow that exact sorry, they took the synthetix USD, they put it down on BZX itself and used it to borrow far more ETH. And the thing is that BZX uses an Oracle through Kyber, which they had just pumped the price on.
00:08:07.430 - 00:08:29.038, Speaker C: So it thinks that this collateral, this synthetix USD, is worth way more than it actually is. And BZX, the platform gives this attacker way more ETH than there actually should be entitled to. They use this ETH to repay the flash loan on BZX, and they make out with a massive profit of 2378. E. Yeah.
00:08:29.124 - 00:08:43.570, Speaker A: And they did such a massive purchase of SUSD on Kyber. What was this about? It's kyber and uniswap. Like, somehow they're connected it's like yeah.
00:08:43.640 - 00:09:23.706, Speaker C: So what's interesting about Kyber is that Kyber kind of can use reserves from multiple different DEXes. And what's interesting about this specific trade is that or these two trades, was that they went through Kyber, which had very low amounts of liquidity relative to the flash loan size, and they largely executed through uniswap, routed through Kyber as just kind of a mechanism. And that caused massive slippage. And then after the slippage, they used these massively manipulated prices to borrow much more than they should be entitled to from BZX itself. So Kyber is just a mechanism to kind of go through uniswap.
00:09:23.818 - 00:10:22.820, Speaker A: Yeah. And I did read that at that moment, when they had manipulated the price, they had boosted the value of SUSD to more than $2, when obviously it should be one dollars. Yeah, it's kind of interesting because, of course, I'm sure at this moment, a lot of people are speculating about who it should be. But I did wonder, of course, at first, oh, is it the same person? But then I thought, well, it could also just be that once the first attack happened, then somebody else figured out another way to perform a somewhat similar move. But anyway, okay, so Maya and I started to get into this, but let's now have a discussion between you two, because I think both of you have slightly and maybe even really different views on this. But what is your interpretation of what know I saw online? Some people were debating whether these were hacks or just arbitrage trades. What do you guys think?
00:10:23.750 - 00:11:14.158, Speaker D: So I don't think it's a hack. I mean, first of all, I think the fact that it was a logic bug maybe puts it under a hack. But I consider DeFi an experiment with a huge bounty, especially everything that is dependent on make or die. And this is a bounty that is testing the fragility of the entire system of DeFi. The protocol risks, the Oracle risks. And I think as a consequence of this hack, three main issues in DeFi were fleshed out for people to see and really consider as a risk factor. One is the centralization behind the scenes of backdoors with admin keys of protocols that can always pause protocols.
00:11:14.158 - 00:12:14.920, Speaker D: Two would be the market depth that Zubin just alluded to in terms that a lot of these decks don't have that much liquidity and it's very simple to manipulate them. And third is how Oracles are a single point of failures for a lot of these trades. Now keep in mind that a lot of the DEXes rely on a moving average indicator in order to figure out the price. And it's not that one trade and the slippage that happens as a byproduct can distort the price, but if it's big enough, it can. And the consequences for that are an increase both in the volatility and a lack of liquidity as a response because there's a lot of domino effects in all these trades. Now, taking advantage of that, I don't consider that a hack. Nobody did anything illegal in my view.
00:12:15.770 - 00:12:44.080, Speaker A: Okay, and before we hear from Zubin, I just did want to talk about the admin key thing. What you were referring to was how BZX did pause trading essentially with this admin key. And yeah, that kind of caused a lot of debate online as well. Zubin, so what's your take about what Maya said?
00:12:44.530 - 00:13:43.086, Speaker C: I think there's a lot of good points in there. I think that DeFi is a massive system with just a huge bounty attached to it. The question for me as to whether it is a hack or not seems a little bit like a definition or like semantic question. But I think what's clear is that this is a software flaw that was exploited. It's not an arbitrage, right? An arbitrage is where you can take advantage of a mispricing in an otherwise well developed system architecture and make a pure profit. This was a poorly designed system where they had a lot of reliances, a lot of assumptions, and that's what allowed this hacker to take the money. There's a reason why you can't just take a three x long position on dYdX or you can't just borrow a lot of money through compound and manipulate Dex prices and make away with a big profit.
00:13:43.086 - 00:14:16.670, Speaker C: The reason being that flawed software relied on very thin markets for Oracles and that to me seems like irresponsibility on the behalf of the creators of the software. And so when you think about an Arbitrage, it to me seems like the participants might be acting irrationally here. The system itself was broken and was exploited and a chink in the armor was used to make a fat profit for this attacker.
00:14:18.610 - 00:15:38.040, Speaker D: I mostly agree with what you said, but at the end of the day, these systems are economic and financial systems and there's always an attack vector that is mostly financial, especially as DeFi is a bunch of Legos or composables. And when people design one protocol, a lot of times they design for the worst case scenarios and stress test that protocol in a silo in isolation from everything else that can come into that. And the minute we introduced flash loans, we're basically creating a series of traits that are automated into one transaction that not always can be predicted or simulated when people design these protocols. And there's also a time difference between the day that a protocol is shipped and goes into mainnet after it's been audited and all the other protocols that get introduced into DeFi. And I think that is really a lot of the protocol risk as it is more distinct than the entire market risk of DeFi. That's how I think about it, to be honest.
00:15:38.650 - 00:16:41.600, Speaker C: Interesting. Yeah. And then this comes to another debate people are having on the internet, which is are flash loans the culprit here in a flash loan list system, one, without flash loans, do these mistakes, arbitrages, blah blah blah exist? And fundamentally from the math of it, if you take the same attackers and you have them instead of flash loaning 7500 ETH, in the beginning they're just extremely wealthy and they started off with 7500, they still make the exact same transactions and they make off with a massive profit. There's no fundamental new thing that a flash loaner loane, I guess a flash borrower can do that someone with 7500 ETH initially can't do as well. So that to me calls into the question the notion of whether these flash loans are the culprits here because Vitalik could have made this trade happen with his capital as it is today.
00:16:42.370 - 00:17:19.740, Speaker D: So one, I don't think the flash loans are the culprit in this, but we do have to be cognizant of the fact the flash loans basically lower the barriers for such an attack because you don't have to be someone who has to get financing or hoard all these coins in order to start an attack like that. Right, yeah. A lot of different people are now incentivized to try similar attacks, not necessarily on BZX, but on other protocols that I think are just as vulnerable without needing all that cash.
00:17:20.590 - 00:17:23.020, Speaker C: Yeah, absolutely, I think that's fair.
00:17:23.790 - 00:18:13.690, Speaker A: Yeah, well, actually one thing that I was going to actually ask you later, but let's discuss it now. Is that? Because actually, this comes up in a pretty big way also later in the week, which we'll get to that later. But I just wondered in this scenario where you're kind of, like, democratizing these sort of hacks so that they're not just limited to whales who have that capital to pull that off, do bug bounties still make sense? Do you know what I'm saying? Like, if I realize that there's this vulnerability in a protocol and maybe I wouldn't be able to profit from it in the way that I could have without a flash loan, but I can at least get some money from the team itself. In this world where you have flash loans, does that kind of change the incentives?
00:18:14.350 - 00:19:11.930, Speaker C: Yeah, I think what's interesting here is that maybe the bug bounty size might have to increase. So if you look at BZX, their largest reward for catching a bug was five k and compound it's in the hundreds of thousands. Right? And so if you look at comparable platforms to BZX, they have much higher bug bounties. I think that's one way to do it. But the main thing is now this attacker has like, maybe they're not traceable, but they have a lot of money that they have to launder. And if you can have a bug bounty or maybe even like a dow that will pay out people to find these exploits and then this money isn't illegal money. If it is from the beginning something people can use like pay taxes on and they don't have to sit on this black money, essentially it is much easier.
00:19:11.930 - 00:19:30.580, Speaker C: So to a certain extent, yes, you can look at a purely rational actor and say that okay, they'll make more money from a hack than they will from getting a bug bounty. But I think that the money isn't the same money you get from a bug bounty is much easier to deal with.
00:19:31.030 - 00:20:30.520, Speaker A: Okay, yeah, you know what? Let's actually just talk about this other incident then. Now that happened because the amount that the BZX team was willing to pay in bug bounties is potentially another issue here. So, essentially, on Thursday, 1inchh Exchange this is the Thursday after the two attacks, one Inch Exchange published a blog post in which they said that back in January, they'd discovered a bug in Fulcrum, which is the lending part of it's. The same team, actually, as BZX, but it does loans that would enable $2.5 million of user funds from three different pools to be stolen in a single transaction. And in their blog post, they alleged that they had given the information to Fulcrum and had even offered to white hat hack the contract to protect the user funds, but that Fulcrum had instead chosen to leave the funds vulnerable while deploying a fix. And that whole thing took 16 hours.
00:20:30.520 - 00:20:57.306, Speaker A: Right. Then they go into this thing with the bounty, but actually before we talk about the bounty? I just want to let you know. What do you think of what happened there? Do you think that Fulcrum should not have left user funds vulnerable for 16 hours, that one inch exchange is right, or do you think the opposite?
00:20:57.498 - 00:22:13.030, Speaker D: Well, I think if we leave BZX for a second and not make them, like, the ultimate arbitrator of what the right bounty is let me just take you back, like, eight months to June of last year when a white hack happened on synthetics, and I think they hacked about 750k, returned the money and got a nice bounty. No scandal, nothing. And the team was willing to pause the entire protocol and rethink the flaw that they had. BZX wasn't as willing to pause the protocol and basically left all their pools susceptible to any attack for 16 hours. But I think the macro environment of DFI has also changed in that time interval, because right now, pausing a protocol in DeFi has a huge reputational risk and could affect further liquidity of different dependents and contracts built on that. I feel like we don't really know enough or I don't know enough to make a judgment call there, but there was a complete lack of transparency on BZX's part throughout the entire hack and the vulnerability since January.
00:22:13.850 - 00:22:15.586, Speaker A: Zubin, do you have an opinion?
00:22:15.778 - 00:23:42.610, Speaker C: Yeah, I think that it's a hard call to make if you're a founder and you have $2.5 million of user funds. And the question comes down to do you want to risk the reputational risk for your users benefit? And I think as an ethical business or even just an ethical smart contract creator, the question is, do I care more about my own reputational risk or do I care more about my users? And I think in the long run, it pays to care more about your users, even if you are a selfish actor. Right. And so BZX has seen that the reputational damage that they've taken by not trying to cut corners and not take users concerns as seriously far, far outshines or sorry is far greater than the amount of reputational damage they would have taken had they stopped the protocol, done a very responsible thing, and had a lot of community outreach, because this community is, to a large extent, highly technical. Understands there's risks with these protocols, understands that sometimes there will be hacks, and is very forgiving, I think. And so I think it pays to care about your users and to be ethical in a business like this.
00:23:42.760 - 00:24:27.538, Speaker A: Yeah. Earlier, when you kind of at the beginning of your answer said, should they care more about their reputation or their users? I was like thinking, well, when you build a reputation is to care about your users, so they're the same thing. Exactly. Yeah. So let's go into now the bounty part of it, because that's kind of where we were headed before. But that same blog post that 1inchh Exchange published gave this kind of actually very long recounting of the back and forth over whether or not Fulcrum should pay them a bug bounty for the work. And there was this whole other thing too, where they kind of wanted to hire them for an audit and they were bickering over the fee anyway.
00:24:27.538 - 00:25:32.070, Speaker A: So one of the screenshots from the back and forth included somebody from BZX saying that they had a bug bounty program, but it's only for bugs that are disclosed confidentially by email. And the block then published an article where they interviewed BZX founder Kyle Kissner and he said that they had, quote, agreed to pay 1inchh Exchange a bounty even though they violated our disclosure policy by publishing the vulnerability to the public. And I tried to figure out from the blog post, it wasn't super clear, but it looks like the amount they finally agreed to pay them was $3,500. And they also said that they were planning to publish a post mortem at the end of February and that the industry standard for disclosure of such vulnerabilities is 90 days. So what's your opinion on how these types of bugs should be disclosed and how people who find these vulnerabilities, how they should be rewarded?
00:25:33.050 - 00:26:17.240, Speaker C: Well, I think it's pretty clear that the 1inchh Exchange folks found this pretty quickly, right, or early on compared to these later attacks. And what that means is someone else, someone else who's technically competent is also going to find out about this bug, even if it's patched, the history is public. And so I think a 90 day disclosure policy, maybe that's I'm not as familiar with that, but maybe that works in a closed source environment. But in an open source environment where you're noncustodially dealing with user funds, people are going to find out about this stuff. I think it just pays. It's just smart to care about your users. Be as upfront as you can be.
00:26:17.240 - 00:27:01.810, Speaker C: Everything is open source. There's really nowhere that you can hide. And I think that people care more that they don't want to see someone who's like, flawless. Right? We've seen problems before in Ethereum, and yet the Ethereum community hasn't left after things like the Dow attack. And people still believe in Parity, even after the Parity wallet multi SIG incident. And Synthetics is a similar example where this white hat found an exploit and that was done in a way that the synthetics community hasn't left. So to me, disclose it, be honest, be upfront in an open source environment where we're all trying to work towards similar goals.
00:27:01.810 - 00:27:05.090, Speaker C: It just makes more sense to be forthcoming.
00:27:06.330 - 00:28:06.120, Speaker D: I'll just add that I thought it was like megatrol the 1inchh, because the postmortem that BZX published this week, they were very upfront about the fact that they didn't have transparency on their mind and they promised going forward they're going to be more transparent and disclose more. And then the one inch blog comes out and turns out that all the Bzxt wanted was no one to be aware of these flaws. And probably going forward disclosures of exploits and vulnerabilities are actually going to be rewarded a two. I think we're going to see an excerpt in people buying some insurance contracts. Nexus Mutual is probably going to see a surge as well as default swaps for people trying to just protect themselves in the possibility that we're going to see more of these.
00:28:07.130 - 00:28:27.870, Speaker A: And what do you guys make of what the bounty should be? Like this argument they were having about the fee you kind of mentioned earlier that I guess was it compound or DYT? I think it was compound you said has a much higher bounty fee. Like do you think that BZX should have had higher bounty fees?
00:28:28.770 - 00:29:21.760, Speaker C: Yeah, I mean when you start to have lots and lots of user funds on the line, you want to just be safe. It's not like the bounty is something that you're using for the benefit of humanity at the expense of yourself. A bounty is to make sure that any exploits are done in a white hat way. And so you can imagine that if the bounty was closer to $300,000, the first attacker wouldn't have made the attack, because they would have gotten this money in a much more ethical way and a way that where they can in a legal way, and they're not in kind of any place where they have to hide these new funds. And so it's not even should they be higher from a moral point of view. I think rationally they should be higher too. Right? And that's why bug Bounties exist in the first place.
00:29:23.190 - 00:29:49.946, Speaker D: I was actually thinking this week how smart or at least in the slogan or the naming a protocol like Uma was very wise to create or design their entire protocol where they have a cost of corruption for their Oracles. Thinking how much would it cost for someone to lie or to distort the price in one of the Oracles that.
00:29:49.968 - 00:29:59.580, Speaker A: They maya, can you just remind us what Uma is? I have actually talked to Hart before and I'm just blanking on what Uma does.
00:30:00.850 - 00:30:49.900, Speaker D: Uma is another synthetic protocol. I think it's called universal market access. It's an acronym for that and they make use of Oracles and price them as the cost of corruption. That's literally how they branded it. And I was thinking this week that's actually kind of the similar take but in a different creature or a different animal to Bounties because they're kind of saying, hey, suppose you want to buy out all our market participants and give them an incentive to lie, how much would it cost? And that's one form of Bounties. Right, because they're basically saying we're going to pay it up to the Oracles so they don't have a reason to exploit our protocol. It's a different twist on the same problem.
00:30:50.690 - 00:31:08.580, Speaker A: Yeah, that's super interesting. And actually, I also want to pick up on what Zupin mentioned because he used words like legal and ethical, rather illegal and unethical to describe these attacks. But actually, before we do that, let's first get a quick word from the sponsors who make this show possible.
00:31:09.030 - 00:32:02.290, Speaker B: Will the world follow France and advocate banning privacy coins? Will government backed stablecoins become the new fiat are distributed and peer to peer exchanges just a flash in the pan? The answer is maybe. Virtual currencies can flourish and create a new, private and more versatile economy. But that grand vision can't happen without keeping crypto clean, and that requires support of governments and accountability for bad actors. Privacy Enhanced Compliance using cryptographic controls has the potential to preserve anonymity without compromising legitimate investigations. CipherTrace is working on this vision of the future. Sign up to stay up to date on the Privacy Enhanced Compliance Initiative and receive authoritative crypto AML reports quarterly. WW cyphertrace.com
00:32:02.290 - 00:32:38.298, Speaker B: slash keepcryptoclean Today's episode is brought to you by Kraken. Kraken is the best exchange in the world for buying and selling digital assets. With all the recent exchange hacks and other troubles you want to trade on an exchange you can trust. Kraken's focus on security is utterly amazing. Their liquidity is deep and their fee structure is great with no minimum or hidden fees. They even reward you for trading so you can make more trades for less. If you're a beginner, you will find an easy onramp from five fiat currencies.
00:32:38.298 - 00:32:49.620, Speaker B: And if you're an advanced trader, you'll love their five X margin and futures trading. To learn more, please go to kraken.com. That's Kraken.com.
00:32:50.150 - 00:33:20.054, Speaker A: Why should you get an MCO Visa card from Crypto.com first? It's a beautiful metal card. You can top up the card with crypto and spend anywhere visa is accepted. You also get up to 5% back every time you spend on all spending, including your morning coffee, gas, or even a new phone. You know they'll pay for your Spotify and Netflix too. You'll love the unlimited airport lounge access and interbank exchange rates. If you travel a lot, there are so many cool perks loaded in one card.
00:33:20.054 - 00:33:52.070, Speaker A: Download the Crypto.com app and reserve yours. Now back to my conversation with Maya Zahavi and Zubin Koticha. So, Zubin, before the ad break, you mentioned that you felt that if the bounties on BZX had been higher, that then the attacker would have gotten paid for understanding this vulnerability in what you called a legal and ethical way. So does that mean that you think the attack was illegal and unethical?
00:33:52.810 - 00:35:08.650, Speaker C: So I think I'm not a lawyer, but I know that this is in many, many ways trending towards the illegal definition. So what we see in traditional finance is that there are oracles everywhere. People in DeFi who are not necessarily as familiar with traditional finance may not realize that, but things like Libor are. Used as oracle to determine interest rates. And wherever you have this massive, massive, massive pile of derivatives in traditional finance, you'll have things like cash settlement which determine how much money both sides of the trade make based on an oracle, and you have things like mark to market. So there's oracles everywhere in traditional finance, and it's quite illegal and quite possible in traditional finance to make money by manipulating oracles in one direction or another in ways that are very similar to these attacks. And so maybe DeFi as a system comes from a certain ethical mentality that code is law, or that this is just arbitrage, or that these systems are poorly written and so breaking them may not be unethical.
00:35:08.650 - 00:36:05.650, Speaker C: That ethical and unethical question is a little bit different. But I think what is very clear is that it is illegal from many different points of view, and that regulators would have no hesitancy in going after something like this and would have many grounds by which to go after it. I think the other thing, you can just look at this as a defaulted loan, right, and a defaulted loan on BZX, because especially the first attacker takes out a massive leverage position, the second attacker also takes out a massive loan and both of them are essentially under collateralized and so they've defaulted on their debt. And that has legal repercussions as well. So I think there's just so many different ways where you can look at this as not necessarily in good legal territory, but in the ethical question. I think that is more interesting and a little bit more up for debate.
00:36:06.550 - 00:37:27.370, Speaker D: First off not a lawyer. But if you consider the entire DeFi to be a cake a layered cake, right? Of all these composable contracts that have no KYC, no AML issue, all these securities and futures and synthetics without any jurisdictional purview or unregistered securities for de facto, then just having this one trade and distorting an oracle is just the cherry on the top. And if anyone were to look at the legality of that trade, the first culprit is going to be the protocol and the trader is not going to be someone any regulator is going to pursue. And you can see that if you look at the ICO enforcements who they chose to prosecute, right? And I think that kind of maybe diminishes how illegal this trade is in comparison to traditional finance. But again, I don't consider it to be something illegal. I think there was an opportunity here based on how these protocols were designed and someone just saw an opportunity and took it. He outsmarted the game.
00:37:27.370 - 00:38:02.680, Speaker D: That's it. And that's also my opinion on whether or not it's ethical. And I do agree that maybe disclosing this as a white hat might have been the smartest and more responsible way. But when we saw the one inch post on Thursday, that kind of signaled to me that, hey, even if someone were trying and maybe they had been in contact with the BZX team, the fact that it wasn't disclosed and there wasn't any transparency maybe meant that the only way to surface this vulnerability was by actually attacking it.
00:38:03.370 - 00:38:29.262, Speaker A: Wow. Yeah. Well, actually just zubin, to kind of ask you a little bit more about your point that you made there, what jurisdiction do you feel like, would this attack fall under? Is it just like wherever the attacker resides? And I know you're not a lawyer, but I didn't know how much you thought this through, but that was something I wondered about.
00:38:29.396 - 00:39:07.434, Speaker C: I mean, I think what's interesting about regulators when it comes to, especially American regulators when it comes to finance, is that even if things aren't happening on US. Soil, if the dollar is involved, if it ever touches the dollar, they take extremely big liberties with taking it under their jurisdiction. And I think for the second attack at least, you have the SUSD so synthetics, USD stablecoin. And there's an argument to make there that regulators can go after that because it's touching the American dollar. Right. And American regulators, I'm not sure if.
00:39:07.472 - 00:39:11.318, Speaker A: Any regulators know much about SUSD.
00:39:11.494 - 00:39:17.646, Speaker C: Yeah, I'm sure they don't right now, but I'm sure within a few years credit for I would agree with that.
00:39:17.668 - 00:39:25.680, Speaker A: That is true. I've actually had a bunch of well, I'm not going to say, but regulators have told me that they do listen to the show.
00:39:27.510 - 00:40:04.030, Speaker D: I agree with Zubin, but I'd say that the only regulators that really matter are the Americans. And it has nothing to do with whether or not someone touches the US. Dollar, because you can see that any regulatory jurisdiction that respects itself or considers itself as a first tier is always going to make sure that their regulatory enforcement is on par with the American one. And you can see it in all the discussions, FATF regulations as well as FATCA and different since directives.
00:40:04.450 - 00:40:27.154, Speaker C: I think Switzerland might feel differently. I think Switzerland and a bunch of other havens might disagree. Right. But I think to a large extent you're right. Right. I think that America has been able to, to a certain extent, exert influence across every regulatory paradigm in finance.
00:40:27.282 - 00:40:55.760, Speaker A: Yeah. And they definitely did that in Switzerland in a big way where they kind of forced more transparency so people couldn't hide funds over there. All right, so here's something that we have kind of talked a little bit about, but I just want to ask about it. You know, now BZX essentially has under collateralized loans on its hands. So how do you guys think BZX should handle this situation?
00:40:56.930 - 00:41:46.222, Speaker C: Well, so I think that the fact that there's been two successive attacks and this is kind of a chain, right. So first you have Sam Czsun coming up with an Oracle exploit, and then you have the one inch team coming up with another exploit, and then there's two successive attacks on the protocol that leave it devoid of funds. And when there's that many problems happening a row, to a certain extent you can come and put a fix. So you say, okay, the Oracle is going to be through chainlink, and that's what they're doing right now. They're trying to change the Oracles to something they feel will be safer. But I think more fundamentally, when you have such a successive set of problems that are happening with a protocol, I think much more drastic action needs to be taken. That's my personal view.
00:41:46.222 - 00:42:15.000, Speaker C: Whether that's like going through a set of rigorous audits with multiple independent auditing firms like Open, Zeppelin, et cetera, that's one way to think about it. Or maybe just rewriting the whole protocol, or maybe just shutting it down. I mean, they have admin keys that allow them to pause the protocol. I'm sure they could find a way to return user funds, but I think some drastic action needs to be taken.
00:42:16.250 - 00:42:17.720, Speaker A: Maya, what do you think?
00:42:18.030 - 00:43:46.050, Speaker D: One of my most intuitive takeaways that occurred to me as a result of this attack was that I think we're going to see more protocols put in circuit breakers, which are we have them in traditional finance, where if there's a drop or a spike in a price of an asset, I think it's over 7% on the Nasdaq. They stop trading for an hour and then resume trading. And if they see another spike, they just end the trading for the day. And given the fact that crypto is a 24/7 trading venue, maybe we're going to see more protocols build in circuit breakers within their own collateralized lending mechanisms so that if for a second they're under collateralized, they're going to pause the trading, they're going to rebalance from their own equity maybe, and only then return to normal operations. That's one. And second, I think we're going to see an increase in financial audits as well, like Gauntlet Network did on Compound, just to stress test how these protocols behave in extreme scenarios. And more likely than not, some of these scenarios are going to be combining different composable products into a single trade and look into Oracle manipulations as well.
00:43:46.050 - 00:43:56.920, Speaker D: So I think that's going to be a growing feel for auditing that's going to become more and more popular and hopefully will also become the default, just like code audit is.
00:43:57.610 - 00:43:58.022, Speaker C: Yeah.
00:43:58.076 - 00:44:26.850, Speaker A: So one argument that I have heard about circuit breakers in crypto, and I'm not super familiar with this area, but I did hear that because crypto is so much more volatile and there could be legitimate reasons that the price of a crypto asset could fall precipitously in a short span of time or potentially even spike that circuit breakers don't always make sense for these assets. So what do you make of that argument?
00:44:27.670 - 00:44:58.460, Speaker D: I agree. I think you have to really think through when or on what trades you're going to want to do that or maybe even have very extreme kind of spikes in the prices for you to trigger a circuit breaker. But then you see that in both of these attacks, that's exactly what happened. Right? I mean, the synthetic USD doubled on a stablecoin. That should be a huge head scratcher for that. So that would be one of those extreme events, in my view.
00:44:59.950 - 00:45:01.318, Speaker A: Do you have an opinion?
00:45:01.494 - 00:46:12.978, Speaker C: Yeah, I think some of the points Maya brought up kind of highlight how this could have positive impacts for the community. We're going to have people more careful about Oracle Risk. We're going to have people doing financial audits. They're going to design systems with this kind of cost of corruption approach where they assume maybe an infinitely funded, rational adversary rather than making much lower assumptions on kind of the power of their adversaries. And you're going to also see, and you're seeing this right now, money is going to go from protocols that are maybe a little bit less secure to ones that are more secure, ones that have been more well tested, more well audited. And I think, all in all, no one is going to come in DeFi and going to make this kyber mistake again, or I hope so, that people are going to at least be very cautious when they think of Oracle Risk in the future and when they think about flash loans and adversaries in the future. And I think that just leaves the system way more powerful and resilient in the future as well.
00:46:13.144 - 00:47:04.580, Speaker A: Yeah. And just to go back to my previous question about what BZ should do, I did see that Matteo Liebowitz of the bloc suggested that they do what he called a graceful unwind, because he noted that the BZX team had suggested that they would use the collateral left by the attackers for interest payments and basically wait until their insurance pool is big enough to cover this shortfall. But he was like, I'm not sure they're going to have the money to cover the like, essentially what I'm asking here is, do you think that in a way, these attacks are more like a referendum on BZX? That it's more like, hey, this team is not up to the standards that we need in this community, or is it something where it's like, it could happen to anybody?
00:47:05.510 - 00:48:00.582, Speaker D: So first off, I think BZX is the outlier and they've helped bring attention to a risk that exists across DeFi. Right. I think other teams are just a lot more responsible and they undergo vigorous audits and they check to make sure that they have the underlying liquidity to make good with their users if something happens. But more important than that, you have to keep in mind that BZX didn't lose any of the users funds, right? They're all perfectly safe. What happened was that the synthetic coin that BZX uses has no liquidity, and a lot of the users that hold that can get out of their positions due to that, due to the fact that they're locked. And there's no demand for BZX right now. Right.
00:48:00.582 - 00:48:56.680, Speaker D: I just looked on the site today and they are offering a 49% Apr right now. And the thinking is, if the community loses trust in BZX, how are the users that still have funds there going to unwind their positions? And that also goes back to a comparison to traditional finance where any lending entity has to have segregated accounts, where they have their own nostro from which they can use in case of such an occurrence. And we don't necessarily see that in DeFi. We do see that with exchanges like Binance. Right. So maybe one of the lessons from this incident will be that protocols will put aside some money to make good with their users in such an event.
00:48:57.930 - 00:49:47.074, Speaker C: Yeah, I think it's interesting. So when you think of loss of funds and no funds were lost, I think there's two ways to think about that. The first is it's true they didn't go into the BZX protocol and steal some ETH that were there, but you can think of a protocol losing funds as well from a financial point of view. So if a bank, you put a bunch of money on a bank, you deposit some amount of money to a bank and then they go and make a loan that gets defaulted upon, and then they can't give you necessarily all of your money back if you try to take out all your money at that moment. To me that's a loss of money. Right. And so a massive kind of irresponsible loan that gets defaulted upon is a loss of money in a bank context.
00:49:47.074 - 00:50:19.170, Speaker C: And I think in the BZX context there was a loss of ether funds because there were two massively under collateralized liquidated massively under collateralized positions in the BZX protocol itself. And so the protocol made massive irresponsible defaulted loans. And in that way, since people can't take all their ETH out right now, to me it feels like a loss of funds in the financial context.
00:50:20.790 - 00:51:14.482, Speaker A: Yeah. Well, I guess we're going to just have to see what they decide to do. Clearly it's not a good situation for them or their users. But let's talk about another solution that they plan to move to, which is that they do plan to integrate chainlink, as you mentioned, which is a decentralized Oracle network. And they say that they plan to integrate this quote as a supplement to the Kyber price feed to provide time weighted information on price data. And then they said even though this was not an Oracle attack, there were many that expressed concern that the security properties of our Oracle could be more robust. So how much do you think this is going to be a solution to prevent attacks like this in the future both on BZX as well as more generally in DeFi yeah.
00:51:14.536 - 00:52:40.320, Speaker C: So I think that the chain link kind of solution that BZX is talking about does help to a certain extent with some of the Oracle problems that are existing right now. I'm not as familiar with the chainlink system itself, but for all the Oracle class of attacks, not merely relying on Kyber or Illiquid DEXes seems to be a prudent move. However, I think that there are flaws beyond that in Bzex's processes that they've kind of admitted we have had flaws in our processes with their disclosure, maybe with their security, with the way that they respond to existing bugs, et cetera, et cetera. And so an example of this, right? So they have a kind of pause mechanism by which they've paused the protocol right now. And if you look through what they've said, they've said they didn't even realize they had that pause mechanism. That means that they've written code and they didn't know that it allowed them to pause the entire protocol. And to me, it just seems like you go the more and more and more you look into this, the more you realize, like, okay, they've tried to build something cool, but maybe they haven't done it in necessarily the right way, and an Oracle fix doesn't solve these cultural issues.
00:52:41.410 - 00:52:51.940, Speaker D: Honestly, I was really skeptical when they said, like, it seemed to me that they would know if they have access because someone has to issue an admin key.
00:52:53.190 - 00:53:07.160, Speaker C: Exactly. If they knew they had an admin key that could pause the protocol and then lied about it, that's bad. If they created a protocol they didn't know that it allowed them to pause the entire protocol, that's also not so good, right.
00:53:09.690 - 00:54:15.680, Speaker A: Logic, though, it somehow doesn't seem like that would be possible. Like you would know if you could do that, but anyway all right, so this came up a little bit earlier, but obviously Nexus Mutual is something that we did talk about briefly, but let's just dive into this insurance issue a little bit more now. So Nexus Mutual, which is the ethereum based insurance against smart contract failure, did pay out its first claims after the BZX attack. And the first person to make a claim was denied, actually initially by seven of the eight assessors, but only because it was filed very shortly after the attack, when there was, like, little information available about what exactly occurred. Eventually, however, they did decide that this was a smart contract bug and that the smart contract code was used in a way that was not intended. So do you guys agree that these claims deserve to be paid out?
00:54:16.450 - 00:55:09.840, Speaker C: I think so. I think that these claims should be paid out, because I think that when you're dealing with a financial system, when you talk about insurance or think about insurance, you're not just thinking about unintended code usage, you're not just thinking about hacks. Right. It would be bizarre if FDIC covered you only if there was a hack in the bank system and not a financial crisis, right? And when we think of these risks, we think of insolvency as like the first one. We think of if the protocol somehow irresponsibly uses my money and loses it, how do I get it back? Maybe it's not because of a hack. Maybe it's because of some other massive problem or liquidity crisis or whatever. And so I think that any insurance and of course, full disclosure, I am building open which is doing exactly this.
00:55:10.450 - 00:55:18.642, Speaker A: I should have mentioned that when I asked this because you guys are doing the financial coverage as well.
00:55:18.776 - 00:56:21.350, Speaker C: Exactly. So our idea is that you want to cover everything. You want to cover financial problems, you want to cover liquidity crises, you want to cover Oracle manipulations, you want to cover everything that you can, including the technical problems, the hacks, the exploits. And to me it seems like if you're using nexus mutual right now, I can imagine you're relieved about the first one paying out. But does the second and does to further attacks that come down the line, are they going to be paid out? And you're scared, like what if I fell my claim too quickly? What if I need the money really badly and I have to wait for this claims process? To me it seems like if you have a decentralized permissionless system, insurance should be decentralized and permissionless. And I think the nexus mutual team is extremely strong, very smart. But I think until you cover financial risks like these flash loan type of risks by well funded adversaries, until then you don't have comprehensive.
00:56:23.610 - 00:58:04.470, Speaker D: So first of like Nexus Mutual deserves a huge kudos because I think it was very impressive, the payout and the claim and everything that happened this week. Having said that, I think there are some lessons to take away from that. Number one, that it wasn't smart to immediately vote on that claim. But on the other hand, there is a liquidity issue for people who have funds stuck or paused on that protocol that even if they do receive a claim, they might be short on other assets that they need to pay out. Right? And so maybe we need to think about insurance, especially about smart contracts, slightly different, maybe provide some sort of funds in the meantime before that claim is resolved and create some mechanism to allow people to access other funds until they know whether or not they're going to receive the money from nexus Mutual. Having said that, the default or the case of insolvency that Zubin mentioned is something that we can prepare. But I believe that when we have a default on DeFi, there's going to be a huge domino effect that could have ramifications on the underlying assets themselves, which in DeFi's case is essentially the ETH or the ethereum protocol, right? If you really think on the abstract, you can imagine that DeFi is essentially financialized instruments where the underlying assets are always ethereum that's being locked up.
00:58:04.470 - 00:58:55.800, Speaker D: Right. And we haven't seen a huge slippage on that. We have seen funds stuck, whether it was the Parity hack or if it was right now it was BZX or synthetics. The domino effect of the systematic risk that I find to be the most disturbing in this market. And I don't necessarily think that just having a credit default swap is on chain would be enough to cover it because it's also going to succumb to the underlying protocol and the slip in ETH. If there is such a black swan event, how we're going to dusthead as a community I think is going to be tested because, like, we started this conversation, we have a huge bounty in DeFi to experiment and find out.
00:58:57.050 - 00:59:06.214, Speaker A: Yeah, I'm a little bit nervous as we go forward because I feel like some of these issues are not super resolved and DeFi just keeps getting bigger.
00:59:06.342 - 00:59:43.350, Speaker D: I'm the token skeptic and to be honest, this week I'm actually happy because I think all these risks were there from the get go and people kind of just covered it up or were quiet and didn't discuss it in great detail. And the fact that we had this series of events over the past week actually makes the conversation and the debate. It brings it up a level so we can actually discuss and see how best to design the right system so we can go forward and build this into a real financial market. So I'm actually optimistic.
00:59:44.330 - 01:00:12.670, Speaker C: Yeah, I think this has been really good for the ecosystem. I agree. I think that people are now waking up to the risks that are there in DeFi. Kind of to your point earlier, Maya, you were talking about credit default swaps. I agree. I think credit default swaps don't work at all because you need some kind of oracle to determine if there was a hack or not. I think a solution that doesn't require any human intermediaries is the best.
01:00:12.670 - 01:00:53.438, Speaker C: You're right that protocol level issues still exist. Right. So if you're building a DeFi insurance, there's going to be some reliance on ETH, because if ETH crashes to zero, then there's basically no consensus that can happen and even things like mining start to break down. But I think that you want to cover as much of the risk as you can, and I think that the way we've done it, which you can read about more at open Co is much better. But yeah, I think that this is really good for the ecosystem in general.
01:00:53.604 - 01:01:17.780, Speaker A: Okay. All right, well, we will see how the various teams in DeFi incorporate the lessons from this and whether or not we see any similar attacks going forward. Hopefully not, but yeah, I'm going to have to keep my fingers crossed, I think. All right, well, where can people learn more about each of you?
01:01:18.550 - 01:01:41.290, Speaker C: Well, so, yeah, to learn about how we do insurance. We'll be talking about a lot of that in new blog posts that are coming out, but you can go to Convexity open co Opyn co, and you'll read exactly how our protocol works. That's where our white paper is. And how do you do trustless completely decentralized insurance that covers both technical financial risks?
01:01:41.950 - 01:01:42.998, Speaker A: Maya.
01:01:43.174 - 01:01:46.042, Speaker D: And you can follow me on Twitter at mayazzi.
01:01:46.186 - 01:01:48.654, Speaker A: And why don't you just spell that for people?
01:01:48.852 - 01:01:52.254, Speaker D: Sorry. M-A-Y-A-Z-I all right.
01:01:52.292 - 01:02:00.862, Speaker A: And actually, can I ask you, why do you have a pizza slice in your Twitter name? And by the way, people, it says DPI DPI.
01:02:00.926 - 01:02:23.770, Speaker D: Laura, how do you not know about the joke was that none of and this started out as a troll, and it's actually related to this whole conversation that the entire DeFi is not decentralized. It's as centralized as a pizza, right? You have all the toppings scattered, but at the end of the day, you always have an admin key. So it's a pie, it's not a DeFi.
01:02:26.190 - 01:02:30.380, Speaker A: Okay? And a pizza is centralized because.
01:02:32.190 - 01:02:32.566, Speaker D: It'S.
01:02:32.598 - 01:02:36.160, Speaker A: One it's like a single object. Okay, got it.
01:02:38.770 - 01:02:46.820, Speaker D: FYI, there's also a depian podcast about the best pizza and how centralized it is, I kid you not.
01:02:47.990 - 01:02:54.578, Speaker C: Wait, Deep, that's my chain promotion even just like oh, Deepient, that's your own. Okay.
01:02:54.664 - 01:02:56.130, Speaker A: Is that your podcast?
01:02:57.270 - 01:03:00.782, Speaker D: No, it's friends. It's how we started out. The troll for the Deepi.
01:03:00.926 - 01:03:01.690, Speaker C: That's so funny.
01:03:01.710 - 01:03:28.170, Speaker A: Oh, I see. All right, well, I guess we'll have to check that out. It sounds funny and probably relevant here. All right, well, thank you both so much for joining today. This was, like, an amazing discussion. And yeah, I have a feeling people will have feelings about what you guys said. All right, people, to learn more about Mayan Zuba and the BZX attacks, check out the show notes inside your podcast player.
01:03:28.170 - 01:03:47.570, Speaker A: And whether you're feeling this crypto winter or the other kind of winter, keep yourself warm with some unchained t shirts, hats, mugs and stickers, which you can find at shop unchainedpodcast.com. Unchained is produced by Me Laura Shin with help from Fractal recording anthony Yoon, Daniel Nuss, Josh Durham and team at CLK Transcription. Thanks for listening.
