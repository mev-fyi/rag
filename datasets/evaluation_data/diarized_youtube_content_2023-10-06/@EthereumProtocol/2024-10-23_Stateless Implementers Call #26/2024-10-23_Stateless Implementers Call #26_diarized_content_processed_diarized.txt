00:00:02.080 - 00:00:13.325, Speaker A: All right, welcome to stateless implementers call 26. Starting off the agenda with the usual team updates. If anyone has anything they'd like to share.
00:00:19.185 - 00:00:27.085, Speaker B: Yeah, sorry, I was just going to say I'll share that the document should be accessible to anybody with the link.
00:00:28.655 - 00:00:29.395, Speaker A: Perfect.
00:00:31.055 - 00:01:47.925, Speaker C: Yeah, I can start with the updates. So I've been working on adding new tests in the execution spec tests for Verkhol. These are around 30 new tests that mostly try to cover many border cases regarding out of gas execution of transactions. So the reason this is relevant for vertical is that now whenever you run a transaction and you run out of gas whenever you add things to the witness, you might generate a partial witness compared to a successful transaction. This partial witness makes the order in which you implement. I mean if your EL client incorrectly implements the witness addition in the wrong place compared to other logic, this is now observable. So yeah, I basically try to cover every place of all the potential places where you can run out of hash for adding things to the witness.
00:01:47.925 - 00:02:21.175, Speaker C: This will make the created witness somewhat weird. And yeah, whenever clients execute the fixture, we will see if everyone agrees in the ordering in which they added the logic. So I will share in the chat the link to the latest release. So I will say that anyone that wants to join DevNet7 is invited to run these fixtures. Yeah, that's mostly it.
00:02:26.755 - 00:02:44.645, Speaker D: I think I can go next. So we spend most of the time like testing those testing and debugging those hive test that signature generated. And except for that we are progressing on our implementation of the transition. It requires kind of a huge three factor in the client. So that's why it's taking a bit longer.
00:02:44.805 - 00:02:47.025, Speaker B: But yes, that's it.
00:02:56.045 - 00:02:57.985, Speaker E: Are we doing the client updates?
00:02:58.485 - 00:02:59.685, Speaker A: Yeah, exactly.
00:02:59.725 - 00:02:59.989, Speaker B: Okay.
00:03:00.037 - 00:03:36.469, Speaker E: Sorry I came in late. So yeah, on the we working on the gas costs and I. We are only. We're missing two tests, two remaining tests that are failing regarding self destruct and we have all of the block hash tests failing because the logic for implementing for pulling out the block hash from the contract, the system contract is still not implemented. So we haven't implemented the GAS cost there yet as well. But that will be the next step.
00:03:36.507 - 00:03:37.085, Speaker D: Step.
00:03:39.385 - 00:04:44.345, Speaker E: Regarding Karim gave me his update. He couldn't join the call today. He says that he has integrated the first optimization for Kev's Rust Verqal library, but easily waiting for other API additions to get all the optimizations in. He also has a version of the flooddb based on Stem that works. NI is now working on the generate pre image to be able to run this flatdb with the mainnet blocks and compare the performances. The next step is to generate blocks and he has to check with Thomas to advance on this subject. It also worth noting that we're still working on integrating Constantine into Bezel in the background.
00:04:44.345 - 00:05:06.525, Speaker E: Yeah, so that's, I think the update. I don't have anything else. And big good shout out to Ignatio for helping out on the gas costs to publicly thank him for his patience and support. Thanks.
00:05:16.105 - 00:05:49.015, Speaker B: Yeah, I just wanted to add mostly the work has been around getting the test network, but I've also been working on speeding up Witness generation. Still ongoing. And also, yeah, the rebase on top of Cancun so that we can try to. Yeah, try to get the, you know, the rebase and be able to get better numbers compared to those I'm going to show later.
00:05:49.595 - 00:06:25.465, Speaker A: Yeah. Did we get everybody? Anybody else have updates? All righty, we can keep going. Next up, we have on the agenda an update on. Or not an update, but a just bit of info on a seminar on Circle Starks.
00:06:32.045 - 00:06:36.945, Speaker F: Yeah, I guess I can take it. But Guillaume, maybe you want to say something?
00:06:38.325 - 00:06:44.205, Speaker A: Maybe an intro on Matan as well. This is his first take list implementers call.
00:06:44.365 - 00:07:44.629, Speaker B: Who are you again? No, just kidding. Yeah, so I mean, yeah, I would like Matan maybe to make. To explain what the seminar is going to be about. But we are in the process of hiring Matan, who is a mathematician. I mean, I assume Matan will make a quick intro about himself because there's a lot of talks about starts and you know, either starting snarking Verkal or skipping Verko altogether to do some fancy snarking stuff. So as a way to prepare for the next items on the Verge roadmap, I figured it would be a good idea to run some seminars and Matan is going to tackle this. So those would be seminars, I mean, a priori reserved to people working on Stateless.
00:07:44.629 - 00:08:31.011, Speaker B: So they're open to everybody in this call. Basically, if there's not a lot of demand, if there's some free capacity, we can look into adding people who are not working on Verkol or Stateless in general. But yeah, I would, I would like to see what the attendance is like. And I'm sorry, Matan, I'm kind of speaking for you, but I took the liberty of creating this form. It's my first Google form, so I hope it's going to work. I just copy pasted the link in the chat. If you could please register there so that we can Assess how many people are going to are interested in joining and when they would be available.
00:08:31.011 - 00:08:49.695, Speaker B: And then, yeah, we can see how many people we would have and how many more people we can invite. Yeah, so I talked too much. Matan, why don't you introduce yourself? You're muted.
00:08:52.515 - 00:09:57.175, Speaker F: Yeah, thanks. So I'm tan. I spent most of my adult life in academia in doing mathematics. Specifically I worked in a field called algebraic topology where I did PhD and six years of postdoc. And then three years ago I started working in blockchain companies, first in Aragon and then later in the EF in PSE specifically. And I did some research and I'm still doing some research in Zero knowledge and fhe. And the other main effort I did was a course on elliptic curves that maybe some of you heard of.
00:09:57.175 - 00:11:30.825, Speaker F: And basically what I discussed with Guillaume is trying to do a seminar on circle starks that is similar in spirit to what we had with the elliptic curves. So the idea is to make the material accessible for the layman and so you don't need to have any, any math background beyond high school, let's say. But the other side of it is that we will need quite some time to catch up with the notions. So I would suggest a weekly 2 hour seminar, like 10 minutes break. After an hour I sent a link to my website so you can see in the publications. The write up I did for two seminars I ran, one on elliptic curves that became a book and the other is Lattices. And I plan to do something similar on Stark.
00:11:30.825 - 00:12:52.375, Speaker F: So eventually there should be a document that would be weekly updated with all the material and so on. And what I usually do is, I mean, I guess let me try to find the link to the elliptic curve course and then you can see roughly the format. I write on a tablet and I share the screen and I try to do almost everything rigorously, that is with proofs and full definitions and so on. We'll see how it goes with the Stark paper. But I think, at least from what I looked at the first two sections should be doable rigorously and quite easily. And of course I'm open to suggestions on which approach is preferable for you guys. Yeah, so that's, I guess that's it for now.
00:12:55.235 - 00:13:20.549, Speaker B: Thank you. It seems that people cannot log into the form except those people working at the ef. Yeah, this is my first Google form. I have no idea how this stuff works. I've been looking for the link to the, like the check mark to say everybody could answer if. Yeah, if it doesn't work. Okay.
00:13:20.549 - 00:13:40.155, Speaker B: Yes. I'll try to get to make Josh an editor if I find how to do this. Otherwise we'll create another form and share it on the vertical discord thing. Yeah, I'll keep working on this in the background. We can. Yeah, we can close this.
00:13:42.575 - 00:14:00.623, Speaker A: Awesome. Thanks, Matan. Excited for this seminar to kick off. Okay, up next on the agenda, Guillaume kindly put together an updated or a page with updated vertical metrics. Guillaume, did you want to walk through anything there?
00:14:00.799 - 00:14:13.085, Speaker B: Yeah, just briefly. So it hasn't been published yet. All right. We need to add it to vertical info. But if I can find. I have too many windows open. As always.
00:14:13.085 - 00:14:43.495, Speaker B: If I can find the right page, I should be able to share my screen and walk you through it always. Maybe I should not be such a Google Meet fan. Oh, I cannot present. Is that because like, maybe I don't have the right to present?
00:14:44.235 - 00:14:47.455, Speaker A: Josh, you should give me one second.
00:14:49.035 - 00:14:54.135, Speaker B: Otherwise you can just maybe share your screen if it's too. Getting too complicated.
00:14:54.595 - 00:14:58.135, Speaker A: Yeah, it says you should be able to share one second.
00:14:58.955 - 00:15:13.695, Speaker B: Okay. Oh, okay. Yeah, looks like I can now. Can anybody.
00:15:14.075 - 00:15:15.547, Speaker A: Perfect. Yep, it's working.
00:15:15.731 - 00:15:55.103, Speaker B: Okay, great. So, yeah, so I started. I have a lot more in the pipe, but I started sharing some things and some like results or some measurements I've been doing and so it's historical data. Wait, I have something that's currently blocking me. No, cancel. Okay, now I can see properly. Right.
00:15:55.103 - 00:16:28.235, Speaker B: So what was happening is that I have a database at Chapel Height because Geth hasn't been rebased. Sorry, Verko hasn't been rebased on Cancun yet. It's an ongoing project, so. But nonetheless it's recent enough that we can start collecting some data. So this page should be published on. On vertical dot info and share some measurements we've got. So like it's explained on the page.
00:16:28.235 - 00:16:56.613, Speaker B: It's at the Shanghai fork. It's replaying 200. 200,000 historical blocks. It goes through the transition and yeah, like for example, we looked at how to have the best witness size. So this is something I already presented in an old Vercall call. Vertical implementers call. So you can see the three proposals.
00:16:56.613 - 00:17:28.119, Speaker B: Sorry, the three new proposals for the witness format and which. The one that's the. That's the most interesting or the most efficient. You can see the amount of like the size of the average size of the. Of the witness or the minimum and the maximum we see replaying historical blocks. There are more things since the last time I presented those results. For example, there's how much of the witness is composed of what.
00:17:28.119 - 00:18:07.929, Speaker B: So for example the keys, it's on average 13%. The vertical proof is on average taking 12% of the witness. Well, witness plus proof. And then the pre values take the bulk of the size and the pose values are actually not taking that much space most of the time. There are some pathological cases, but mostly it's taking pretty much nothing. And we. Yeah, so we have some nodes we should like.
00:18:07.929 - 00:18:33.535, Speaker B: The main conclusion is that we should change the format of the witness for the next call. Sorry, for the next devnet. Not this one, not this upcoming one. And then post values are not taking too much space. But yeah, it's not really useful either. So I think we should dump this as well. But yeah, that's one of the conclusions.
00:18:33.535 - 00:18:55.151, Speaker B: Yeah. So I looked at the database after doing a conversion. So you can see for example that most of the tree like 80% of the. Of the nodes are depth 4, which is exactly what we were hoping for. So that's good. But there's still. There's almost 20% like of the.
00:18:55.151 - 00:19:06.585, Speaker B: Of the node like most of the remaining nodes are actually at depth five. And then you have a few. Excuse me. So these are the. I should have. I should have specified this. I will fix the.
00:19:06.585 - 00:19:41.275, Speaker B: I will fix the warning after this call. But we're talking about leaf nodes, right? Not internal nodes. So yeah, most of them are depth 4, some of them are DEPS 5. There's a few pathological cases that go all the way to 8, but overall this is what we expect like 4 to 5 as like a depth of 4 or depth of 5. It's not too bad. I still have some processing going on so I have more data to share. So this page will be updated.
00:19:41.275 - 00:20:11.005, Speaker B: But yeah, currently I just wanted to bring your attention to this so you can have a look, you can ask questions. It's going to be updated in the next few weeks. So yeah, check back from time to time and yeah, if you have any questions, I'm happy to answer. Otherwise, yeah, I will just update and notify when there's. When there is an update. Yep, that's it.
00:20:20.585 - 00:20:33.935, Speaker A: Cool. All right, next up on the agenda we have some spec updates. I guess maybe that's a continuation for you.
00:20:37.635 - 00:20:48.195, Speaker B: Yeah. Is it? Actually I was thinking. Yeah. So Luis would have some. Some comments. Yeah. So there.
00:20:48.195 - 00:21:42.765, Speaker B: Okay. Just to provide an intro. It was just a. Some conversations as we were doing like using the testing framework, some questions did arise and there were two. One of them I can. I Can address. We had a call, a non public call last week among core devs or people working on this topic, interested in this topic and excuse me, we were thinking should some contract creation cost be covered by the contract creation cost? So the contract used to be 32,000, right.
00:21:42.765 - 00:22:28.765, Speaker B: And the question was was it simply replaced with Excuse me, yeah, I'm a bit sick, I apologize for all the throat noises. But yeah, the idea was should we get some costs covered? And I did a bit of math, sorry, should we get some costs covered by the old cost? Right. And my conclusion is that no we should not. But I was trying to see if Lewis, I think that was Luis and Tanish could basically summarize their position so that we can come to a decision.
00:22:34.585 - 00:24:15.425, Speaker D: I think I can go so what like what my position was initially that in the create gas cost the upcode cost was like as k mentioned, like 32,000 and we reduced it to thousand per worker and now we are charging some other worker costs for the contract creation. And there's this another discussion that happened in Kenya and before that as well, like when should we charge those kind of gas? Like is it before the one by 164 gas reservation that we have for like the internal call, should we charge it after detecting that one by 161 by 64 or should we deduct these local costs before that? So my assumption was since we reduced the upward cost which is always deducted before from 32,000 to thousand. So my understanding was maybe we should deduct these local costs also before that like one by 64 deduction. And we had the discussion on the, on a call I think last week last or last or last last week. And the conclusion that we ended up is in like game was trying to Explore if that 32000 cost included the cost for account creation or it was just for like code insertion. So yeah, basically that's the discussion like should we charge the worker gas cost before that one by 64 deduction or after that? It doesn't make a really, really big difference but it does make some kind of a difference on how much gas cost is left for the internal call and if it deducted before, if it deducted afterwards and things like that.
00:24:16.165 - 00:25:05.035, Speaker B: Right. So thank you for the intro. That's a very good explanation. And so yeah, what I wanted to do is to say is I've done the Math and those 32,000 right, they're not enough to cover the creation per se. So my argument is that because those new vertical gas costs are more than what would have been that what it like imagine you didn't have. You didn't have change those, those discrete costs you had not reduced it. You would have still, it would still have cost you.
00:25:05.035 - 00:25:41.365, Speaker B: Like, like the, the cost that you will incur by creating a contract is much higher than those 32,000. So what I'm saying is you can't really sweep it under the rug. It's just too much. So it's not like it can't be considered as covered. And as a result, I think we should not change the current way of proceeding because yeah, this argument that this would be covered by the old cost no longer holds, basically. I don't know if I'm clear.
00:25:43.705 - 00:25:52.845, Speaker D: Yeah, then like if that's the case, then I'm like okay with proceeding how we have implemented it right now anyways. I prefer the way how we have implemented it right now. It makes more sense.
00:25:53.195 - 00:25:54.215, Speaker A: So yeah.
00:25:57.515 - 00:26:04.415, Speaker B: And then excuse me that maybe Luis, if you want to talk, introduce your problem.
00:26:04.915 - 00:26:41.905, Speaker E: Yep. Yeah. So what I raised was since we lowered the contract creation from 32,000 to 1,000 for Verkal, right. We. I've. I noticed that when we are doing account creation like EOS, we are still charging 25,000, which is. It's not even taking into account the witness cost touch costs.
00:26:41.905 - 00:27:21.095, Speaker E: So I was asking whether that was not a bit unfair compared to the contract creation which is now 1000 and the EOA creation is 25,000. Of course, I mean for the contract creation you also have the cost for storing the contracts in the tree, the code chunks. But at least the simple case. My position was that it looks a bit unproportional. Not sure what you guys have to say about that.
00:27:27.955 - 00:27:34.331, Speaker D: I don't understand like where are we charging the 25,000 for EOA on.
00:27:34.443 - 00:27:50.115, Speaker E: So when the, when we doing a call and the address is not being. Does not exist yet for account creation, I think we charge 25,000 additionally.
00:27:50.415 - 00:27:52.315, Speaker D: Oh yeah, okay, that makes sense.
00:27:56.295 - 00:28:41.835, Speaker B: Yeah. So my argument is that, okay, my argument is that we should not change it simply because, you know, it's. It's already there. It was there before because when you look at the 21,000 for sending a transaction, right, we cover some of the costs, but those were costs that were already paid for by the 21,000 before vertical. Namely adding like accessing the code, accessing the. The sorry, not the storage, but the balance, the nonce, et cetera, et cetera. But the contract creation gas cost was really distinct.
00:28:41.835 - 00:29:09.309, Speaker B: And if you look so still doing some Math. If you look at what it takes to create an EOA, it's way lower than. It's something like 7,000. Okay. Make it 8,000. So it's much, much lower than creating that discrete cost. So that would be a huge rebate.
00:29:09.309 - 00:29:47.101, Speaker B: Right. So I think at least we can still have this conversation maybe with researchers at the Interop in Bangkok. But I think currently we should, you know, we should stick to keep this cost it. I understand why you think it's a bit unfair, but at the same time it's a cost that was already charged before and it doesn't really correspond to anything new in vertical mode. Right. Because the costs are much cheaper. So my reasoning, at least I'm not saying is the correct thing to do.
00:29:47.101 - 00:30:09.805, Speaker B: But it's. Yeah, I would say right now I would rather not remove too much gas, too many gas costs. And we can still take it with the researcher and think about it, you know, brainstorm about it in, in Bangkok and, and decide to change it then. But right now I would like to stick to the status quo.
00:30:11.265 - 00:30:30.735, Speaker E: Yeah, sure. Fine with me. Yeah, I would say also let's talk with the researchers. One, one last thing to note is that the self destruct is also. There's the same kind of charging as well when you're sending the balance to the. To the beneficiary. That's just my.
00:30:30.775 - 00:30:34.255, Speaker B: Yeah, right. The self destruct still is. Right? Yeah, yeah.
00:30:34.375 - 00:30:35.287, Speaker E: It's the same case.
00:30:35.351 - 00:30:35.567, Speaker D: Yeah.
00:30:35.591 - 00:30:39.391, Speaker E: If the account does not exist, beneficiary, you also charge the same.
00:30:39.543 - 00:30:42.239, Speaker B: Okay. So we would have to change it in two locations.
00:30:42.327 - 00:30:43.889, Speaker E: In two locations. Yeah.
00:30:44.087 - 00:30:44.905, Speaker B: Okay.
00:30:46.605 - 00:31:21.395, Speaker D: I think, I'm not sure if this happened or not, but I think we had this discussion before as well. Not sure for self destruct, but call and I might be wrong, but I think we came to this conclusion that we don't. Anyways, we don't want to encourage a behavior where someone uses calls to create new accounts. So that's why it's okay if we charge a lot to create a new account. When someone like creates does a call to account that does not exist. Like I'm not sure if that happened, but I remember something like that being discussed before.
00:31:23.615 - 00:31:32.207, Speaker B: Right, that's a good point. Yeah. We want to disincentivize the can creation because they can no longer be self destructed.
00:31:32.271 - 00:31:32.915, Speaker A: Yeah.
00:31:33.615 - 00:31:53.595, Speaker B: Yeah. Okay, that makes sense. Yes, sir. Josh, I saw you posted a new link, is that correct?
00:31:54.055 - 00:31:56.471, Speaker A: Yeah, that's cool. I just created a new doc.
00:31:56.623 - 00:31:57.475, Speaker B: Thank you.
00:31:59.095 - 00:32:25.705, Speaker A: Anyone interested in the seminar? There is a link in the chat. Boom. If that's it for that topic. The last topic we have for today is any updates on testnet. And yeah, I think targeting for this week is the plan as far as I understand it. And just any questions or. Yeah, opening it up to anything here on testnet.
00:32:29.815 - 00:32:50.031, Speaker B: Yeah, I think the reason why we schedule this is to ask. I think everybody's more or less ready. Maybe not besu exactly, but they can always join afterwards. I don't know if Barnabas or Parry are here, but it was more like. Yeah. Are we go. Are we good to go? And can we.
00:32:50.031 - 00:32:56.321, Speaker B: Can we just do this? I don't see them.
00:32:56.433 - 00:33:01.825, Speaker A: They're not here. You can always ping them after. I can follow up with them if you want, but.
00:33:01.905 - 00:33:03.365, Speaker B: Yeah, yeah.
00:33:06.185 - 00:33:12.417, Speaker A: Yeah, we can always. Yeah. And early. I don't know if anyone has thoughts.
00:33:12.521 - 00:33:23.675, Speaker B: Right. Just want to confirm everybody's is good to go or, you know, no one wants to hold tested launch for some reason. Okay.
00:33:25.255 - 00:33:42.527, Speaker A: Thumbs up. All right. Nothing else. Should we end there? Yep, sounds good. Cool. Thanks, everybody.
00:33:42.671 - 00:33:44.355, Speaker B: Thanks. Have a nice day.
00:33:44.735 - 00:33:45.215, Speaker A: See you.
00:33:45.255 - 00:33:45.711, Speaker C: Thanks.
00:33:45.823 - 00:33:45.975, Speaker B: Bye.
