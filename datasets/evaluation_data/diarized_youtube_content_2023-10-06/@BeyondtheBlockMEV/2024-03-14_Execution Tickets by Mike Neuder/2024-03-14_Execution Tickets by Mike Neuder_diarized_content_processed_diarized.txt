00:00:02.810 - 00:00:33.798, Speaker A: Everyone excited to give this talk? It's on execution tickets, which is kind of this new thing that we've been poking at since the Columbia Crypto economic conference. And so hopefully this can help continue the discussion around the topic. Cool. So, yeah, the talk's kind of going to be in two halves. The first half is going to be defining the problems, and we'll kind of start with proposal builder separation. Today. This crowd seems like very native, so we won't spend too long going through that.
00:00:33.798 - 00:01:23.970, Speaker A: But then we'll talk about some of the consequences that result from the current market structure, the current market dynamics as they're playing out, and that will serve as kind of a motivation for these set of solutions that we'll propose. We'll kind of talk about the high level EPBs rationale that we've been thinking about, and then we'll finally kind of get to the execution tickets, try and analyze how each of these consequences that we describe as problems in the current state get addressed through the tickets. Implementation in theory. Cool. So, yeah, just super high level proposal builder separation. The TLDR I have in quotes up there, which is just almost all proposers sell their full blocks to three builders, and the three builders are in this room. This is a photo from Tony'smevoost pix.
00:01:23.970 - 00:01:55.470, Speaker A: Everyone's probably seen this. 90% of Ethereum blocks are built through Mevboost. This is the out of protocol PBS infrastructure built by flashbots. And this is relay scan, the website. That is kind of the source of truth for which builders are winning which blocks. And yeah, like I said, the top three builders kind of overwhelmingly win. All of the blocks that go through the web boost relays, and this kind of looks really bad optically, and I think people like to poke fun of it.
00:01:55.470 - 00:02:49.134, Speaker A: But if you actually look at Vitalik's endgame from December 2021, over two years ago, he has this quote at the end, which is, so what's the result? Block production is centralized, block validation is trustless and highly decentralized, and censorship is still preserved. So the point here is that we're actually not that far off. Like, we got the block production centralization part down, but keeping the other parts around is kind of like what we're going for here. So, yeah, we'll kind of tie in now to the set of consequences that result from the existing MeV boost. And the first is what I'm calling warping validator economics. So this plot is maybe a little hard to see, but there's kind of a solid line here, and that shows the yield that is the issuance from the Ethereum consensus layer. So this is the reward you get for proposing blocks, attesting to blocks, and just generally being like online as a validator.
00:02:49.134 - 00:03:38.046, Speaker A: And the dashed line is kind of this hypothetical MeV yield. I mean, it's not hypothetical, but the exact function is not deterministic in the same way that the consensus rewards are. But there's basically some delta between what the protocol sees is the rewards for being a validator and what the actual rewards are. And that Delta is the amount of MEV that you get for participating in the Mvboost auction. And this results in a huge amount of ETH supply being staked. There's many other reasons ETH supply stake is relatively high, but one of them is definitely that Mev rewards make it highly attractive to stake your ETH. Yeah, what I just said here, and yeah, this is kind of also a centralizing force in that MeV is extremely high variance.
00:03:38.046 - 00:04:09.210, Speaker A: So pools have kind of outsized exposure to MeV. This is kind of a centralizing force because the solo staker who builds one block every four months is very unlikely to get like 100 ETH block in the way that a pool that validates like 30% of Ethereum stake would. Right. The second consequence I want to just chat about briefly is timing games. Mainly because timing games has been like a very new development in the ecosystem over the past couple of weeks and months. And these plots are from a really great post from data always. I'll refer you to.
00:04:09.210 - 00:04:34.722, Speaker A: All the posts are like footnoted here. So this shows the block time for P to p.com or pdp.org. And they essentially started advertising that they were playing timing games. What this means is they're going to delay their block production intentionally to earn extra MeV. This kind of shows the same thing, which is this is the set of block times. Now this would be the optimal set.
00:04:34.722 - 00:05:24.590, Speaker A: And so kind of shifting the process of producing your block later into the slot is like going to increase the rewards of being a validator and being a proposer. And the TLDR here is that higher MeV rewards are resulting from this delayed block production and kind of circling back to our centralizing forces. This means that being very latency optimized, being very sophisticated is going to earn you additional yield. And that's again, one of these centralizing forces that kind of threatens this credibly neutral endgame that Vitalik was talking about. Cool. Number three is censorship. Again, these things are kind of continuing to crop up very recently so this plot is from censorship pix, which is another pix website from Tony.
00:05:24.590 - 00:06:14.846, Speaker A: And this shows the builder centralization. Builder censorship as time goes on. And you can see we're now up at like around 60% builder censorship. And this kind of defeats the purpose of all these non censoring relays, because even if the relay isn't necessarily censoring, the builder ultimately decides the set of included and excluded transactions. So even if a validator connects to a non censoring relay, it doesn't actually matter if the builder that won the auction is censoring, because they are the ultimate source of truth for what gets in the block. And, yeah, kind of circling back to this endgame goal here, this censorship is still prevented is kind of like at ODs with what we're seeing in the current mevboost ecosystem today, and the fourth and final one I wanted to call out is this fragility thing. We've had kind of a number of different incidents.
00:06:14.846 - 00:06:50.282, Speaker A: There was the low carb crusader. There was an issue around the Chapella fork where there was a bug between prism and Mevboost. The most recent one was this February 6 incident where a proposer went out of used MeV Boost to sign a header from the builder and from the relay. And the builder actually ended up publishing an invalid block. So there was nine blocks that got published that were invalid. They were published through the blocks route relay. And because this is all outside of the purview of the Ethereum protocol, this kind of like trust refund process has to go out of protocol.
00:06:50.282 - 00:07:30.810, Speaker A: And this is another one of these things that's just like, extremely fragile. Every hard fork has this process where all the execution layer and consensus clients need to be updated. But then there's also this mevboost software and Mevboost relay software that all needs to get updated too. It's kind of this continued source of friction as we try and upgrade and forth the network. Cool. So, yeah, that's kind of setting the stage and motivating the problem we have here. And there's kind of a lot of PBS discussions and EPBS discussions that were happening kind of towards the second half of last year, and most of them focused on this version of PBS that looked a lot like MeV boost.
00:07:30.810 - 00:08:15.370, Speaker A: But Barnaby had this quote, and it really stuck with me. And it's that EPBS does not necessarily mean enshrined Mev boost. Right. Like, we shouldn't constrain what we're thinking of as what we could put into the protocol. As just doing what Mevboost does today, because that was like just the historical artifact of what was there after the merge. So there's kind of a whole slew of acronyms here that if you're interested in, you can definitely read about. There's PEPC, top of block, rest of block slot auctions, multiplicity, inclusion list, and, yeah, kind of in this vein, there's this idea of execution tickets, and it's kind of a version of PBS that looks slightly different from Mevboost today, but potentially could solve some of these negative externalities.
00:08:15.370 - 00:08:43.042, Speaker A: Cool. We made it to the main event, execution tickets. So I'll just start with the slot construction. So today in Ethereum, there's slots that are how blocks are produced under the execution ticket regime. There's kind of two rounds that constitute a full slot. There's the beacon round and the execution round. And the beacon proposer is the Ethereum validator of today.
00:08:43.042 - 00:09:26.078, Speaker A: These are like normal stakers, which is why they have the stakehead, and they propose a beacon block. And the beacon block has an execution list. So the important thing here is that this beacon block doesn't actually contain the execution payload, which is the list of transactions that represent the state update of the chain. The list of transactions that they enforce are included during their slot. The beacon attesters, which is just the same group of the testing committee that's selected from the set of Ethereum validators, attest to the availability and the validity of the beacon block. And now we just have a second half of the round, which an execution proposer proposes. The block.
00:09:26.078 - 00:10:08.606, Speaker A: This execution block is now the list of transactions. So this is actually where stuff lands on chain. And then you have a set of execution attesters that attest to this block. So this actually looks quite similar in terms of how EPBs has been discussed before, where there's kind of two slots, there's like a very clear delineation between what it means to be a beacon proposer and an execution proposer. Yeah, so this is now where execution ticket slightly deviates from the other versions of the design. And I'll kind of build out this whole picture of how block production works in the execution ticket regime. So first off, we have our validator set.
00:10:08.606 - 00:10:55.310, Speaker A: They interact with Ethereum consensus, as they do today. They stake, this is our solo staker, staking pool, centralized exchanges, everyone that we're very familiar with today. But now we have a new set of kind of enshrined actors, and they're enshrined because they interact with the protocol through a different mechanism, which is they buy and sell tickets directly from Ethereum consensus. So the Ethereum consensus exposes a way for actors to buy and sell tickets which will entitle them to future blocks, but they don't necessarily know which block they'll be entitled to in the future. So when I buy a ticket from the Ethereum consensus, it's fungible. So it just says in some future slot this ticket will be eligible to produce a block. But because it's fungible, I could sell it back to the protocol, I could sell it on secondary market potentially.
00:10:55.310 - 00:11:39.482, Speaker A: And yeah, it hasn't been assigned to a specific slot yet. So it's kind of just this object that you hold onto. And we expect the set of people to hold execution ticket holders to be quite different from the Ethereum validator set. Right. This is kind of the highly sophisticated mev actors that are present today, hedge funds, block builders, HFTs. We have this pre confirmer stuff which if Karthik's vision plays out, that'll be highly relevant in the future. But yeah, the point being is they are purchasing the right to produce execution blocks from the protocol rather than purchasing that privilege from the validator set themselves.
00:11:39.482 - 00:12:09.026, Speaker A: So there's kind of like a clear delineation between the two roles. Cool. So now we kind of can go through the production of blocks using our slot construction from the previous slide. So there's a randomness process that selects a proposer from the validator set. They propose the beacon block. This is kind of our phase one that we described in the previous slide. Attesters attest to the block and now we have this second randomness beacon that selects an execution ticket.
00:12:09.026 - 00:12:46.730, Speaker A: Holder assigns them the right to produce a block during that slot and they can propose the execution block here. So again, the way this differs from today is the execution ticket holder set is the group of people that's elected to produce blocks rather than the validator set themselves. And we have a set of attesters that attest to that block. Cool. Just kind of continuing on the thought experiment slightly. We have the second slot in this example, but in this case, the beacon block shows up on time. So the beacon proposer fulfills their duty.
00:12:46.730 - 00:13:13.434, Speaker A: But now the execution ticket holder who was assigned to produce the block during this slot didn't show up. So this block is missing. The attesters are going to vote and say, hey, that block is missing. This is kind of equivalent to a missed slot today. No transactions will land on chain during that time period. And as a result, the next beacon block will use the previous beacon block as apparent. So this is very much just like a normal chain where any of these blocks could show up or could not show up.
00:13:13.434 - 00:13:51.494, Speaker A: You use the testing committee to enforce the timeliness and the validity of the blocks that do show up. And the last thing I would say here is there's kind of two look aheads now. So there's the beacon proposer look ahead, which is today like two epochs. So if I'm a validator, I know I'll be a proposer within one of the next 64 slots. If that's a duty that's been assigned to me. There's also going to be an execution proposer look ahead. And what this means is there's a certain set of tickets that over the next, say 100 slots will be assigned to a slot that they know they'll have to produce a block for.
00:13:51.494 - 00:15:16.334, Speaker A: So if I hold a ticket, I might know, hey, in the 47th slot in the future, I'll have to produce my block during that twelve second period or else my ticket will be voided and I won't have produced a block. So yeah, again, this is kind of this idea of completely decoupling execution from consensus and also from removing this kind of just in time mechanism and saying, okay, these tickets are going to be looking forward into the oops, these tickets are going to be like looking forward into the future and they're going to be non fungible once they get assigned to a slot, which kind of leads to this next slide, which is this idea of the secondary market. So the primary market is what the Ethereum consensus is kind of going to have visibility into, right? So the primary market is people buying and selling tickets. And in this bubble here, we try and highlight some of the skills and features that would make someone interested in participating in that primary market. Right? So this is someone who has a good idea of how much block space futures should cost. I have some idea of the amount of MEV that this ticket will be able to produce for me if I hold onto it until it kind of matures. It also might have potentially high capital requirements, like buying a ticket is going to be market defined.
00:15:16.334 - 00:16:10.530, Speaker A: So if there's a lot of MEV tickets might be very expensive, you might want to hold many, many tickets in order to increase the probability that you are assigned a high value slot, et cetera, et cetera. But the point being this primary market of buying and selling tickets, which is the fungible version of this block space future market that the Ethereum consensus would expose, is kind of the edge of what Ethereum consensus would have visibility into. So Barnabay uses this kind of metaphor of there's like a fence that you have to draw, and this is where the fence would be drawn. But when the tickets are kind of assigned to a slot, suddenly the fungibility goes away. Right. Like, if I know my ticket is assigned to a specific slot, I can't resell it to the protocol. And this kind of emits the secondary market, which is probably closer to the MeV boost market that we see today.
00:16:10.530 - 00:17:04.482, Speaker A: Right. So now that I know that I have slot 47 in the future, I might want to sell that slot to a specialized builder for some very high price because they're willing to buy it kind of just in time, right before the slot starts. So, yeah, this is kind of like the just in time Jit block auction that could take place. You also have potentially like multi slot ticket sales, which is potentially like a cool feature for some builders, but also potentially very bad for other reasons, which we'll discuss soon. You could have block space derivatives, so you could buy block space futures on margin and do all sorts of weird stuff. And the secondary market is, there's some features that definitely correlate with the primary market. So some people may participate in both, but it also could be like a slightly different set of skills that make you competitive in the secondary market.
00:17:04.482 - 00:17:43.070, Speaker A: Right. So this might be the sextex arbitrage you have, like MEV extraction generally, which could be a slightly different skill than actually just pricing block space futures generally. So it kind of remains to be seen exactly how that market dynamic would play out. But potentially there would be a set of actors that participates in the primary market and not the secondary, and vice versa. Right. And the concession here is that we just say, okay, this is going to happen out of protocol. We're okay with that, as long as this primary market is within purview of the theorem consensus.
00:17:43.070 - 00:18:21.286, Speaker A: Cool. So, yeah, that's kind of the overview of the design. We'll run through a few pros and cons and some of the initial considerations. Obviously, this is a very new topic. This is not an exhaustive list, so buyer beware. I guess first pro is, it's just like a super clean abstraction, right? You have this consensus proposer object, and then you have the execution proposer, and it's like very clearly delineating between the two roles and putting that in protocol. And, yeah, that's just a nice clean abstraction.
00:18:21.286 - 00:19:04.710, Speaker A: It also simplifies the task of being a solo staker or a validator generally. So now I don't have any benefits of playing timing games as a solo staker because I don't actually get any of the MEV rewards, which is kind of this second thing, which is MeV completely is removed from the validator rewards. So what this means is the consensus layer rewards. The issuance from the protocol actually is better representative of what the value of being a validator is providing to the protocol. So there's more fine grained control over kind of what Ethereum is paying in terms of trying to secure economic security. So yeah, the first one removes timing games. The second one should modify the warping of consensus economics.
00:19:04.710 - 00:19:48.234, Speaker A: And these are kind of some of the issues that we identified in the first half of the presentation as problems that we face today. Also, we have really nice roadmap compatibility. You get nev burn out of the box because the primary market of buying and selling tickets is kind of like an MeV oracle. When you buy a ticket, you're basically saying, I expect there to be at least this much mev by the time that this ticket becomes redeemable. And so you can kind of just burn that amount. You don't have to necessarily burn it, but in the same way that 1559 burn works, it's kind of the most credibly neutral way of distributing that economic value back to the protocol. It also has just like a very simple and kind of endgame aesthetic to it.
00:19:48.234 - 00:20:38.882, Speaker A: Right. It's just like you have these two lotteries that take place, they're completely detangled. And ideally you wouldn't have to modify, like keep trying to update the market structure. You just say, hey, the secondary market is going to evolve out of protocol, and we don't care. You also get these inclusion lists. Well, I guess execution tickets don't give you inclusion lists, but you wouldn't do execution tickets without inclusion lists because you need some way to kind of improve the censorship resistance that we see today kind of comes bundled with execution tickets that you get inclusion lists. And inclusion lists would need to be designed in such a way that we expect them to be useful again, I'll talk about that in a sec when referring to the multislot MEV stuff, also, execution proposers can be punished more heavily.
00:20:38.882 - 00:21:45.098, Speaker A: So this is kind of an interesting side effect, and it should help improve that fragility aspect that we were talking about earlier, because execution ticket holders, we're saying, are these more sophisticated, highly capitalized entities. So if they miss a block, you could potentially have higher slot penalties, you could charge them upfront for the gas that you expect them to consume, and then they have to earn it back throughout the course of the slot. And the reason you can do this kind of safely is because the execution proposers are a different subset of people than the validators, and we're trying to keep the validator set decentralized, keep it credibly neutral, while allowing the execution proposers to be as sophisticated as possible. So that should hopefully improve this fragility dimension. Cool. So for some cons, I think the biggest thing is this multislot MeV concern. So this is kind of subtle, because today, if you want to do multi slot MeV, you basically have to continually participate in the auction every slot, right? Since there's an auction, every slot, if you buy the first slot, and let's say, just leave out all the uniswap transactions from that slot.
00:21:45.098 - 00:22:43.982, Speaker A: Now, during the second slot, you have to compete with everyone else who can also pick off those stale lp positions in the same way. But if you have this execution ticket world, you can actually buy multi slots ahead of time. So I know that I'll have slots 47, 48 and 49 in the future, and if I have those tickets, I don't have to participate in any auction anymore. I can just censor all the uniswap transactions for slots 47 and 48 and then snipe all those stale positions in slot 49. So the multi slot MEV concerns are like the biggest thing, the biggest point to address this would hopefully be like inclusion lists or some very strong censorship resistance, where the beacon proposers constrain the set of transactions that the execution proposers can and can't leave out. Again, centralization. Generally, we're seeing this today kind of all over, but in some ways, execution tickets is kind of accelerationist.
00:22:43.982 - 00:23:46.882, Speaker A: You enshrine this very sophisticated entity. And yeah, I think that's potentially concerning. There's also fork choice implications. This is just the fact that there's two rounds of attestations this could have potential problems around if a beacon proposer shows up late and gets reorganged by an execution proposer, like all sorts of kind of strange stuff can happen. So making sure that the fork choice rule is robust to this, and maybe single slot finality could be potentially a precondition for execution tickets in order to avoid that. Again, this is kind of like double clicking on the multi slot concerns and inclusion list generally is just like, are they a sufficient mechanism by which censorship resistance can be enforced? And then there's just like general unknown unknowns, right? This is a huge protocol change. I think in general, doing something like this would be a big lift, and it would kind of completely overhaul the Ethereum consensus layer, and doing so might take a few years.
00:23:46.882 - 00:24:19.900, Speaker A: And if we don't have a really strong conviction that it's the right direction, we could be in a position where we've invested a lot of development and engineering and research resources in something that we don't actually think is the right thing. At the end of the day, there was a thank you slide. Oh, there it is. Yeah. So this shows the builder market on the left and then the validator market on the right, which hopefully is a lot more peaceful, tranquil, and not as competitive. So thank you very much. Thank.
