00:00:02.650 - 00:00:40.306, Speaker A: So while he's getting set up, our pre confirmations are slightly different in the fact that they're real. They're available on Holski Testnet today. The only thing that's really technically holding us back from a mainnet release is, you know, the privacy release that's coming on later this month. And I'll get into that. But yeah, with that being said, we've been thinking about pre confirmations more than a year at Primev. And the whole inception of Primev came from me being part of the Mevboost Stewards group for the first time in Devcon, Bogota. I was at the time product lead at Block Native, which ran a major block builder and a major relay.
00:00:40.306 - 00:01:10.414, Speaker A: And in that meeting I came to the realization that people just don't want to deal with centralized actors. At the end of the day, they want to deal with a network of these actors. So we started going down this path of starting a peer to peer network for PBS actors, which eventually became this credible commitment network MeV commit that I'm going to get into. But let's go into pre confirmations a little bit. So what is the pre confirmation? It's a credible heads up before a confirmation happens. And this definition is true outside of blockchains or finance in general. And the common example we give here is Amazon.
00:01:10.414 - 00:01:55.146, Speaker A: Right? So is Amazon delivering you your order most of the time? No, it's USPS. It's FedEx, someone else like that, a delivery specialized kind of entity. But you're not asking for USPS's status when you make an order on Amazon. Amazon gives you a credible commitment, and that's good enough for you. And that's the type of paradigm that we want to enable for very specialized actors who can fulfill these pre confirmations. And something like an eigen layer or a validator commitment can then be used to then deliver these as well, which increases the credibility of the commitment, but is not a requirement, which is what's interesting about this model. So we have four types of pre confirmations that we've been ideating about, and these are transaction, state, block and slot.
00:01:55.146 - 00:02:26.122, Speaker A: As you can see, transaction is the most straightforward one. It's just a transaction that you have and we confine it to inclusion at this stage. And that has some other guarantees because block builders usually simulate your transactions and make sure they don't revert. So that's kind of embedded and implied, but it's at the inclusion level. State is a different one. It's more contentious, it introduces more latency, it requires coordination from the protocol itself to promise a state to someone. While actors can give state auctions, it becomes very difficult to manage different states.
00:02:26.122 - 00:03:16.838, Speaker A: So it kind of has to be from the protocol. For blocks. It's very interesting because it kind of changes the game when it comes to MeV boost auctions and for slots, we think of them as kind of these future execution ticket like block pre confirmations. We're going to focus on transactions in this one, but this example between Amazon and USPs really holds when it comes to validators and more specialized entities who we think will be blockbillers or relays, but it can be defined as a pre confer or something else in the future. What we call them on Metcommit is providers of execution services. But the fulfillment consortium model is how you can achieve pre confirmations without validator participation. And the idea is that today you send a bunch of transactions on Ethereum and you have no idea about your execution risk.
00:03:16.838 - 00:04:12.822, Speaker A: Tomorrow, if you have a network of block builders, and maybe actually not tomorrow, but this month, really what you can do is you can add up their network power to get a sense of your execution risk. So this fulfillment consortium model without validator participation already improves your execution experience because you can take in this known quantified execution risk and plug it into your risk algorithm and hedge whatever you need to. This becomes super, super compelling once also the proposer gives you a commitment. So let's say we use Eigen layer and you know that these blockbiller commitments or relay commitments will be held by the proposer. That increases the credibility of the commitment to something at the Amazon level, right? You know that these commitments will be delivered. So that becomes super compelling to incorporate this fulfillment model with something like Eigen layer to get fulfillment plus delivery. So how do we achieve MEV boost style transaction pre confirmations? You need two major properties.
00:04:12.822 - 00:04:44.098, Speaker A: One is an encrypted P to P network. You need it to be encrypted so you don't leak a lot of MeV info. And two, you need a chain to play these fast games. And what are fast games? Barnabay from the EF defines them as games that by construction the Ethereum chain does not have access to because blocks are 12 seconds. So if you're trying to play games that are faster than that, we define them as fast games. We introduce map commit as one such network. It's the first of its kind where you can play these fast games and do real time bidding and commitments for pre confirmations.
00:04:44.098 - 00:05:19.006, Speaker A: What's interesting about these types of pre confirmations and these bids is that you can update them in real time, which is very different than how Ethereum speed ups work. And this does not include the actual transaction. So let's say you have a transaction you're sending into a block builder, you continue to do that today, but then you also send a pre confirmation bid simultaneously on MAv commit, and you can actually update this bid in real time. You don't have to send the transaction over and over again. And this becomes a really important factor when you have large transaction like blobs, but we'll get into those. So we have two types of nodes on Mav commit. It's a bidder role and a provider role.
00:05:19.006 - 00:06:28.854, Speaker A: So very different than how regular blockchains are constructed, usually with a single role, and bidders are able to submit their bids in real time, and providers are able to stake some ETH to make their commitments credible, but also listen to these bids in real time and commit against them. We define actors as potential bidders or providers, depending on their role in the MEV pipeline rather than a set role. So if you're an L two sequencer, you might be a bidder for l one pre confirmations, but you might be a provider to l two users. Similarly, the block builders and relays could be bidders or providers to each other, or bidders or providers to proposers, and vice versa. So this kind of, I don't want to use the word modular, but it's a very open architecture and it's not opinionated on who you are, it's not opinionated on what chain you're using or what transactions you're looking at. So this makes us think of precoms as a new transaction type, because what's fundamentally different about it is, well, we put up forward this idea that EIP 1559 was just insufficient to express your inclusion needs. And this was about a year ago from now, and it was quite controversial to talk about this at the time.
00:06:28.854 - 00:07:10.146, Speaker A: And nobody really agreed with it until I got the chance to talk to Tim Roughgarden about it, who, to my surprise, agreed with it and helped me on the mechanism. So we have a pretty robust mechanism on pre confirmations that was vetted by one of the people who is behind EIP 1559. And as you can see, this research was last updated seven months ago. So what's different about the precomp bid? Well, if you have max fee and priority fee on EIP 1559, you now have this real time precomf bid that has a transaction ash reference a bid amount and way and a target block number, and that's about it. It's pretty simple. What's different about it is that time is really money when it comes to pre confirmations. So you need this decay mechanism.
00:07:10.146 - 00:07:56.974, Speaker A: And what we have on Mavcommit is a real time decay mechanism. So if you bid one e for a pre confirmation, it's instantly already decaying. And this incentivizes the builder, or relay or whoever else is the provider to immediately commit to your pre confirmation. What's interesting is it enables a new type of game theory between block builders, where if you have the same block with another block builder, but if you're able to commit to it before the other block builder, then you can capture some value that now that block builder cannot kind of catch up with. So how does it actually work? Well, you send a bid, you receive some commitments in real time, some magic MeV pipeline happens, and then you profit. Well, let me get into that, actually. Well, what's really happening is block builders are trying to deliver these commitments, or relays, et cetera.
00:07:56.974 - 00:08:32.394, Speaker A: All MEV pipeline actors are actually working in real time to kind of deliver you these commitments. But it works similar to Mevboost in that sense. So the commitment is kind of a social thing. Rather it's enforceable because the builder can get slashed if they don't keep the commitment. But because it's social, you can get to a commitment in real time and you can do things in real time and not have to rely on the blockchain to run consensus or something like that. So I'm going to skip that one. But we have this concept of an information leak when it comes to pre confirmations that is not being paid a lot of attention to when it comes to MeV.
00:08:32.394 - 00:09:02.822, Speaker A: If you're a bidder, your pre confirmation bid amount just reveals essentially order flow value. And people can play all sorts of games with this. And if you're a committer, a provider of this service, then if you commit to something and everyone else can see it, then that means some value about your block is now known and other builders will use this to screw your block over. So you don't want these. You really need this stuff to be encrypted. So Mayf commit has presettlement privacy, basically everything. All of this happens in an encrypted manner.
00:09:02.822 - 00:09:52.170, Speaker A: The bid is encrypted with provider keys, and providers are able to see the bids, but they issue cryptographic commitments and these go on chain on the map, commit chain and then are revealed right before real settlement happens. So commitments are recorded on chain. You can't see what they are and who they're from. But as the L1 block is finalized, then they are revealed to do this. Essentially, we have an anonymous private key setup where when a bidder is setting up their MeV commit node, they basically engage in the setup and they specify, okay, I want my bids to be visible by this, these providers. And then they use an anonymous key scheme to encrypt their symmetric key that they distribute to the provider set. And now the providers are able to decrypt their bids.
00:09:52.170 - 00:10:51.398, Speaker A: So, yeah, this is just some cryptographic details about how those work, but essentially, bids are encrypted, and only the providers who have access to them are able to decrypt them. And commitments are just cryptographic kind of properties that go on chain, and then everything gets revealed at settlement. Now, what becomes really interesting is EIP 4844, because blobs are huge. Now, we characterize blobs as Ryu from street fighter and because Ryu has a special power, and we're going to get into that. Now, the biggest thing about EIP 4844 and blobs is that blobs affect block latency. It's less of a game of getting cheaper inclusion or trying to save money, but it's more about trying to optimize these blocks so that you can actually get secure inclusion. And the fundamental problem there is that the concept of blob sidecars that are pretty large, they add a lot of size to the block, but they need to be validated by the validator.
00:10:51.398 - 00:11:19.378, Speaker A: So the blob sidecars have to be transferred with the block. And if you don't know which blob sidecars you need ahead of time, then you wait for the block. So we've seen through our research, and you can read it on our mirror. Essentially, a regular block builder would have to send their bid about 0.4 seconds ahead of time on average. And there's some block builders in the audience here, and I don't think they want to do that. So here you can see the blob size difference on blocks.
00:11:19.378 - 00:12:17.270, Speaker A: On Holsky, basically, they add a tremendous amount of size to blocks, and most of the time, they're 80% of the block, almost for twenty cents. Thirty cents. What's very different about EIP 4844 is that it also does not have a priority fee mechanism because the priority fee mechanism introduced in 1559 gets stuck in the type two transaction part. So this new type three transaction with the blobs has this max fee per blob gas concept, but it works more like a base fee than a priority fee, and it goes to the protocol and not the block builder. So then it opens up the question, well, why should a block builder add this to their block and make it slow down? So we created a nice little meme over here that places the blob versus MeV. And now the blob uses precomfs to beat the MEV, because when you have the precomp in there, then you can transfer the information of what becomes essentially an inclusion list down the MeV pipeline. Hey, these are the blob sidecars you're going to need, because that's the kind of block I'm going to send you.
00:12:17.270 - 00:12:44.610, Speaker A: And when you do that, you can basically disentangle this timing game from EIP 4844. So we're experimenting this on wholeski testnet. Nothing's conclusive yet, but we do think this is a promising solution for the arising timing game with four a four, and that it can stabilize the roll up blob ecosystem during high MeV spikes. So, yeah, Mev commit. Pre confirmations are live on Holsky testnet. Whole thing works. Go in there, tinker with it, try to break it.
00:12:44.610 - 00:13:24.490, Speaker A: Code is pretty clean. I dare you. The other thing is that we have this explorer now, we have one kind of solo builder on there that's winning a lot of blocks. On Holski, we have a few kind of bitter bots that are doing things. It's kind of low key, real activity, but you can already see that there's some interesting stuff happening, and we expect this to increase as more block builders and relays and validators are onboarding to the network. And we're onboarding about 100,000 validators on Holskey, and that's about 8% of the network right now. So it's going to give us enough kind of coverage to see the defects of this new network.
00:13:24.490 - 00:14:11.078, Speaker A: So, yeah, to summarize things in map commit is this kind of timing game network. Well, that mitigates timing games, but the first and most compelling use case is pre confirmations. And that pre confirmations, because they're real time in nature, they enable a host of new use cases and design space for app developers to do real time applications, which are pretty interesting for most users. You can use this QR code to read more about some of the stuff we're doing. Our research, reach out to us, et cetera. But it's not the end of our presentation, because I have a nice little thing about block pre confirmations so I'll give it another second for everybody to record it. So the decay mechanism that I talked about becomes very interesting when you apply that to the MeV boost auction.
00:14:11.078 - 00:14:43.986, Speaker A: Well, what if, let's say there's eight blocks, that builder a wins and I'm builder B? And I want to say, hey, you know what? I'm just going to bid this big amount for this slot. And hey, give me this block pre confirm it for me. Validator. And that's a compelling use case for some cases. I don't think it's going to take over the regular Mevboost auction, but its availability as an alternative will likely see some block builders leverage this option. And what's nice about it is that you can't play timing games with it because the bid will decay in real time. So the more you wait, the more it will decay.
00:14:43.986 - 00:15:03.740, Speaker A: So this is very researchy right now, the block precoms, but we do believe the primitives that Mav commit enables can be applied there as well and create this new alternative method where maybe at least we can mitigate some of the timing games. So, yeah, that's mavcommit. IMav, thank you for listening. I hope that you guys use pre confirmation soon.
