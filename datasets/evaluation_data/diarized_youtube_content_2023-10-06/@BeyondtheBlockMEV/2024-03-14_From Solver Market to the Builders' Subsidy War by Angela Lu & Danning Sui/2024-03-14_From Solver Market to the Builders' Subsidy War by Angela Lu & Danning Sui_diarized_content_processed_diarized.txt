00:00:03.210 - 00:01:28.984, Speaker A: Hello everyone. Today I am going to be talking about order flow execution on Ethereum, which is just a fancy way of saying what happens behind the scenes when you are trading through a front end like a website or a wallet, or for the adventurous telegram bot with a logo that has a banana with a gun on it. So why do we care about order flow execution? Well, in designing financial systems, we care that the market is fair and people feel empowered to compete, which ultimately drives great user prices and better UX for traders. And this is not something new to care about in crypto. This topic of best execution and order flow market structure has been long discussed for many years in traditional finance like the US stock market. And it is actually quite relevant to us in crypto because one year ago the SEC proposed a new change to the US stock market structure to have order by order auctions, which is the system that DeFi is experimenting with today. So I want to start off with a story that I think best captures the ethos and unique order flow processing landscape of Ethereum and that we have built over the last three years.
00:01:28.984 - 00:02:54.170, Speaker A: And the story starts with Kyoto seven Stark, who is a self described low cap Djen and airdrop hunter in a starknet in Ethereum Maxi. And as a low cap djen, he goes to the premier venue to trade meme coins, cowswap trying to trade 0.8 of haycoin, which is a token that Hayden Adams launched five years ago to test uniswap V one. And once Kyor ETH signs this trade, Cowswap will broadcast this trade to 13 or so of its integrated solvers. And solvers are routing specialists, so they focus on integrating as many on chain and off chain liquidity venues as possible and finding the best routes and trade splits throughout them to find the best price for Curo ETH. And for this trade, the solver lairtist actually ended up winning actually by making a wrapper around xerox protocols router, which ended up splitting Kuro ETH's hay to weth trade across the Hayweth pools of each of the Uniswap versions. So there was liquidity of Hayweth on v one, v two and v three, and Xerox's route ended up splitting the trade across all three of them.
00:02:54.170 - 00:04:39.710, Speaker A: So then Laritis will package the order into a transaction and send it to an order flow auction, in this case mevblocker, where the slot right behind cure ETH's trade is going to be auctioned off to people who would like to backrun and they bid money to cure ETH to be in that slot right after his trade. And here are five examples of bids that were submitted after this trade. You can see that some of them are arbing price differences across uniswap v one, v two and v three. You can see that two of them are now filling open one inch limit orders where the price now matches and you can see in the middle zx a one c actually bid 0.1 ETH just to buy at the ending uniswap v three price. Then Mevblocker will send all of the valid back runs to a list of seven builders who are specialists at doing fast simulation and merging non conflicting preferences to get the most possible kickback for Cure east and Builder 69 ended up winning this builder auction and actually merged all of the five that I just mentioned after Cure ETH trade and because they were non conflicting and ended up refunding 0.4 e to cure ETH, which in today's prices check this morning is around 13 $50 US dollars.
00:04:39.710 - 00:06:25.768, Speaker A: And if you don't believe me that people like cure ETH exist, or that people want to trade tokens that Hayden Adams launched to test Unisaw v one, or that they got 13 $50 back by trading, you can check out this block where you can see cure Eve's trade as the first transaction in the block and all five back runs with the transfers from builder 69 back to cure east. So zooming back out, we have built an MEV supply chain where Cure ETH recruits cal swap, who recruits 13 solvers, who recruits 50 back runners, who recruits seven builders and also touches on V one, V two and V three hay ETH LPs and filling two one inch limit orders in the process. And if you add that all up, it's around 75 entities who are both cooperating and competing to provide the 0.4 ETH kickback to cure ETH. And then when you zoom further out and you tally up all of the entities and the volume that went past them for the last week on Ethereum that has went through a front end, you get this chart which you can find on orderflow art. And if you count there's 33 solvers, twelve market makers, 90 order flow auction backrunners, 41 block builders facilitating and optimizing user trades across 12,000 token pairs. So I know that can be confusing, so it's easier to explain by going through it historically.
00:06:25.768 - 00:08:02.030, Speaker A: So when uniswap first launched their liquidity provider product, they developed their own router which would find the optimal route for trades across uniswap liquidity LP pools. And then they also built their own front end, which would use their router to access the liquidity on their permissionless pools. And then two years ago, Calswap introduced the solver auction, which created a specialized market for integrating liquidity and finding and optimizing for the best routes across those liquidity pools. And this actually creating a competitive market for solvers actually had a second order effect of lowering the barrier to entry for building liquidity provider products. So now we introduced the solver auction, and we've enabled any front end to access the best quotes across an open market of solvers. And as a second order effect, as a person building a liquidity provider product, you now only need one of these solvers to integrate you in order to access all of the order flow that the solver auction has. So you can see by introducing such a mechanism, creating a specialized market on both sides, and is very different from the graph I just showed you.
00:08:02.030 - 00:09:15.960, Speaker A: And if you look closer, there's also actually another auction going on. It's a market maker auction by Bebop and hashflow. And what the market maker auction does is it allows any market maker to connect to the aggregator and enables any solver to access private market making liquidity. So once again, when you create such markets and mechanisms, you lower the barrier to entry for liquidity providers to access all the order flow that the solvers are connected to. And you allow any solver to be able to access private market making liquidity. And if you actually look on orderflow art, you can see that systems like this massively outperform vertically integrated systems, for example, when only one solver can access that private market making liquidity. So another story of the beautiful cooperative effects of creating systems such as this is user zero X eight four nine, who was trading $2.1
00:09:15.960 - 00:10:21.390, Speaker A: million of wrapped staked ETH to USDT on cowswap. And market makers don't normally quote such kind of slightly exotic tokens that require wrapping. So barter actually ended up splitting the route across two winter mute quotes through hashflow. So first barter unwrapped the wrap, staked ETH via Kyber swap, and then did 500K from weth to USDT, and then split the other 1.6 million on a weth USDC quote from winter mute and finished out the leg on Maverick, which is hyper optimized for stable swaps, providing the best execution for. And once again, you can also see this on chain. You can see the two winter mute quotes here as well as on cowswap with Barter's account.
00:10:21.390 - 00:12:14.396, Speaker A: Another example of cooperation and creating mechanisms that outsource in order to best capture the long tail of DFI was started at the builder level by Builder 69, who created the reverting transaction hashes, part of the bundle API that enabled sandwichers and backrunners with the same target transaction to be able to be merged together because they were non conflicting. And Titan builder also recently introduced ETH send end of block bundle, which outsources bottom of the block back running to a competitive market. So this is all to say that the complex diagram that we see here today is a result of a series of mechanisms that have chosen to outsource to competitive markets, increase specialization, which lowers the barrier to entry and enable cooperation between the specialized entities. And in comparison to how far we have come, this is Robinhood's SEC Rule 606 report, basically illustrating what happens behind the scenes when you trade on Robinhood and four market makers basically pay to fill all of Robinhood's order flow. And we've definitely come a long way from this graph and the graph I just showed you previously. In my opinion much more competitive and better execution. But recently in the last year, there has been a wave of this idea that maybe like a couple of market makers is enough to capture and give best execution to users across all of Defi.
00:12:14.396 - 00:13:50.800, Speaker A: And this is most notably a decision taken by Uniswap X who has chosen to whitelist market makers. And six months later after the launch, you can see that Uniswap X trades are filled primarily by a group of six market makers. One inch fusion also has slightly more wider range of the top ten of one inch stakers are allowed to fill one inch fusion orders. And the idea that market makers can provide the best prices for DeFI execution is not something that's just only shared by solver systems and people handling order flow. It is also being considered by the base layer with the new execution tickets design that relies on market makers to price block space beforehand. But I think that this idea and theory breaks down when you apply it to DFI, because given that more than 56% of Ethereum volume is long tail and market makers today only trade around 100 tokens and the impacts of this is shown very clearly in the data. So cowswap has even though cowswap is permission, they have done a really good job at lowering the barrier to entry and onboarding routing solvers specifically.
00:13:50.800 - 00:15:18.606, Speaker A: And you can see the top two are the market makers and the rest in the red box are the routing solvers, and they are actually extremely competitive against market makers, which looks around like 75% of the time that a user trades on cowswap, routing solvers are actually able to provide a more competitive price than market makers. We see the same pattern with one inch fusion, with routing solvers providing better quotes for users around for 50% of the time. And even when you filter for the tokens that market makers best quote, which are ETH and bitcoin pairs, you still see on cowswap that routing solvers are providing more competitive quotes for users over 50% of the time. And you see the same thing with one inch fusion. We see larger market maker shares on these tokens. But still, it's a highly nontrivial amount of time that routing solvers are able to provide more competitive prices than market makers. And it's not just passive liquidity providers and a combination of routing solvers that are able to provide more competitive prices for users, it's also users themselves who can provide more competitive quotes than market makers.
00:15:18.606 - 00:16:27.234, Speaker A: And here in the last week on one inch fusion, $27 million of open one inch limit orders were able to be matched against one inch traders. So I think the most important graph that really illustrates the harmful effects of building such permissioned and opaque systems is by looking at the solver set distribution across these four solver systems. And one would expect that after a long period of time has passed, one inch fusion has been launched for a year and Unisop X for about six months. And you would expect that the technical infrastructure required to be a great solver or a great market maker is perfectly applicable across all four solver systems. So you would expect that it's the same set solving across these four over time. But this is not what we see. Even after six months to one year, we see that cowswap has done a great job at onboarding routing solvers.
00:16:27.234 - 00:17:50.366, Speaker A: But the overlap between Uniswap X, one inch fusion and cowswap is the top three market makers on Ethereum, which I think perfectly illustrates just how relationship based and reputation based these solver systems that are permissioned are. And ultimately, when you build systems that cater to a group of five or ten market makers, it really does not look any different from the graph I showed you with Robinhood, and is meaningfully no different than the traditional finance systems that we are trying to disrupt. And this is even more troubling when you consider the fact that uniswap and one inch control around 50%, over 50% of order flow on Ethereum. So tomorrow they could just change UnisOP, could change their website to go default to Unisop X. And all of this order flow, more than 50% on Ethereum, would be directed to a handful of market makers. So decentralization in DFI is far from guaranteed right now. So let's bring DFI back on chain in a private and permissionless way.
00:17:50.366 - 00:18:08.200, Speaker A: And I think that cooperative and global financial systems have never been built before, and they will unlock massive value for humanity. And it is one of the most important problems that I could be working on. And if you feel the same way, please reach out. Thank you.
00:18:12.570 - 00:18:50.020, Speaker B: Thanks, Angela, for the grand mission and mission. All right, so I'm here to connecting her. Talk about the silver market and overall, the routing in the deck side down to the supply chain on the block building level. So here's a meme if anyone here is a milady as well. But I'm going to tell a story about how we were looking at our product and find out. There is a whole subsidy war going on with the block builders like the Beaver and Titan. There's this new builders, T builder, jet builder, penguin, going on with the subsidy war.
00:18:50.020 - 00:19:14.522, Speaker B: So it starts with the Christmas gift. So we all got to, how to say, like, holiday vacation. We got back in the new year, we looked at the dashboards. Oh, shit. Flashboards builder dropped from 10% to 2%. We were around 10% the whole time, maybe around past half year. And when we came back from vacation, we're like, how our builder performance has become so bad.
00:19:14.522 - 00:19:36.334, Speaker B: And we looked into the pattern, it might be hard to see. There was maybe two drop majorly. The first drop started around mid November. And then around Christmas, it got smashed from 8% to 2%. We checked our internal stats, like, if we are losing order flow from user and searcher, not really. We checking if there's any outage. In our instances.
00:19:36.334 - 00:20:09.126, Speaker B: Our builder is running fine, submitting bids to relay. So we were wondering if it's any market dynamics that's affecting us. And so we looked at Mapboost pix, and we see there's a bunch of new builders coming out. Oh, maybe they're taking the market share from us and, well, let's see what they are doing. One of our engineers asking like, are they subsidizing to win the blocks? So we looked into every builder's bids, and we realized this is a benchmark of flashbot's bids to the relay. And we're not doing anything strategic. We're just like super naive.
00:20:09.126 - 00:20:38.794, Speaker B: Building the true block value and submitting the bid directly to relay. So you would see, like the x axis is the included blocks bids. Y axis is if the builder's profit, the profit is always around zero. The y axis is borked because just all zero and above. And it's like around zero. So this is a benchmark chart. But then when you look at all the other builder, like F one, b, you look at T builder, you look at the new builder, jet builder, Penguin, you look at gambit.
00:20:38.794 - 00:21:08.266, Speaker B: They all have a lot of bids that's below zero, meaning they are subsidizing. You can see the level is kind of different, but most of the builders are pretty smart. They will subsidize a really small amount when the total block value is pretty low. If you check the x axis, most of the bids are centering around the lower value side. When they have a subsidy, t builder seems to be the most crazy one. They're subsidizing the most among most of these. So we were pretty surprised.
00:21:08.266 - 00:21:35.702, Speaker B: We were like, okay, yeah, sure. A new builder needs to subsidize and so to be known, and then get more flow from searcher. But when we check out the big builders, they're also subsidizing. We're like, you already have 30% market share, why are you still subsidizing? The beaver one is very subtle, like they're very tiny below the zero, and it's usually like 0.1 or something, and rsync sometimes as well. And Titan, also interesting to see. Also, there's a linear regression there.
00:21:35.702 - 00:22:04.942, Speaker B: I don't know what exactly the model is. We realized the thing, right? So realize the thing. So there's a lot of different type of builder today. There are strategic builders. There's searcher builder who are big with CFI, inventory and trading activities. They're also like zero profit builder, like flashbots, but not many left. So when we look at our market share, really, the total addressable market is really just the zero profit blocks.
00:22:04.942 - 00:23:09.222, Speaker B: And so if you use that category to, how to say, segment the market of the block space, you could actually see, well, that pattern matches so much with our drop of the inclusion rate. So starting from basically December 23, so like Christmas Eve, the night before, you would see the blue, which is all the blocks that had a subsidy from the builders increased tremendously and went to around 50%. So half of the Ethereum blocks were subsidizing by the builder, sending some tips to the validator just to wing a higher inclusion rate for marketing, for promoting, to create, build a company, et cetera. There are other reasons. They might have their searcher flow, they might have their solver flow that they want to land with the promise to other projects and front end. But really, if you look at the zero profit blocks, it's around like less than 20%. So flashbots really is trying to doing the most naive thing and trying to win, like 10% out of this 20, which is going to be really hard.
00:23:09.222 - 00:24:24.080, Speaker B: And you could see that this number kind of tanked around the end of last year, which is around December 31, basically January 1 this year, which is when subsidy blocks was around 60% of all the Ethereum blocks, which is kind of crazy. And so we were like, okay, so there is a subsidy war going on, but why? How to start it? And so when we break it down, all the subsidizing blocks by different builders, and we're looking at the time pattern, looking at how to say the time series, we found out, okay, so we see Jetbuilder, Penguin are the two builders. They came out starting around maybe late October, beginning of November. And they clearly is using this subsidizing strategy to spin up a new builder and kick off over time. The big builder, if you look here, this red line is Christmas. This green line, which is beaver build before and after they have started, like crazy amount of blocks out of nowhere, which is the reaction of their loss of their market share from the smaller builder. Together, you could also see there is some increase from this blue, which is Titan's blocks, that has a subsidizing amount.
00:24:24.080 - 00:25:02.138, Speaker B: It was somewhat, I would say, like you could see they were subsidizing a lot more before, over time. My assumption is that over time, they're getting more and more flow, become more and more competitive. Of the true block value they can build, they're subsidizing slightly less. But starting from here, when the smaller builder is starting to take over some market share, they were like, no, we need to secure our market share. So they're starting to subsidizing way more as well. So my understanding of this whole thing, why flashbox builder got nuked, is because there's a smaller builder comes in trying to subsidizing to win the market share. The big builder cannot really lose their market share, so they started subsidizing even more.
00:25:02.138 - 00:25:47.554, Speaker B: And our neutral builder builder just innocently attacked. So I want to share like a formula. So with all this realization, we realized we can actually analyze why we are losing blocks by what reason. So if you account the true block value, which is basically the bids minus plus the builder profit, then you are able to basically check, say, if my builder built a bid, how to say a block with a bid that was higher than the actually winning bid, but it was never accepted by the relay validator. It probably means I built it too late. So it's probably a latency issue. If I build a block that has a higher true block value, but my bid was lower than the winning builder.
00:25:47.554 - 00:26:35.826, Speaker B: So the bit of mine was lower than the winning builder, but my true value was higher than the builder, then that means I'm losing because of subsidy. And if we build a lower true block value, then probably we don't have the order flow they have. So with that, we were able to address understanding why flashbots builder is losing. We're losing from many reasons, and there's a lot of things we can improve. And for example, if you look at here, it means if we start subsidizing, we probably can win maybe 20% of time when we lose. And with that, you can probably adjust your metrics from 3% as market share to check if everyone's not subsidizing, then you probably actually have like 20% by your true block value. So that was a lot of realization when we look at all these builder bids.
00:26:35.826 - 00:27:29.990, Speaker B: With that, actually, we can also break down why we lose to other builder. By what reason? So it's very interesting that it's helpful for us to understand how we can improve our builder and potentially participate in this strategic biding game. But also, it kind of picture or profile different builders as well. So, like, for example, when we lose by latency most of time to this builder, we know that, for example, like blocks route, where is it? Right here. So we're losing mostly because this latency thing and order flow. So you would know that because they're running a node business, they have much better connection, and they might have seen more order flow and faster than us. If you see we're losing a lot by subsubid, for example, t builder, you would know, okay, it's because those builders are very good at being strategic as adding subsidy.
00:27:29.990 - 00:28:24.742, Speaker B: And if you're losing mostly because of, for example, which is the orange, meaning you're losing most by order flow. And you look at most of them, there are actually those like searcher builder, when they try to lend their searching flow. So it's very helpful for us to understand what are the builders today by category. And so, last, just to wrap up, this realization is like we looked at, is the subsidy we're still going on, or has it gone better? I think maybe this is the very one last data point from this morning, you see that the subsidy block has been winding down, but we don't know if that trend will stay or it will goes down or it will go back again. Does the subsidy strategy work for the new builders? Yes. So to benchmark, this is a flashboard chart. So we're not taking any profits or any subsidy.
00:28:24.742 - 00:29:06.950, Speaker B: So if we break down all the blocks we build, all of them are like zero profit block. But if you take the same chart and look at all the blocks each builder built, you see Jeff builder building like pretty much 99% of subsidy blocks in the beginning when they started, but this percent has been slightly going down over time. So they're starting to take some small profits over some of their blocks. Same thing with Penguin, even though it's just two months of comparison. T builder, apparently they started testing August, and then now they're starting in November. They started building vanilla style, and then they started subsidizing really hard. They actually are subsidizing more and more blocks, I believe, for other reasons.
00:29:06.950 - 00:29:41.470, Speaker B: Titans as a benchmark, actually, you could see that they started building blocks with a lot of subsidy as well. But over time, it kind of winded down. And so at some point, they were building much less subsidy blocks. But then starting from November, there was like a reset. They're starting to subsidize more. Again, the other charts I just showed you was like by number of blocks, which has a subsidy. So it doesn't really reflect the total profits counted.
00:29:41.470 - 00:30:22.960, Speaker B: But if you look at sum up the profits by builder, you could see that for a jet builder, they started with maybe 15 E's in November, subsidized, and then in December, they already become net positive. So they are making money actually already one month later. And then January, they're making more. They're starting to subsidize again in February, which I'm not sure why. Penguin builders started a month very strong with 42 e subsidized in just one month. But they're taking more profits, and now they're net positive and having more profits over time. T builder is subsidizing a lot still compared to others.
00:30:22.960 - 00:31:23.660, Speaker B: So, yeah, just to summarize, I think it was very interesting, like some very subtle thing going on that's not really presented to the users. I think a few questions to ask is, I think smaller builder and big builder were kind of like having tension about why are you subsidizing this for no other innovation, but just like tipping money to the validator, it's a loose, loose for builders, but just validator monopoly money and questions to be asked would be like, if the subsidy is the only way for a smaller builder to spin up, and if it's going to really be sustainable, how long can you really subsidizing this whole thing? And another question to a big builder is that, do you really need to compete to keep that 40% plus market share? Can you maybe have a lower inclusion, how to say, rate for the block? You don't want to compete and give back some blocks to other builders. So, yeah, that's my talk today. Thank you. Thank.
