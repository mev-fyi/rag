00:00:00.570 - 00:00:52.414, Speaker A: Thank you for coming. And I'm Yuki, and today I'll be talking about a distributed block building, some designs around the distributed ball building as well as the AutoFlow problems around the distributed block buildings. And I guess I hope that after this talk, you guys would have a bit more understanding around why distributable building and two, some of the, I guess, big challenges that it's facing going forward. And also just a disclaimer, I'm not here necessarily to specifically show about suave or anything, but it's certainly related. Okay. So I just want to ask, have anyone seen this graph before, perhaps? Yeah. Cool.
00:00:52.414 - 00:01:43.280, Speaker A: Well, today I just wanted to modify this because I wanted to better illustrate some of the issues that I wanted to point out, which was I kind of like draw it here. So essentially the current builder landscapes, I kind of like colored. Oh, is this easy to see, the color? Oh, shit. It's kind of hard to see. Anyway, I colored this builder's graph with all of the stakeholders within this ecosystem in green and then red and then yellow. I'm not sure if you can see the red, but supposedly the builders and relays are red. And the reason why I kind of put it there is because out of all of the stakeholders that we have relays and the builders are right now are the most centralized and also the trusted parties among the rest.
00:01:43.280 - 00:02:44.570, Speaker A: And that's basically, as you can see, they are very big part of the ecosystem when you look at the points that they're interacting with. Yet we are still not ready there in terms of decentralizing all those players that are playing such a key roles. And that's why also I wanted to show briefly that the stats around the block viewing market share. So I guess starting from the builder side, I mean, if you look at this top four builders, including Flashbots and maybe Beaver build guys, I'm not sure if you're there here, but four of them would essentially already dominate around like 79. So it's like 80% of the market share. Now, what does this 80% mean? This 80% means that if you, let's say, send your bundles to all of those four builders, you have 80% chance of inclusions for the next upcoming slots. So that's probably the better way to think about this number in context.
00:02:44.570 - 00:03:59.826, Speaker A: And then on the other hand, you have like, relays that are also fairly centralized, but also on the relay side, there's only like, what, seven big relays to ever exist in total. They also control about 74% of the orderful that is going through. So this number in context basically means that 74% of the orderful that are submitted to the networks are going through these four relays that we see in the space. The point that I wanted to make here is it's pretty centralized within the ethos of ethereum. For broader decentralization and better liveness assumptions, it is crucial that we strive towards more decentralized futures even in the stacks related to bulk builder, especially relays in the future may change a bit with EPBs but especially on the bulk builder side it will persist and it will have to be better designed going forward. Which is why swap guys are also working tirelessly on a lot of the initiatives around that. So I guess few points I wanted to make why even decentralized block builders? Well first point the lack of credible neutrality.
00:03:59.826 - 00:04:57.660, Speaker A: I think in a put in a simple way, a reputation based neutrality is essentially same thing as saying trust me bro, neutrality and that is basically no neutrality. I mean you can go look at Beaver build and other even solvers or whatever that are claiming to be neutral. They always have disclaimer at the end of the doc saying hey I'm neutral, I'm not trying to fuck around basically. But that's basically trusting the words and that's why I'm saying trust me bro. Neutrality is what we have today most of the time. And then I guess another big advantage of decentralized builders here is lower hurdle to searcher builders. So I think Dan briefly referred as well that with the distributed block builders you can lower the hurdles for entries to searchers who can basically have more access to the slots within the block space.
00:04:57.660 - 00:05:56.240, Speaker A: And then the last thing oh not the last thing, the second to last thing is the censorship resistant. Actually, I have to mention that it doesn't actually help too much with decentralization in terms of censorship resistance. And part of it is because most of the censorship well, the biggest part of the censorship that exists on ethereum is, like, economic censorship. And oftentimes economic censorship is not necessarily just an issue around our decentralized and bot builder roles. But having said that it is true that if you have only four parties that are controlling most of the market share then it's a lot easier to bribe those four known parties over a bunch of other nodes that are running within the networks that may be not even known in the public. So it helps but it doesn't solve completely. And then obviously the regulatory censorship issues as mentioned like the geographical decentralizations is another big factors associated with it.
00:05:56.240 - 00:06:46.490, Speaker A: And then lastly is the antifragility. I mean this is basically saying like hey, we should have a better liveness assumptions around a lot of the blockbuilding features once we lose all those big bonds. Let's just say one day I nuked a couple big builders and boom they're gone. I think we're going to have an interesting latency on ethereum at that point. So that's just like a lot of the liveness assumptions and antifragility aspect that we should also consider for a lot of the distributed block builders. So that's why I'm interested and a lot of people are working on these problems now how can we decentralize? I think I'm going to kind of just briefly go through the Te model that Swath kind of alluded to. And also I wanted to today introduce a little bit more about the Threshold encryption.
00:06:46.490 - 00:08:03.462, Speaker A: The threshold encryption or, I guess, the NPC based approach. And then lastly we'll briefly talk about the leveraging on the Pepsi with the parallel and sequential auction. So I guess with the Te model I'm just going to kind of go over how roughly it works. So first of all, you will have like a network of Te nodes that are running, let's say HX chips or whatever. And then this node, because it does hold a lot of the states, I'm assuming that this Te nodes will be stateful and that they can perform different types of ofa plus bundle merging algorithms on top of it. And then you have searcher builders that are basically submitting their bundles, their transaction, their order flow to the nodes. And so essentially after the transaction is submitted the bundles are merged ofas are performed then the te nodes would essentially compute all of the Merkleroots for storage and balance and transactions and that this block header with the merkel roots would be then submitted to the proposers who would then say okay, I'm going to commit to this.
00:08:03.462 - 00:08:44.446, Speaker A: And then eventually the te node would reveal everything and say hey, this is the block body. And then now we know that okay, this is actually what's being merged and bundled in the network. Some challenges obviously. So, as mentioned, yes, there's a lot of problems with Te. I'm not sure if you guys are aware that even last month that there was the downfall attack that happened. Well that was discovered within the Te space that obviously Andrew Miller immediately went ahead and patched it and was amazing job. But again, there's always unknown bugs that are coming up on the Te space that is like every year getting discovered.
00:08:44.446 - 00:09:49.494, Speaker A: So there's some risk associated with that and obviously as mass have alluded to oram helps and other types of hardening helps, but it's not perfect. And then I guess another thing is maybe like a little bit on the latency overhead with SGX. It's not as big of an issue comparatively, but it does add a bit of latency, especially considering that people who are running centralized builders does have less latency overhead compared to ones that are running SGX for example. And the latency overhead can varies depending on how many calls you're making between the untrusted party and trusted enclaves. So if you have a lot of calls between programs outside of the enclaves and inside of enclaves, you're going to incur a lot more overhead as well. And also the size of the program matters. So I don't know if you're running a guess or whatever, it's a fairly sized program then yes, there is going to be a fairly size overhead on that in terms of latency wise and I guess this is probably more like a narrative public perception thing.
00:09:49.494 - 00:10:53.022, Speaker A: But yes, there is a bit of like an optics where people think that the OT is not safe or whatever even though it's fairly well protected, but the optics doesn't help too much. And I think depending on the mode of operations it can still be centralized as well, which we'll see how the implementation actually works. But yeah, technically with the centralized te it can still do the jobs. So centralized is also a possible option. So I guess here I also wanted to discuss a little bit more about the NPC based threshold encryption approach. So I put like optimistic here because this model assumes that the MPC nodes do not perform validation of the states. I guess I'll just go through it from the top.
00:10:53.022 - 00:12:28.218, Speaker A: So essentially you'll have searcher builders that are performing either their own ofa on their option compute or maybe on Swab or whatever doing their own ofa stuff and then could be going through like Nevshe or whatever and then they will submit the transactions, the bundles or the order flow to the MPC network. Now the transaction will be encrypted with the encryption key and then the MPC network would basically perform greedy knapsack auctions across all of the order flow that comes through and that way basically they will try to optimize the bundle merging within the either. So there's two possible routes here. Either the MPC itself has to be stateful to compute the block header for all of the merkle trees that needs to be submitted to the proposers or you could actually leverage something like swap to basically perform those blockheader computes elsewhere. So like here to essentially perform all of the blockheader and then submit that to the proposers as a way to get that. Now, I put the proposal here, also as a conditional commitment. Because if you build block in an Optimistic manner, then you could also get this interesting feature with Pepsi where you could actually say that, hey, I didn't check.
00:12:28.218 - 00:13:15.980, Speaker A: It's kind of like optimistic relay. I didn't check the entire validity of the transactions, but I want to have someone else check. Could be proposers or whatever to make sure that the transactions are valid. And if not, then you can scrap away entire block. So it's kind of like the Pepsi use case here where you enforce some sort of conditional commitments by the proposers such that the MPC node can itself not maintain the states because maintaining states within NPC can be very heavy. So that's why doing this a bit more optimistically kind of helps reduce a lot of the burdens that is associated with maintaining the states and computing the mercury routes and whatnot. Right? It's a lot of heavy stuff.
00:13:15.980 - 00:14:39.734, Speaker A: That's the second one. I guess the challenge here is that as I mentioned, the proposal commitment needs to be conditional and then there is going to be significant latency overhead from just the communications between the MPC nodes and also sharing the secrets. But however, it does achieve the reduction of the te within this scheme you do have less reliance of NTE nodes which is definitely better in terms like more neutral as a bulk builder. And then this also helps actually requires by nature it requires decentralizations to begin with. So NPC based block building would be decentralized on the get go essentially. And then yeah, conditional commitments. I guess one thing I would just want to add is that in terms of how neutral the block builders can be, it's like a spectrum and on one hand you have the most centralized builders that are just as trusted and then on the other hand you have as decentralized as possible and as trustless as possible.
00:14:39.734 - 00:16:11.150, Speaker A: And I believe that MPC based solutions by far is probably the most trustless or the trust minimized options that we have in the space while the te based ones are probably like sitting somewhere in the middle in the spectrum. And then the last one I wanted to kind of go over is the slot auction. And here I said it could be sequential or it could be parallel slot auctions and they kind of have a different implication depending on what model that you're going for. But essentially this is also, I guess should I say application of Pepsi because you're now asking the proposer here to essentially make commitments to split the block into different slots and then you auction it out based on whatever properties that you're looking for. And I guess one of the suggestions that I think Barnaby also made was a usage of top and rob market like top of block market and the rest of the block market separations. And obviously I think there's a lot of research that needs to go into that as well just to kind of go over. So basically proposer can partition the blocks into different portions, the searcher builder would be able to basically bid for the swap and then each searcher builder can also enforce its own ofa again based on like swap or whatever and then proposer will commit to the winning bidders block either sequentially or in parallel.
00:16:11.150 - 00:17:37.374, Speaker A: And I guess one thing that I wanted to mention here is that the slot auction can be incorporated with other types of distributed builders. So I guess here I kind of wanted to introduce the idea that with distributed block builders we may see composability within the block builder space that we may not have had much currently and that would be possible going forward with this kind of design in place. More like composable block building. But there's obviously challenges and one of the issues around the slots design is like how can we even determine the slots? Are we just going to say that all 10% of the gas from the top of the block is going to be the tob and then the rest of the 90% is going to be Rob? Or are we going to have some sort of mechanism like, ERP 1559 type of things to dynamically adjust the slot width or what? This determination of the slots in my opinion is still very much open ended. So probably a lot more work and thinking needs to go into that. And then I guess another thing is like parallel auction. So if we do perform parallel auction, what that essentially means is like a predicting block of value which in essence is a block space future because you are trying to see ahead of the block space and say okay, this block will probably worth this much.
00:17:37.374 - 00:18:40.062, Speaker A: So I will bid this much value and it's good and bad because there's some predictability to the cost of the block slot. But at the same time it also adds, should I say like inefficiency to that because ideally the block value should be as close to the actual map value as possible. So there's that. And then another thing that I guess it was just potential overhead if you're performing like sequential block auctions. So that's also why some may argue that okay, parallel is more practical versus sequential is like you have to do it one by one and whatnot. But I think one more thing I have to add here is that parallel auctions would also get into the problem of like okay, the proposer are making commitments to this bunch of transactions in the condition that no other transactions before this is conflicting with it. So that's also another constraint that is adding to the parallel auction.
00:18:40.062 - 00:20:23.060, Speaker A: So both of which have some challenges but it's also further work of research to be done on that. So by this point you guys might wonder how to compete against centralized builders, right? So practically today centralized builders are like this, like this beefy ass super latency optimized, right? And then on the other end you have a distributed block builders. It's so sad, like little high latency so how do we even compete with that? And I think this problem even to this day in my opinion it's somewhat unanswered because there's a lot of assumptions that we have to make about the market structure in order for the distributor block builder to really make sense and prosper in the future. And that's not to say that distributed blockbuilder is not necessary, I think that it's absolutely necessary. But there is also aspect of how can we align the incentive better such that distributed block builder would just prosper on its own. So I guess I just want to say regarding the current block building space, if we think of all those candies like all of the order flow that we see on the public mempool and whatnot then this is what's happening with all of the centralized builder taking dominance on the top of block marketplace, top of block market. And then at this current scenario, I highly doubt that the distributed block builders can sort of disrupt the market the way it wants.
00:20:23.060 - 00:21:48.586, Speaker A: But here are the assumptions that I think will help distributed block builders to prosper in the future. And one of it is the value of credible neutrality. So I believe that as more builders becomes integrated where they are doing both the searching and block building and even trading, as maybe Max have alluded to like our Sync and Beaver build guys, they have some trading partnership. They are called integrated builders in a sense that they bring their own order flow. The more builders are existing like that, there's a question that pops up in the space where we ask am I competing against the builder that I'm sending the bundles or not? And that's often a questions that a lot of the trading firms, a lot of searchers ask themselves and what do they do? They have to actually check out, try to send all of the bundles across all of the builders and say which builders is actually not including my transactions? Because by doing so I can actually tell that oh yeah, this guy is trying to fuck with me, so I'm not going to send my bundles to this builders. And that's basically the issues around credible neutralities and the lack of it can result in the behavior like oh, I'm just going to try to find whoever is not competing with me, whoever is not integrated builders such that they can include my bundles. And then I guess another aspect is around the narratives and optics.
00:21:48.586 - 00:22:57.682, Speaker A: So in my opinion I agree, like critical neutralities is a bit more like vague terms, but being as neutral builder as possible in my opinion is also big ads considering the fact that we have had players including Flashpots and Block native and few other guys have done like OFAC censorship for understandable reasons. And that obviously harms the neutrality. But more so it harms the fact that people just simply don't like censoring builders or like builders that are censoring. So what happens is that people just say, okay, yeah, these guys and censoring, I don't want to send my bundles to any censoring builders. I prefer to have someone that is like non sensory to include my transactions. So what ended up happening in that case is that even though the ofax censorship list is like maybe ten addresses or 20 addresses, which is like tiny, but the optic of it just drives a lot of people away from sending their bundles and order flow to those builders. And that's again why I think that the credible neutrality aspect matters.
00:22:57.682 - 00:24:14.720, Speaker A: Oh, I guess I would also add that another reason why that the OFAC sensory builders tend to have a harder battle is because some people just don't want to even filter the bundles because that's the added latency within the second latency game. So they just want to don't bother with it. Another assumptions that I wanted to discuss here is the value of a slot over a value of a block. So, as I mentioned, distributed blockbuilding at the end of the day is chopping up a massive block of transactions now a block of a block space into a smaller chunks that can now be controlled and determined by different actors in the space, which I call searcher builders. And this again would enable more composable block building schemes like those that I kind of listed. And obviously this is like a very high level abstraction of it and a lot of details need to be more laid out. But I believe that a lot of the implementation of slot auctions with Suave and other types of distributed block builders come into the space, more composable types of block building activities can become possible in the future.
00:24:14.720 - 00:25:37.240, Speaker A: And then I guess the last point on this assumptions that I also wanted to discuss is around the distributed block builders allowing sort of like a BYOF or encouraging more BYOF activities. So instead of bringing your own booth, you're bringing your own ORderflow basically. And that's kind of like where you have let's say like a DAP wallet or DAP relayer or DAP specific ofa that, is bringing in their own order flow directly to this distributed block builders where they can actually have a dedicated slot of block spaces where they can do stuff. And then the third assumptions that I have here is the different latency game. So I guess one of the reason that a lot of the latency game exists in the space is because one, every transaction is publicly available in the mempool, basically a lot of the transactions you see and then the fastest you simulate the transactions and make into bundle or make into the block, you win. So there's a latency aspect to open information. Two.
00:25:37.240 - 00:26:45.920, Speaker A: There's a latency aspect to the transaction itself where this transaction is trying to execute some sort of dex arbitrage. And you have to make sure that these transactions have to be at the top of the bulk, otherwise someone else is going to capture that opportunity and you're going to miss out on those big fat ARB revenues. So I put it here that integrated builders, those who are doing tradings and search engines and whatnot will be as latency sensitive as the order flow itself. And in other words, latency matters less if the order flow doesn't have to be on the top of the block. Now, this is not to say that all of the ORderflow that are less latency sensitive don't have to be on tob, but there are a subset of order flows that still has a lot of mev value but doesn't have to necessarily be on tob. And if you have proprietary access to that specific order flow and other people don't, then the latency in that case would matter a lot less as long as the information itself is not latency sensitive. So that's why I said integrated builders will be as latency sensitive as the order flow itself.
00:26:45.920 - 00:27:55.990, Speaker A: But however, I do want to mention that, but this leads to the issues around the Tob dominance of top integrated builders in the space. Because right now the current block building landscape is that most of the top builders are integrated builders and that they dominate the top of block fee market. And that within the current block building space, if you win the top of block fee market, you basically win the rest of the block. So there is some concerns around like okay, how can we break this dominance of Tob centralized block builders going forward. And I guess I just want to say a lot of the assumptions that I mentioned here are all sort of composing with each other. Meaning that projects may prefer to have credibly neutral builders, hence they want to prefer to use something like a distributed block builders and they value the slot over the block and they might want to also participate in ofa within a certain distributed block builders. So again, all of this composing with each other as a more unified advantage that the distributed block builder would have over centralized block builder.
00:27:55.990 - 00:29:44.920, Speaker A: So I guess in a more like a nuanced way to present it, I foresee that the future would look a bit more like okay, you have a bunch of big ass centralized block builders, but at the same time some order flow, right? Some order flow would take some opinionated positions on how they want to even distribute their order flow to the public. And hence you see some sort of like a rock as a guardians to essentially perform some sort of ofa and then put down to those little distributed block builders that are sitting around the corners. But again, I believe that the space would be quite a nuanced going forward as well. Some open questions. So I believe that there is a lot of challenges, like a lot of challenges ahead for distributable operators, but I think there's also a lot of open research questions. So first of all is with the advent of auctions, would the advantage of Tob dominance diminish? So if let's say what Barnaby is trying to do with the top of block fee market and rest of the block fee market would actually become reality, then how does that impact, let's say, the Tob dominance that is currently presented by decentralized block builders. And then another thing is, can credibly neutral builders provide enough advantages of order flow aggregation when competing with big non neutral or integrated builders? I think that one is like God knows, challenges that exist ahead in the race forward as well.
00:29:44.920 - 00:30:26.760, Speaker A: I guess one more thing that I wanted to mention is that this is probably also like a comment to flashbust guys. So I think flashbust right now I believe is not winning as much Tob market as well. So that to me is actually a bit of a concern because with flashbacks being able to win tob it's also a leverage moving towards the distributed bulk building race. So I think I do encourage flashblows guys to be up their bulk building game as well. Okay, so thanks for listening and yeah, thank you.
00:30:32.570 - 00:30:33.720, Speaker B: Any questions?
00:30:37.800 - 00:31:03.240, Speaker C: Yeah, when it comes to distributed builders competing with centralized builders, perhaps is there any way we can do commercialization? So it means that the public might have a chance to invest into great distributed builders which will allow them to entitle to some future income compared to centralized builders where we can't really invest. I was wondering if we can mimic the success of distributed stakers, but obviously that's two different podiums.
00:31:03.320 - 00:31:54.948, Speaker A: Oh, as in like people would put stake onto distributed bot builders? Yeah, I feel like that's probably more on the go to market strategy side of things. It's certainly one possible way in which they can aggregate a lot of orderfalls. But I don't think it's a very sustainable way either because if the biggest orderfall originators are not staking or putting their money into your protocol, then basically however much money that you aggregate it doesn't correlate to the amount of autofill that you actually get for the distributed blob builders. So even if you get like, I don't know, 200 million, 300 million TVL that is staked on a distributed bob builder, that doesn't necessarily mean that you are more competent against a beaver build. So it's like a very orthogonal in my opinion.
00:31:55.144 - 00:31:56.450, Speaker C: Okay, makes sense.
00:31:58.580 - 00:31:58.896, Speaker A: Yeah.
00:31:58.918 - 00:32:54.028, Speaker D: I was wondering if you could talk more about how you see the market structure of the top of block because I think there's some things that don't make sense to me, but I haven't read any of the proposals or anything. The main advantage is that right now if you're competing in top of block and you're a block builder, you just own the whole block even if you win the top. Right. So the key part is separating them, but if all the order flow is still going to one builder, it still effectively feels the same. And then also, I don't know, thoughts come to mind of, like, okay, so if I have A Higher tip in The Rest of block option than The Tip In The Top of block, do I still Stay lower? Or what if I'm also, like, let's say the top of block is Dex Trade and, like, An Oracle, if I Want To do both, do I Have to now compete in both? Get combinatorial?
00:32:54.124 - 00:34:01.056, Speaker A: Yeah, again, I think that's exactly why it's still very much open ended in terms of how do we even go about this top of block. And I just want to add that so besides the fact that top of block would enable, well, top of blocks and rest of the block separation would enable, I guess, the diminishing of the powers in terms of the block builders because now you're splitting these two such that one builder winning. The top of block doesn't win the rest of the block. Right? So that's fair. But also another advantage is that people are anticipating with this is that reduction of the fees. So you let the competition to happen more in a siloed manner such that they can reduce the fees for the rest of the block, but that's also not very complete because as you said, you could have an overflow where you set this to 10% or whatever, but it can always overflow across the rest of the block. Which basically means that you ended up having the same gas fee curves or the biding fee curves where people just bid like exponentially high towards the top of the block.
00:34:01.056 - 00:34:25.710, Speaker A: So yeah, I think there's still very much open research question like the efficiency of the Tob and RB. But having said that, I do think that regardless of how lower the fee can go, tob and RB can help reduce the dominance of the top of block bidders and builders in the space. Yeah, it leaves more venue for the distributed block builders to actually prosper going forward.
00:34:29.410 - 00:34:30.640, Speaker B: Any more questions?
00:34:31.250 - 00:34:31.566, Speaker A: Then?
00:34:31.588 - 00:34:43.220, Speaker B: If you have more questions, come to Yuki and we have our final guest Sam from Skid Protocol and we will stop in 15 minutes, so feel free to do. Thank you.
