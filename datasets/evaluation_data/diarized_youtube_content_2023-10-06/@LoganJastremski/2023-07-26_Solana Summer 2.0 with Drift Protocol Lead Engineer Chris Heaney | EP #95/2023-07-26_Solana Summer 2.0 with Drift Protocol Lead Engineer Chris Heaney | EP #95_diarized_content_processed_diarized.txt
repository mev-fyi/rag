00:00:00.560 - 00:00:05.262, Speaker A: Yeah, sorry. Classic developer going into the details way too fast.
00:00:05.446 - 00:00:15.438, Speaker B: The community, I would say, was excited about the coin going up in 2021, but the community really stayed around for the promise of what could be built and how the network could be used.
00:00:15.534 - 00:00:34.018, Speaker A: And then I did this hackathon in May 2021. I was like, wow. Like, this tech is really good. Like, you have magical moments where you send transactions through, and it just doesn't really feel like a blockchain. Blockchain is a new type of technology. But, like, all the game theory about market makers, inform flow, uninformed flow, like, that stuff doesn't change.
00:00:34.114 - 00:00:42.130, Speaker B: I think you guys are on a kind of a new paradigm of what is possible. We're live.
00:00:42.250 - 00:00:43.018, Speaker A: We're live.
00:00:43.154 - 00:00:44.110, Speaker B: Thanks, Chris.
00:00:44.530 - 00:00:45.698, Speaker A: Thank you for having me.
00:00:45.794 - 00:01:02.068, Speaker B: We're having the podcast in person, which is great. Been a while since I've done an in person podcast, but they're much more fun. I think they're much better than Zoom podcast or Riverside. Just a different vibe. Yeah, they take more your time to coordinate, though.
00:01:02.164 - 00:01:07.916, Speaker A: Yeah. Sometimes you gotta, like, find batteries for mics, scramble around, but you get it done.
00:01:08.068 - 00:01:10.052, Speaker B: You get it done. Kind of like a startup.
00:01:10.156 - 00:01:11.140, Speaker A: Yeah, it's like a startup.
00:01:11.180 - 00:01:36.150, Speaker B: You make it happen, but no. Super excited to be doing this. You're one of the lead engineers of drift protocol. You've been a Solana og, though. You've been involved in the ecosystem for some time through the ups, the downs, and everything that's been going on with the market. So maybe just starting out. How do you feel? Like, I mean, the state of the market is, how is, like, the Solana ecosystem today in your point of view?
00:01:36.230 - 00:02:07.140, Speaker A: That's a good question. Um, I think, uh, yeah, so I started in the middle of 2021, which was when, like, uh, it was Seoul's first bull market, and there was a ton of excitement. Um, but interestingly, I feel like the tech was just, like, in a very nascent form. Um, so using it, especially on Mainnet, was like, it was rough around the edges. I think if you go to use it now, it's way, way, way better. So very few transactions get dropped. Usually have, uh, way less issues just interacting with the chain.
00:02:07.140 - 00:02:08.980, Speaker A: So I would say the tech is way better.
00:02:09.060 - 00:02:12.700, Speaker B: You were class of or the summer class of 2020, weren't you?
00:02:12.780 - 00:02:17.164, Speaker A: Yeah, I started in crypto 2020 and then started, like, salon full time 2021.
00:02:17.252 - 00:02:35.016, Speaker B: Okay, interesting. So you were in the beginning of the bull market and kind of got to see the ups and downs throughout the network. How would you compare the sentiment from? I mean, obviously, a lot has happened. But, like, 2021 to today, yeah, it's.
00:02:35.048 - 00:03:09.634, Speaker A: Pretty crazy because in 2021, there's a lot of FOMO, and you feel like you need to build super fast. You're going to be left behind, which. And then you see a lot of teams, like, racing to market, which is natural, but also, I think, forces teams to cut a lot of things and maybe sacrifice on certain parts of their product. And also, Solana was also in its nascent stage. So you go on Twitter and everyone's like, oh, this is the future of France. And then you're using it in practice, and it's like it's leaving something to be desired. And then markets are predictably irrational.
00:03:09.634 - 00:03:53.720, Speaker A: So there's this huge bubble, and at the top, you're like, you're like, this doesn't make sense. But then you're looking around and everyone's like, this makes sense. And you're like, I guess, okay. And then there's just this, like, huge fall off, and it, like, really challenges your conviction. But then I guess you just come back to the fact, like, in the bear market, like, is the tech getting better? Are the products getting better? Like, do you actually, if you didn't know anything about prices, do you see some progression? And I think that's kind of what, just, like, the drift contributors have been focused on just seeing how much better, like, the Solana network has gotten, how much better the drift product has gotten. And, like, across Solana, how much better the products have gotten.
00:03:54.540 - 00:04:32.232, Speaker B: It is remarkable just looking at the community, even the community being able to articulate or kind of fight against the fud has grown remarkably. I mean, the community, I would say, was excited about the coin going up in 2021, but the community really stayed around for the promise of what could be built and how the network could be used. But maybe going back to your point, I mean, you said Solana was kind of rough around the edges in 2021 when you first started building. Can you talk about, I mean, first off, why you chose Solana, the architecture, instead of the infinite other l one's architectures that you could have built on Pontez.
00:04:32.286 - 00:05:04.660, Speaker A: Yeah. So I was definitely late to the game, like, becoming smart contract developer, 2021. So I was trying to learn solidity and whatnot, and it just wasn't very, like, fun to develop on just because it's kind of tough, like, being expensive and slow. And I was on a sabbatical of sorts, and I did the 2021 Solana hackathon, and I was like, oh, it's actually funny. I had co workers at Amazon that talked about rust. So I was like, oh, I'm just going to read the rust book, learn rust. And then like, the hackathon sucks.
00:05:04.660 - 00:05:28.096, Speaker A: Like, at least I know Russ and I can brag about it to my friends. And then I did this hackathon in May 2021. I was like, wow, like, this tech is really good. Like, you have magical moments where you send transactions through and it just doesn't really feel like a blockchain. And then in addition to that, like the whole community on Twitter was really fun to engage. And I was like, okay, this, this is great. Like, I want to build here.
00:05:28.096 - 00:05:37.256, Speaker A: So it was definitely a combination of feeling like the tech had promise, like it was like a ten x improvement, and then the community was like a social layer that I enjoyed a bunch.
00:05:37.368 - 00:06:07.870, Speaker B: Yeah, the, I mean, hitting the send button or like initiating a token transfer and it pretty much happening or confirming like instantaneously. It's like 100 x improvement from using Ethereum. And you're like, all right, and then you wait, and then you're like, okay, please go through. And so it is a night and day difference just from the user perspective. And I can't image imagine the engineering side as well.
00:06:07.990 - 00:06:52.408, Speaker A: Yeah. So I think one of the things you learn with as you're designing like, customer contracts and protocols on top of Solana is the fact that the fees are so cheap and the block times are fast. It kind of opens up a design space on what you can do off. So DeFi protocols typically have like keeper networks or off chain dependencies, like your most common one being a liquidator where it has to monitor what's going on chain and potentially take actions to, like, keep the protocol in a healthy state. And basically by driving down the cost and the block times, like what you can do with your keeper network is way bigger. So drift really just took this idea and like kind of maxed it out. Wherever we have keeper bots that are permissionless, doing all sorts of things for our exchange.
00:06:52.408 - 00:07:14.496, Speaker A: And we think fundamentally that's why it's going to end up being great experience for users. So I can dive into that more. But I think the fact there's the UX side where people get fast transactions, cheap fees, and then there's the dev side where, yeah, you get this larger design space which it's a different canvas.
00:07:14.528 - 00:08:08.248, Speaker B: For you to work on of sorts of 100%. I mean, at frictionless, our entire thesis is like, high throughput blockchains ultimately enable new applications that are just not possible on low throughput. I mean, it's kind of comical. Like, you look back to defi that kind of built the industry all respect to them, yet they were really designed for an architecture that was limited to ten to twelve transactions per second. And that constraint really forces you to do some innovative things like creating amms, but it doesn't allow you to do things such as order books or kind of these faster liquidities. And so at very like fractions of a penny too. And so it is interesting, I think you guys are on a kind of a new paradigm of what is possible and would love to kind of dive into it as well.
00:08:08.374 - 00:08:16.468, Speaker A: Yeah, yeah. So I guess how drift works is it's very auction based and event based. And I think the thing about event.
00:08:16.524 - 00:08:29.188, Speaker B: Based is, can you tell people just maybe, that are not familiar with you or your work? And also drift, just a high level architecture overview of what drift is before diving into the tech.
00:08:29.284 - 00:09:15.820, Speaker A: Yeah, sorry, classic developer going into the details way too fast. Yeah. Drift is a margin trading and derivatives trading protocol, so decentralized, permissionless, with the goal of providing like a fast, seamless trading experience for your active trader, and then also providing like compelling passive strategies for your more like mid to low frequency type investor. And I guess drift has a lot of unique things about it. But I think the biggest thing is that basically it's very event based. In tradfi, it's not like you just have an order book or an amm. Actually, there's this whole larger holistic system that goes for getting users a trade.
00:09:15.820 - 00:10:17.038, Speaker A: Part of that in travel, you hear about payment for order flow, where if you're on robinhood, you submit an order and actually your order gets routed to a market maker and they actually pay to fill you. It's not like your trade is hitting a clob, right? And for that to all work, you kind of, you need things to be more event based, be faster, et cetera. So one way to frame drift is it's a decentralized payment for order flow protocol, on top of like your standard Amm and claw, and where I guess this is very like in the DeFi protocol type meta, but it's like, how can you make it sustainable for market makers to market make on chain? It's actually a really hard problem. Like without token emissions, lP's like, aren't doing great, and there's like all this work to figure out, okay, how can we make this sustainable on chain? So drift is taking this event based payment for order flow model, and we think it could be like a winner, I think.
00:10:17.094 - 00:11:07.166, Speaker B: I mean, it's interesting really, the entire tradfi world is centered around order books being able to. And teams have gotten really, really good at market making. I mean, they're really professionals in the market making sense. And I think because of the limitations of the blockchain and the blockchain architecture, we really had to innovate and do some of these new things around amms. But now you're trying to reinvent the wheel and learn how to be like an LP. Is it profitable? Is it not profitable? And that gets into a whole nother can of worms where if you can go back and actually do the order book on chain, you have the high throughput, even payment for order flow. Those are things that the tradfi world knows that again, can be brought on a blockchain.
00:11:07.166 - 00:11:23.806, Speaker B: And it's just a unique combination of the technology has gotten to the point where it's good enough that you can build this type of stuff that you're doing with drift. And the Tradfi world also understands. So a lot of cool possibilities to come.
00:11:23.918 - 00:11:49.262, Speaker A: Yeah, definitely. It's like blockchain's a new type of technology. But like all the game theory about market makers, informed flow on informed flow, like that stuff doesn't change and like it doesn't. Like you need to respect kind of those rules of economics if you're going to build a sustainable system. Doesn't matter. Like just because you're in a slow kind of like high latency environment, like you can't get around that.
00:11:49.366 - 00:12:07.798, Speaker B: Yeah. So getting like a little bit deeper into drift on like the technical Archer architecture side, you mentioned a couple of things, keepers, et cetera. Could you dive a little bit deeper in how you're kind of building the technology stack on a blockchain?
00:12:07.894 - 00:12:49.518, Speaker A: Yeah, I guess so. First, to start with like a traditional model, like an amm or cloud, you're a user and you want to make a trade using UI or SDK, you send a trade through to the blockchain, you take some liquidity, whether it's an amm or club, like orca or Phoenix, you get your trade and then you're done. Really. What's going on here is the market maker of the LP puts their liquidity on chain. It's resting and then the taker comes second and they take from it. The goal of drift and something like an RFQ request for quote or a payment for order flow model is actually you have the taker go first. The taker says, hey, I want to buy something or sell something.
00:12:49.518 - 00:13:36.110, Speaker A: And then market makers come in and they're like, oh, yeah, I can provide that for you. And so you kind of invert the sequencing there. So the whole idea around drift is whether you're trading derivatives or spot, the taker is going to come in, they're going to submit an order saying like, I want to buy Sol, I want to sell Sol perp. This is the price I'm willing to accept over this time range. And that gets queued up on chain. Once it's queued up on chain, market makers can race to fill that order. Or keepers or fillers can basically see that order and go and find resting liquidity to fill it with, whether that is Phoenix or Openbook for spot or the drift amm for perps.
00:13:36.110 - 00:14:07.712, Speaker A: And like, that's kind of how our order system works. And, you know, when I'm talking about, like, the order, the market, the ticker order getting queued up, it's all event based. Like, you know, you as a trader, you put your order on chain has been 400 milliseconds. All the market makers on, like, are listening, waiting to bid on it. All the fillers are waiting to pick it up and try to route it to whatever liquidity sources it can. And so it was very fast and all event based.
00:14:07.816 - 00:14:18.896, Speaker B: And what is the benefit of inverting it and having the taker go first than having the LP kind of put it the liquidity on chain?
00:14:19.008 - 00:15:00.110, Speaker A: Yeah. So I guess from the LP and the market maker's perspective, you want to provide liquidity to uninformed flow. Someone who doesn't have an opinion on where the price is going, and you don't want to provide liquidity to, like, toxic flow or informed flow. And it's all about, like, the size of the spread or what, like, how much fees you have to charge are all based on the distribution between toxic and untoxic flow. So by basically making the taker go first, the market maker can actually see like, oh, is this just a normal user, or is this like an arbitrager who knows something and so they actually have more time to be confident? Like, oh, I can actually give you a good deal. I can trust you. You don't know something that I don't know.
00:15:00.110 - 00:15:55.956, Speaker A: And so by making the ticker go first, basically you invert, like, the information asymmetry, and makers can actually give takers better prices. And so it's kind of like there's different parties involved in defi. There's your average retail user who just, you know, wants to enter a position. There's a market maker who wants to provide liquidity. And then there's these sophisticated arbitrageurs who think they have some edge on where the price is going and they're looking to basically pick off like, mm. And so the goal of drift is to get the retail user, your average trader and your market maker to have a great symbiosis and like be able to play sustainable games with each other while minimizing the value that's extracted by the arbitrager. Um, and basically like all this amm clop design is like trying to figure out how those three parties, like how does the value get split up between them.
00:15:55.956 - 00:16:34.240, Speaker A: Um, and so uniswap, I guess, actually I'm just riffing. There is like the fourth party which is the, the miner, like an MEV. So also with l, like with the take, like if you're a retail trader and you just submit an order and it's like just a raw swap on Amm. Like obviously like a miner on Ethereum or validator on Ethereum can like manipulate your order and get you a really bad price. So it's all about like trying to give like, well, I guess it depends who you want to preference. But in drift, it's like we want the market maker and your average trader to get most of the value not leaked to the validator or to the arbitrage. I mean, still early.
00:16:34.240 - 00:17:10.317, Speaker A: So I don't know exactly how it works, but this is the idea behind Uniswap that just came out this week. So actually it was a little bit validating because obviously Uniswap's like big brand, prestigious. Like their design is very similar to how drift works, where in Uniswap X you don't just like send an order and hit the amm. Now you're going to have an order queued up off chain go through an RFQ process, which is like request for quote, where it's like the taker goes first and then market makers can fill it. And the reason they're doing that is basically like to reduce the mev capture, uh, that you get on like an amm.
00:17:10.453 - 00:17:27.949, Speaker B: So they're, they're trying to kind of simulate what a market maker is trying to do, uh, on kind of a lower throughput chain. And you guys are actually working with both sides and can enable the market making because of the high throughput chain.
00:17:28.069 - 00:18:28.264, Speaker A: Yeah, I, I think it's like, I don't know if it's live yet or what the state of it is, but it sounds like, yeah, like they have users sign gasless transactions and kind of have to route that transaction around off chain because to do the auction and the RFQ quickly enough, like you can't do it at the block speed of ETh. So they actually have to do this RFQ process off chain where for drift, we actually have users queue their order on chain and the block times are so short, you can do the dutch auction all on chain, which is nice because then it's more transparent, more permissionless, et cetera. But it's interesting seeing uniswap that's led the way in Amm design being like, yeah, you need some type of event based auction system to make it more sustainable for users and market makers. Just because users get pretty hurt in Mev on Ethereum, there's so much value extracted.
00:18:28.392 - 00:18:51.854, Speaker B: Do you feel like, I mean, we could take this a lot of ways. I talked with the founder of DFLO on kind of how they're doing is trying to mitigate the toxic order flow. But also, I mean, I feel like we could go down the rabbit hole of like Amms versus order books. Is there any particular way that you kind of want to take it?
00:18:51.952 - 00:19:11.042, Speaker A: Um, I think the, I guess the toxic flow one applies to both. So if you're market making on a club, like, you still have to deal with the issue of potentially, uh, like that. The club doesn't save you from toxic flow, basically, it just gives you more, um, precise control of how you're quoting. I mean, yeah, we could talk about toxic flow.
00:19:11.146 - 00:19:37.300, Speaker B: Cool, let's do it. So on the toxic flow side, I mean, you, there's a couple, I mean, as far as I know, it's just you and I. Dflo, I think, decided to build their own app chain on Cosmos. But you guys are kind of sticking with the Solana type architecture. Do you feel like in particular there's best practices to mitigate the toxic flow on chain?
00:19:37.920 - 00:20:38.946, Speaker A: Yeah, I mean, there's very tactical things you can do. Like I think you see drift, Mango, Phoenix, they do things like time enforce where your order is only valid for a few seconds. So if like the chain goes down and you can't cancel your order, it automatically gets canceled. Like very small things like that. Oracle pegged orders where like your, the price of your order is based on the oracle, so you don't have to like race to update your quotes and stuff. I think that type of stuff is useful, but I guess I think what we're doing at drift is especially unique where, yeah, just having this kind of event based auction where the taker goes first, this kind of, like, game theory will play out where it makes it harder for, like, a sophisticated arbitrager to just, like, instantly pick you off. And it should be friendlier for, like, your average market maker.
00:20:39.058 - 00:20:58.594, Speaker B: And so from the consumer side, I mean, that's not familiar with kind of this level of financial engineering. They ultimately get better prices. They're not necessarily paying wider spreads, just more efficient capital efficiency, correct.
00:20:58.682 - 00:21:52.220, Speaker A: Yeah. The goal is to get your normal user the best prices possible. So, like, when you enter a trade, what's going to happen is it's going to specify this, like, auction where, like, the start price of the auction is really aggressive. Maybe you get filled at, like, the oracle price, and then the auction base, the price basically decays and gets worse and worse where it eventually crosses, like, the spread of the resting liquidity. So the goal is actually, you'll get better fills than what you would do if you just took immediately from resting liquidity, because market makers will be able to see, like, oh, you're, you know, you're just your average Joe. Like, I'm happy to trade with you, and so I'll actually give you a better price. And then what I leave resting on chain is only for people who, like, really want to get out fast and either, like, are, like, a force buyer seller or maybe, you know, they are, like, a sophisticated arbitrager.
00:21:52.220 - 00:22:40.448, Speaker A: So, like, I guess what I imagine is going to happen on Solana is you'll see wider spreads, like, just for the resting liquidity. But then you'll see, like, these drift type auctions still get users price improvement. And I think it's inevitable, like, with Mev, too, it makes it really hard to just leave your liquidity resting on chain, unless it's, like, really expensive to take against it, because I'm going down a rabbit hole. But if you're a searcher on Jito and I'm looking at Openbook, and I see that you have, like, you know, you have an ask at, like, $30 for solana, for some reason. I have information the price about to rocket. I'll just bid up on Jito to take your liquidity faster than you can cancel your order. And so, like, once you add in, like, searchers and Mev into the game, it's really hard to leave liquidity resting on chain.
00:22:40.448 - 00:22:46.776, Speaker A: Like, unless you start doing these weird, like, protocol kind of augmentations to save.
00:22:46.808 - 00:23:11.314, Speaker B: It for, I mean, the people listening that maybe are not familiar with, like, kind of all the on chain stuff that is happening. Do you feel like there's a tradfi equivalent to all of this that has already been figured out. Now it's just we're kind of porting it over to a blockchain and refiguring out some of the components with the element that the blockchain introduces.
00:23:11.442 - 00:23:51.258, Speaker A: Yeah, I guess we thought a lot about payment for order flow. I know that sometimes gets bad news in the press, but we kind of realized that it created this relationship between traders and market makers that seem pretty symbiotic. So I think that's where we see it going where like your average trader trades on Robinhood. They have a good experience, they like using it, it's fast. They don't really necessarily care about like a club or amm. They just want to like get in at good prices. And market makers are happy to work in that system versus like, yeah, market making on chain is like a war zone right now.
00:23:51.258 - 00:23:59.310, Speaker A: So it's like, and the users end up having a worse experience because the fees are higher, the spreads are larger. So it's like how can we avoid that?
00:23:59.650 - 00:24:09.710, Speaker B: How tight do you think comparatively spreads can be versus kind of a exchange or traditional tradfi?
00:24:10.290 - 00:24:55.030, Speaker A: I guess I think on chain the spreads will be larger than like a centralized exchange bitcoin. On a centralized exchange it could be like one tick, like very tight, but on chain, just because of like the MEV stuff. The arbitrageurs even like an arbitrager, like on Solana, because the transaction fees are so small, you can like send a transaction, say like try to pick off this LP, and then if I get a bad price, just revert it. And I paid like sub penny to do that. So it's really asymmetric in the arbitrageurs favor. So I think spreads will be larger on chain, but I think with like these payment for order flows, RFQ style models, like your, your normal trader could still get filled, like around Oracle. And so like they still get the same prices they might get on centralized exchange.
00:24:55.030 - 00:25:02.654, Speaker A: Um, so I, yeah, I see the world, I see Solana, larger spreads, but um, still good fills for your average trader.
00:25:02.782 - 00:25:41.178, Speaker B: And it's interesting, I mean on the equities front, I mean particularly like in the US, it's actually a small subset of the global population that actually can trade equities versus tokens is really a global market. You can have tokens be traded anywhere, which I think honestly just unlocks a lot more capital. So I'm interested to see once capital and these investments or protocols tokens, these different entities can be bought on chain. And the more liquidity that is ultimately able to come online because of it, how it turns out.
00:25:41.274 - 00:26:02.078, Speaker A: Yeah, that's definitely. I guess the, like, addressable market is the globe, which is really crazy. And it's kind of crypto is like saving grace. Like, if it was only the US, the total, the tam might be a lot smaller. But, yeah, I think that's part of what's so encouraging is that it, like, connects. It's, like, globalized. So everyone's operating on the same chain.
00:26:02.194 - 00:26:31.460, Speaker B: In terms of building. Specifically on the Solana architecture, there's a couple different things that Solana recently did to make the network more performant, but there's still some constraints, whether that being the compute limits, bandwidth, or even state contingent. Solana just launched this year, localized fee markets. Can you talk? Even though Solana is very high performance, building within that constraints for drift?
00:26:31.580 - 00:27:08.590, Speaker A: Yeah, that's a good question. It's gonna keep me down a rabbit hole, but yeah. So, Solana, one thing is the, like, the write lock contention. The state contention is if you have multiple people trying to write to the same piece of state, they're gonna have to fight for it, which is what the priority fees try to solve. Drift basically tries to minimize how often you have. So, like, in a traditional amm, every order is touching the amm. So you're always going to have write lock contention with anyone else touching the amm.
00:27:08.590 - 00:27:54.076, Speaker A: Or in a club, for example, every time someone places an order, you have write lock contention with other people placing an order. In drift, we actually store each user's orders in separate accounts. So if one market maker is just wants to spam their orders to, like, stay up to date, they're not going to have any write lock contention with another market maker. And basically, we did that because we were like, okay, if we want to, like, keep scaling out the number of market makers, it'll be a lot easier if they're not competing with each other. So that already kind of helps with the write lock contention. The only time two traders in a market have write lock contention is if they're doing a trade. And in finance, like, the order to, like, order to trade ratio is like 100 to one.
00:27:54.076 - 00:28:08.228, Speaker A: So you can get way more throughput if you're not, if orders don't have. Right lock contention. So that's one of the main things that we worked on. It makes our system a little quirky relative to others. But I think there's a good chance it'll, it'll scale well because of that.
00:28:08.324 - 00:28:59.812, Speaker B: That's super unique. And for the other people, I mean, most blockchains are single threaded, just meaning every transaction has to be executed one after another. Solana is unique because I believe it's the first blockchain that enabled parallelism. So if you're writing to an account that no one else is writing, those can be executed simultaneously. When they are executed simultaneously, it's just a lot more throughput. And so, to that point, being able to specify individual accounts for people to trade upon does increase the throughput dramatically. How do you feel, like, for the phoenixes of the world, uh, the amms of the world on Solana, or paralyzed chains, if they don't deal with that, like, write lot contention? Is that, how's that going to work for them? Just going to be higher to get priority access to the chain?
00:28:59.916 - 00:29:18.820, Speaker A: Yeah, I think the bet there is the priority fees that, like, you'll use the priority fees to adjudicate that. So, like, if it's a time of, like, low excitement, maybe your priority fees are lower, and then if things start heating up, like, prices are moving really crazy, everyone has to just use priority fees and do it intelligently.
00:29:19.360 - 00:29:20.552, Speaker B: That'll be interesting.
00:29:20.696 - 00:30:06.846, Speaker A: Yeah, I think there's something to be said about the club. Like, it's fair, like everything is, there's one account, everything start in there. There's great price time, priority. Like, there's a reason why the cloud Maxis love it. But I think, like, I don't, I don't think it's just like, once you have a clob, you're just going to scale this thing to so many users on top of Solana, you'll probably going to hit some bottlenecks. I don't know how many users or how many transactions, but definitely something for drift that we think about is just like, we want to serve users right now and not be like, maximalist about certain subsystem designs, like whether to use the cloud or the amm. We just want as many users as possible, like, interacting in, like, a permissionless setting.
00:30:06.846 - 00:30:12.526, Speaker A: So that's why we went with this more unorthodox approach, which we call the decentralized limit order book.
00:30:12.598 - 00:30:27.190, Speaker B: I like it. And so on the bandwidth side, I think Solana also has, I mean, a lot of bandwidth, but they kind of enforce it via compute limits. Can you talk about bandwidth or compute limits or how they're intertwined?
00:30:27.310 - 00:31:03.910, Speaker A: Yeah. So the compute limits come with, are kind of related to the write lock contention where a compute limit is enforced at like, the account level, where in a certain block only an account can only have a certain amount of compute units writing to it. So I don't remember the exact number. It might be like 10 million. And the max in a transaction is like 1.4 million, but it's usually a lot smaller. So again, it's like it kind of, if you base the, the more you can parallelize your write lock contention, the less likely you're going to run into like that compute unit limit.
00:31:03.910 - 00:31:50.940, Speaker A: So I think on that side, like us just, or drift, being really careful about account design kind of helps with that. A bunch. On the bandwidth side more. So how it has to do with rpCs, there's just a lot of, like, you gotta think intelligently about kind of how you index, how you're gonna fetch the accounts you need on the client side. So for drift, like on chain, it basically keeps up to date whether a user has a position and whether they have an order. And based on that, the client can just decide whether they want to fetch all the users that have a position. That would be something like for a liquidator, or if it just wants to fetch users which have an order, or even whether it just wants to listen to updates for users that are opening up market orders.
00:31:50.940 - 00:32:10.012, Speaker A: And so, like, you gotta be kind of clever to think about like, okay, yeah, how much data do I have to fetch from the rpCs? And how can I do it really fast so that everything is like event based, happening quickly, so that like, market makers can compete in an auction and users can get filled really quickly.
00:32:10.116 - 00:32:26.450, Speaker B: So from all that, I mean, being event based, like, does Lana today, do you, but up against the bandwidth limitations, or where do you find either the restrictions or other pros that kind of Solana offers?
00:32:26.570 - 00:33:07.516, Speaker A: Yeah, um, I think the most annoying thing for us on the, like, the client side has been because, uh, all the orders for users are stored in different accounts. We have to fetch, like, potent. Like, initially we were just fetching all the user accounts and there was like thousands of them, which is just like a huge headache. So there's a lot of work to be done to make it. So, like, to get all the relevant information from the RPC quickly is like, you're fetching the minimum amount of user accounts to get all the orders you need. So this is very tactical, but working with the RPCs on Solana is probably one of the hardest developer experiences, just because it's just a shit ton of data.
00:33:07.628 - 00:33:17.486, Speaker B: Yeah, there's a lot. It is a lot of data on the RPC side. Have you guys gone through different vendors? What are some of your learnings from.
00:33:17.518 - 00:34:04.920, Speaker A: That, yeah, that's a good question. Um, we use two vendors and like, basically the bots that like the drift contributors run are kind of like just public good versions of the bots, like liquidator fillers, et cetera, and we'll run like two versions of everything. So just like, things go down in the RPC side, like just kind of randomly, just cause the network moves so fast. People are always upgrading things. But we've, right now we work with RPC pool or Trident and Helios. And for the most part it's been really good. I think the main thing is you have to really understand all the RPC methods, what they mean, and think about what data you can add to your program accounts so that you can index them and fetch them quickly.
00:34:04.920 - 00:34:19.786, Speaker A: You have to really, when you create your on chain accounts, how is the client side going to get these in a way that minimizes bandwidth? It's kind of something we had to learn over time. And you kind of need to do if you want to keep scaling the number of users using your protocol.
00:34:19.898 - 00:34:34.234, Speaker B: Yeah, it is interesting. I mean, you guys truly are on the pioneers. I mean, just being early to the protocol in of itself, but also figuring out how to scale your application within the constraints of the architecture design.
00:34:34.402 - 00:35:11.578, Speaker A: Yeah, like we're definitely pushing up against like the boundaries. I think drift is like the protocol, users using the protocol at like pay the most fees and priority fees. So like, yeah, we're doing a lot. It's a lot of like you try something, you see how it goes, and then you just keep optimizing things, squeezing things out, like reducing unnecessary transactions, making rpcs more efficient. So I'm reading this book called like chip wars, where it talks about like the evolution of semiconductors and like how they actually achieve Moore's law. It wasn't like just like sexy research breakthrough over and over again. It was just like grinding out the engineering, sweating.
00:35:11.578 - 00:35:32.288, Speaker A: Yeah, so I think developing DeFi protocols is more like that. It's like, okay, you get to, you know, a certain amount of active users. Right now there's 2000 people with open positions on drift. To get to 10,000, we just, I gotta like the contributors just keep grinding and squeezing out efficiency. And I think, I think Solana is the best place to do that right now.
00:35:32.394 - 00:36:00.776, Speaker B: What would it take you to kind of be able to support 100,000 or a million or 10 million? I know, like the industry in my opinion, is still relatively small and we really need to scale. Do you feel like, is that just the architecture design itself? Like, being able to have more throughput, such as fire dancer. Is it just the blood, sweat and tears of the application engineers kind of learning what works and what doesn't work and best practices?
00:36:00.948 - 00:36:41.812, Speaker A: Yeah, I guess. I think, yeah, I think getting the validator to be like, the underlying, like, throughput there isn't maxing out is important. Protocol level, like making sure the right lock contention and the computer union compute unit limits are all respected and, like, really optimized. And I think where actually a lot of the difficulty comes is probably at the RPC level. Like, how do you have all these people using and interacting with it? Like, when there's so many users? Like, that's actually where a lot of, like, you know, web two scaling challenges come up. Like, you have so many people reading data, interacting with it. How do you handle that? And, like, the validator really just handles, like, the right portion of it.
00:36:41.812 - 00:37:01.222, Speaker A: And right now, a lot of defi teams rely on, like, kind of paying like a generic RPC provider. I think to get to, like, you know, 100,000 users, you defi teams would probably need to roll their own RPC type infrastructure that's super tailored to their app. And I think that's how you get.
00:37:01.366 - 00:37:13.454, Speaker B: I think it's all anatolia saying, like, the part that they're doing at labs is much easier than what they're doing or what we'll need to have happen on the RPC side.
00:37:13.582 - 00:37:42.640, Speaker A: Yeah, I think that's like, the hardest part is like, getting everyone who needs the data, that data quickly, they're maintaining, like, up to date views of, like, the order book, the users, all these things. And when you have, if you had 100k users and they're all trading, like, that's kind of crazy. So you definitely would need to roll your own infrastructure and then, like, how do you do that and, like, still keep it permissionless and whatnot is definitely tricky, but I think that's one of the things you'd have to just grind out and make.
00:37:43.260 - 00:37:51.958, Speaker B: What are your thoughts in general? Have you looked too much into fire dancer and kind of the stuff that the jump team is doing there?
00:37:52.054 - 00:38:36.894, Speaker A: Yeah, that's a good question. I feel like I am not as close to that one. I think it's great if, like, the underlying, I guess, yeah, it increases, like, the bandwidth, which increases block size, which would probably increase the compute unit limits, which then will trickle down into protocols, basically getting more throughput. So on that side, I think it's great that the underlying right layer is just getting maxed out. Besides that, I don't have a ton of hot takes, I guess. Yeah, I tend to, like, just focus on where the tech is and really try to, like, how do I make it work for users now, not design a system that, like, could theoretically work if fire dancer works well, because, true. Who knows how delayed it is? And, like, you might be dead by then.
00:38:36.894 - 00:38:37.530, Speaker A: So.
00:38:38.790 - 00:38:42.462, Speaker B: Got a crypto industry. You gotta stay on your toes.
00:38:42.606 - 00:39:10.986, Speaker A: Yeah, yeah. I think if you get, I think if you have, I guess if users trust that the contributors and the brand will build something good, then you'll have time to, to basically, like, adopt these changing technologies. So I think, like, the overly, like, research oriented people are probably necessary in some, like, second order consequence, but in terms of, like, getting, keeping users, it doesn't, it's not, I don't think it's overhyped.
00:39:11.058 - 00:39:39.390, Speaker B: I agree. In terms of, I mean, in general, on Solana, it kind of feels like the vibes have been changing. We have gone through a crazy bear market. FTX blew up. We've had the Luna crash. I mean, a lot of things. And I think out of the things that just indirectly or directly blew up, Solana kind of took the most backlash out of anything that did not blow up.
00:39:39.390 - 00:39:52.850, Speaker B: And I feel like right now we're kind of having a little bit of a renaissance. People are calling for Defi summer 2.0. Any of your thoughts on current vibes, the renaissance of Defi on Solana?
00:39:53.230 - 00:40:44.888, Speaker A: Yeah, I mean, I think, like I mentioned before, like, the tech was in a nascent form in 2021, and the price way outshot how, like, much people are using it on chain. And I think right now, the price, the price way, like, undershot it the other way, and the tech has gotten a lot better. And what you can do on Solana is actually really impressive. I think teams like drift, mango, Phoenix, like orca, all these teams, you know, marinate, et cetera, jito built really cool things where if you compare it versus, like, their peer set on an eth, like, maybe the TVL numbers aren't as big, but I think, like, from a ux and, like, um, perspective, like, definitely competitive and better in some areas. So I think, you know, you, jeff bezos, like, talked about the stock market being, like, weighing machine versus, like, I.
00:40:44.904 - 00:40:46.672, Speaker B: Forget the other one, but voting machine.
00:40:46.736 - 00:41:02.618, Speaker A: Yeah, exactly. And you just got to trust that if the tech keeps getting better, the price will find an equilibrium there. And I think, yeah, it kind of got, like, a perception liquidation cascade with ftx, but the tech kept getting better, and people kept working on it, and I think, yeah, people come around to.
00:41:02.634 - 00:41:38.540, Speaker B: Your point on TvL. I feel like it is kind of the last remaining point that the ethereum crowd is holding onto saying, look how much liquidity we have. You have zero liquidity, you're dead on arrival. You're never going to catch up to us. How do you feel? Like, I mean, obviously the numbers speak for themselves. There is a lot more liquidity on ethereum. How do you feel like the lower amount of liquidity has either affected drift and the product that you can build either directly or indirectly?
00:41:39.120 - 00:42:24.626, Speaker A: I guess the TVL side less, but the liquidity side definitely more. I think a lot of people will use drift and they'll be like, wow, this is great product. One of the best defi protocols I've ever used. Liquidity is just not there yet. Um, definitely, definitely makes it harder, especially to get people to come over to bridge over to Solana and use it. Um, so it's an uphill battle there, but I think it's one of these things where you get super fans, you get people using it, believing in it, and you just slowly kind of have like projects get the next marginal user and then when that happens you can get, um, one more, like you can get additional market makers and that'll increase, uh, the liquidity. I think Tvl, it's like, Tvl is a very inert metric.
00:42:24.626 - 00:42:51.788, Speaker A: Like people, there's money sitting in a contract there if you want it to just be a scammer. Like you can make a smart contract that just like is super simple and you put money into it. So I think the TVL is actually not a huge deal. I think that'll come. I think getting the market makers to come over to Seoul is actually probably the bigger deal. And you just gotta like convince the next one to come over and keep doing that. And I think a year from now the liquidity will be a lot better.
00:42:51.884 - 00:43:24.282, Speaker B: You feel like, I mean, prior to kind of the FTX blow up, I mean there were serum FTX and Almeda were obviously kind of market making for that, I believe a couple others. Do you feel like just with all the chaos, with the regulatory uncertainty, the market makers were just like, well, come back later or this is not for us right now. We'll see how it goes. And if this thing is still around or this ecosystem is still around in a year time we'll come back and re explore.
00:43:24.386 - 00:44:01.926, Speaker A: Yeah, I think, think when every like, when shit's hitting the fan, everyone just goes in wealth preservation mode. They just like turn off the bots like, just like, don't, don't lose anything more. And I think, yeah, with, like, regulatory stuff, just like, and, you know, the chain did go down once in January or February, whenever it was. And, like, maybe people got spooked. And so what you have to do is just earn their trust back over time. So the longer Solana network stays up, has no issues with throughput, more users keep coming. Like, I think you just, like, get that excitement and trust back.
00:44:01.926 - 00:44:43.950, Speaker A: And then there's all, like, the thing about, like, defi and crypto is, like, people are opportunistic. Like, if they see something growing, like, they will, they'll, they'll move. So it's kind of, like, always just comes down to, like, having faith in the tech getting better and then, like, basically disseminating the message that, like, this is really good and, like, backing up with facts and people will slowly come around. And I think, I think even this little, little bid that, like, defi Sol Defi is catching will entice new market makers to come on. And that'll be like, reflexive, right? More market makers, more liquidity, better user experience, and it'll kind of spiral. So I think, I think we're definitely on, like, a bit of a precipice of, like, growth, which is cool.
00:44:44.070 - 00:45:20.682, Speaker B: I agree. It feels like somewhere around the bottom. Hopefully that's already passed. But I mean, to your point, if you don't look at prices, the tech has just gotten a lot better. And it is reflexive in the sense that kind of the best marketing tools number go up. In any event, I feel like the sentiment, especially on Twitter, even in various communities, the products are much more mature. You are able to see a little bit more liquidity with number going up, and it gets people excited.
00:45:20.682 - 00:45:31.454, Speaker B: So I don't know. I do agree. I think there's some exciting things happening right now. You guys are in a great place to take advantage of that.
00:45:31.542 - 00:45:44.030, Speaker A: Yeah, I think, yeah, just build a good product, build something people love, and then work to build the network effects in a way that is sustainable. I think that's all you can do. And then you just trust the process.
00:45:44.190 - 00:45:58.464, Speaker B: Trust the process. Outside of Defi, are there any particular categories or even other ecosystems, other categories of applications that you're excited about?
00:45:58.592 - 00:46:30.550, Speaker A: That's interesting. I guess I'm very interested in the cosmos ecosystem. I think Solana monolithic approach is really good for bootstrapping a protocol, getting distribution, etcetera. But I do something about bootstrapping your own validator set and customizing protocol logic in the actual validator is really enticing. Like, you could do, like, you could do interesting, like, economic models and value capture. So that's always alluring.
00:46:31.370 - 00:46:33.074, Speaker B: What are your thoughts on l two?
00:46:33.202 - 00:46:45.882, Speaker A: Oh, l two s? I mean, I feel like the biggest advantage to l two s is they already have a network effect. But, like, I'm not excited about, like, detect that much or at least the ones that exist right now.
00:46:45.946 - 00:47:12.944, Speaker B: Yeah, I don't even know if they have good network effects because you're kind of like, restarting your own l one community. You fragment the liquidity. I guess the nice thing is, I mean, most of the l two s today are EVM compatible, and so you can just kind of like, port over your application. But if one, l two, if one application that you used to compose with is on one l two and another is on a different l two kind of breaks your app or makes it much more challenging.
00:47:13.112 - 00:47:37.870, Speaker A: Yeah, I think, like, composability in those type of network effects, it definitely hurts. But I think the, like, the Eth defi people, like, they, like, they put a lot of money into defi protocols. They trade a lot. Like, they're definitely, they have size. So, like, like, sometimes we'll talk to people, like, come trial drift, and they're like, eh, I just don't want to, like, not use metamath. And, like, you're just like, yeah. So I'm like, that's, that's like, the best argument I've heard for ETh.
00:47:37.870 - 00:47:45.322, Speaker A: Building on l two is like, then those people will use you. But besides that, it's nothing too exciting to me.
00:47:45.346 - 00:47:52.510, Speaker B: That's like, I want to stick with dial up and what you guys are doing over there and broadband, just not for me.
00:47:53.210 - 00:48:03.842, Speaker A: Yeah, yeah, I guess I think about it. They're harder people. Like, they're not the next person to convince to try it out. So you can't convince them. You just got to go for the.
00:48:03.866 - 00:48:28.450, Speaker B: Next marginal user 100%. In terms of, I mean, being a core contributor to drift, you've seen lots of ups and downs within the Solana market and just even product building yourself. What advice would you give to just, like, founders or even individuals that are interested in either playing around with the tech or ultimately have aspirations to build something?
00:48:28.790 - 00:49:15.188, Speaker A: That's a good question. I guess I feel like just, like, stay in the details, like, always just be double checking things, responding in discord, just caring about, like, what users are saying, and just, like, take feedback and, like, don't get complacent because that's really the path to, like, building something great, I think is responding to feedback, like paying attention to detail, fixing things quickly. I think it's kind of easy to be like into like the high level stuff and like think about like strategy and research ideas, etcetera. But I think what's actually hard and the separation is like, day in and day out, paying attention to the details and listening to your users.
00:49:15.284 - 00:50:04.744, Speaker B: I fully agree. I mean, I think today it's very easy to get stuck in research mode, even on the application engineering side, because there's so many different rabbit hole. I mean, even things that we discuss with me or order flow, different l one app chains, different architectures, there's a lot of things to even figure out to be able to make educated decisions. Then once you get to that point, it's like, all right, do I feel like I have sufficient amount of information to go execute on that? But at the end of the day, none of that really matters to the end user. They just want to have a great product. So there's a lot of things that you ultimately have to balance to one, build a scalable application. But to build an application that people actually love, that's challenging.
00:50:04.872 - 00:50:27.168, Speaker A: Yeah, definitely. It's very tempting in crypto, especially if you're on crypto Twitter, to want to be. To seem like intelligent and up to date and have a hot take on everything. And there's some people that can do that well, but that's not gonna, that's not what users really care about. So you gotta be careful when you get into the nerd sniping games because.
00:50:27.344 - 00:50:27.848, Speaker B: I agree.
00:50:27.904 - 00:50:35.584, Speaker A: Yeah, it not ideas are cheap until basically they're written in software running in prod. Until then, like, they're not that valuable.
00:50:35.712 - 00:50:45.720, Speaker B: I agree. Perfect. Well, maybe we can end on that. Any, any final topics that we miss or didn't touch upon?
00:50:45.800 - 00:50:46.912, Speaker A: No, nothing on my mind.
00:50:46.976 - 00:51:00.462, Speaker B: Cool. Well, Chris, thank you so much for coming on the podcast. Really excited that we got to do this in person. It was a lot of fun and look forward to having you back on sometime and hopefully Salana DFI 2.0 renaissance.
00:51:00.566 - 00:51:01.742, Speaker A: Yeah, definitely.
00:51:01.846 - 00:51:02.510, Speaker B: Awesome. Thank you.
