00:00:07.130 - 00:00:50.250, Speaker A: Hi, there. Okay, so I'm Jason and I'm from airstack, and we have Depesh and Sarvish at two of my co founders. So today we're going to tell you a workshop on how to build more data ware applications using Airstack's technology. We're going to make this very hands on demo show the APIs, show you how to work with them. If you have any questions on the way, raise your hand. And so overview of airstack. So we provide web three data APIs that enable developers to easily integrate blockchain data transactions, token balances on chain off chain activities into your applications.
00:00:50.250 - 00:01:53.822, Speaker A: And the idea is that you can just, rather than having to run a lot of infrastructure on your own, you can just query our APIs and integrate directly into your systems or into your front end. The agenda we have today is I'm going to do a quick show of the cheat codes, the AI, and then Depesh is going to show you how to use the APIs, the way writing basically how they're formed what's in the APIs and be able to use the full functionality of them. So we'll go through after the AI overview how to get your API key, the rate limits that we currently have the docs for developers headers. What's in the APIs how to create queries with nested queries pagination. How to run queries directly through your API key. How to run scripts if you want to if you want to add, let's say, hundreds or thousands of addresses at the same time and get responses. And then we'll conclude by showing everyone just a review of the ideas and bounties using airstack.
00:01:53.822 - 00:02:02.290, Speaker A: Any questions before I get started? Okay, so let me dish. How do I get to a browser?
00:02:04.470 - 00:02:05.220, Speaker B: Cool.
00:02:06.410 - 00:02:51.420, Speaker A: All right, so if you go to airstack XYZ, is our Internet working? Let's start with that. There we go. Let me make sure the WiFi is off first. There we go. There we go. Okay, so if you go to airstack XYZ, can I see? Should we turn the lights down a little? Yeah, better. Okay, so if you go to airstack XYZ, it's app airstack XYZ.
00:02:51.420 - 00:03:18.184, Speaker A: You'll see, the home page is if you want to learn, basically start with other people's queries. You can see there's a community shared query. So after you create a query, you can publish to the community. You don't have to. So by default, your queries are public. You can save them to your own account, but if you're proud of your work and you want to share with others, you can just click the publish button afterwards and share your query publicly for other people. So, for instance, here's a query that Sarvesh did earlier today.
00:03:18.184 - 00:03:58.740, Speaker A: So it's the collection stats for Moonbirds, and I'm going to run this query. And so if I wanted to, I can just fork his query and use it or edit it. So you don't have to start from scratch. If you want to start with a community query and then just to show you, I'm going to sign you want to sign in real quick. I just want to show the AI. So just want to show everyone the cheat codes real quick. If you're on the Query Explorer page, you can use our AI engine to create a natural language query.
00:03:58.740 - 00:04:56.070, Speaker A: We're running GPT four. We've been training for the last four weeks or so on our GraphQL, which Depashi could go into in detail. But you can write a natural language query on the airstack system. So I can write, for instance, show me all NFTs currently held by Vitalik ETH and the images of the NFTs and the AI will generate the query for you. It is about 98% accurate on anything that we have an API for, and it's about 0% accurate on things we don't have an API for. So if you ask it, what tokens is Obama holding? It's probably going to come back with nothing. But if you ask it, let's say, to give you information about any token, any Ethereum wallet, any ENS it'll, get it right.
00:04:56.070 - 00:05:27.084, Speaker A: So here's the query and there's the response. And then you can see in the response here, there's also images resized in the Internet, but usually we can hover over it and see the image as well. There you go. So this is one of Vitalik's. NFTs. So the AI Assistant is intended as a way for you to get started very easily. So if you're not comfortable with GraphQL, you can just use the AI Assistant.
00:05:27.084 - 00:05:54.250, Speaker A: Or even if you are comfortable with GraphQL, you can start with the query through the AI and then edit it and kind of add other dimensions to it. But let's back up a little bit and Depesh will show everyone the nitty gritty details of the APIs, what's in them, and as a developer, how to make use of them sound good. Any questions before we roll into it? I talk very fast. You can slow me down if you want. All right, go ahead. Dimesh over to you.
00:05:56.380 - 00:06:26.688, Speaker B: Thank you, Jason. Sure. So, let's see what is possible with these APIs and how, as a developer can make use of the resources available. So, as a developer, this is the starting point where you have to come to app stock XYZ. The different functionalities are know you already know. Jason already talked about it. So here you can see there is API Docs.
00:06:26.688 - 00:07:06.396, Speaker B: So once you click here, you will be taken to the doc page. Is it better? Yeah. So here you can see first of all, I would like to encourage everyone to join this telegram group. We have a developer chat, so if you have any questions related to S tag, that's our best place to contact us and we will make sure that we reply to each and every messages. Let's jump in. So this is a quick start. So the UI, which you saw here, right, the Explorer.
00:07:06.396 - 00:07:54.636, Speaker B: So this is our GraphQL client, but in case you want to use any other client, even that, you can use it. But we recommend everyone to use app Aztec XYZ. In case you want to use Apollo Studio or any GraphiQL clients, you can just use this API endpoints. This slash GraphQL GQL is the endpoint where you can hit the queries. Currently, if you are not logged in, you have not created any account. So current the rate limit is 50 request per five minutes. But if you log in, once you log in, you will get a header key, authorization key that you can use it with every queries.
00:07:54.636 - 00:08:40.104, Speaker B: So there you will get the rate limit of 50 requests per minute. Okay. And if you want any higher rate limit, then definitely you can reach out to us and we will provide that currently one information. Like currently we have Ethereum synced that can be used for development in the hackathon. And currently we are syncing polygon. It's still syncing, but we have made sure that we have the live transactions available so that hackers can use the live transactions and create some apps on top of it. Any transaction that happens, it will appear in Aztec APIs in less than a minute.
00:08:40.104 - 00:09:23.390, Speaker B: So it is pretty fast. Like a minute is also a very high thing, but it should be in some seconds itself. All right, moving ahead, I will give you a walkthrough of the APIs that is available. And I will describe you what these APIs are capable of. So, before going to these APIs, I would like to give you a walkthrough on how our schemas are built. There is a certain pattern which we follow, and there is also a nested queries how we can get multiple information in single query. So let me give you a quick walkthrough here.
00:09:23.390 - 00:09:51.760, Speaker B: So here you can see all the queries are listed. One common pattern you will see everywhere is this input. So this is where we provide the input. We have basically four fields. One is blockchain, on which blockchain you want to query. Currently here we can see Ethereum, but after sometime you will get polygon as well. Then there is cursor.
00:09:51.760 - 00:10:34.528, Speaker B: The cursor is more related to pagination. Currently we have a limit of 50 records in one query. But you can get more data using page initial. So this is where a cursor is used. So it's just a string, you can just add it and you can get some other page. Then we have filters. The format here is we have and or if you want to query something which is give me something, some token whose address is exactly equal to given address, then this is where we use equality.
00:10:34.528 - 00:11:12.270, Speaker B: And if you want to use multiple addresses, you can just provide an array. So we use this in operator and similarly we will have more operators, like depending upon the use case. Let me go to stats. Here you can see there is greater than less than in all these are the comparators. So you can use this as well. So this is the format which we have in our schemas. Any question here? All right I will move forward.
00:11:12.270 - 00:11:49.390, Speaker B: Now, in this document you can see we have various APIs. So let me give you a very high level walkthrough one by one. So token API. So Token API is if you want to get information about any token, high level information, for example name, symbol, decimal, total supply. This is the API which you are going to use. It here you can see there are more details but in majority you will need name, symbol, decimals. So this is something I can show you.
00:11:49.390 - 00:12:36.488, Speaker B: I can just run this query. So here you can see I have provided the address on ethereum and I got this name, symbol decimal, total supply, loss transfer block and loss transfer timestamp. So yeah, token related information. You can get it from token APIs in addition to tokens. So tokens can be like ERC 27, 21 five if you want more details about 721 and one one five. This is where we have the token NFT APIs. Here you can get some off chain data as well.
00:12:36.488 - 00:13:07.732, Speaker B: For example, metadata generally they are kept on IPFS. Also the images generally you will find the images on IPFS. So you can query all this data through our APIs. One more thing we provide is the images, the NFT images. You can get it in a four version. So we resize the images and provide you in the four sizes. To give you an example here, let me take first this example.
00:13:07.732 - 00:13:42.424, Speaker B: This is a very interesting example. So I will just spend some more time here. Let me explain this query. So I'm trying to get token NFT, its name, its symbol. Then I'm trying to get its metadata, its attribute type, then images. These are the four dimensions predefined dimensions available. In addition to that, we are also trying to get NFT sale transaction.
00:13:42.424 - 00:14:26.392, Speaker B: So this is a nested query. This is an example of nested query. So the NFT sale transaction is something you can have a different query itself. But here in this example you can see within one query you can just query a lot of information related to that token NFT. One more interesting thing I would like to highlight here. So here I'm trying to fetch token NFT based on this criteria. That is I'm saying give me a token NFT for this collection where its Metadata's trait type is equal to background and its value is orange.
00:14:26.392 - 00:15:01.610, Speaker B: So here is a best example how you can query an NFT based on its traits values as well. Let me run this. I think internet is slow. Trust me guys, APS are fast. Got it. So here you can see we have the metadata, information, rate, type, its value. We have the images extra, small, large, medium, original.
00:15:01.610 - 00:16:17.390, Speaker B: Then we have here you can see sale transactions at what price it was sold. So these are the information which you can extract from token NFTs API then token balances so here you can query what are the different balances a particular valid holds so you can get ERC 20 balance you can get what are the different token NFDS they have a particular wallet have and what are the token transfers? So this is a very straightforward API I can just run one of the example here I think we already have seen this one. I will just copy paste it. I will run it here. You can see we are getting very detailed information like what's the token type, what's their name and how much amount they hold. So this is how you can use token balance API. Then we have Domain API.
00:16:17.390 - 00:17:02.138, Speaker B: So this is more like you can run the queries using very user friendly names instead of address. To give an example, ENS is one of the projects. So ENS is one of the project which we have indexed, we will be indexing more. So all the APIs which we have, they can also work with ENS. And here I can get more information related to ENS project. Like what was the payment token used, at what price it was bought, when it is expiring, what's the name? What's the primary ENS name? All this information we can get from domains API. Then we have wallet API.
00:17:02.138 - 00:17:53.150, Speaker B: So this is a very powerful API. Here you can get a comprehensive data, just provide a specific address and it will give you many information. Example what's their different social profiles? What's the token balance? What were the token transfers? NFT sale transactions? All this information you can get it. I will give you one example here. This is a very nice example. So here we can see here we are providing an identity key. So here it is like when we provide an input we can provide either address ENS name we can also provide social profiles name or ID.
00:17:53.150 - 00:18:12.200, Speaker B: For example, if you have forecaster, you can provide forecaster name or forecaster ID and then our APIs will just take this name. It will resolve what are the addresses that name has and then it will give all the data. It will go and fetch the data and provide you the information.
00:18:13.930 - 00:18:20.170, Speaker A: How do you sue the average? Sorry, can you see the between the tab?
00:18:23.130 - 00:18:26.246, Speaker B: Sorry, I did not get it for.
00:18:26.268 - 00:18:40.790, Speaker A: The transfers when they found it fine, let's say they are average and fun general yeah block number how do you filter for time range?
00:18:40.950 - 00:18:43.466, Speaker B: You want to know like if someone.
00:18:43.648 - 00:18:56.954, Speaker A: You can use that example but how do you filter that for the time range? Let's say January to April or something okay, I see, so you have to basically convert the block range into Unix.
00:18:57.002 - 00:18:57.950, Speaker B: Timestamp.
00:19:00.310 - 00:19:05.506, Speaker A: You have to figure out the block number by yourself, I guess unix hamstring or something.
00:19:05.608 - 00:19:17.910, Speaker B: Yeah. So if your question is that I want to get a token balance between a particular time range or historical value, right?
00:19:17.980 - 00:19:18.502, Speaker A: Yes.
00:19:18.636 - 00:19:56.100, Speaker B: So that is something we will be enabling that. That is the balance snapshot where you can query any valid historical balance. So it will be possible for you to provide the block range like start block number and end block number and what was the balance between this range or even it can work with block timestamp. So it will be like you don't have to know what's the block number of a given timestamp. Everything will be taken care of it. So this is the API which is under development and we will have this API very soon. So that will be possible.
00:19:56.100 - 00:20:01.858, Speaker B: We call it as historic balance or balance snapshot.
00:20:01.954 - 00:20:03.080, Speaker A: Yeah, thank you.
00:20:09.050 - 00:20:48.018, Speaker B: Yeah. Query cross post at the block pens, pencil, cross post of a wallet to the increment. Right. All right, moving ahead, social API. Using Social API you can query the data of social apps. For example, forecaster we are also indexing lens that you will get it after some time. So the details which you can get it from the Social API is like what are their profile names, IDs and what are the different connected addresses or associated addresses with that.
00:20:48.018 - 00:22:00.980, Speaker B: So this is what Social API is, token transfers. So this is quite straightforward. Like any token transfer, you can just query it what was the token which was transferred between the addresses. Then we have NFT sale transaction. So currently if you want to know if a token was sold in a particular marketplace, for example OpenSea or Rarible, this is the API which you can get the data from. So currently we have indexed OpenSea and Rarible. And here you can get what was the payment amount, what was the fees paid for that transfer and what was the royalty fees, what was the platform fees and we also convert it into USD value and just provide all this information, all this data using these APIs.
00:22:00.980 - 00:22:53.236, Speaker B: Then there are stats related APIs. So basically you can just get the information like what's the highest sale price, what's the lowest sale price, what's the average sale price of a particular collection? And this stats you can get it daily basis, weekly basis, monthly, yearly and lifetime. And to just give you a high level detail like daily starts like everything is in UTC timestamp and daily starts from 00:00 a.m. Like midnight and ends at 11:59 p.m.. Similarly for the weekly it starts on Monday and ends at 11:59 p.m. On Sunday and monthly. You can just understand that this is the first calendar date and end calendar date.
00:22:53.236 - 00:23:39.780, Speaker B: So this information is also available. We also have information related to data related to marketplace stats. So you can also query what's the highest price, lowest price on OpenSea or on so this API works at the marketplace level. So you can get this marketplace data as well, all the stats. Similarly we have NFT stats at the token NFT level. You can also get the similar stats coming back to this identity API. This is very powerful.
00:23:39.780 - 00:24:30.724, Speaker B: So all the queries which we saw wherever you see where we have the owner address, you can make a query based on either ENS name or if you have forecaster ID, forecaster name, you can just provide this and all the APIs would work. All right, let me take one more example. Suppose you want to query on multiple chains. So you have to query some information from the ethereum chain as well as polygon chain using one EPA even that is possible. So currently this is not deployed on the production. So you can't see this. But this is something we will push it very soon.
00:24:30.724 - 00:25:04.124, Speaker B: So you can see the query here, right? Like I'm trying to get token balance of vitalik. I'm providing his ensname on Ethereum. And the second query is in the same. We have this aliases where we have ethereum and polygon as labels. And here you can see we are changed the blockchain to polygon. And if I will run this, you can see this ethereum and polygon. This is how you will get the data and the token balances.
00:25:04.124 - 00:25:25.156, Speaker B: You can see this is the blockchain and different tokens and its amount. Similarly for the polygon, if you will see we will get the similar data. So using one query itself, you can get data of the multiple blockchains. So whenever we will enable more blockchains, you will get all this data there now coming to do we have time?
00:25:25.258 - 00:25:26.244, Speaker A: Three minutes.
00:25:26.442 - 00:25:27.430, Speaker B: Three minutes.
00:25:28.760 - 00:26:00.690, Speaker A: Sorry, but anyone who's interested in find us afterwards, the best will be right outside and walking through. And I'll just come to our tape. Are you live shortest guys? Hello. I would ask a question. Are you centralized servers so I can't run my indexer on my own computer? Not right now. And do you plan to centralize it in the future sometime? Okay, thank you.
00:26:02.260 - 00:26:52.624, Speaker B: All right, so there was one example which we wanted to I will just take just 1 minute and I will just say how you can quickly do this. So what you need to do is you just sign in. After signing in, you go to profile setting, go to view API key. This is where you will get the API key. So this is something we need to pass this in the header against key authorization. And this is where your APIs would work with good rate limit and very quickly here, this is an example. This is a node JS code.
00:26:52.624 - 00:27:13.450, Speaker B: So this link is available like it's a GitHub repository. It is available in the GitHub repository. You can just have a look there. So this is a query where we are trying to get all the NFTs of multiple owners. And there is some pagination logic as well, if you will just run it.
00:27:29.780 - 00:27:30.864, Speaker A: Yeah. Here.
00:27:30.902 - 00:27:35.888, Speaker B: You get all the response. All right, I will just all right.
00:27:35.894 - 00:28:00.740, Speaker A: So thank you, everyone. If you have any more questions, Depesh and Saravesh will be outside and at our table. We also have Bounties that are available. It's linked to from the ETH Global Prizes page as well. As if anyone asks, just come up. We'll send you a notion page that has information. We also have suggested ideas and projects to work on if you're looking for inspiration.
00:28:00.740 - 00:28:06.730, Speaker A: All right? Any questions real quick? All right, thank you, everyone. Appreciate it. Thank you.
