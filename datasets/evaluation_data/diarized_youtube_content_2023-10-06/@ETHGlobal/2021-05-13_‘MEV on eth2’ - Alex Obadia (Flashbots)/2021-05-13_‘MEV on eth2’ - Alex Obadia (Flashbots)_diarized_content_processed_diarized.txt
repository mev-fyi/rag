00:00:00.330 - 00:00:36.946, Speaker A: Let's get started. Thank you, Phil, for the great presentation. And Phil kind of talked about permissionless systems in general and I'm going to talk about Mev in East Two. And hi, I'm Alex, part of part of flashball. All right, so a quick recap, first of all about the merge and E Two in general. So in December 2020, the beacon chain was launched and it's in essentially this separate chain that runs on the proof of stake consensus already, where you have validators voting on beacon blocks. And these validators submit their ETH on an ETH form, the smart contract deposit and then become validators.
00:00:36.946 - 00:01:22.934, Speaker A: And so what's essentially going to happen at the merge is the shift for Ethereum from a proof of work consensus mechanism to a proof of stake consensus mechanism. And you could compare it to like a midair engine change, flight engine change. It's not as dangerous as it sounds just because the beacon chain has already been launched and has been amassing more validators. But this is essentially like a way that I found useful to think about it. So essentially changing the consensus engine of Ethereum. But so if you kind of follow that analogy, we have this kind of dual chain model, right? So we have this consensus chain that has already been existing, the beacon chain, and we have the existing Ethereum chain. So what's going to happen after the merge and when Ethereum is now on a proof of stake consensus mechanism is the Ethereum blocks as we know them today.
00:01:22.934 - 00:02:01.314, Speaker A: And so I call them E One blocks are going to be included in the beacon chain as an element of a beacon block alongside consensus objects such as validator attestations exits and deposits of validators. And there's a slight difference in proof of stake. Where the validator is known, a validator is chosen in advance to propose a particular beacon block. And so that's a slight change that we're going to talk about. That's important. So if we go through the standard Ethereum transaction execution before and after the merge, before the merge, a user would send a transaction. The transaction is propagated on ETH one.
00:02:01.314 - 00:02:34.266, Speaker A: P to P layer transaction shows up in an ETH One client. Mempool a client would be a node software that a miner would run, for example, with some transaction ordering interface and mining interface. An ETH One client would form a block. Then the block would be added to the ETH One chain should the miner win the proof of work lottery. And then what's not mentioned here is, I guess as other blocks are built on top of that one, there's a probabilistic finality that's reached after the merge. A user would still send a transaction. The transaction would still be propagated on the same peer to peer network layer.
00:02:34.266 - 00:03:10.534, Speaker A: The transaction would still show up in ETH One client. Mempools the ETH One client would still form the blocks. The same software that currently assembles block in ethereum would still do that after the merge. And so in e two, the only difference is that the block is now passed to the east two client, as we showed in the previous slide, as an element of a beacon block. And then the finality is slightly different. It's probabilistic at first and then deterministic after some amount of time and when an amount of beacon blocks have passed and have been finalized. And so let's focus on this bit first.
00:03:10.534 - 00:03:51.830, Speaker A: So this is interesting because this doesn't change that much. And so I think when people think about these two, they think about a radical change in transactions and that type of stuff. And that's actually not really the case. And so more than this, we see that the same software is used to order Ethereum transactions. And that's key because we can kind of first this is kind of first takeaway that Ethereum transaction ordering as we know it today still exists in e two. That's important for the extracted mev that we know of. So the value with a spread through transaction ordering from example arbitrages and liquidations, the game of ordering transactions would still happen very similarly.
00:03:51.830 - 00:04:41.634, Speaker A: And by as we know it today, I mean the same P to P layer and the same software that orders transactions, as I was mentioning. And so now that we know this, we can kind of reason about, hey, what if Validators would run transaction ordering software that looks like a Flashbolt's mev? GEF right? And so a slightly modified ETH, one client that is able to accept tips from users for transaction priority. And we can use some of the numbers of Flashbots to reason about this and to kind of map out validator rewards. And that's something that we presented in the previous talk and we're going to build on a little bit now the previous talk given last week. So we're using Pintel's model. Pintel is a great article on this that I put the link here and I'll share more. But so thank you Pintel.
00:04:41.634 - 00:05:12.862, Speaker A: And we're using his Python code and building on it. So the assumptions, as I kind of showed in the previous slide, is about zero point 18 E per block of mev. And that's from flashbot's numbers. And so that's actual value that we've seen flow and then 52% of blocks that have mev in them. And so not all blocks have mev. And then extra limitations around. There's no Txcs added, which goes back a little bit to Justin's point around the definition of mev and other things to mention.
00:05:12.862 - 00:06:17.318, Speaker A: I guess one key thing is the zero point 18 e is definitely a lower bound and there's going to be an update to our infrastructure very soon that would change that number. So take the numbers that I talk about as more a way to build intuition around this and maybe to start talking about the implications of mev rather than exact figures to build on top of so mapping out the mev enhanced validator yields. This is a graph that we showed last week with Tamas. The orange curve is mev enhanced validator yields, the blue curve are normal validator yields without mev. And the blue dotted line here are the actual number of validators in the system currently which is about 120,000 4 million e stake. And so we see that mev boosts revenue by about 70.9%, which is pretty significant, especially when you compare that to minor revenue and the boost of mev to minor revenue which we found to be somewhere between five and 7% again as Justin mentioned in his questions.
00:06:17.318 - 00:07:15.238, Speaker A: So this is kind of an order of magnitude higher and it's definitely important and worth keeping in mind. And so more validator rewards means more validators because it's more attractive and that means more security you ultimately for the ethereum network. So that's great. Yay. However, in reality mev is only earned by the block proposer because they're the ones who are paid this tip and they're the ones who have the ultimate power related to transaction ordering. And over a finite timescale there is actually a range of blocks you can hope to propose and this is just governed by a simple binomial distribution. And so in Pintail's article again they show for 100,000 validators, how many blocks can they hope to propose for the unluckiest 1%, the median and the luckiest 1%.
00:07:15.238 - 00:08:56.950, Speaker A: And you can see that there's a wide range of 15 to 39, right? And Pintel maps that and you can see the orange and blue curves, there are the unluckiest 1% and luckiest 1% and you can see there's a slight difference between the two. But now if you add mev onto that, the two curves that you see here are now collapsed here and the difference is pretty much you can't see it, but this is the average mev, the unluckiest and luckiest and you can see how wide the gap is and that's something to think about more deeply in my opinion. Because a second takeaway that maybe we can see from this is that mev increases the variance of returns between the luckiest and unluckiest validators and that brings up a lot of questions that we haven't answered yet and this is something that we're thinking about more. But does it exert pressure for pooling dynamics to happen, right, because you want to smooth out that variance of luck? Does it mean that mev is prohibitive to being a solo validator? Or does it exert additional pressure for all the Gopolic dynamics to form right, where people that have a large validator stake will have more blocks that they propose, they will get more mev rewards from that and then they will have more ethn and then they can stake more and that kind of cycle. I'll also add that right now we're assuming an even distribution of mev per block, that's zero point 18. In reality, mev is highly unevenly distributed and this would exacerbate this effect. So that's the second takeaway about mev on e two going back to this kind of flow of transaction execution.
00:08:56.950 - 00:09:42.822, Speaker A: The second bit that's interesting to focus on is actually the difference, right? And so the difference in how the block of ethereum transactions actually gets passed onto or gets validated by the consensus or how do validators or the network comes to consensus on it. And this is where the difference is. The block proposal is different. In ETH one the block proposer or today is a minor and that would be a validator. And in ETH one the miner knows probabilistically if they're going to propose the block or not, depending on their hash rate. Whereas in e two the validator is selected in advance and there is a single validator selected to propose a block at a particular slot. So that's also different.
00:09:42.822 - 00:10:42.762, Speaker A: But so thinking about what changes consensus voting power is now governed by the amount of ETH held and because you stake security deposits of 32 e and the largest ETH holders are exchanges. And so if you look at the ETH one deposit addresses you can see that a large chunk, about 17% is Kraken. There's Binance, there's Huobi here and there are other players coming online as well. And this is interesting because these players are regulated under different regulatory regimes. They have other activities than simply staking and they have other services as well where staking might have synergies with and where mev might have synergies with all of this. And so this is going to shape the mev landscape to some extent and what people are willing to do given the jurisdictions they're in and given the other services they offer and the reputation they have. And it's definitely worth keeping in mind as a mental model, I will say what isn't shown here is that for a lot of these large exchanges and players, they don't necessarily run validators in house.
00:10:42.762 - 00:12:16.050, Speaker A: Rather they redirect a lot of staking flow to other pools partly to avoid correlated slashing risk and partly to avoid just a huge overhead of running in house validators. And so this is not necessarily correct in the sense where it is possible, and I would have to double check that kraken, for example, direct some of their flow to stakefish or to stake us. And so this is a little bit something to keep in mind. The other thing that's interesting is you have new players coming online, not only the large ETH holders but also these metapools or pool aggregators in a way. So LiDAR is an example of that where they offer staking derivatives and particularly liquid have to you're not stuck not being able to withdraw your ETH as being a validator and they redirect staking flow to validator pools, right? And so these are the ones kind of mentioned here. So you can think of the dynamics of these metapools or these pool aggregators similar to these Dex aggregators in a way, right where when Dex aggregators came, what they end up doing is bringing the price of similar assets on different DEXes in line together and making things more efficient. And so if you kind of port that logic to profit sharing of mev and also the mev activity that validator pools engage in I think these metapools or pool aggregators, however you want to call them, are going to exert influence there and are going to be able to potentially set some social norms, but also influence in the split in mev profit sharing.
00:12:16.050 - 00:13:00.082, Speaker A: So that's also important. So the third takeaway is the identity of block proposals changes and that's definitely important and worth considering again in your mentor model of mev. So there's a lot of things we didn't talk about. This is a short presentation, but we've been doing a lot of failing on different fronts. The first one is this is all assuming that layer twos are not fully adopted, but in reality a lot of the transaction ordering is going to move to layer twos, right? And what's going to be living at the layer one are these kind of like roller batches and fraud proofs. And so that might change some of the thinking that was mentioned in the previous slides. There's also the cross layer two ordering that's interesting and how that relates to, for example, shard ethereum and the role of centric ethereum.
00:13:00.082 - 00:14:04.006, Speaker A: And so there's been talks of staggered shard blocks, for example, and that might introduce a new sense of ordering between different L two S. There's also new constraints on Mev search. The fact that what I mentioned before the block leader selection is known in advance is very interesting and relevant to mev and predictable block times as well. Fixed block times of 12 seconds is also interesting from a simulation time and optimization perspective and also many other things. Ones that I would note is future protocol level changes in how they affect Mev stateless clients, change in finality gadget from Casper FFG to CBC and other things there that are fascinating to explore. So as a quick summary of the presentation, transaction ordering as we know it today still exists and still happens on e two and happens with the same software and transactions are propagated on the same pup network layer. Our early numbers show that mev awards are a bigger deal in proof of stake ethereum than in proof of work ethereum.
00:14:04.006 - 00:15:03.150, Speaker A: And so the impact that mev would have will be accentuated. It looks like mev awards could help make ethereum more secure by incentivizing a higher amount of individuals to be validators. At the same time, it looks like Mev rewards could accelerate dynamics that were explored by Phil as well, right? In the sense where if mev is not extracted or is extracted asymmetrically by one party over than another, you might create this instability that is important to think about. And there's a change in the actors that hold consensus voting power, in particular, who the bloc proposers are. There's a lot more research to do, and we look forward to collaborating with a lot of you and a lot of organizations on this. This is the beginning of us thinking about not only E Two, but also how that interacts with layer two and a roll up centric ethereum. So consider this as like an introduction to some of our thinking there and definitely an invitation for you to participate, share your opinion and contribute.
00:15:03.150 - 00:15:16.290, Speaker A: And that is it. Thank you. I wonder if we have time for questions. I let maybe justin, let me check the chat, actually. But thank you. Thank you for listening.
00:15:19.270 - 00:15:30.966, Speaker B: Thank you. Alex, I'm not sure if we have time for questions. I don't see any questions in the chat. If we do have questions, I have one, but depends on if we have time or not.
00:15:31.148 - 00:15:44.330, Speaker A: Please. I would suggest let's go ahead with your question. Let's keep it short and while we promote Ali sorry, Eli from Starquare to.
00:15:44.400 - 00:16:27.474, Speaker B: Present next before the panel. Okay, great. I guess I just want to highlight question five from the very beginning, which is, as I see it, the migration from the current design of Flashbots from EF One to E Two poses a potentially significant centralization risk. And the reason is that there's this whitelisting aspect, so it's okay to whitelist pools, it's okay to whitelist whales, but you can't whitelist 10,000 enthusiasts mini stakers. So could you highlight this centralization risk and the efforts that are being taken to address it?
00:16:27.612 - 00:17:03.282, Speaker A: So you're totally right. And part of this centralization that you mentioned is related to preventing spam risk and DDoS attacks on miners. Right. And what's interesting about E Two is this fact that I mentioned before, right, that leader election is done in advance. It means that you wouldn't necessarily need such a relay anymore. And we've been exploring these kind of alternative architectures there where you could, for example, encrypt your Ethereum transaction with the key of the validator that you know is going to propose the beacon block for the slot that you're targeting. And then you wouldn't have the same issue.
00:17:03.282 - 00:17:32.942, Speaker A: The issue that you have with proof of work right now is you don't know who's going to mine. And so you have to share these bundles with all the miners at once. And there's slightly different simulations you have to do with each of them. And so all that complexity is something that is unreasonable to ask miners to do. And so that's why we've kind of taken on that role. But it's definitely something that you're right, it's not necessarily sustainable nor something that we aspire to keep in the system. So we're actively exploring it.
00:17:32.942 - 00:17:56.680, Speaker A: We are also participating ETH Global's Hackathon Rayonism, where we're like prototyping quickly on what mev would look like on E Two. So it's definitely top of our mind. And as we've kind of outlined in our values, et cetera. We want to preserve ethereum's core values, and one of them is obviously decentralization. So it's something that is close to our hearts and is very important to us to do.
00:17:58.090 - 00:18:06.786, Speaker B: Fantastic. Thank you. Yeah. It's very interesting that this public knowledge can be turned into an advantage. Like, traditionally, I think of it as a disadvantage.
00:18:06.898 - 00:18:45.460, Speaker A: Yeah. And I will even go as far as saying that with layer twos and we'll hear more about them today. Leader selection is going to be a key criteria to understand how the Mev mechanics to some extent. And I think the exercise for us to think about mechanics from ETH one to E two, we can reproduce that pretty easily to other layer twos and both their finality mechanics and also their leader selection mechanics and that might guide us in what Mev would look like in these systems. So it's definitely interesting. Is Ellie here?
00:18:52.750 - 00:19:06.240, Speaker B: We're still waiting to get him on board. Just having some panelists debugging, but if there's any other questions from the chat or the comments, we can relay that for the next minute or two.
00:19:11.010 - 00:19:13.582, Speaker A: I'm reading the chat now. I don't know, Justin, if there's anything.
00:19:13.636 - 00:19:17.970, Speaker B: You want to maybe I'm looking at the wrong chat.
00:19:19.190 - 00:19:23.522, Speaker A: I'm looking at the Zoom chat. I need to open the ETH global one too.
00:19:23.656 - 00:19:26.580, Speaker B: Yeah, I'm looking at the Zoom chat. I'm not seeing any questions there.
00:19:29.510 - 00:20:08.980, Speaker A: Oh, vasili. Knowing slots in advance opens up realistic possibilities for multi block mev. I agree, but I also so maybe, Justin, you could talk about secret single leader election, and I understand that's, like, a future improvement, but then that would limit knowing the slots to I mean, you wouldn't have a public list of who is going to be the validator for a particular slot. I'm also curious about maybe proof of custody and how that interacts with this and key delegation in general. Wherever pools would have a lot of power over, for example, they would have several contiguous slots or this type of thing. And how realistic is that?
00:20:09.830 - 00:20:45.006, Speaker B: Yeah. So I actually don't think the secret leader election changes too much on the mev front. And the reason is that even though the general public doesn't know who will be the validators, there's still two things. One is that you can still potentially encrypt to kind of this unknown public key. It's an interesting cryptography problem to think about. And then the other thing is you as a validator or as a pool, you still know where you are positioned, right. Even though the world doesn't, you still know.
00:20:45.006 - 00:21:07.750, Speaker B: And so you'll still know if you have two contiguous slots. And yeah, I think this is kind of a potentially worrying centralization risk, right. Because the probability that you have two or three or whatever contiguous slots going to be a function of how large you are, and so that will incentivize larger pools.
00:21:09.690 - 00:21:27.834, Speaker A: Yeah. Interesting. I'm curious to I've been writing a little post and I've been trying to compute the number for the probability of having two contiguous slots. I'm not done yet, but I'd love for you to check it out.
00:21:27.952 - 00:21:58.120, Speaker B: Right. I mean, actually we did quite a bit of research on these contiguous slots idea and the reason is that it affects Randao. Right? So in Randao you're meant to reveal or not reveal a secret. And if you have several contiguous slots at the end of an epoch, then you get to manipulate the randomness. So quite a bit of analysis was done and I think Vitalik wrote some if research posts that are possibly relevant to calculate probabilities there.
00:21:59.690 - 00:22:37.300, Speaker A: Got it. Thank you. I mean, what's not clear to me is if you're a validator. By the way, if Eli Ellie is here please, I'm just talking until he's here. What's not clear to me is how the actual mechanics work. If I'm like a validator and I submit my stake to a validator pool, how much power do they have over? Do they have full control of my key? Is there something there that there's like an anti centralization measure that's baked in the protocol right now or that you guys are thinking about? So I was told about proof of custody, for example, and I'm not sure how that interacts with all of this, if at all.
00:22:38.870 - 00:23:40.998, Speaker B: Well, as it stands today, most pools are fully custodial. So for example, Coinbase, they just hold your ether and they'll do everything on your behalf. And in terms of incentives for not having this centralization risk, one of the main ones that we have is basically penalizing correlated failures. So if we have, let's say, 30% of the network or 50% of the network that goes offline, then that's more heavily penalized than just 1% going offline for an extended period of time. Another thing is if you have one validator who gets slashed, that one validator will only lose a small amount of EF. But if you have 30% of the network that did something like a slashable offense, then the penalties will be very large. So that's something that maybe the general public doesn't realize because it hasn't happened yet.
00:23:40.998 - 00:23:56.266, Speaker B: But my prediction is that at some point in the future one of the exchanges are going to mess up and it's going to be extremely costly and there's going to be a great lesson in terms of diversification because you don't want to put all the validators in the same place.
00:23:56.368 - 00:24:49.340, Speaker A: So Anecdotally, I've been talking to people who might have been looking at this for the exchanges front and it seems they're very aware of this correlated slashing risk and are also diversifying their infrastructure so they don't have this. But what I've been thinking about is that infrastructure decentralization is not the same as power decentralization, right. Even though they decentralize the infrastructure, if they still have some say over the ordering of blocks, for example, or they have control over the E One clients that are used to include the E One block in that beacon, block, then even though the infrastructure is decentralized, and they might not suffer from a very harsh correlated slashing risk, they might still have power over that other thing. And so I don't know if the infrastructure decentralization is a strong implication of power decentralization in terms of consensus voting power. Right.
00:24:51.170 - 00:26:09.854, Speaker B: One thing that comes to mind in this whole pool situation is one of the ones I'm most worried about is basically an inside job by the pools. So we've made a lot of effort in the Eve to design to separate the online staking key from the offline kind of withdrawal key. And my guess is that the exchanges have extremely good cold storage infrastructure and the withdrawal key almost certainly won't get compromised even by some sort of internal employee like a rogue sysadmin. And so there's this kind of feeling of security where because the sysadmins can't access this withdrawal key, they can't really steal funds. But actually, that's a false sense of security. And the reason is that there's a ransom attack that you can use if you have access to the signing keys. And the reason is that you can trustlessly hold your Validators at ransom by threatening to post via slashing.
00:26:09.854 - 00:26:35.530, Speaker B: Exactly. And so if you're coinbase and you have 30% of the Validators, let's say, then that's effectively maximal hashing you'll lose 100% of your stake. And so the power that you have to perform this attack will depend on how large your pool is. So if you want to mitigate yourself against these rogue sysadmins attacks, go to a small pool.
00:26:38.590 - 00:26:39.560, Speaker A: Interesting. Thank you.
