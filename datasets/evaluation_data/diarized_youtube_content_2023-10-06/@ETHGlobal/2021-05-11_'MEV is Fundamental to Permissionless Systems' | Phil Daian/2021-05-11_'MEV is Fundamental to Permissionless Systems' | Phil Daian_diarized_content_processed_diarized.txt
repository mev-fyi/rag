00:00:00.090 - 00:00:10.510, Speaker A: Further ado, I'd like to welcome Justin Drake from the Ethereum Foundation, who is going to be our roastmaster for today, and Justin will take over from here. Welcome, Justin.
00:00:11.250 - 00:00:56.750, Speaker B: Thanks, Kartek. Thanks, everyone. Thanks, Hashbot for having mean I guess just to break the ice, I've been asked as a roastmaster to prepare some roasty questions. So I've taken my job seriously, I guess, and I tried to come up with the hardest questions I could come up with. And just to make it fun, I've kind of purposely used some abrasive language in the questions. So, yeah, I don't usually ask questions like that unless maybe I'm in a really bad mood. So I guess we can quickly go through the questions just to give you an overview of where my mind is at.
00:00:56.750 - 00:01:53.730, Speaker B: And also, I guess, food for thought for potential future discussion today. So question one why does the flashbot's definition of mev not include all extractable value such as EVM fees? This definition is confusing and wrong. Please fix it. Question two can we please stop celebrating the gas savings from off chain priority gas auctions? Those savings are absolutely minimal, less than 1% of total gas usage. And that's from the public source mev Explorer, version zero. Question three can we please stop propagating the misconception that the mev power hierarchy ends with all powerful block builders? Basically, block builders are more powerful than the bots, which are more powerful than the users. This is FUD.
00:01:53.730 - 00:03:10.266, Speaker B: The real power hierarchy is users at the bottom, bots as the next level, block builders as a level above that, and then DApps and DAP designers, and then the VM like the Enshrined consensus at the very top. We primarily need to focus on better DAP designs as well as VM level mev minimization and extraction such as EIP 1559. Question four can flashbot's leadership tone down the concave? Thinking such as mev is fundamental and fairness is impossible. We only need good enough fairness. We don't need perfection, and we only need good enough mev minimization. We don't need perfect mev minimization. Question five can decentralization risks that stem from the flashbots block proposal whitelisting whitelisting in the context of EF two be properly acknowledged and taken more seriously? Question six flashbots rev so that's realized extractable value only provides a shockingly small 5.2%
00:03:10.266 - 00:03:54.840, Speaker B: increase in minor revenue? Do you find these small rev numbers compelling enough to justify the huge flashbots effort? And then the final question can Flashbots net be friendlier to nondevs and not redirect to a GitHub repo? So I guess that's all my questions, and I'll now pass it on to Tina. Looks like Tina is not here.
00:03:56.330 - 00:03:58.458, Speaker C: Hello. Can you hear me?
00:03:58.624 - 00:03:59.340, Speaker B: Yes.
00:03:59.710 - 00:04:41.640, Speaker C: Thank you, our roastmaster, for starting out, for being the bravest roastmaster and start out with a challenge to Flashbots. And I commend your bravery and I would anticipate phil on behalf of Flashbots at the end of your talk. MEB is fundamental to permissionless system to be able to rapid firestyle address these set of seven questions. We can dive into them later on if we have more time, but without further ado, Phil, would you like to take over the screen share and start your talk?
00:04:44.570 - 00:05:24.690, Speaker A: Yeah, absolutely. All right. Hello everyone. Can you hear me? Should I start my video also? Wonderful. All right, so hope everyone is doing well today. Today we're going to talk about mev and what to do about it and provide a roadmap for how we tackle this major issue in the ETH ecosystem. So maybe let's start with a reminder of why we're here.
00:05:24.690 - 00:06:39.510, Speaker A: According to me, from my perspective, and a quote from the Bitcoin white paper by Satoshi saying the system is secure, the Bitcoin system as long as honest nodes collectively control more CPU power than any cooperating group of attacker nodes. This simple sentence is super profound and speaks directly to what Satoshi thought the security model of Bitcoin was honest and attacker nodes. But really kind of this honesty model is not enough and doesn't underpin, in my opinion, the reason why we all find these systems interesting. Because in the real world, this control of CPU power is actually expressed in money, in dollars and in resources, in economic resources, especially as we have liquid staking and mining products, things like derivatives, things like cloud rental infrastructure, that kind of increase the ease of entering and exiting these CPU positions. The game really becomes a game of money and its incentives rather than purely CPU power. So what we're trying to do here is build systems that are economically secure and kind of assuming honesty among a fixed set is not enough, because if it was, we would use more traditional consensus protocols like PBFT. So if we disagree on this slide, we're probably not going to agree on the rest of my presentation.
00:06:39.510 - 00:07:42.320, Speaker A: But this is from my perspective, why a lot of people in my journey and in my learnings, in the cryptocurrency community are here. So taking this into account, let's take an economic view of mev. I'm not going to intro mev, because I assume if you're watching this and you're interested in this event, you kind of know what mev is. Mev just being basically minor fees that they can make or validator fees. From manipulating the system and taking an economic view of this, it becomes pretty obvious that the most profitable action for validators or for miners or whoever has access to this value is to extract the value, to extract it as selfishly and as efficiently as possible. So let's think about what this means economically in a world where no one is extracting the value and the value is just kind of sitting there. This means that any validators that engage in this pure extraction become the most profitable validators and they rapidly concentrate CPU power and therefore network control to themselves, corrupting the security game that Nakamoto posited in the slide before.
00:07:42.320 - 00:08:43.378, Speaker A: This includes things like fueling, selfish mining and 51% attacks and things like that. So to be useful, to exist in a world where economic incentives dominate and where we don't have permissioned fairness and permissioned trust assumptions, we have to be robust to the above phenomenon. We need to build systems that continue to work for users and continue to operate even though there's this economic concentration vector, even though there's this ability for validators to concentrate power to themselves, we don't want to build a system that centralizes itself basically to these validators. So in this context, to avoid concentrating, to sort of Validators who are willing to engage in pure extraction at the expense of the ones who are not, we have to make sure we enter a world where if there is mev on the table. And this is assuming that mev exists, like in ETH today. It's not talking about systems where maybe l one is changed or l two is changed. We'll get to those later.
00:08:43.378 - 00:09:27.394, Speaker A: But assuming that mev exists, we have to extract mev as efficiently as possible to avoid this concentration. And everyone in the system must extract about the proportionate amount of mev to their hash power. That would lower the margin of validator unfairness. So if you own 1% of the hash power, you should have about 1% of the mev profits. If you own 80%, you should get about 80%. Otherwise, if you have kind of a superlinear function rather than a linear function there you get a direct centralization vector that kind of erodes these guarantees and harms the ability of this system to exist in this economically secured model. Not only that, but a very real economic point from the stakers and validators we've talked to.
00:09:27.394 - 00:10:04.460, Speaker A: Most stakers and validators just aren't willing to leave mev on the table. They want to be extracting this. They want to have access to this value in most cases. So this model of leaving mev on the table, if it exists, is not realistic. And what we should instead make sure is that mev is well distributed proportional to the validator or network hash power. This is a joke from my blog post basically saying that to speak to my previous point, we're trying to build systems here that are secure by economic incentives, even in the case where we have adversaries trying to attack them. And because people's rational self interest is so large, the systems continue working.
00:10:04.460 - 00:10:40.220, Speaker A: And I think it's very foolish to think that these adversaries that we're building these systems against, especially as they increase in value and become more political, will draw the line at mev extraction and won't use this as a vector to attack the system. So that's why I see suboptimal mev extraction as self defeating from an economic security point of view. Now I'm going to talk about why mev is fundamental and by fundamental I mean is not going to be reduced to zero anytime soon. It's not going away. Note that this doesn't mean that we can't reduce mev a lot. It just means that we will never take it to zero. That's what the word fundamental means here.
00:10:40.220 - 00:11:23.462, Speaker A: So there's three kind of prongs, three sources of the fundamental kind of value, the fundamental vector of mev that I'm going to talk about in this presentation, and they're transcriptability, interoperability and diverse trust models. So why is mev fundamental? Well, the first reason is transcriptability. What we're trying to build is decentralized systems, systems where trust is distributed and decentralized and in some ways democratized. And to build these systems, what we need is auditability. Without auditability, we don't know what goes on in these systems. We could have infinite inflation, we could have double spends as a user. We need some way to audit our finances, we need some way to audit what other people are doing in the system.
00:11:23.462 - 00:12:09.946, Speaker A: And we need some way to audit the system stability, ideally through cryptographic transcripts and through cryptographic audit logs. That's essentially what we're building with these blockchain data structures. Unfortunately, when you have these cryptographic transcripts that can be validated without additional trust assumptions, you also introduce bribability. So that's something I cover in this blog post here from 2018 that talks about bribery, infrastructure for vote buying and for other economic mechanisms. But basically, if you can generate these cryptographic transcripts, you can condition payments on these cryptographic actions that introduce basically this trustless bribe vector because of the existence of the cryptocurrency itself on which these actions are occurring. So we want this decentralization, we want this auditability. So we have to build systems that deal with this bribery.
00:12:09.946 - 00:13:00.470, Speaker A: We have to build systems that exist in spite of it. And in fact, that was a big part of the EF's research agenda several years ago, and I imagine continues to this day, is how do we even define this model economically and what it means to be secure against bribery? So that's very much ongoing work. But we do know we want this. We want to be secure against bribery now because you have multiple outcomes and you have this bribability that is fundamentally a source of mev because these different outcomes have different values to different people in the network. One outcome might be worth $5 to me where my transaction gets mined first, and another outcome might be worth $0 to me and same for everyone else in the network. So this distribution of value across outcomes combined with this probability directly provides mev into the system. Another reason why mev is fundamental is interoperability.
00:13:00.470 - 00:14:31.730, Speaker A: So even if we eliminate mev within a single blockchain and within a single trust model, or within a single L two or whatever it may be, there are other sources of mev that come from the ability to arbitrage sources of information flowing across different trust models. So things like events on Cosmos, events on Bitcoin, changes in Bitcoin transaction flow, changes in prices on centralized exchanges. These are all relevant sources of value that right now flow to the miners and the validators and are covered under this umbrella of what we refer to as mev. And these payments will ultimately still be controlled by whoever controls transaction ordering or whatever process ultimately controls transaction ordering, providing an incentive to manipulate this process. So anytime you have information flowing across trust models which is required for any meaningful interoperability between systems, you have some composability boundary there which entails some risk for anyone trying to arbitrage across these systems. And this risk directly drives profit, it directly drives arbitrage incentives and it directly drives the kind of bribery we talked about in the previous slide. And even in decentralized networks this risk is not evenly distributed, right? So some bots, some network actors are better positioned to capture this risk than others, which introduces mev, which introduces this distinct set of bribery preferences and fuels these payoffs to validators and to system participants to control ordering.
00:14:31.730 - 00:15:12.538, Speaker A: Last thing that fuels mev is diverse set of trust models. So you might just say why not slap a fairness protocol on our level layer one? I've heard there are all these different protocols we can use to make layer one fair or make layer two fair. Why not just use a fair ordering protocol? Well, there's not such thing as one fair ordering protocol and there's not such thing as one layer two that everyone's going to use. And there's not such thing as one blockchain that everyone's going to use. In the real world you have multiple different kind of execution zones and multiple different trust models all with economic activity. So here's an example from a fairness protocol. So this is just one set of fairness protocols designed for permissionless systems with one set of trust assumptions.
00:15:12.538 - 00:16:11.342, Speaker A: And you can see depending on whether you want a leader or a leaderless protocol, whether you want a synchronous network or asynchronous network assumption, depending on what guarantees you want and depending on which nodes you want to trust. Because these protocols are parameterized by which nodes are running them and which permission set of nodes you essentially choose to run these fairness protocols. So depending on all these assumptions you get different execution and different protocol operation. Now, assuming that many different people run these protocols and you have many protocols, coexisting arbitrage opportunities across these protocols start to come into play in the incentives of all the nodes that run these protocols creating bribability and fueling mev. So just the fact that nobody can agree or we can't all agree on a single set of trust assumptions fuels mev. Why? Because any protocol that requires assumptions can't be a universal protocol, can't be a protocol for everyone in the universe. And fairness protocols will always require assumptions.
00:16:11.342 - 00:16:41.206, Speaker A: Why? Because fairness always requires assumptions. Fairness is a political concept, fairness is an economic concept. There's not a single notion and a single definition of fairness. Different users and different actors in the network have different definitions and different ideas of what's fair. Different markets require different protections against different styles of unfairness. So I don't think we'll ever have a single fairness protocol. The same way we don't have a single universal fair governance system in the real world or a single property ledger that everyone agrees on or et cetera, et cetera.
00:16:41.206 - 00:17:16.418, Speaker A: It just doesn't exist. There's no such thing as that single source of fairness. So fairness protocols themselves, by existing in these multiple zones themselves will also create mev and themselves will kind of require minor payments to run. So just the fact that there's no single notion of fairness in some ways inherently creates mev. And relying on a committee honesty assumption to get past this and kind of move past this point doesn't really work. It doesn't economically scale because it breaks down once economic attacks and incentives come back into play and collapses back into trust assumptions. I call that self defeat.
00:17:16.418 - 00:18:04.978, Speaker A: So we can't just assume that we can slap a fairness protocol on and move on. We have to actually deal with this fundamental issue of mev. Lastly, I want to say mev is fundamental to permissionless systems for another reason why? Because all mev is is profit available to actors that are in a privileged position in permissionless networks and these profits are fundamental to how these networks operate. So Uniswap for example, provides a permissionless bribe aka mev. All mev is is a permissionless bribe to any arbitrage bot who brings the price back to market. That's why the network offers market prices even to illiquid pairs. Because of this mev, MakerDAO offers an mev based bribe to any bot that maintains stability of the system by liquidating vulnerable positions.
00:18:04.978 - 00:18:59.026, Speaker A: Without mev, MakerDAO wouldn't be stable or it would have to rely on a permissioned set, such know keeperdao or some other protocol that has a more permissioned elected and advanced set of bots. The fact that anyone can come in at any time and restore the system stability is what gives miners the ability to extract this profit is what creates this mev in this analysis. So same with these other systems and permissionless bribes kind of inherently run these systems for users and create mev. So many times we want to design with mev and not because we're all foolish and not because we're all bot operators. That being said, I want to address some misconceptions that might come up in this presentation. So I'm not saying that we can't reduce mev. I'm not saying that a lot of the forms of predatory mev that exist in the network like Uniswap Sandwiching can't be reduced or can't be made more in line with user and protocol incentives.
00:18:59.026 - 00:19:26.030, Speaker A: And I'm sure we can do this at the DAP layer and I'm sure we can do this also at the layer two and layer one level. And I'm sure we're going to hear all about all these things in the rest of the roast. I'm not saying that mev should not be minimized. So if you're a user, you shouldn't use protocols that have a lot of harmful mev. You should only use protocols that expose mev that's necessary to their operation. I'm also not saying mev is a virtue. It's not a moral issue or a moral virtue to extract mev.
00:19:26.030 - 00:19:50.962, Speaker A: And I'm not saying today's system is the best. I call it the least unfair. Today's system is probably unfair more than it needs to be. And we can reduce that in a lot of ways with smart DAP design. I am saying we need to think carefully about mev. We need to blame DApps, and we need to beware people who are trying to sell silver bullet solutions. Saying this one protocol, whatever the protocol might be, will eliminate mev for all use cases.
00:19:50.962 - 00:20:21.858, Speaker A: It may eliminate mev for many use cases, and it's something we should think carefully about. But we also need to still deal with this issue because it's still going to exist in the cryptocurrency world no matter what we do. And this is something I'm happy to debate on, and I'm sure we'll debate kind of people on the panel later. If you want to read more, you're welcome to read kind of the expanded form of these arguments on my blog. It's linked here. Highly encourage that. And lastly, I think I'm out of time, so I will leave you with this slide, which is summarizing my blog post and says what I need to do.
00:20:21.858 - 00:20:32.120, Speaker A: Sadly, I don't have time to answer Justin's great questions, but I'm sure we can make some time for that and also hit them in the panel that Justin and Vitalik and I are on later.
00:20:32.730 - 00:20:33.142, Speaker D: Cool.
00:20:33.196 - 00:20:48.714, Speaker A: Thanks, everyone. Hope you found that interesting. Happy to hand it back to the roastmaster, take questions, whatever the relevant order is. I will open the chat now, do.
00:20:48.752 - 00:21:58.690, Speaker B: We have any questions for Phil? I mean, I kind of have one question, which is one of my questions there, which is you say that mev is not fundamental in the sense that we can't get it to zero, but who cares about zero, right? What about 1%? If we remove 99%, 1% is negligible and we can just forget about it. And I think my intuition is that every technique basically might remove half of the remaining mev. So, for example, EIP 1559, that might extract and burn half the mev, and then you left with the other half. And then you might have another technique like, I don't know, VDFS or whatever, and then you have all the other techniques, and then they gradually chip away. And because you have this distribution, basically as soon as you have five techniques, you've removed the bulk of the mev. And so even though I agree it's true that mev is fundamental, it's a bit defeatist in the sense that we should really be focusing on the solutions that will chip away at the mev.
00:22:00.070 - 00:22:38.906, Speaker A: Yeah, I totally agree with you. The reason I started researching mev is because I think it is a potential fairness issue for everyone who uses cryptocurrencies. Whether or not you use systems with mev, other people's, mev also affects your system. So that's an important point to make. So I think it is important to reduce it as much as possible. That being said, I've written personally many libraries, many papers on mev techniques and thought about this quite a lot. My personal opinion, and I'm happy to debate this, and maybe I think I do want to debate this on the panel that we're on, is that all of these solutions have some UX trade offs.
00:22:38.906 - 00:22:58.710, Speaker A: And one example is batching right or delay based solutions like VDF based solutions. All these solutions have UX trade offs for users. And the question is, what do people prefer? Are there still going to be people who want to use this real time exchange? And are there people who are going to prefer to use this kind of delayed exchange?
00:23:01.610 - 00:23:04.898, Speaker B: What's the UX trade off, if anything? It's a UX benefit.
00:23:05.074 - 00:23:15.770, Speaker A: I don't think EIP 1559 affects mev. It introduces like a static base cost for transactions, but ordering can still be done completely out of band if necessary.
00:23:16.350 - 00:23:41.650, Speaker B: Well, that's because you have the wrong definition of mev. That goes back to my question. One which is mev should include all extractable value, which currently includes the fees. And mev is bad for many reasons. For example, it leads to chain instability. And so EIP 1559 does definitely reduce mev by not giving it to the block proposers.
00:23:43.030 - 00:24:56.140, Speaker A: So I think the transaction fees people are paying for inclusion are actually a very small percentage of the eventual mev market even today. In many blocks, in a substantial percentage of blocks, like several percentage of blocks, they're negligible compared to other mev sources, which makes them already negligible in the consensus game, whether or not they're always negligible, if they're often enough negligible, which they are, they're what we should be designing for, in my opinion. And so those fees are not spoken to by 1559. So you're right, it does change the dynamics a little bit in that some of the transaction fees are burned, but it's plausible that miners or transaction fees could increase to accommodate for that. And if not, it's plausible that there could be other out of band games. So I do think, yes, specifically for kind of congestion fees and chain stability, it starts to chip away at that issue, but the game is still fundamentally unchanged and the deeper protocol level mitigations are still things that we haven't explored yet, and I would love to discuss those too. And I think there's a lot of stuff we can discuss there.
00:24:56.140 - 00:25:45.526, Speaker A: But my kind of journey on this is that I spent a long time with a lot of projects I advised Dex protocols, other smart contract projects, things like that, trying to get people to address mev, trying to get DApps to address mev. And the main pushback was the UX trade offs. Like, their users didn't want it except as an option. And once you introduce it as an option and you have liquidity that's split across these different Mev solutions, that actually ends up creating more mev, which is kind of what the analyses showed. So that's kind of why I'm coming at it from that perspective. I don't think there's nothing to be done there. I do think there's something to be done, but I think that I've personally run into this brick wall of UX trade offs often enough that I'm not trying to be defeatist, I'm just like a little bit defeated.
00:25:45.526 - 00:25:58.320, Speaker A: And I encourage people to keep coming up and keep kind of chiseling away at this because I think it is super important and it's very underresearched. And having more people on it, I think, reduces the probability of defeat there.
00:26:00.610 - 00:26:46.350, Speaker D: Bill, what do you think about the engineering arms race of Mev? Because mev doesn't have zero cost to extract, someone has to build the analysis systems to do Mev extraction. And I think one of the patterns that I see is the perception of extractable value has to reach some sort of critical mass before the engineering starts to happen. There was some amount of extractable value on a threshold that ethereum reached before Mev extraction became serious. And I would observe for years, oh, there's mev here, but no one is abstracting it because writing that code was not triple.
00:26:49.090 - 00:27:48.558, Speaker A: Yeah, I agree. And part of the reason we started Flashbots is that we saw that equilibrium sort of shifting in the run up to this current bull market. And I think, anyway, this current DeFi boom and this current ETH bull market, combined with the rise of so many different DeFi protocols on ETH have made mev on ETH just like too big to ignore. And I think there are several different projects that are out there, at least a dozen that I know of, that are actively working towards building that infrastructure. So I think that is true for a while, but I think especially for ETH today, practically speaking, the size of the market just grew so large and the design is what it is. We can talk about changing it, and I think that's a conversation we can have. But in practice, it just did grow to a multi, multibillion dollar DeFi market very quickly without having designs that were ready to compensate for the changes in mev.
00:27:48.558 - 00:28:20.410, Speaker A: So in that situation, the infrastructure cost becomes really much lower, especially when you have desperate miners who are looking at things like proof of stake. So, yeah, I do agree with you. At the same time, I think that cost was starting to be paid by many entities. And so the most important thing to do at that point is to try to democratize things as much as possible in the short term and try to advocate for reduction and for dealing with this as a commons issue in the medium term.
00:28:21.330 - 00:29:12.160, Speaker D: I think this relates and the connection I wanted to draw to this portfolio of mitigations is we deploy these portfolios of mitigations. We work on these portfolio of mitigations. They have UX trade offs and then we don't ever know whether or not you've actually mitigated enough. It's like any kind of security mitigation. Like, you don't know if your mitigations are good enough because as soon as one week becomes valuable enough then engineering resources will get focused on extracting as much value from that. And that's another aspect of it which I sort of relates to. The fundamentalness of mev is we can keep working on mitigations and we are morally obligated to work on mitigations but you will never know if you've mitigated it enough.
00:29:14.050 - 00:30:04.806, Speaker A: Yeah, I think we can only observe kind of the second order impacts of mitigations and keep introspecting. And it has to be a continuous process because this is essentially what we are rebuilding. And we will rebuild is like the general financial arbitrage game that was built in the 90s on Wall Street, which I think we want to avoid a lot of the pathologies of. But I think there are real parallels here where I see mitigations as kind of exchange design and fairness proposals in that world that try to increase fairness by doing things like batching to try to reduce profit for HFT. And I think a lot of the analyses that people have there on fairness kind of apply to mev also. You can port them into this world. For example, batch auctions.
00:30:04.806 - 00:30:33.894, Speaker A: Like, you can analyze them to be more fair than limit order books. At the same time, there's very little data on how fair they are when they coexist with limit order books. And what arbitrage across them looks like the same way. Like fairness protocols. You can analyze them to be fair in isolation. It's much harder to analyze what they'll do in the real world or what they'll do when there's they're running for a while or as incentives change, as people get corrupted, as they get attacked, things like that. So that's kind of, I think, the work that really needs to be done.
00:30:33.894 - 00:30:37.060, Speaker A: And it's like multiple decades of research that need to go into that.
