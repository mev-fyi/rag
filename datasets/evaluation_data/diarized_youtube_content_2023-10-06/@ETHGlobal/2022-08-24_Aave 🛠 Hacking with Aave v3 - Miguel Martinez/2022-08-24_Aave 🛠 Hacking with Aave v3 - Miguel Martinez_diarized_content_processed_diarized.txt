00:00:06.730 - 00:00:23.440, Speaker A: Hi everyone. Thanks for coming. First of all, I want to give a huge shout out to the organizer of the event. This is really cool. Thanks for having me here. This is a real pleasure. I'm Miguel Martinez, solidity developer at Ave companies.
00:00:23.440 - 00:01:29.130, Speaker A: Yeah, I've been involved in the development of the third iteration of the Abbey protocol that was released a half a year ago. And this is why I'm here today for I'm going to give a great overview of the new features of the version three of the protocol, as well as giving you some really cool ideas to be on top of them. Also, I'm going to go through some of the developer resources that are available for you guys to create stunning things as soon as possible for the hackathon. So yeah, let's start. For those that don't know what Ave is or how Abe works, this is a quick 101 about the protocol. The users can come to the protocol with some crypto assets and supply them in order to earn some interest on it. They can also use them as collateral to borrow crypto assets so they will take out over collateralized loans.
00:01:29.130 - 00:02:33.860, Speaker A: Since these positions are over collateralized, the value of the collateral should be always higher than the value of the assets that they borrow. So users need to keep and maintain their positions. And if they don't do it, there is a third actor in place called liquidator that has the ability to pay someone's debt and claim some of the collateral at a discounted price. The interest that the suppliers are earning is based on the interest that the borrowers are paying for the loans. And the interest rate of the loans are calculated algorithmically. So this is why the abbey protocol is called an algorithmic lending market. There is around $12 billion of total value lock in all the net all the markets of the Aber protocol.
00:02:33.860 - 00:03:24.856, Speaker A: In the protocol, we have the concept of market, which is each deployment of the protocol on a specific network. So the previous iteration of the ARI protocol, the version two, was deployed on multiple networks like Ethereum, Polygon and Avalanche. But the third version was deployed on some other networks, like optimism, arbitrum, harmony, and also phantom. There is also some other, let's say, peculiar markets like for example, the real world assets. One powered by centrifuge and also the permissioned market, Abe arc, which is also powered by fireblocks, Shiba bank and securitize, among others. A little bit of alpha here. There is more markets coming soon.
00:03:24.856 - 00:04:07.780, Speaker A: So you want to get into know, just take a look to the governance forum. There is a lot of discussion there. So yeah. The AB three brings groundbreaking new features on top of the fundamental elements of the abbey protocol, like for example, eight tokens, stable rate, instant liquidity, credit delegation and so on and so forth. And there is three main areas of innovation, capital efficiency, risk and security, and also decentralization. So let's dig it into the capital efficiency. The first one, the big one, is portals.
00:04:07.780 - 00:05:42.400, Speaker A: Portals is in my opinion, one of the most interesting ones in terms of Ux, and also multichinature, since it gives the opportunity to the users to bridge assets from between chains in a simplest way. So while the previous iterations of the protocol were deployed on multiple networks with minimum tvl, the users had no way to move assets from one network to another in an easy way. They had to withdraw the assets from the market on the origin chain and then bridge these assets and finally supply the assets again in the destination market. With portals, users don't have to bridge their assets in their own, they don't need to unwind their positions, and they can bridge the a tokens with a tokens is what is called the assets that are provided to the protocol. They can bridge the a tokens from one network to another in a seamless way without losing a penny of a dollar on interest, all in one transaction. So portals is not a breach solution. To be clear, portals is a set of contracts that contains all the logic needed for supplying assets in a deferred manner by special entities, which are called ports.
00:05:42.400 - 00:07:04.590, Speaker A: A port is just any kind of entity that is whitelisted by the community, by the governance, as an authorized bridge that is able to move assets between chains. So let's say that a user wants to bridge eight tokens from Ethereum to Arbitrum. This port will take the a tokens from the user on Ethereum and will mint in an instant way freshly new a tokens on behalf of the user in the destination chain, in this case arbitrum. Now, the port should withdraw the a tokens from the origin chain, bridge the underlying from Ethereum to Arbitran, and finally backed the underlying tokens that backed the eight tokens that were minted previously in Arbitra. In this way, the protocol is completely solvent and backed at the end of the process. As you can see, this feature will bring a brand new wave of use cases on top of the protocol because it allows to breach assets in a seamless way. And we will see for sure protocols for cross chain borrowing or things like that.
00:07:04.590 - 00:08:08.364, Speaker A: This is efficiency mode. This allows to increase the collateral efficiency of the protocol, providing higher collateral factors to the users. This is possible when the user is supplying or borrowing assets that belongs to the same group of assets, also known as categories. What is a category? That's the question. A category is just a group of assets that shares the same nature or characteristics. We need to categorize the assets in groups, because there is a variety of assets listed in the protocol that has different characteristics, nature, or even price volatility. So, grouping the assets that have the same price correlation allows the protocol to minimize the risk, as well as provide higher collateral factors to the users.
00:08:08.364 - 00:08:47.868, Speaker A: So in this example, in this diagram, you will see three categories. We have the stablecoin category, also one for eth derivatives, and also another one for BTC. This is just an example. We could have different categories in the future and needs to be decided by the community for sure. Talking about the stable coins category here we have USDT, DAI, USDC. In some markets there is even the euro pairs here. And in this case, DaI is giving 75% of collateral factor, while USDC is giving 80% of collateral factor.
00:08:47.868 - 00:10:05.288, Speaker A: So that means that the user, when they use die or USDC as collateral, they can take out 75 or 80 die out of their 100 die or USDC. But if the user joins the stablecoin emote category, he can enjoy a maximized borrowing power and he will be able to get up to 97% of collateral factors. So the user can borrow up to 97 die from using their 100 die as collateral in this case. So this particularly interesting for use cases like high leverage tokenized position, or even high leverage farming positions. And this also allows to have a diversified risk management position. Since now the user can choose in which category want to play in terms of risk. On security, there is a bunch of new things that the governance can enact to keep the protocol a lot safer.
00:10:05.288 - 00:10:37.944, Speaker A: The first two is supply and borrow caps. These two are pretty easy to understand. They are limits that can be placed on individual tokens on the supply or the borrowing side. So the user can only supply or borrow up to a certain amount. This is very useful for mitigating attacks like oracle manipulation or infinite minting. In these cases, the attacker tries to trick the system in some way. Supply an alert amount of collateral in order to drain the liquidity.
00:10:37.944 - 00:11:30.168, Speaker A: So with these caps, the protocol can now limit this kind of attacks. These two measures come hand by hand together with the isolation mode. But the isolation mode is more interested when assets are getting listed in the protocol. When an asset is listed as isolated, you can only use this asset as collateral by itself. You will only be able to borrow stablecoins against it. Also, the isolated asset has a debt ceiling, so the user can only borrow up to a certain amount of stable coins using this isolated asset. As you can see, assets in isolated mode in isolation mode allows the protocol to isolate the risk and exposure to a certain asset.
00:11:30.168 - 00:12:58.210, Speaker A: And this is pretty powerful because it allows the community to list assets in a more secure way. So network assets can get listed in the protocol with maybe more conservative risk parameters to start out with and basically prove themselves as a viable candidate to get completely listed as collateral in the future. So I can imagine assets being listed as in isolation mode first, then going with some supply and borrow caps, and at the end none of these measures at all. Yeah, decentralization, the third version of the protocol comes with more fine grained permissioning and role system that gives more flexibility to the protocol. So first we have the risk admins. These are entities that are well listed by the protocol and the governance that has the ability to update the risk parameters of the listed tokens or assets of the protocol without the need of an onchain vote. So things like collateral factors, liquidation thresholds, or even interest rates are the things that can be updated by this role.
00:12:58.210 - 00:14:15.734, Speaker A: These entities could be maybe contributors of the avidao, like for example, Gauntlet, which is a contributor that has been pushing risk updates regularly for a long time, or even some kind of automated agent that pushes updates on the risk parameters. Given some metrics of the assets, this is maybe the case of the chainlink's proof of reserve technology. This is something that has been discussed in the community forum. The chainlink proofs of reserves technology allows to monitor and keep track of the reserves of those assets. That requires some level of over collateralization or things like that. So things like stable coins or bridge assets. So if the invariant doesn't hold, if these assets are not overcloudalized anymore, there could be an automated agent that keeps track of this event and updates their risk parameters accordingly, or even post the reserve of the protocol also listing admins.
00:14:15.734 - 00:15:13.544, Speaker A: This is just another entity of the system that has the ability to list new assets in the protocol. A part of the, let's say, canonical or regular way of listing new assets, and also the isolation mode. We could have new innovative ways of listing new assets. For example, we could have a permission listing or listing new assets based on a certain amount of tokens that are staked in the protocol. Just a way to backstop in case of a short fall event, for example. So this will bring new interesting strategies to list new assets in the protocol. Of course there is a bunch of more new features that came together with the version three of the protocol.
00:15:13.544 - 00:16:28.500, Speaker A: There is the introduction of the permit on all the functions of all the main functions and user facing functions of the protocol. This is a way to save gas, basically so the users don't need to approve before the actual action they want to perform. Also, the repayment with a token is pretty useful in the case the user supply and borrow the same asset so they don't need to flash loan and swap or swap with collateral and things like that. This is also pretty relevant these days because it allows to mitigate the risk of having assets or underlying being blocked in the contracts. Because now with this feature of repayment with a tokens, there is no need to retrieve the underlying assets from the pool. We could have secondary markets around the a tokens. So if some entity locks the underlying tokens that the pool is holding nowadays, it's not going to be an issue anymore.
00:16:28.500 - 00:17:15.140, Speaker A: There is also a simplify flash loan function. This comes with a 20% gas reduction. Pretty useful in case you want to take a flash loan of only one single asset. Also another entity called flash borrowers. Pretty relevant for those protocols that are using Abe flash loans in a day to day basis. And also a new set of smart contracts that allows having multiple rewards at the same time for the users. So now everything can provide incentives so the users can get more rewards using some kind of assets in the protocol.
00:17:15.140 - 00:18:00.926, Speaker A: And yeah, let's dig it now into the resources that you have available in case you're going to build stunning things on top of it. So just a bit of context. The pool contract is the main point of interaction in the Abbe protocol. It contains all the crucial and key functions. There is some principal functions like supply, borrow, withdraw, repay and things like that. And there is also secondary functions like for example liquidate plus loan, enabling emote, enabling an asset as collateral among others. So if you want to interact with the average protocol, you should take a look to this contract and start talking with it.
00:18:00.926 - 00:18:54.106, Speaker A: Basically, if you are writing smart contracts, I encourage you to take a look to these two NPM packages, the ave core v three and also the Ave periphery v three. If you want to talk with the pool contract you should use the core packets. And if you want to interact with the rewards with the treasury contracts with UI adapters, you should use the periphery one. There is also this QR code that links to the registry of NPM package. There is a lot of interesting packages there, just take a look. There is one for the Abbe token, also another one for the crosschain governance adapters. And yeah, there is also a very helpful and powerful package which is a JavaScript SDK.
00:18:54.106 - 00:20:06.556, Speaker A: So it contains a lot of contract helpers that allows you to interact with the protocol without the need of loading the contract Vi and all that work. There's also a really powerful tool which is called Ave sandbox. With this tool you can take any production market v two or v three and create a fork of it inside of a hardhat node. You can also faucet all the listed assets, so you can create complex positions and you can even connect the interface of the AVI protocol with this environment and just try yourself. How does it feel from the UI perspective? So please take a look if you want to create something really quick during these days. Now if you are more interested in the data, in the data and you want to fetch the live data. So what is currently going on in the Ave protocol right now you can use these couple of contracts.
00:20:06.556 - 00:20:55.920, Speaker A: These are contracts that can be used as data providers. They aggregate all the relevant information. In this case we have the Uipool data provider that contains all the relevant information for the pool and also for getting to know what is the state of a user position inside the pool. And also the UI incentives data provider that provides all the information regarding the incentives. So what's the distribution of the incentives, what are their addresses, the APY and things like that. There is also another package that allows you to format all data so you can apply the correct decimals to each thing. And I think it's also pretty useful and helpful.
00:20:55.920 - 00:22:05.972, Speaker A: And yeah, if you want to take and retrieve the historical data, you should use the subgraphs that are available. And yeah, you can just fetch the user transaction history or historical rates, or even the balances of a user of the pool at a specific block height. And yeah, that's pretty much all guys, these are the prices for the hackathon. Please be creative. There's a ton of things that you can create. I already gave some ideas of cool things that you can create, like for example, high leverage positions, diversified risk management, also automated agents for listing new assets, or for updating risk parameters, also protocols for cross chain borrowing for sure. So let's make your imagination fly.
00:22:05.972 - 00:23:31.548, Speaker A: A part of the things that you can build on top of b three, there is always a lot of things that you can create. For example on the governance side or just as an integrator in the governance side, there is a real need of tools, applications and even dashboards. Not only to enhance the governance process but also to increase the participation of the governance which is also always a really good thing for the protocol. And of course there is a lot of room to innovate in the case you are an integrator because you can create fixed term lending protocol or also under collateralized lending protocol or everything that came to your mind in terms of supplying or borrowing crypto assets. If these ideas are not enough, you can take a look to these pages. There is a call for hackers here. Also there is some interesting rockets for proposal on the Ave Grantsdao side and for sure the developer docs are pretty helpful for all of this and that's pretty much all guys, it's a real pleasure.
00:23:31.548 - 00:23:49.670, Speaker A: Thanks for coming. And if you have any question or you want to talk with us what's going on in the crypto ecosystem or what's going on on the abbey companies or the Abbe protocol, just reach us out. I will be around next to the lens booth and the abbey booth. Thanks a lot.
