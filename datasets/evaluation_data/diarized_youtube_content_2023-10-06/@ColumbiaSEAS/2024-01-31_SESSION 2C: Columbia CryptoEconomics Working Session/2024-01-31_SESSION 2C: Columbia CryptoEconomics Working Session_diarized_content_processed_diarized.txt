00:00:04.290 - 00:00:38.426, Speaker A: You okay? Great. We're running a little late, so I'll try and be omni fast. So I have the exact same slides as yesterday, but I want to try and give a different talk. I guess one thing I could do is try and give more motivation and context for a tester proposal separation and try and really zoom out. So three years ago go almost to the day we launched the beacon chain and been a great success. Right. We have almost a million validators.
00:00:38.426 - 00:01:16.854, Speaker A: We have $67 billion of economic security. But we've actually made a lot of mistakes in hindsight. And actually I gave a talk at Devconnect on beacon chain mistakes and it filled up a whole talk. There's a whole laundry list of mistakes. And I think part of the reason is because the design was finalized, roughly speaking, one year before the genesis of the beacon chain. So it's a design that's four years old and it's kind of normal to make mistakes. And during these four years, we also really discovered ways that we could improve the beacon chain.
00:01:16.854 - 00:02:13.534, Speaker A: Right. We have things like inclusion lists, we have enshrined PBS, we have single sub finality and a long list of gadgets. A few days ago, kind of somewhat organically, this new effort kind of came about to potentially have v two of the beacon chain and attesta proposal separation is potentially a key part of this new design of the beacon chain because it touches so many things and it's like potentially a radical simplification to many of the components of the beacon chain. And I guess I think there will be more information and some announcements maybe soon. But one of the things that we still are working on is a name. So we need a better name than Beacon chain 2.0 because the 2.0
00:02:13.534 - 00:03:09.722, Speaker A: name has been tainted. So that's some of the context on maybe some of the importance of potentially a tester proposed separation, despite it being a very simple and recent idea. So one of the things that I can do is just go through the slides real quick and open it up for questions at the end. So there's only really four slides. The first slide is just highlighting this gradual progression of unbundling and that maybe proposal attested separation is just the next natural step. And then the construction is really super easy. You have this ticket pool which has a target size, let's say size a million, and anyone at any point in time can buy tickets.
00:03:09.722 - 00:04:05.870, Speaker A: And the ticket price basically depends on the size of the pool, a little bit like an amm. So if there's more than a million tickets, then the price starts going higher and higher and higher. If there's less than a million tickets in the pool, then the price starts going lower and lower and lower. One of the things that you can do as well is you bought a ticket. If you want, at any point in time, you can sell your ticket back to the protocol for whatever the current price is. So that's kind of tickets coming in that are being bought, and then from all the tickets that have been bought and that are owned by future proposers, one of them is selected at random to be the next proposer. And so really we've created this new player in the ecosystem that's not too dissimilar to the builders and the searchers that are sophisticated.
00:04:05.870 - 00:04:55.554, Speaker A: So one of the things that we want to try and do, basically, is keep the validator set maximally decentralized. And because the role of the validator is kind of constrained to just attesting, then we're segregating away the more sophisticated stuff to sophisticated players. And it comes with various advantages around timing games, because if timing games require you to be very sophisticated as a proposer, well, that's good. Now, our testers don't necessarily need to play the same timing games. There's also advantages around rewards moving right. Today, there's an incentive for validator to enter a smoothing pool because of the spikiness of MMV. That's something that goes away.
00:04:55.554 - 00:06:08.890, Speaker A: And it also makes it easier to deal with decentralized liquid staking tokens. And then not only can we improve the decentralization of the validator set, but we can kind of lean more and more on the sophistication of the proposals. And this is where some of the simplifications come in. So, for example, secret leader election is not as required, because the main incentive today to DOS proposers is so that you can seal the MeV, right? So if your proposer at slot n plus one, you incentivize to ddos the proposal at slot n, because now the proposal n doesn't collect any of the MEV, and you kind of get twice your fair share of MEV. But if you're a sophisticated proposer, well, part of your stack will be anti denial of service infrastructure like cloudflare. And so it SSLE specifically becomes deprioritized. Another kind of similar aspect is enshrined PBS.
00:06:08.890 - 00:07:28.180, Speaker A: One of the key features of enshrined PBS is to protect untrusted proposers, unsophisticated and untrusted proposers to have guaranteed payments to themselves. But if I'm a sophisticated proposer, I can find other ways to get paid, I can start leveraging potentially reputation or other mechanisms like trusted enclaves or whatever it is, relays, I don't know. And then another kind of interesting recent trend I think is pre confirmation. There's this idea that users really shouldn't be waiting for the system block time, they shouldn't be waiting 12 seconds. There should be this user land block time, which is decoupled from the system block time, and the user land block time should be on the order of 100 milliseconds, because that's how much time it takes, roughly speaking, for light to go, information to traverse the world. But then kind of another kind of surprising outcome of this, and it's almost a byproduct that's kind of accidental. Very similar to EIP 1559, is that we get this MEV burn aspect for free.
00:07:28.180 - 00:08:29.030, Speaker A: So all the advantages, well, a lot of the advantages of MeV burn kind of immediately translate like we already have the rewards moving. That's an advantage of MeV brand. Another one, for example, is that if we enter a bull run and MeV goes to the moon, then there isn't this incentive for the validator set to balloon. And so from a macro perspective, we have much more control over the validator set than we have otherwise. It also means that we're not overpaying for security, we just have whatever number of validators we get from issuance alone, and that should be sufficient to secure Ethereum. And also it kind of helps having fewer validators, which makes things like single slot finality easier to pull off. This is the last slide that I showed tomorrow, specifically diving into proposer timing games.
00:08:29.030 - 00:09:40.266, Speaker A: So we're in this situation today, whereby there's some timing games that can be played, and today the timing games that are available to proposers are very, very low hanging fruit. We're talking about literally one line of code change in your code base. That's before doing the get header sleep, 2 seconds. That's a very easy way for proposers to just get way more mev. But what I expect will happen is that this low hanging fruit will be picked up in the next few months, and then we'll be left with the advanced timing games. And one question we can ask ourselves is, are the advanced timing games dangerous? Should we be worried about them specifically around proposing? And I think the answer is probably no, because advanced timing games are on the order of 120 milliseconds, and that's only 1% of your slot time. And so if you're missing more than 1% of slots by playing these games, then you're doing something wrong because whenever you miss a slot, you're going to lose 100% of the mev.
00:09:40.266 - 00:10:23.420, Speaker A: So that's going to compensate for all the gains that you've, the little gains that you've had over time. And then with redesigning of the incentives and playing around with parameters, it turns out that more likely than not, I think we can really make this negative externality of missed lots be, be just totally negligible. So, yeah, that's my last slide. We're going to have lunch very, very soon, but happy to take a few questions. Yes, this, yeah.
00:10:27.630 - 00:10:29.100, Speaker B: Maybe I can go for it.
00:10:35.570 - 00:11:09.100, Speaker C: All right, I'll jump in. Not a technical bit of feedback, but more semantic. I wouldn't try to give it a sexy name. We tried that and it just leads to confusion when the plan changes and it references a different basket of things. As tempting as it is to get people to align around, this idea of a set of cool things that we can do to make it more resilient or better in specific ways, ends up hurting you in the long term and making the community more confused when they're like, wait, I thought this was that, and now it's not.
00:11:10.110 - 00:11:11.900, Speaker A: Yeah. Suggestions welcome.
00:11:15.790 - 00:11:50.280, Speaker B: I've been thinking about lotteries for different purposes, but I guess one of the issues you have is the first person to buy the tickets will probably win, will probably dominate. You basically prevent anybody else from joining the lottery if you buy all the lottery tickets up until it's, I guess, rational to buy lottery tickets again. So is there going to be timing games in the purchasing of lottery tickets or how do you sort of like, do you, do you mind centralization in the lottery ticket, in the proposers or are you going to maybe try and maybe do some sort of a geo whatever, geolocation thing?
00:11:51.130 - 00:11:56.626, Speaker A: Okay, so I guess what you're saying is that there's like a race condition on who can buy the tickets first. Sorry.
00:11:56.668 - 00:11:57.900, Speaker B: Yeah, that's the main question.
00:11:58.990 - 00:12:16.400, Speaker A: Yeah, there's Mev. Right. The price is too low then. Yeah, I'd say that's one of the reasons for having a very large bid pool and a million tickets is roughly 4.5 months. So you're really looking 4.5 months into the future.
00:12:16.400 - 00:12:56.922, Speaker A: So that's one thing you're pushing into the future. And so it's kind of more difficult to have these big macro changes over small periods of time. I guess another thing is that when you have a very big list, then the incremental price of the Amm can go up very slowly. So you're only buying a few tickets. I mean, another thing you could do is you could limit the number of tickets that can be bought in any slot. So you can only buy 16 tickets per slot. And because of the rotation of the proposers, more people have access.
00:12:56.922 - 00:13:40.060, Speaker A: And by the way, I should clarify this. There's two types of proposals, so we're not completely getting rid of the beacon proposes. The beacon proposals are still valuable for inclusion lists, they're still valuable for building beacon blocks and aggregating BLS signatures. They're also maintaining the randomness and they're also participating in finality. So there's beacon block proposals, and maybe they should be the ones that have the right to buy tickets. And if we limit the number of tickets they can buy per slot, and the incremental price change is minuscule, and we're talking about something 4.5 months in the future, then it might not be a problem.
00:13:41.310 - 00:13:57.290, Speaker D: Are you nervous about any unintended, sorry about that. About any unintended financialization that will happen on top of these lotteries? I don't know if there's an anticipation of say like liquid staking or restaking when staking was designed.
00:13:57.450 - 00:14:50.190, Speaker A: Yeah, in a way, I'm kind of excited about the financialization in some sense. We're going to have an MEV oracle, or at least we're going to have MEV futures Oracle. That's on chain. And that means you can start having derivatives based on MEV, and you might even have deliverable derivatives. You can buy up a lot of slots and then kind of guarantee that with reasonable probability you're going to be able to include a transaction within this time range. Another aspect of financialization which is kind of interesting is the enshrined lottery aspect. So what could happen is that a lot of unsophisticated ticket buyers will come in just because they want to gamble.
00:14:50.190 - 00:15:13.670, Speaker A: And what could happen is that they're willing to pay a premium over the expected amount of maybe just like when you buy a lottery ticket, you're paying a huge premium, but they might won't be willing to pay, let's say, a five or 10% premium. And that could actually mean that the whole 1000 slots are kind of dominated by DJ, as opposed to being dominated by rational hedge funds.
00:15:16.570 - 00:15:34.480, Speaker E: Question on the lottery structure, you seem to imagine a constant number of tickets and then controlling the pricing to sort of guarantee that. Why that model, as opposed to, let's say just having a constant price per ticket and having a variable quantity, and you get selected in proportion to the number of tickets you own out of whatever the total is.
00:15:35.010 - 00:16:18.780, Speaker A: Right? So if you have an unbounded number of tickets, then now suddenly, and you have this fixed price, now suddenly the amount that you burn per slot doesn't reflect the value of the block. So I guess there's two downside. What if we overpriced it? Let's say it cost 0.1 e to buy a ticket, but now there's only 0.9 e to be had then now no one will start buying these slots. And then on the flip side, if you underprice it, then now your burn efficiency is going to go way down.
00:16:19.790 - 00:16:29.310, Speaker E: But if the probability of being selected is proportional to the total number of tickets, like if you underprice it, the number of tickets will scale up and the value will.
00:16:29.380 - 00:17:06.860, Speaker A: Yeah. So just intuitively, I expect what will happen is that people will be paying with the opportunity cost of money. Like they'll just be buying lots of tickets and just locking all this ETH and paying for opportunity cost. But this opportunity cost will not be captured by the ETH holders. I guess maybe it will indirectly because you're improving the scarcity of EF. Like, there will be a lot of locked EF, but you can achieve the same thing with this amm design. But to be fair, the auction piece is you can blackbox it and then modulize it, and would be great to try and find better designs for sure.
00:17:08.750 - 00:17:34.100, Speaker F: I got a quick question. Name suggestion just in time, I think would be quite a funny. More seriously, how does this imply the, what are the implications for inclusion lists in the sense that you're going to have proposals that are more specialized. So the games that sort of barnamy was getting at that seem maybe convoluted now. They probably seem much more likely. How do you see that?
00:17:34.410 - 00:18:17.220, Speaker A: Right, so one of the massive simplifications of this beacon chain 2.0 temporary name thing is that inclusion lists are massively simplified. So all the complications around summaries and all of that kind of go away once you have these two proposals. Beacon proposes and execution proposes. And the reason is that it's a two step process, kind of TikTok thing. So the ticks are going to be, Beacon proposes that come with an inclusion list, and then the talk is going to be an execution proposer. And because there's a delay between the two as opposed to being sandwiched together.
00:18:17.220 - 00:19:04.450, Speaker A: Now the free data availability problem is trivial to solve because the builder now can just make sure that the inclusion list, so the inclusion list can go on chain, doesn't have to be gossiped off chain, and then the builder can just make sure to be compliant with that list. And then another cool thing is that the entangling that Barnabert was talking about, I think kind of maybe weakens a little bit because. Yeah, I don't know. I need to think about it more, but it feels like I need to think about it. But it's possible entangling also is improved.
00:19:05.990 - 00:19:16.398, Speaker G: The point of clarification, does owning a ticket is each ticket for a specific slot, or if you just own a ticket, it means you're part of the broader pool that can be picked for the next slot.
00:19:16.494 - 00:20:18.970, Speaker A: Yeah, great question. So in my opinion, it's quite important that the ticket is not for a specific slot. And the reason is that if it's for a specific slot, then you can try and buy out, let's say, 100 consecutive tickets. And that's potentially bad, because if assuming that the inclusion list mechanism, for whatever reason doesn't work, then you can start censoring oracles and then manipulating markets. And so the fact that you have this random selection of the execution proposals is kind of a defense in depth mechanism to make sure that you can't have many slots in a row. One thing that some people here are concerned about, and I think it's something we need to try and understand better, is what is the value of multi block mev? Because here, more likely than not, it will be much, much easier to have a higher probability of having multiple blocks in a row. Just buy many of these slots and they're fairly cheap, as opposed to having to put forward 32 e per validator and basically 32 e per ticket.
00:20:18.970 - 00:20:52.740, Speaker A: My hope is that with all the fancy technology like encrypted mempools, like block maximization, like inclusion list and inclusion list maximization, and also the fact that MEV is going to zero. As we know from yesterday, these multi block MEV issues will be resolved. But it's a good question. One more question.
00:20:56.570 - 00:21:15.690, Speaker H: What do you think is the effect of a tester proposal separation on the current liquid staking solution than there are? And do you think there is going to be vertical integration in that sort of sense, where a liquid staking pool given is going to provide also this service to the same users?
00:21:16.110 - 00:22:41.590, Speaker A: Right. So I think this rug pooling in the bottom left point, which is that I think it's going to be much, much simpler to build trustless liquid staking tokens, things like rocket pool. One of the biggest weaknesses of rocket pool, and I'm actually very surprised that hasn't been exploited yet, is just show up as an operator, get a lot of eth stake to you, and then whenever you get MEv, which is greater than your collateral, than your eight e collateral, you just take the MEV and forego the collateral. And actually, right now, rocket pool is kind of really bad at detecting that MEV has been stolen. So even if you steal the MEV, you can also get your collateral, more likely than not as well as this. I think that it's a great simplification now in terms of could the really sophisticated LST players start playing this game? I think the answer is, well, yes, they can, but I think it doesn't make sense rationally for them to do it. I think in the best case for them, this is a highly competitive game that's dominated by these hedge funds and they're buying these slot futures and the profit margins are going to be absolutely minimal.
00:22:41.590 - 00:23:13.550, Speaker A: I think in the worst case for them, because of the lottery aspect, you actually start losing money if you start buying these tickets because of the uninformed flow. And so the LSTs just wouldn't participate. I mean, you could also ask, why doesn't Lido do block building or searching? You could start doing these things, but they're in the business of attesting.
00:23:13.890 - 00:24:00.030, Speaker I: So I guess. Jason yesterday spoke about smoothing commitments. We're going to have a session which is similar to this, but it's more out of protocol. So later we're going to talk about this. But one thing I wanted to also highlight on the advantage of this, if we do it in an auction way, if, let's say on the social layer, somebody knows that there is like a DJIN NFT project going to go very mad and have massive size of blocks, that same DJIn protocol can go, oh, I want to buy thousands of these tickets because I want to extract the value back to myself. But then if you auction them, then everybody is going to see their signal and then ultimately through the EIP 1559, similar thing, we're going to be able to hold that off in a way. So just a defensibility for auction.
00:24:03.810 - 00:24:06.080, Speaker A: Cool. Lunchtime. Thank you, guys.
