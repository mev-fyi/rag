00:00:00.240 - 00:00:03.470, Speaker A: So, how should we get started? Hase, do you want to do a quick intro?
00:00:03.622 - 00:00:24.318, Speaker B: Yeah, sure. I mean, the production value on this conference so far has been amazing. I hope you're all enjoying it. We are certainly very excited to speak to you today. I can give a quick intro about myself. I'm Hasu. I do strategy at flashbots, among a couple other things, mainly in my capacity at flashbots.
00:00:24.318 - 00:00:37.404, Speaker B: I've gotten it because I've been thinking about, you know, block space market design, and MeV in public blockchains for a couple of years. And, yeah, this has really brought us here today. Steph, can you introduce yourself?
00:00:38.144 - 00:01:02.750, Speaker A: Yes. Ok, I'm Stephan. Yeah. Recently de anonymized, so I went from a face reveal yesterday to speaking in front of 2000 people today. So it's zero to 100 very quickly. But it's a pleasure to see all of you here. Yeah, so, Flashbots is a company that was started about a year and a half ago, and it focuses on research and development around MeV.
00:01:02.750 - 00:01:35.824, Speaker A: We built a few products that help Ethereum handle all the throughput of bot operators that have emerged over the last couple of years. And we've sort of seen this massive wave of growth in the amount of activity, doing statistical arbitrage, doing atomic arbitrage, doing things like NFT, sniping. And so, flashbots is a company that has built a lot of products that help systems like Ethereum scale and handle the load that comes with MeV.
00:01:37.124 - 00:01:43.064, Speaker B: Stefan, let's get everyone in the room on the same page first. So what is Mev?
00:01:43.724 - 00:02:56.460, Speaker A: Ok, let's maybe try something. Let's do a show of hands here. Who is familiar with Mev and the definition of MeV? Can you put your hand up? Ok, who has been sandwiched before? Can you put your hand up? Who has made a trade on uniswap before? Can you put your hand up? Everyone who put their hand up for the second question and not the first question, is going to learn a lot today on this panel, because if you made a swap on Uniswap, you've definitely been sandwiched before. So what is Mev? Mev is formerly known as minor extractable value, or maximal extractable value. It's, in summary, all the value that an actor with privileged access to a network like Ethereum can extract from doing things like ordering censorship, or insertion of transactions in a block. How does MeV actually get expressed today? It ends up looking like this. Arbitrage opportunity, liquidations on chain, a lot of the activity around new token launches and NFT launches that end up taking networks down.
00:02:56.460 - 00:02:59.624, Speaker A: All of that could really be described as being MeV.
00:03:00.804 - 00:03:06.104, Speaker B: And is MeV something that is unique to crypto, or does it exist in the traditional financial system as well?
00:03:07.054 - 00:04:16.392, Speaker A: So I think this is where sort of, we can get into a nuanced conversation. And hasa, I'd be curious to hear you draw parallels here and talk a bit about payment for order flow. So, one way that I think about MeV, it's sort of the value, the emergent value, that comes from having users generate transactions that are tied to some economic activity. So, in traditional finance, if you look at exchanges, if you look at the Robin Hood model, the transactions that get sent by the users have some information content in it. And that information is only valuable to entities like hedge funds or market makers, who know how to make the most of that value, who are able to separate out the signal from the noise and the transactions that are coming in and use them for executing trades. I would say that that's MeV in the traditional finance sense, that you have an actor, like a market maker, who is in a privileged position to see transactions and operate on top of them and extract some value. How do you see payment for order flow relating to traditional finance and crypto?
00:04:16.568 - 00:05:03.980, Speaker B: Well, I think you're spot on. I think Mev could also be reframed as the value of information. And if you're getting certain information faster, or have the ability to sort of interact with it in privileged ways, then this gives you the ability to benefit from that in a financial way. And as you laid out, one example of this would be payment for order flow. And another one that probably would also be equally familiar is that of co location slots at major exchanges. So there's this whole industry that has sprung up around just getting information faster from exchanges and getting your trades to the exchanges faster, which is the. The whole high frequency trading industry.
00:05:03.980 - 00:05:36.064, Speaker B: And you can virtually think of every dollar that is extracted via high frequency trading as a form of MEV. And there have been attempts at sort of restructuring the way that exchanges work in order to remove this. But ultimately, it seems that the exchanges make so much money from selling these co location slots that it would really cut into their bottom line to switch to a different exchange format.
00:05:37.604 - 00:06:15.224, Speaker A: Something I find absolutely insane about the space that MEV is, and crypto in general is just the size of the opportunity. So if you look even just a year and a half ago, two years ago, MEV was not really talked about, and by any sort of sense of metric and estimates that flashbots has made the MEV industry is almost already bigger than the HFT industry in terms of just fees and margin taken by the actors in the bot operator space. The fact that this has emerged in such a short amount of time, I think, is a testament to the speed of innovation that takes place on these platform relative to the ones in the traditional financial system.
00:06:16.484 - 00:07:02.794, Speaker B: So we were in a position, as you say, where basically MeV was completely unknown and non existent. And that was mainly the reason why. That was mainly that there was not much financial activity on Ethereum. So Mev, you could say, is a function of just performing some kind of financial transactions, be it trading on decentralized exchanges, or borrowing, or lending on lending markets and so on. So then all of a sudden, MeV enters the scene. So in what sense has it changed Ethereum? And how did sort of users and application developers and protocol developers feel the impact of that?
00:07:04.014 - 00:08:04.224, Speaker A: Yeah, so actually we have a slide up here. Let's see if we can switch to it. All right, so we're studying a bit how the MEV landscape in the MEV industry is evolving over time, and we've put together sort of the same simple mental model to think through. What does the future of MeV look like? You mentioned how does MEV impact how the user operates? Well, it used to be that when you're performing a transaction on Uniswap, you just sign a transaction, you send it to the transaction pool, it gets picked up by a miner, and then the miner includes a block, and happy days, you got your swap settled very rapidly. We're seeing the MEV industry become much more industrialized, where transactions are no longer necessarily directly routed to a public transaction pool. But instead of being routed through sort of a network of intermediaries that add value to that transaction. So you could call this a supply chain, you could also call this a value chain.
00:08:04.224 - 00:08:36.054, Speaker A: So the user really wants to express an intent. An intent like swapping an asset for another asset. They'll use some kind of front end or a wallet to encode that into a transaction. The wallet. And this is sort of the new part that flashbots has introduced. The wallet will then communicate directly with some searchers, either through a transaction pool or through some private routing system, to augment the transaction with additional transaction that can capture the MeV that the transaction created. We call this a bundle.
00:08:36.054 - 00:10:14.872, Speaker A: Then the bundle still needs to be included in a block. So this initial product that we launched called Mevgeth on top of Ethereum, it was really focused on this relationship between searchers and miners introduced the concept of a bundle, the ability for these third parties to perform the MeV extraction and communicate those preferences with miners using sort of an auction system that sort of took off and overnight, maybe a couple months after we published the open source software for it, over 80% of the miners on Ethereum are running this software and producing about 60% of the blocks using the software. So this sort of new abstraction for how the transactions get included caught on really quickly. The new part that now we're looking to introduce to Ethereum is the separation between builders and validators. So the builder role is really the role of taking and aggregating all the transactions from different sources and putting them into a block, and then the validator role is just the role of publishing that block to the network and then validating all of the other blocks that are produced by the network. With the upcoming merge and the transition to proof of stake for Ethereum, we're introducing something called mevboost, which allows for validators to completely outsource block construction to a network of builders. So an open market for block construction where anyone can aggregate, transaction and compete on who can produce the most valuable blockchain buyer estimate, this means that we'll be able to boost the revenues that staker makes significantly.
00:10:14.872 - 00:10:25.244, Speaker A: So about 70% of staker revenues after the proof of stake merge are expected to come from a system like this that's able to extract meV.
00:10:26.464 - 00:10:26.840, Speaker B: Yeah.
00:10:26.872 - 00:10:42.284, Speaker A: So this is sort of a framework for thinking of the industry. I think flashbots fits very neatly in this framework and the tooling that we've built. But there are many other applications that are also looking to play with MEV at different layers of the supply chain.
00:10:44.304 - 00:12:36.354, Speaker B: So, yeah, we could also, we could go take another step back and say, so what was even the thinking that went into our first product, which was MafgAf? So we previously said that users make transactions on ethereum, and these transactions, they have what you could see as like an attack surface, right? They sort of expose a financial value that anyone who interacts with the transaction in a specific way could harvest. And this creates this whole industry sort of around front running and back running and sandwich attacks that sort of spawned and initially played out in ethereum's public memory pool, sort of the waiting room for transactions. And to give a concrete example, sort of how that negatively affected ethereum is, the miners used to run a very simple algorithm in order to determine what transactions go into their block, just sort them by the gas price. And so the only way that the searchers could communicate that they want to place their transaction right behind a target user. Transaction was basically to pay a very slightly higher gas price, and then get the transaction to the miner as fast as possible. So they would include it first, and then throw out any follow up transactions that they would get. And so you can see this is very problematic, because it already incentivizes sort of this latency game that we see in traditional finance, where it's all about speed, and we know that ultimately it is all about co location with large miners and mining pools.
00:12:36.354 - 00:13:18.994, Speaker B: And so this is really where flashbots stepped in. And the fundamental change that flashbots introduced is separating transaction placement from transaction price. So searchers were able to say exactly where their transaction should go and what it should do, and then, independently of that, bid on how much that transaction is worth to them. And now, all of a sudden, sort of, they were competing on price, which drove up minor revenue. And it completely removed this incentive for spamming the network with many transactions that most of the time, fail to compete on latency and to vertically integrate.
00:13:20.634 - 00:13:54.510, Speaker A: Yeah, that's right. I think the title of this fireside chat was why you can't afford to ignore MeV. And it's been fascinating over the course of the last year. See what happened to other blockchains that may not have introduced a similar system to flashbots for auctioning off Mev. Right. You mentioned this is sort of a game. You can think of MeV as being a game where you have these autonomous parties, these searchers, or these bots, that are finding ways to play the game in the most effective way.
00:13:54.510 - 00:14:18.134, Speaker A: And if the game is not designed to be compatible with the objective of the chain, then you can have outcomes like having spam, like having reorgs, like having co location advantages. And introducing this change, I think, is fascinating. I'm wondering, Hasu, do you have examples of other chains and how MeV has impacted them from not having a system like this?
00:14:19.314 - 00:15:06.434, Speaker B: Yeah, great question. I mean, I think, for one, a good example that we have seen in practice is like chains that have very low latency and very cheap transaction fees. What you often see is that entire blocks basically get filled only with failed transactions. We also can see sort of examples where there's no public memory pool, for example, and then there's really the incentive to co locate with a validator in order to even see the transactions. And in this situation, only the validator themselves can insert the transaction. So. So it's not even the searcher.
00:15:06.434 - 00:15:42.504, Speaker B: So you don't even have sort of that division of labor in between. And I mean, what we have seen this does is it really centralizes these different actors in the supply chain. So I would be curious to hear from you what is really, what is like, the underlying reason why we are worried about centralization in the supply chain. In what sense change do the underlying guarantees that we want out of public blockchains deteriorate if instead of, let's say, 100 minus, you all of a sudden have like one or two?
00:15:43.964 - 00:16:39.418, Speaker A: Yeah, this is, this is tricky, right? You mentioned validators and colocation. I think something that we've seen on other proof of stake chains is validators starting to sell colocation services. And there's sort of a huge advantage in the value that they're able to generate from this, from this co location. And so as the value that these validators are able to aggregate over time increases, they control more and more of the network. That's definitely been the case in some chains where we've seen actually bot operators take the consensus of the chain in a direction that was to their advantage to be able to extract more value and censor other validators from being able to produce blocks. I think that's a very clear negative impact of having some centralization at the validator level due to MEV. But ultimately, I think centralization can emerge at multiple different layers of the supply chain.
00:16:39.418 - 00:17:27.524, Speaker A: Right? If you have better order flow, if you are a wallet that produces all of the transactions in the system, you also have the ability to extract an outsized amount of MEV relative to everyone else in the system. If you're a builder that's able to have more optimal merging algorithms than everyone else, you can then potentially vertically integrate up and down and extract value in this way. So one way to think about the supply chain is through a competition policy lens. And what is a healthy supply chain? What is a healthy market? It's one in which each layer of, of the chain are highly competitive and modular, as opposed to one where they are highly vertically integrated.
00:17:28.464 - 00:17:36.644, Speaker B: Let me ask you a very naive question, but we nonetheless get a lot of the time, why don't we just get rid of MeV?
00:17:37.704 - 00:18:54.134, Speaker A: Why don't we just get rid of MeV? I think we have a fun brain teaser, which is maybe a principle called the conservation of MeV, the law of the conservation of MeV, that any MEV that exists and can be extracted, will be extracted. The question is just what are the externalities of that extraction mechanism? Is it going to be spam? Is it going to be what we saw on Solana at some point that the entire chain was brought down by arbitrage bots, that their extraction strategy was to spam the network, or even for NFT launches. The optimal strategy for capturing first come, first serve NFT launches, or even sort of pooled NFT launches, is to perform sort of spam. So a lot of the techniques that try to avoid MEV or eliminate MEV aren't dealing with the underlying problem, which is the transactions have value. The transactions that the user generates have value that can be extracted by some party. Really, in my opinion, the only way to deal with that is to find a way to return that value to the user or create some fair marketplace, some fair and open marketplace for competitive behavior to return value to the users.
00:18:55.754 - 00:19:14.814, Speaker B: Okay, so, but in the present day, no value is really returned to the user, right? Like, we see users only suffering financial loss from the existence of MeV. What could a potential future look like that's different from that where the value actually accrues back to the user?
00:19:15.474 - 00:19:55.908, Speaker A: I don't know that there's no value that returns to the user in the way that, for example, MeV Geth works today on Ethereum. And the way Mavboost works on Ethereum, it maximizes the value that stakers get from producing blocks. And so in a way, you can see MeV as a subsidy on the security of the network that it's operating on. Um, that's still a subsidy that the user ends up paying. Right. So the user is not only just paying for the gas of their transaction, in this case, they're also paying for the MEV, which goes towards paying for the block space. Is there a future in which the user can instead capture the MeV directly? I think so.
00:19:55.908 - 00:20:35.524, Speaker A: Right. We've seen these RFQ systems that aggregate transaction flow from multiple different aggregate transaction flow, and then also route it to market makers directly who are able to quote better prices than the DeXs necessarily would be able to quote themselves. That, I think, is an example of optimizing for trade execution in a way that returns value to the user. And I expect over time there will be more generic approaches to this. I could definitely see a future in which users are paid to transact on a chain rather than having to pay to transact. And the question is, how quickly do we get there?
00:20:36.264 - 00:21:51.444, Speaker B: This is one of my favorite brain teasers as well, because even the existence of sandwich attacks, which it's very obvious to see how this takes money away from the user. But the point is, some money is extracted by the searcher, but most of it goes to the miner via competition on price. And so this is money that the user pays to have their transaction included. And really the main problem is not the sandwich attack, but it is that the user isn't aware of the sort of the MEV surface of their transaction and doesn't factor it into the price that they pay to transact. So it's like they are paying a hidden fee that they don't consider on chain. And I think the example you gave about the RFQ system, this is actually a way for it to get priced in, into the transaction of the user in a very natural way. Because if a market maker can sort of internalize the flow of that user, then in a sense they do get paid, right? And they can in a sense pay that money back by paying the transaction fee fee for the user.
00:21:51.444 - 00:22:05.224, Speaker B: So it actually ends competition between these different sort of off chain market makers. For example, you end up with a situation where the information value of the user's transaction actually does get priced. So that maybe is a fun example.
00:22:06.284 - 00:22:45.704, Speaker A: Yeah, I think so. I have a question for you. So MeV is sort of a new industry. It's been around for a year and a half, but already, like bot operators, for example, just on Ethereum and atomic arbitrage have made like a billion dollars in 2021 on trading activity. If you take in other chains, you can easily see that the MEV industry is already ten x that size. I think there's a lot of people in the room here who are thinking like, wow, this is big. Maybe this is something I don't necessarily understand, where are sort of the opportunities and areas of focus that, that people should keep an eye on and think about.
00:22:46.884 - 00:23:41.546, Speaker B: Yeah, that's a great question. I mean, I think first of all, MEV primarily goes to the producers of block space and on Ethereum, that is primarily ETH holders. So I think if you're an ETH holder, then you already sort of most of the MEV that exists financially accrues to you. But it's also like relevant. I mean, we said you can no longer ignore me. And we think that this really applies to every participant in the stack. So if you're an application developer, then MeV applies to you in the sense like for one, you can use searches as like the piping of the decentralized financial system, right? So for example, decentralized lending markets rely on basically collateral being liquidated to recapitalize underwater markets.
00:23:41.546 - 00:24:23.014, Speaker B: Decentralized exchanges rely on arbitrage in order to keep their price in line with the rest of the market. So it's not like MEV is all bad here, but very often bad application design exposes your users to larger transaction costs than would otherwise be necessary. As an application developer, it is really important to be aware that MEV exists, and you should factor it into the way that you build your application from day one so you can really give the best experience to your user. Let's maybe think about it from the perspective of the app developer. Do you have any. Sorry. Of the wallet developer.
00:24:23.014 - 00:24:30.594, Speaker B: So if you have a wallet, Stefan, how do you think about MeV? What do you think wallets should be thinking about?
00:24:31.454 - 00:25:51.674, Speaker A: All right, so Flashbots has a product called Flashbots Protect, right? And what it does, it provides an RPC much similar to all the other rpcs that people use. But this one is different in that the transactions are routed directly to miners on Ethereum, and so aren't sort of vulnerable to being attacked or exploited. For Mev, I think as a wallet, what you should be thinking about is, okay, I see that the transaction we produce and the users produce generates a lot of value that the wallet isn't capturing and that the users aren't capturing. So how can I make sure that this value can be returned back to us to continue funding the wallet, and then also to the users to help attract and maybe reduce user acquisition costs? I think we're going to see the emergence of a lot of systems that are going to help produce that value. And really what I would encourage wallets to think about is avoiding an outcome where this system ends up being more centralized. You could easily see wallets start to sell order flow to searchers and say, I will route all of my order flow to you. In exchange, we're going to split the revenue that is going to be generated from the order flow 50 50.
00:25:51.674 - 00:26:20.814, Speaker A: This is kind of the Robinhood model. Robinhood selling order flow to Citadel. There's some contractual agreement that says we route the order flow and you're going to pay us some amount for it over time. I would encourage thinking outside of the box and thinking, is there a more decentralized way of doing this, more permissionless ways of doing this that doesn't require handshake agreements between bot operators and wallets, and instead leverages an open marketplace that can be freely entered?
00:26:22.234 - 00:27:03.194, Speaker B: Yeah. So we talked about what you have to think about as a protocol developer. Don't try to say that MEV doesn't exist. If it does exist, the law of MEV conservation says will be extracted. And if you use an inefficient format for that extraction. The result is very negative externalities for your blockchain that would ultimately degrade the user experience and centralize it in the long term. And you're missing on all of the revenue that you could get for your validators and miners by running an efficient MEV option.
00:27:03.194 - 00:27:17.234, Speaker B: We talked about application design, we talked about wallet design, and we talked about sort of the investment case. Do you think, steph, that we are missing anything?
00:27:18.894 - 00:28:05.474, Speaker A: I mean, one thing about MeV that I think is going to be particularly relevant in the coming years as we enter sort of a more dull phase of the market is like MEV is the fundamental working block that makes a lot of blockchains tick. It exists whether you're in a bull market or a bear market. It is very uncorrelated. And for as long as there's economic activity on top of blockchains, there's going to be MeV. So the encouragement is really to think about how you can build new things with this, how thinking deeply about the problems that MEV raises will help you resolve some of the questions of where does the industry move to in the next few years and stay ahead of the curve in the development of these systems.
00:28:07.614 - 00:28:22.718, Speaker B: Fantastic. Yeah, that's a good final words. According to my clock, we are also coming to an end. So, yeah, I would thank you for the great discussion and to the audience. Thanks for listening.
00:28:22.886 - 00:28:24.454, Speaker A: All right, thank you, everyone, for listening.
