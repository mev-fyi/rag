00:00:06.880 - 00:00:24.038, Speaker A: So welcome back to the second part. Thanks to Stephen. You have done a great job in stimulating discussions over the COVID break. I certainly learned a lot about why three things, why AC DC? So lots of good discussions. So I guess you continue both. Okay, great, thanks. So just recap.
00:00:24.038 - 00:01:07.132, Speaker A: So we are interested in this three phase ac system and the three concepts, key ideas that allow us to do perfect analysis. That's the bottom line. All right, so I'll go through the device models and then use that to model the net. Okay, sorry. Okay, so, and then we use that to model the network and the power flow equations. Then we can do the math that we usually see in research papers. Okay, so I will try to go through this quickly, and if we don't have enough time, I'm going to skip some.
00:01:07.132 - 00:01:28.556, Speaker A: Some parts of that. So, transmission line. So these are the important devices, and there are more devices, but transmission line one that proposes. So what we would like is eventually get to this circuit model, a transmission line. So this is a standard model for transmission circle model for transmission line. It's called a PI model. So this looks like a PI.
00:01:28.556 - 00:02:07.136, Speaker A: So there's a series impedance. That's the shunt emittance on each end. What this represents is the terminal behavior, the relationship between the sending end voltage and current, and receiving end voltage and current. So you should think about, you have a generator here to try to transmit power through a transmission line. Eventually, the power would arrive at the low, so you connect the load. So typically, you specify how much power you need at the load and at what voltage level. So you specify v two, for example, the power.
00:02:07.136 - 00:02:47.284, Speaker A: If you specify the complex power, you also specify I two. So think of, we know v two, I two, and we want to design what will be the voltage and the current that we require to supply that kind of load. And therefore, we need a map that maps the receiving end variables to the sending and variables. So this will be a circuit model for the transmission line. The next ten minutes or so, I'll just go through how do we derive this? So it certainly depends on the material of the line, the size of the line, how we arrange the line, for example. Uh, and then. And then, uh, get to this.
00:02:47.284 - 00:03:34.174, Speaker A: And then some implications of such a model. For example. Okay, so, uh, think of we have, say, three wires, three conductors that coming out of the board, right? So the current flows, these electromagnetic effects, the, um, total flux linkage. Uh, for, if there's only one line is related to the currents in the line, it's proportional current. And this proportionality constant is what we call inductance. If we have multiple lines, then the total flux linkage corresponding to this line, case line that would define the characteristics of this line is given by this expression. So, never mind the detail.
00:03:34.174 - 00:04:15.152, Speaker A: What it breaks down is that there is a factor that depends on the current in the case conductor. And then there are a bunch of electromagnetic effects due to currents at the other conductors. And the dependence is the first, self inductance depends on the radius of this conductor. So there's r prime, which is radius times a factor. Think of that as one. And then the mutual inductance from other conductors carrying current depends on the distance between the centers of these two conductors. So that's that.
00:04:15.152 - 00:05:11.124, Speaker A: Now, if we carefully design how we build these lines, for example, if we use the same material for each of the three, if they have the same radius, if the distance are the same, the separations between each pair is the same. Then that expression boils down to this. Now, what is nice about this is that the faces are decoupled, that the total flux linkages in phase a, meaning, say this line, depends only on occurrence in phase a. It's not that there's no mutual interactions among those wires. They are. But because of this symmetry, the interesting reduce boils down to this very simple term law of d, which is the same for all phases. And therefore it is as if the faces decouple.
00:05:11.124 - 00:06:12.844, Speaker A: So that's the point. Now, there's one key assumption in this derivation, which is, if you look at the current, so this direction, some of them are positives on the negatives, and so on the currents across the conductance, the sum is zero at all time. And therefore, if, let's say, the power that you, the wires that you use to carry the power to the low and return follow the same path, for example, then this is satisfied, and therefore we have decoupled phases. So again, that allows us to do per phase analysis. Similarly, if you look at the capacitance of each line, which is defined to be so, the charge is proportional to the voltage, and that constant is the capacitance. We work out the physics. Again, it boils down to the voltage depends not only on the charge in the case conductor, it also depends on charges at the other conductors.
00:06:12.844 - 00:07:03.740, Speaker A: And that dependence is in terms of the distance between the conductors. And again, if you carefully design your wire like we did before, and under the assumption that the charges all sum to zero, then the phases decouple. So the voltage in a case conductor depends only on the charge in a case conductor. And therefore, the mutual interaction has a very simple structure. They're all the same. Okay, so this defines, so, in summary, if we have this balanced three phase line, then the phases are decoupled under. Those assumptions are reasonable, right? The return path follow the same as the forward path, for example.
00:07:03.740 - 00:07:55.454, Speaker A: Then the line is characterized by this series impedance, where l is what we saw before the inductance per meter. C is the capacitance per meter. And there's this thing due to resistance or conductance that depends on the material, depends on the size of the area of your wires and so on. So each line then is classified by these two numbers. Series, impedance and shunt, emittance per meter. Right? So we know what the material is when we build a line, we know how we arrange them, and therefore we know these two numbers. Okay, so the, right, okay, then let's use this line characteristic to build a circuit model for the transmission line.
00:07:55.454 - 00:08:43.252, Speaker A: No question. Okay, so what we interested in is the terminal behavior. That is, if we specify the voltage and currents or power at the low end, what is the voltage and currents or the powers that we need on the supply? So we need to map v two, I two. So when we apply a voltage, so this is the per phase, we will do all this per phase business. And at the end we get a model that is per phase model. This is the voltage to neutral. Remember the perfect circuit that we had? So that's that voltage, okay, so when we apply a voltage v one on the supply side, which will drive a current, what we receive here is no longer v one.
00:08:43.252 - 00:09:37.070, Speaker A: Because of the impedance, series impedance, the voltage would typically drop, the currents may typically leak, and therefore the voltage and current, each point in the line, uh, it's different or different. So, but you, but you can use this Kirkov law to figure out what, what it is, right? So suppose, so you measure this is zero, and then across this is x. So at position x, right, you have a certain voltage, you have a certain current. Now, we know this series impedance per meter, per unit length. And therefore you can think of this infinitesimal segment of your wire to have a series impedance z times dx and the strong emittance y times dx. And again, z and y are the things that we know from the previous slide. We build the wire stuff.
00:09:37.070 - 00:10:09.342, Speaker A: We know them. And then you can do this. So we are interested in this map, right? So you can write down a differential, oops. We can write down a differential equation that relates v and I with respect to the position. Solve that you get something like this. Details are not important. The point is, once we build a line, we know the shunt admittance, we know the series impedance that defines these two parameters.
00:10:09.342 - 00:10:51.844, Speaker A: This is called characteristic impedance of the line, but some parameter, propagation constant, some parameter, then this two parameter defines a linear map that maps the receiving end voltage and current for the sending amp. And therefore we build a network. We know this matrix, we know how a transmission line behaves end to end. Yes. What is impedance? Right. Okay, so think of this as say like a resistance. Then if you apply a current, so resistance is a device with two wires.
00:10:51.844 - 00:11:27.074, Speaker A: You apply a current, you apply a voltage, then there's a current goes through it. The fact is the current will heat up the stuff. So that consumes energy. Now, if the transmission line, that energy that's being consumed is bad, is a loss. But if this light bulb, the traditional light bulb, that heat is good because heat is lost, but it also gives out light. And if the low consumes energy, so the impedance, you can think of, think of this. The simplest thing is the resistance.
00:11:27.074 - 00:11:54.354, Speaker A: Even though for transmission lines typically resist very, very small, there's more inductance. I don't want to answer the question. Yes. So this is, this is for low frequency. There's no radiative component to this analysis. So if you're thinking about electromagnetic. So depends on the model you use.
00:11:54.354 - 00:12:55.344, Speaker A: You can go back to the Maxwell equations, but then you. But not at this point. Well, you can think of this as an approximation of that very detailed model, for example. So this is a model that is reasonable for, say, understanding steady state of a power system. But I guess maybe to you, the key thing is that when we apply, when we connect generators to transmission network, eventually to the load, right? So the point of the network is to carry energy from that point to that point. When you go through a network, say one transmission line, there will be some energy loss. There's a relation between the power that you send or the voltage and currents on descending n and the power received, or the voltage and current at receiving end, and the relationship between WhAt we receive at a low.
00:12:55.344 - 00:13:43.390, Speaker A: So this is what we want. We specify this and what we need to supply on the other end has a very simple linear map in terms of voltage and current. And that map depends on characteristics we align, that's defined by this impedance and stuff. So mathematically, a transmission line, just a linear map. Okay, so, okay, so this is the model that maps v two to v one. You can think of this model as a circle like this. So which means that there's.
00:13:43.390 - 00:14:30.074, Speaker A: So this is a circuit diagram, slightly different from what's been previous, but you could replace it by some other. But the typical thing, you can think of that matrix as represented by this circuit, where there's a series impedance, there's some mutants at each end. For those who don't know circular doesn't matter. All it is is some linear math. For those who know the circuit model, then you can do this circular. You write down the curcum floor. Then you can relay again this v two, I two to v one, I one in a matrix video map.
00:14:30.074 - 00:15:17.364, Speaker A: Then you match this matrix from the circuit analysis with this matrix. Then you can write down the parameters of your circuit model where z prime is z times a factor, y prime, y times a factor. What is z and y? It's simply the total impedance that depends on the characteristics of a line. Impedance per meter times the length. And the total mutance is again the total, the strong emittance times the length. Can you explain your symbols real quickly? Which symbol? All of them. All of them.
00:15:17.364 - 00:16:18.870, Speaker A: Okay, so, for example, remember, it goes all the way back to this. It goes all the way back to this. So the characteristic of your line, which depends on materials and size and all of that is characterized by these two parameters. It has a resistance, it has inductance, typically for high voltage transmission lines and all that. This is very small because this is going to determine how much energy is lost in your transmission network. And therefore, you build your system so that this is small. But there's two numbers, and these are strong emittance where you can think of current lease, right? As you send power from one end to the other, then the current that lease is determined is due to this thing that we call shunt omittance.
00:16:18.870 - 00:16:46.814, Speaker A: That also has a. Think of this like one over the resistance proportional. And then it's the capacitor CFAT. So in that circuit model that you see, there's four things, r and l. This g and c are this stuff, are the symbols that. So, so this is aren't. I don't know whether that's your question.
00:16:46.814 - 00:17:31.134, Speaker A: The load will be here. You connect the load here. But this model, see effect of transmission line when you send power from, say, generation to the load. And to repeat, just because you said the transmission language of pinkat has a linear map, linear meaning from voltage, voltage, current to voltage, current, voltage and current. So if we think of it as power, then it's non linear. Quadratic or not quadratic, we will come back to these powerful equations. So now we're still trying to model this device, transmission line, but we eventually will come to the powerful equations that models the networks and so on.
00:17:31.134 - 00:18:05.624, Speaker A: This is a model of a single transmission line. A single transmission line, yes. It's called a PI model because of this thing. V shape. Okay, so again, z and y are the stuff that depends on the material and the length. L is the length, and these things are some factor. Okay, so if you have a really long transmission line, then the PI model has that, which is this.
00:18:05.624 - 00:18:42.800, Speaker A: But if the line is shorter, then this is roughly one. And therefore, all matters is the length of the line. So this becomes one, roughly. If you still short a line, you can ignore this, you can assume this is zero. Then you get this. So we saw this diagram before the transmission line, just some serious impedance. And sometimes we even assume the resistance in the series impedance, zero.
00:18:42.800 - 00:19:16.972, Speaker A: So it's just inductive. But those are the assumptions eventually get to some model that we use in power flow. So this is just a model. Transmission line is impedance. Okay. Uh, right. So this is so, so basically, if you specify, this is the power that you need in this simple example, for example, that will specify the current that I need and the loss in the transmission line.
00:19:16.972 - 00:19:46.034, Speaker A: So, so the, you can think of the heat loss here is good, is what we use. Heat loss here is bad. This is just to bring power from here to here. And that heat loss is proportional to the current squared, current magnitude squared. And this is the resistance of the line. And therefore, if we want to minimize this, we have to minimize the I. We use a very high voltage.
00:19:46.034 - 00:20:17.446, Speaker A: That's why in the transmission line network, voltages are so high. But again, there's a cause in high voltage and all of that. That's why eventually we come down to low voltage. Okay, so to recap, the line characteristic depends on how we build a system. There's a linear perfect circuit model. There's a bottom line. Eventually we come down to a linear circuit per phase model that we use for balanced system.
00:20:17.446 - 00:20:46.204, Speaker A: But it looks like this. Okay, transformer. So, transformer is an important device because you see all these different voltages in the network. That is where we need the transformers to change the voltage levels. And that is also why acs have been dominant. Compared with DC, it's easy to change voltage levels. So the ideal transformer is characterized by just one number is the.
00:20:46.204 - 00:21:22.884, Speaker A: Okay, so physically, this is basically two magnetic core, and then you have wires around them and the number of coils in each the primary and secondary side determines this parameter. Nice number of. And that defines the map between the primary side from the left and the secondary side. So n is the ratio of the number of coils. A is just one over there. Simple. Okay.
00:21:22.884 - 00:22:08.422, Speaker A: You can look at the power because it's ideal, there's no loss. So the power input and output is the same what you put in right now, not ideal. Then there's some serious impedance, there's some strong emittance. And therefore a non ideal transformer, or at least a model of it, is characterized by these three numbers, how the voltage go from primary to secondary, and then this series impedance and shunt mutants. And these two you can measure. You view a device, you do some measurement, you know n, you know this, you know this and therefore know the characteristic of your transformer. This is one phase, now three phase.
00:22:08.422 - 00:22:29.814, Speaker A: Uh, you, right again. You can write down a map between, say, the sending and the receiving end voltage and current. This is a linear map. So transformer is a linear device, three phase. So this is one phase. So this is one phase. You have these coils and stuff.
00:22:29.814 - 00:22:55.384, Speaker A: You have single phase transformers, three of them. You can connect them in some clever way. So this particular connection corresponds to a y connection of the transformers on the primary side. On the secondary side, which is these coils, the way you connect them. You say y configuration. Three things you can do. Delta.
00:22:55.384 - 00:23:18.954, Speaker A: Delta. You can do delta y. You can do y. Delta. This is particularly interesting because you get a boost. So, for example, the transformer is typically used for many, many, many purposes, but one of them is to just step up the step of your voltage. Uh, you get a boost of, because of the arrangement, you get a boost of square root three for free.
00:23:18.954 - 00:24:09.740, Speaker A: So that's, so that's useful. And then you have graph, you could have a y delta, okay? So, so in general, for ideal transformer, uh, three phase, depending on how you connect them, right? If it y, then the voltage gains n, okay? And is ratio primary to secondary number of coils, the current is one over n. And therefore, because the ideal power gains one, if you connect them in delta delta, the gain is also n. If you connect in delta y, then it is not n. You have a square of three boost and you add 30 degree. So it's complex gain. What is gain again? Right.
00:24:09.740 - 00:24:38.576, Speaker A: So the gain is the voltage. So this is the voltage of the secondary side. On this end is this gain times the voltage input. So you apply an input voltage. The output will be multiplied by this. It's a multiplicity factor, yes, multiplicity factor. That's right.
00:24:38.576 - 00:25:12.452, Speaker A: And the current is one minus that. But it's complex number in general, depending on how you connect them. So it's one minus one over the complex conjugate. So the power is, the power gain is the product of these two gains, because power is v times I. So if I increase voltage by ten times, but current is reduced by ten times, the current power is one. Power gain is one. So for real transformers, so they must lose some power.
00:25:12.452 - 00:26:04.292, Speaker A: So how far away or how close is the power gain to one for real transformer? For real, I don't know the number, but typically it's relatively close. I guess it also depends on how big and. Right. If you build a big one, then you want to use materials and everything so that it's small and so on. So empirically, if it is y delta, then you get a score of three step down. So again, this is interesting for step up purpose, because of square three, and therefore a perface equivalent circuit transformer is simply, you have this non ideal transformer effect. So that's what you were asking.
00:26:04.292 - 00:26:57.664, Speaker A: And then you have this ideal transformer that's defined by this in general complex scale. And again, the voltage and currents is related to the voltage currents at the other, the output end, secondary side by a linear map. It depends on the ideal transformers gain and these non ideal effects of the real transformer. Okay, so again, you get a perfect model, linear model, you can do per phase analysis in a power network that has transformers. So there's one thing that I don't tell you is that you can do this per union normalization stuff. And then most transformers disappear from your circuit. Never mind.
00:26:57.664 - 00:27:33.664, Speaker A: So to recap, for three phase transform balance system, you could have different configurations. You still just get a linear perfect circuit model that looks like this. Okay, so I'm going to speed up. Okay, so generators, I won't say much. Basically, typically it depends, depends on the types of models and so on. So you have a voltage, and then you go through a series of impedance. Then that is the terminal voltage that a network sees.
00:27:33.664 - 00:28:24.734, Speaker A: Sometimes we ignore this, sometimes we will sort this as part of the network. But this is a terminal voltage that defines the voltage source. Okay, so putting everything together, suppose we have a system where we have three phase generators with the terminal voltage, which is some v line going through a setback transformer, going through a transmission line, a whole network with a single line step down transformer, and then eventually electric vehicle, right? Then you can write down, because balance operations and everything you can write down the perfect stuff as we did. Right. Then you get three phase transformers, three phase transmission line, step down transformers. Then you get a circuit, you can do the analysis. So this part models the transformer.
00:28:24.734 - 00:28:51.004, Speaker A: One set up transmission line, which is the simplest model. There's no PI, right? So the shunt of mutants are ignored. There's serious impedance that represents transmission line. And then you have a step down transformer, and then you have load the perfect circuit. You can do a circuit analysis and then get what you want. Yes. What if you have many loads in parallel, for example? Yes.
00:28:51.004 - 00:29:15.572, Speaker A: You are somehow splitting the power among them. Yes. Is it additive? Can we think of conservation with the power? There is conservation of power. Whether it is additive or not depends on multiple things. Depends on, for example, the loads are in series or in parallel. Depends on the size of those loads and so on. So you can calculate all of them is.
00:29:15.572 - 00:29:56.474, Speaker A: Yeah. Okay, so half an hour. Okay, so, right, so now we know how we build from these physical systems. We have simple mathematical models. Everything boils down to per phase linear. Right. As far as voltage and currents are concerned, you can use that to model a whole network, multiple lows and multiple generators, and then you can use that to formulate opf problems, which again, a lot of applications boil down to solving this constraint optimization problem.
00:29:56.474 - 00:30:28.154, Speaker A: So let me tell you a little bit about this. Um, so here's one example where you have a source. So this is a, it can be a voltage source, but there's equivalent current source representation. What is the current source but some source going through a transformer, a line coming to a load, which can be a current law, constant current law, or whatever. The point is, you, these are three phase balance. You can write down its per phase circuit. It looks something like this.
00:30:28.154 - 00:31:19.614, Speaker A: So the interesting thing is that between this terminal, say all this bus and this terminal, there are a bunch of serious impedance and shun omittance. They may not be equal and all of that. So, for example, in this transmission line, we're using the simplest model. There's no shunt emittance, just a series impedance or one over there. So y, the y appears here, there's an n here. Because of this regulating transformer, there are some strong elements in your circuit model that are due to the transformers and so on. Therefore, in general, if we have a network where this is a bus, so v one, I one represents this, for example.
00:31:19.614 - 00:32:03.814, Speaker A: So on one end of bus, you apply a v one, you have a current I one, go through a transmission line, go to connect to another bus. This can be a load or a generator, whatever, right? So this is a simple network, then each transmission line. So this is a sort of ideal. This is not a physical transmission line, as we saw here. You can have multiple devices. They are modeled by some serious impedance and shunt emitters. And therefore this thing that consists of physically maybe a transmission line, transformers and whatever devices can be characterized by three numbers.
00:32:03.814 - 00:32:46.274, Speaker A: There's a series impedance one over there, and then there's a shun at each end of the line. And they may be different, they're not necessarily the same. This may not be these shung emittance that characterize this connection may not be just due to the PI model, it can be due to other devices in your network. But when you specify a network, you think of this simple model. You have buses joined by links. Just differentiate that from transmission line, the actual transmission line connected by links. And those links can be characterized by three numbers with specific interpretations.
00:32:46.274 - 00:33:39.154, Speaker A: Okay? Then with such notation that describes your network. So these are given, these are not variables. Once we build a network, in principle, we know what these numbers are. Then they define a matrix. What's called a emittance matrix is one that relates the vector of currents, I one, I two, I three, and the vector voltages v one, v two, v three. So the voltages in the entire network is related to the current injection at each bus by this simple relationship. This y matrix is determined by all those parameters that defines your links.
00:33:39.154 - 00:34:27.714, Speaker A: Okay? So the point again is that it's a linear system that if I build my network, I know this network matrix, I know the relationship between voltage and current. So you can write down what is each element of this matrix. You can write this down in terms of those specifications. There's a nice structure, but it specifies the graph structure and the impedances and admittances. Okay, so that's, one matrix is going to appear in the opf property. Okay? Okay. Right, so that's the matrix.
00:34:27.714 - 00:35:09.128, Speaker A: Um, let me just go straight down to that using that matrix, which, uh, so these are the, uh, serious impedance or one over that omittance on each, on each link. Right? Again, a link can consist of lines plus transformers and other devices and all that. Okay. Um, so this defines a network. Now what I, so we have looked at this. So this is a network matrix. This is the voltage vector of all voltages in the network at each node, each node.
00:35:09.128 - 00:35:48.642, Speaker A: This is a current injected at each node, the vector, so that y defines the network, the power. So this is linear. If we interest only in voltage and current. If we're interested in power, because my ev needs 30 kilowatt hours, then we need to define what is, say, the load at node j, which is some complex power. That complex power will be related to the voltage and current at that node by this. So that's a power balance. And therefore, if our only interest in voltage and current, everything's linear.
00:35:48.642 - 00:36:23.678, Speaker A: But once we're interested in power, then you get this quadratic. So that defines a powerful equation. And we can eliminate I. If you eliminate I, you get a relationship between the power injection, you think of this as a generator generation power, how much you generate, or think of that as a law, how much you need to consume at node j. You specify this, for example. Then you want to figure out what is the voltages that you need at each node. But you can eliminate I.
00:36:23.678 - 00:36:49.762, Speaker A: Then it looks something like this. It looks something. So the power balance becomes this. You relate the power ingestion each node with the voltages at each point. Every node, usually the node connected to no j. And that connection is this network matrix. So that's complex form.
00:36:49.762 - 00:37:20.834, Speaker A: You can write down the polar form. You can write down in terms of voltage, real and reactive, real, imagined, PI. You can run a quadratic form, doesn't matter. So you get a quadratic form that relates the voltage in the network, in the entire network and the power. So the challenge typically is that suppose it specify sj for all j. That is, I know exactly how much generate h null, how much consumer h node. So I know the complex power every j.
00:37:20.834 - 00:38:21.944, Speaker A: What is the resulting voltage? What solve this quadratic equation? Amazingly, very little is known structurally about the solution, whether it has a solution, whether it's need convex and all that. But you can numerically compute. So the power flow problem is roughly, there are variations, but roughly you specify this and you try to figure out the voltage. And then you say, does the voltage certify the bounds, for example? So, so one very important approximation of this model is what's called the DC power flow. It's a linear model where the voltage magnitude. So if you look at this powerful equation, this is the basic powerful equation. There's one equation, if you want to remember one equation, this is the one.
00:38:21.944 - 00:39:04.042, Speaker A: So everything is complex, uh, the voltage, complex voltage, we assume the magnitude is the same and therefore the only variable in that voltage is its phase. Okay. Um, then if we assume that the phase, if you assume, you can write, you can, you can write. So, so essentially you assume, uh, the line is lossless. You don't have this term, this is a constant, fixed voltage. So this is a constant. If you assume theta J minus theta k is small, then sine is roughly theta j minus theta k.
00:39:04.042 - 00:39:45.428, Speaker A: And therefore, the Bc power flow is a simple linearization of this with additional assumptions. But you get a linear, linear, linear model between the real power at each node and the phase angle. So this is widely used in, for example, running the markers when you try to determine how much each generator should generate and how to price the electricity at each node. This is the model that's widely used, but it comes from that part. Okay, so the last 20 minutes. So now we. Okay, so let's recap.
00:39:45.428 - 00:40:22.024, Speaker A: So we build this network. We can figure out a perface model for the network. We can write down the network matrix that describes the network topology, the impedance and everything. And then we have these powerful equations. So, for example, we want to figure out, so I mentioned at the beginning that the way we run our system is we forecast demand. So we know the sjs that are demand. We have to decide how much each generator should generate, when and where.
00:40:22.024 - 00:41:03.234, Speaker A: So we have to figure out a problem, right? So there you can formulate the opf. So we'll see that. Another example we have, a lot of solar panels are coming up. All right, so this. So the generations will generate fluctuates, the voltage fluctuates, and it may exceed, say, the legal bounds. But you can try to stabilize the voltage by adjust the output of the reactive power output of your solar panel emergence to try to stabilize the voltage. What is the optimal way to do that? You can form it as OpF.
00:41:03.234 - 00:41:49.266, Speaker A: Here's another example. You have a bunch of electric vehicles, and you know how much energy each one needs. What is the time when they park? You know the conditions of the network. What is the optimal schedule for the charging of EV's? You can formulate that as an opf. So, lots and lots of applications boils down to this opf problem. And it solves routinely, every hour, every day, around the world, to determine how we operate the network, how we price electricity. There's a huge literature, the first form in 1862, and I mentioned earlier, this is the most important model, and it looks something like this.
00:41:49.266 - 00:42:15.204, Speaker A: We want to minimize a certain cost, subject to powerful equation. That's the equation we solve with some operational constraint. Depending on the application, the cost function may be different, the operational constraint may be different. The powerful equation is always there. Supposedly you can simplify, approximate and all of that, but it's. So it looks something like this. Again, details are important.
00:42:15.204 - 00:43:15.494, Speaker A: This can be generation cost when we try to figure out generation. Or this can be user utility, when you try to do demand response, subject to powerful equations. So, this looks different, but it's the same equation we had before. But in terms of voltages, you want the line flow to lie between a certain limit, because if the line flow is too high, the loss on the lines are too high, the temperature goes up, the line set, it touches the brush, we get a fire. So there's some constraints on the line limits. If it is generator, then there's a capacity constraint on how much you can generate, or if it is load that is specified, then you specify the lower bound goes up a bound. So this becomes a load that's given, and the voltage limits, you can have other constraints, but roughly the structure is that you want to minimize a certain cost subject to two sets of constraints.
00:43:15.494 - 00:44:10.962, Speaker A: One is a powerful equation that's fundamental, we cannot escape. The others are operational constraints, which often are simple. That's the structure. And the challenge is that this matrix is not positive, semi definite, and therefore you get this non convexity. So the variables here are the voltage phaser for every point of the network, the power injection, f one of the network, and the line flows, and you can eliminate some of them. But, so this is a famous picture that looks like, looks that even if a simple three bus network, the feasible set can be very strange. It's actually arguable.
00:44:10.962 - 00:44:46.716, Speaker A: We just said words are e. Is opf hard? Is NP hard. Formally, but empirically, you just run local algorithm, very often you get global solution. So it's still arguable. Is Opf hard? Right? Not in the complexity theories. Okay, so how do we deal with non convexity? You can linearize, you can do convex relation, and there are different convexations. You can do real time opf.
00:44:46.716 - 00:45:03.444, Speaker A: Okay, so in the last 15 minutes, I want to get to this point. Okay, okay, okay. All right. Ah, graciations. So, a lot of people contributed this. Let me just tell you a little bit. Five minutes.
00:45:03.444 - 00:45:36.220, Speaker A: So, so the ideas were, so this is opf. When you eliminate the injection, you can write injection in terms of the voltage vector, this is a powerful equation. SJ equals, this is the powerful equation that we saw before. Eliminate SJ. Then Sj lies between lower upper bound. Then you get an optimization problem where the variable is only the voltage vector. So it's quadratic in the variable, it's non convex qcq key.
00:45:36.220 - 00:46:13.234, Speaker A: You can do the standard semi definite realization. Think of vvh. So everywhere the voltage variable appears, appears quadratically at the rehmoral matrix, and by a matrix, and therefore equivalent problem, you think of that matrix as your variable, and therefore, instead of quadratic in a variable, now you have a linear inner variable. But not every n by n matrix is a valid variable. It has to be positive, semi definite. It has to be ram one. So these two problems are equivalent.
00:46:13.234 - 00:46:49.574, Speaker A: Given any voltage that satisfies your constraint, there is a matrix that sets up constraints. Given any volt matrix that's set by these constraints, there's a unique voltage up to a rotation that sets like that. So the equivalent, the non convexity is here. This is linear, this is convex. So you can ignore them. So let's just solve the convex problem without the rank constraint. You get your optimal w.
00:46:49.574 - 00:47:42.648, Speaker A: Check whether w turns out to have ran one. If it has a rank one, you get a global solution for the original problem. Otherwise we are stuck. What's the physical meaning of this gruff constraint in terms of circuit and these phasers? Not clear. I don't know anyone has any insight for a specific simple example that I can tell you. But in general, maybe I'm not going to show you a simple example where there is a physical interpretation of the constraints in general. And therefore, the strategy is that we want to solve this problem, which we don't know how to solve.
00:47:42.648 - 00:48:44.084, Speaker A: You can solve relaxation once you get an optimal solution, which is you can check simple conditions, and if you are satisfied, then you can recover. Now, I want to tell you one powerful model, there's actually another major powerful model, which is really interesting, developed at Berkeley by Phyllis Wu and his student 89. That's really a nice model, has a lot of interesting advantages, but time. But for that, you can also do similar thing. It's not the rank one matrix, but there's a corresponding commensurate session. Okay, so let me just mention one thing, that if this tree network was called the radio network, the tree topology, then instead of solving SDP, which is hard to scale, you can just solve SOCP. Second order code is much, much, much faster, so it's much faster computationally, but you have the same tightness as SDP.
00:48:44.084 - 00:49:46.104, Speaker A: So really nice, because most migraine innovations are probably going to appear in distribution systems. Distribution systems have tree topology, and that has a nice computational structure. Moreover, for tree topology, there are sufficient conditions that guarantee if you do this second order conveyancation, it's guaranteed to give you a global solution for your original non convex problem. There's no known sufficient conditions for general measurement, but for tree network, there are sufficient conditions that will guarantee relaxation always works. Now, in principle, as I mentioned earlier in prairie, even if those sufficient conditions are not satisfying, very often the relaxation does work. Even local algorithm, which is much faster, very often give you the global solution. So there's something in the real network that there seems to have some nice structure which we don't really understand.
00:49:46.104 - 00:50:40.124, Speaker A: Okay, so let me skip this. I was going to show you one sufficient condition, but let me skip that. So, in the last ten minutes, let me tell you about some very interesting work by Vijay Tan, who is a current grad student DJ, who was a former poster. And this really started with a little part of his thesis, PhD thesis now in Lee Weng, who is now on Facebook. So the motivation is that the original motivation was interesting. It came about in our API project, where we try to understand these realizations and stuff, and then the ARPE want us to don't just do Matlab, which is too simplistic, use this group D, which is a very elaborate piece of software that simulates the network much more realistically. But none of my.
00:50:40.124 - 00:51:30.242, Speaker A: So, which means that we have to develop solvers and integrate into the grid code. None of my students want to do that. So I thought, okay, let's just use grid as a black box. Let's just develop algorithms to optimize on variables that we can actually control. So at the time, we were looking at controlling EV's inverters, pool pumps and storage. So let's develop algorithm, just operate on those devices that we actually control, and then we apply that control to grid and just read off what it gives out and then just repeat. So it really came about, we're trying not to, not to mess with Google's code, but if you think about this, this is exactly what we can do in real system.
00:51:30.242 - 00:52:09.714, Speaker A: This is the only thing we can do. We can run all these offline algorithms, compute all the variables, the voltages and line flows and everything, until it converges. Once we get a solution for all the optimal variables, there's only a few variables that we can actually set. We set the network, the network's going to solve powerful equations for us and determine all the other variables. So really what we can do here is all we can do in practice. The second motivation is that what the network is. So the computational complex challenges in OpF that we formulate comes from powerful equations.
00:52:09.714 - 00:52:45.242, Speaker A: We have to somehow implicitly or explicitly solve that. But the network is always solving powerful equations for us in real time at scale. So maybe we can exploit that. If we can do that, then we will naturally get algorithms that will track network conditions. If the network condition changes, this hopefully will be reflected in the measurements that we get from the network. So you would, so this will be important closer. So it's very much a feedback control perspective to this optimized OpF.
00:52:45.242 - 00:53:15.262, Speaker A: Right? Uh, okay. So, all right. Okay. So let me just describe the setup. So the opF is, we want to minimize a certain cost depending on your applications, whatever the cost, that is, over two set of variables. One corresponds to devices that we actually can control and set whatever set point. And the other ones are the states of the network that we don't really actually control.
00:53:15.262 - 00:54:08.724, Speaker A: So the line flows in the network, the voltages at the nodes, for example, subject to two sets of constraints. One is a powerful equation, one, the other set is the set of operational constraints. So let's assume essentially implicit functionality of holes, which means that if we choose any control, at least in this set, there's a unique solution y of x that satisfies this, which the network will compute for us. That's the assumption. If that's the case, then we can substitute every, where the variable y appears. We can substitute y of x so that we get a problem that's minimizing over only x. So now this can be convex in y, but this becomes non convex in x.
00:54:08.724 - 00:54:33.946, Speaker A: So this is worth a linear constraint in why this becomes nonlinear constraint. But you have this nonlinear non convex optimization. What is interesting, there's an interesting result by someone else that says the feasible set is actually turns out to be convex. That's what, that's really nice. Okay. Anyway, so you have this non convex problem that you want to solve. Many ways you can solve this.
00:54:33.946 - 00:55:27.374, Speaker A: One is to take this constraint, which is difficult, put it as a penalty or barrier. Then you get to a form where you want to minimize over x in a very simple set is complicated cost. This mu is parameter that defines your penalty or barrier. So suppose this is a problem one to solve. Yes, if I understand what you're doing, it seems that the power is being consumed exactly without any time delay, exactly as it's being generated. So in reality, you might want to generate at one time, store it, and then use it so that you can still formulate within the same framework. Then you get variables at each time.
00:55:27.374 - 00:56:12.534, Speaker A: And if you can store, then the storage will couple those variables across time, but you will still be within the same framework. You just have a bigger size. So the idea of this real time or online feedback is that don't solve this problem until it converges. And then apply your control. You just, in each time step, you take a gradient step, apply your control, and then you measure the y, and therefore there's no free lunch. We don't have to solve powerful equations, but now we have to do all the measurements and communications and all of that. It's not clear, it's easier, but that's the trail.
00:56:12.534 - 00:56:40.804, Speaker A: But of course, if you do the, if you can do this, there are other benefits. It's not just avoiding non convexity, it's really the tracking that's important. In the future, when we have more and more uncertainty, we really need to close the loop. So this approach explicitly exploits the network as powerful solver and you would naturally track code. Let me just close by. Let me skip the static part. Let me just tell you the tracking part.
00:56:40.804 - 00:57:05.312, Speaker A: In a few minutes. Okay. Okay, so, okay, so that's the static opf that we just went through. You can go through the steps. Eventually you get a nonlinear equation in x only, right? Suppose the Opf also changes. So each time step you take a gradient step, you apply to. To the network.
00:57:05.312 - 00:57:47.864, Speaker A: The network changes, you get a different opf that depends on t. So it's a time varying opf. I mean, there are variations where you can do, instead of one iteration apply, you can do ten iterations, apply. Conceptually same. And if we think of each time step, you take one gradient step, apply to the network, the network changes, you get the measurement of yt, you compute the next gradient step, and you repeat. So the question is, as the time varying opf progresses, how well does it track? Okay, so, right, so, well, first order algorithm doesn't track very well. So let's do a second order.
00:57:47.864 - 00:58:21.606, Speaker A: Right, so this is hessian or some approximate hessian, right? So the same step, each time t, you take a gradient step step, you apply it to the network. That will solve powerful equation. You get your measurement y. That would allow you to compute the gradient step, and then you repeat. How well does it trace? Well, suppose so this details are how you compute. Suppose each time t, you get an OPF. Somehow you figure out the optimal solution for that opf at time t.
00:58:21.606 - 00:59:05.834, Speaker A: Is there any local optimal or global optimal? This is the XT that you generate. Using this second order of the algorithm, you look at the control error time average. So that's how well you track. Then you can show that it depends on three things in recent space. Not surprising. It depends on how fast opf changes over time, as represented by, for example, how the optimal solution for each time t opf evolves. If it's static, then you get zero.
00:59:05.834 - 01:00:08.514, Speaker A: This has to do with at time t minus one, you get a, you make a gradient step right at time t, then the problem changes. Maybe the feasible set changes. The point that was feasible in t minus one is no longer feasible, so you need to do something. So this capture set, it also captures how far is this initial point from the optimal at time t. So again, all these are measures of how fast your opf changes over time. The second factor depends on the error in your approximation using exact hessian, and then the condition. And therefore, if the problem doesn't change fast, if the problem is well conditioned, and if there's no error in your computation, then you test well, not too surprising.
01:00:08.514 - 01:00:40.894, Speaker A: Okay, so let me just close with these are some simulations. You can see that the two curves on the cost, what is the optimal cost once the how? Well, the algorithm trusts very well, basically. But of course, there's a lot of challenges underlying this curve. This is certainly not solved. There's a lot of open problems. Okay, so let me close with this. So hopefully in the future, we'll have a large network of distributed energy resources.
01:00:40.894 - 01:01:11.314, Speaker A: And at least for some applications, we will need to do a real time decision. And very often one of the computational challenges is due to the powerful equations which we cannot escape from. And yet the network is solving this. Maybe we can explore it. And if we do that, we'll get an algorithm that naturally tracks. So that's important for the real time feedback. So you can do that at slow time scale or do that at a fast time scale.
01:01:11.314 - 01:02:26.028, Speaker A: Okay, thank you very much for a couple of big questions. So, it's interesting using the network to kind of give you feasible solution for free. How do you combine this with the desire to plan ahead at the same time, the question about using storage for injections and withdrawals to the plan, how do you combine that with this real time? So, we haven't looked at that, and it is, it may not be the simple question, but one obvious thing you can do is, okay, there are some forecasts, then you can formulate that within the same framework, but then there's all sorts of issues on forecasts. And how do you do the forecast? What's the errors? Will the error propagate and all of that? But that would be one obvious thing to try first. But I think there's open, I mean, there's a lot of challenges which we don't quite understand in this real time or time vary opf. Would the OPF problem be formulated for the whole grid as a single problem. It is.
01:02:26.028 - 01:03:30.034, Speaker A: Here it is for the whole grid, but then the whole grid depends on your application. So, for example, if I'm interested in, let's say I have a garage on the EV charging, and I want to optimize the charging process, but also, with respect, also providing, say, demand response energy services to the grid. So when I do the EV charging, I can optimize the charging process not only for the user benefit of the user, but also I can help stabilize the voltage on that feeder, on that part of the network that my garage connects to, that has a lot of solar, and therefore the voltage fluctuates. Now, in that problem, I can formulate an opF. Then the network would probably just be that one feeder or a small part of the feeder. Now, if I'm thinking about what's called economic dispatch, where you try to decide the generation, then the network at the ever aggregate level will cover maybe the entire California. So the actual network depends on the applications in order.
01:03:30.034 - 01:04:13.344, Speaker A: So, last question. So when you talk about the OPA problem, it's a non linear optimization skew. Converge to a local minimum. But when you introduce dynamics and you're taking real time measurements, does that help you converge to a better locally optimal or globally optimal solution? Or there's a continuity in locally optimal solution across time. So you always stay within the local valley and therefore never escape the valley. Okay, the quick answer is that we don't understand all these issue. One thing we observe is exactly one of the difficulties that you alluded to, which is you can be tracking a local optimal, and then the problem changes that local optimal disappear.
01:04:13.344 - 01:04:29.804, Speaker A: Yeah. So there's all kinds of interesting issues which we don't really have a good grasp on. Okay, let's thank Stephen for a beautiful two lecture. We'll be back here at.
