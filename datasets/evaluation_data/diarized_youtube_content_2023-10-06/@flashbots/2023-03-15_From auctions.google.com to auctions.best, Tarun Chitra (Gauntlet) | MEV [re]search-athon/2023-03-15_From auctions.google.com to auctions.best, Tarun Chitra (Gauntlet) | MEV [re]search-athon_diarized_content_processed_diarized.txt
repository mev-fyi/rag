00:00:03.220 - 00:00:36.210, Speaker A: What Max and Elijah's paper is on is one form of censorship that auctioneers or validators can have against you. This talk is going to be more about another form of censorship that has to do with the communication between the auctioneer and the know. I'm sure many of you who've ever submitted to a relay know the relayers have a lot of power. There's reason we have a lot of power, and there's actually some sort of formal math around that. That's what this is going to be. My other talk was really just like, leading up to this thing. So honestly, this talk should probably supersede it.
00:00:36.210 - 00:01:17.288, Speaker A: So also work with mateus at Harvard and shithidge at Berkeley. So one amazing thing about this paper was, like, the day we were about to day before we were about to submit it to the conference, the DOJ put out this thing against Google. And it was amazing because it was all about option manipulation in the style of the thing that we wrote this paper about. But if you go into the actual DOJ filing, google looked at every auction. They limited which advertisers could bid. So they mutated the communication. So one bidder might bid.
00:01:17.288 - 00:01:53.050, Speaker A: Google would say, okay, these are the current bids, but they would only send them to some subset of people. So they manipulated the communication of the actual bidding process, and then Google itself kept a bid for itself at all times, which it would either disclose or not disclose, and it would use that to manipulate the auction. The simplest form of this type of auction manipulation is in the second price auction. So say we have a second price auction if the auctioneer adds a fake bid. So second price auction, you get a bunch of bids. Let's say the highest bid is $10. The second highest bid is $5.
00:01:53.050 - 00:03:01.680, Speaker A: The way it would settle is the person who bid $10 pays $5. Now, if the auctioneer has a stake bid at 9.99, they effectively extracted some surplus in a way, and it's not incentive compatible. So that's actually explicitly what Google is accused of doing, which I think it was actually kind of amazing that the DOJ took ten years to build this case up, because it's not like there's a big red button that says manipulate in their code base, right? It's more like they have some complicated strategy, and that for some parameters, it just learns the greedy algorithm of shoving in stakeholders. And it's not easy to tell you as a user, have to watch ten years of auctions, and the DOJ basically got these ten years of data from different ad networks who cooperated with them. And that's how they sort of realized that there was a front running, but it took ten years of data to get to this. Okay, so the classical auction theory version of the world is this idea that you have a bunch of different individuals bots, humans, whatever, and they each have a value distribution.
00:03:01.680 - 00:03:43.416, Speaker A: So this first person, they have this sort of gaussian looking distribution symmetric. The second person, they have an exponential distribution. You should think of the x axis as the value and the y axis as probability. The idea is that I don't know exactly how much I want to bid for something, but I sample from a distribution on each time I make a bid. So this represents sort of the space of bid to do. And you can see sort of this person has a fat tail, this person decays quickly, decays quickly. And so the idea in the traditional auction theory setup is each person has a distribution and there's two main settings.
00:03:43.416 - 00:04:35.588, Speaker A: One is the independent values scenario, so each bidder draws a bid independently. And the other is the interdependent values where my bids depend on everyone else's bids. In most of this we'll be talking about the independent values case, but there's another paper on how to deal with interdependent case that we so let's go through the second press auction. Exactly the example I said before, alice has value ten, Bob has value five. And this is sort of showing this notion that bidders are incentivized in second price auctions to bid what they think. This notion of strategy proofness, there's no reason to bid against that. But as I pointed out, the auctioneer can cheat against you, not the other bidders.
00:04:35.588 - 00:05:25.884, Speaker A: And that's a totally different notion of incentive compatibility in the sense that the seller has to also have some notion of incentive compatibility. And that is sort of exactly what happened. And so Google, interestingly enough, was actually, I think they'd publicized and written all these papers that they had moved back to first price auctions, but they only really had this blog post from 2021 that showed that they actually went back. So they were still using the second price auction. And the DOJ's complaint explicitly points out that the second price auction that Google would self participate in was the thing they're manipulating. Now we're at the point to talk about what it means for a seller to be incentive compatible. And the interesting thing is the set of possible strategies, the set of possible deviations is extremely large.
00:05:25.884 - 00:06:12.444, Speaker A: And one of the reasons for that is bidders send their bids to the auctioneer. But the auctioneer has a strategy space that I am going to censor sending some of these bids to other people to tell people what the current data is. I am going to tell certain people who get a preference in the auction some of the data faster or slower. And so you have to talk about the actual communications between the bidders and auctioneer to analyze this. So we have an auctioneer running this mechanism to sell one. So let's just say block builder, single auction, there's sort of a expected revenue from running the mechanism in earnest. And a safe deviation is a way of lying to players lying to bidders in a way that they can't tell that they're being lied to.
00:06:12.444 - 00:06:56.296, Speaker A: So the simplest example is Alice sends me a bid of five, Bob sends me a bid of ten. I think I sent whatever I flipped them. But when Alice sent me a bid of ten, bob sent me a bid of five and I don't send each of them the other's bid, I only send Alice all of the bids and Bob doesn't know all the bids. So that's a safe deviation in the sense that it's a deviation I can do that the buyer can't tell they were deviated against. And we say that an option is credible or sort of seller incentive compatible. If for all possible safe deviations, running the honest auction is higher, at least as high revenue. So you can't increase your revenue via any of these safe deviations.
00:06:56.296 - 00:07:41.876, Speaker A: So now we get to the crypto part and this is crypto for photography, not crypto for cryptocurrency part. So, commitment scheme. Many of you probably know what a commitment scheme is. Commitment scheme, you have a message, you have some randomness, you're able to commit to knowing this particular message in a way that people can. You can later prove that you knew this message at a previous time. There's a few properties that we care about, different commitment schemes have many different properties, but the first one is the notion of perfect hiding. And perfect hiding means that if I have two different messages and I use the same randomness, they're identically distributed, perfect binding means I can't easily forge another message where the two commitments are the same, no collisions.
00:07:41.876 - 00:08:47.196, Speaker A: And the last part, which is extremely important and anyone who's ever been in bitcoin land like Prescott and Giorgios is non Malleability and Malleability of Signatures is a very nuanced property which basically says I can't take your commitment and apply a function to the message and randomness and generate another commitment to something that looks that is actually something else. So I can't reuse your commitment for something else. And this is actually a very hard property to ensure. The main way of people do this now are with ZK. So you should basically be thinking of all the commitments we're going to talk about in this talk as coming from needing some form of zero out proof. So the interesting thing about trying to do an auction on a blockchain versus private communication is the blockchain reduces the set of safety deviations. So in the examples I was giving earlier, I was talking about how the auctioneer might take in all the bids and only select arbitrary subsets of who they send it to.
00:08:47.196 - 00:09:21.720, Speaker A: But if you force people to commit publicly on a blockchain, the set of deviations the auctioneer can make is actually much lower because anyone can prove that the auctioneer was censoring them. And the idea is that if you can make it a cost something to post a commitment and B, it's public and people can dispute it, then the set of deviations goes down. And this is something I think mechanism designers didn't really think about in the sense of most economists kind of assume that there's not a notion of a public commitment storage place.
00:09:21.870 - 00:09:34.364, Speaker B: You actually have these private channels in the safe definition that you gave before. Did you consider coalitions? All possible coalitions, yeah.
00:09:34.402 - 00:10:02.268, Speaker A: This is why the state space is really bad for this. It's like I have n bidders. I have to consider on K rounds of communication every subset of the N bidders over K steps. So you have two the NK possible strategies 93. Okay, so now what is this commitment option? And so we'll draw it in pictures, hopefully. It's kind of relatively straightforward. So again, we have these different users.
00:10:02.268 - 00:10:49.792, Speaker A: They each have a value distribution. You can think of the value distribution in the case Mev option as I see a sandwich and I know the max profit of sandwich say $10, but maybe how much I'm willing to bid to get that $10 profit is represented by the support of this distribution. So we have two stages. The first is the commitment phase. So the auctioneer robot says, okay everyone, now you have to commit to your bid. And the most important part is because it's posted publicly on blockchain, everyone that posts these non malleable commitments to blockchain the auctioneer can't send commitments differentially and only to certain subsets. Again, because it's posted in the first round on chain.
00:10:49.792 - 00:12:11.360, Speaker A: And even the auctioneer themselves, if they want to make a state bid, would have to post those same. And what you do, and this is where the normal economic auction theory stuff comes in, is there's a notion of a reserve for auction when you have independent value auction and the reserve price is a kind of interesting object. The idea is, and this is sort of the Myerson optimal auction theorem is that there is a function you can compute called pi, which is dependent on the cumulative distribution function. So the integral of f and your density. And this function, if it has certain properties, notion of a resort price, the first price at which your value is equal to sort of what's called your hazard or like all some sort of notion of the average of the size of the tail of your distribution. So the nice thing is, again, the auctioneer can't tell a bit that the commitment phase has ended while the other participants know it's going because it's done in a contract that's on chain. So one other thing I didn't mention is this notion of credibility that we've been talking about in 2019.
00:12:11.360 - 00:12:56.690, Speaker A: Economists sort of proved this trilemma which says if I have an auction that's credible, there exists no auctions that are credible, truthful. So that means bidder intented compatible. I bid my value and have bounded communication complexity. They don't need the number of rounds is constant in the number of bidders. And the key thing about getting around this trilemma almost exactly the same as the way blockchain like consensus algorithms get around the Cap theorem, is that these commitments reduce the strategy space in some sense, right? And by reducing the strategy space that the auctioneer can deviate, you get around these kind of impossibility theorems. So we're doing all of this because, sorry, I should have motivated that in the earlier slide. But that's really sort of what this is.
00:12:56.690 - 00:13:39.516, Speaker A: And then you have a second phase, which is the reveal phase. And now the auctioneer can't lie, the bids come out. And then the other thing I mentioned, there's this reserve price in this auction. We actually make the bidders post collateral equal to the reserve price. So the reason for that is the auctioneer needs to have skin in the game on their fake bid. So if the auctioneer is doing adding fake bids, they have to actually put up some collateral and they don't get back that collateral if they don't reveal. So the key thing to this setup is that the collateral is only given back to you if you reveal and you didn't win.
00:13:39.516 - 00:14:15.210, Speaker A: And if you don't reveal, the auction takes the collateral. So that's basically it. I mean, the math is kind of annoying for proving some of these things, but we're going to ignore that. You can go read the paper. But main thing blockchains are public broadcast mechanisms. It changes how the auctioneer can behave in a way that I think economists had never really thought about. And this Google DOJ case is the perfect example of that in the sense that if you were doing it in the credible manner, you wouldn't have the stuff you saw in that sense.
00:14:15.210 - 00:15:08.600, Speaker A: The other interesting thing mathematically about this paper that is not sort of obvious from the stuff there is my co author mateus. He a couple years ago wrote a paper on getting around this trilemma with kind of different commitment schemes. But he was only able to show it for very thin tailed value distributions that they had to decay exponentially or super exponentially. And the interesting thing is with the public posted commitment, you can actually have fat tailed value distributions and we prove some notion of fatter tails. You can get almost all power law tails in this, which is actually really interesting. It's the first time that at least that I know of, where by using cryptography you actually change the economic, the economics of the participants.
00:15:11.340 - 00:15:38.544, Speaker B: When you talked about the person providing a commitment, needing to reveal in order to get collateral back, the idea of Shield bidding kind of injured my mind. So if you wanted as an auctioneer to kind of escape prosecution for doing this, you could just get an anonymous collective of Shield bidders to do that. So then it just has to be that the commitment is such that it's not worth it to do so, is that correct?
00:15:38.582 - 00:15:47.828, Speaker A: Yeah, exactly. That's how you choose the amount of collateral you force someone to do because given their values, that would always cause they could never have positive value.
00:15:47.914 - 00:15:53.464, Speaker B: One thing that you didn't mention, that I didn't understand is, is this a time limited auction? Because I've seen auctions where they add.
00:15:53.502 - 00:16:14.152, Speaker A: Time on depending on yeah, this is time limited. Yeah, that's a good point. You assume there's a clock because you could just imagine that change the behavior for sure. Yeah, that's a very good point. Yeah. So this is a good question. So right now it's exactly equal collateral.
00:16:14.152 - 00:16:15.384, Speaker A: It's not over collateral.
00:16:15.512 - 00:16:16.510, Speaker B: One to one.
00:16:16.900 - 00:17:01.452, Speaker A: The real question, and I think the research that's open, an open topic is with stronger commitments or maybe some more type of thing where the auctioneer proves some property to you in ZK about the partial valuation of the auction, can you get under one? And it's possible that that might be true, but it's actually way harder mathematically show that this is a simpler result. But, yeah, I think the goal is to actually be able to use the ZK or FHG to get it. Because the idea is the optioneer would have to keep proving these properties to you, and basically anything that was under collateralized, you could check from a small.
00:17:01.506 - 00:17:07.950, Speaker B: Number of just a question about Google. Why did they shift from the highest bid auction to the second?
00:17:11.860 - 00:17:50.812, Speaker A: I guess he's not here likes to say economists memed their way into duping people with second price auction. Because buyer incentive compatibility is sort of actually in some ways much weaker than seller incentive compatibility. And you can show that these second price auctions have this buyer incentive compatibility property and people were like, oh, that's great, that means that people are bidding their real value and there's not kind of yet the shill bidding type of problem. But of course if the seller is front running you, it doesn't matter anymore. And the seller was the one telling you like, hey, the second stock option is good for you. Incentive compatible with Google. Yeah, it's very incentive compatible with Google.
00:17:50.866 - 00:17:57.368, Speaker B: And that's why Google stop after 2021. Did they actually go back to Top?
00:17:57.474 - 00:18:05.456, Speaker A: They went back, yeah, but they had been saying they were going to do it for a long time, but then never didn't actually do it.
00:18:05.638 - 00:18:08.768, Speaker B: Was the acquisition about before 2021?
00:18:08.854 - 00:18:36.280, Speaker A: Yeah, it's over the last ten years because basically what happened is there used to be these other ad options. So when you search for random website and you see those little ads, like a box, like powered by Google or whatever, there used to be, like five to six years ago. A bunch of other competing options for these. Remnant ad supplies. But these random other ads and those people all saw all the volume move off their auctions. And so they started collecting data on.
00:18:36.350 - 00:18:37.852, Speaker B: All the bids that they knew of.
00:18:37.906 - 00:18:57.010, Speaker A: And comparing the auctions, and then gave it to DOJ. So that's like the crux of the DOJ case. They all were like, we're going to go bankrupt. But yeah, if you read the case, they've clearly got a lot more statistical information than I had thought.
00:19:00.520 - 00:19:06.564, Speaker B: Do you give a trilemon on this? Is the contention that we can use blockchains to escape this trilemon or is that too strong?
00:19:06.602 - 00:19:08.470, Speaker A: Yeah, no, that's exactly what.
00:19:10.760 - 00:19:18.936, Speaker B: Beyond the rule. I don't remember where I found some talk where they're saying that a lot of online advertisers have switched to first.
00:19:18.958 - 00:19:39.884, Speaker A: Price options because of that. Because there's also yeah, exactly. It definitely has been kind of publicized. But yeah, I think that the problem is seller incentive compatibility is a lot harder to analyze. Think about it this way. When you think about designing a L2, it's easy to make a fraud proof. It's hard to make a proof of non inclusion.
00:19:39.884 - 00:19:49.350, Speaker A: Right. This is exactly the same problem. You have to prove that the auctioneer in some sense didn't include and censor in this kind of particular way.
00:19:51.640 - 00:20:00.724, Speaker B: If you use your knowledge, I guess there's like backdoors where the auctioneer can still understand where the prices are.
00:20:00.842 - 00:20:07.764, Speaker A: No, the commitment scheme means that the auctioner can't invert the post. Yeah, that's what my would you need.
00:20:07.802 - 00:20:09.816, Speaker B: Collateral from the auctioner in that case?
00:20:09.918 - 00:20:16.024, Speaker A: Because you need collateral so that you're basically slashing them if they don't reveal. Yeah, exactly.
00:20:16.142 - 00:20:32.540, Speaker B: I just want to clarify the third point here. Larger class of salary distribution is the distribution of kind of where they draw bids from. Yes. And the intuition behind how you can extend is just by committing everyone to one communication style.
00:20:32.700 - 00:21:03.872, Speaker A: So that yes, exactly. Because when you compute this expectation or maximum over all the safe deviations, it turns out the set of safe deviations shrinks over public blockchain, which then you can use to write out that the tail is bounded. You can basically do any power law tail that's like one over R to the one plus epsilon, like slightly worse than one over R, whereas the previous results were like monotone hazard, which is like exponential dependent.
00:21:04.036 - 00:21:09.660, Speaker B: Do you have a primary relation recommendation for bond force regulation?
00:21:10.080 - 00:21:21.070, Speaker A: Yeah. So if you knew the value distributions there's formula yeah, correct. But that's your job. Go figure them out.
00:21:22.580 - 00:21:26.930, Speaker B: Make a rate limit on all such options that can be running at the same time.
00:21:27.960 - 00:21:41.444, Speaker A: That's a good question. Probably. I don't know how to reason about that. Like the throughput of your blockchain, first of all. Yeah, so if this collateral is too.
00:21:41.482 - 00:21:51.320, Speaker B: Funny, if they don't reveal the bit, why can we use something like a kind of encryption where the bits have to be open after a certain time? If I do some computation, for sure.
00:21:51.390 - 00:22:26.660, Speaker A: Yeah, this is what I was saying. There's a lot of stuff you can do to improve this. It's much easier to actually prove this value distribution claim with this assumption. But that's why I think you can extend this result pretty far with more using things like timeline. I don't know, maybe probably someone should. I mean, it shouldn't be, but I think these non malleable commitments are someone actually needs to have those working. Maybe this guy's.
00:22:29.400 - 00:22:36.504, Speaker B: Do we actually need slashing here? Isn't the incentive to win the auction enough for the right product?
00:22:36.542 - 00:22:58.210, Speaker A: People will. So the problem is you need to ensure that the auctioneer doesn't add a ton of fake bids and you need them to be forced to reveal because then they have to pay. And so that's where the collateral requirement comes in. But adding things like unlock, adding other properties you prove, I think you can lower it for sure.
00:22:58.740 - 00:23:06.160, Speaker B: Can you go back to that Myerson reserve price for a second? Yeah. So wait, is that constant?
00:23:08.500 - 00:23:38.590, Speaker A: No. So this is actually for each distribution there is a Myerson reserve. And the Myerson reserve is x is you can think of the value little s is the density capital, s is the CDF of your value distribution. It turns out that this is called a virtual value. And the place where your virtual value is zero is like the minimum you're willing to pay given your value distribution to enter an option. If it's an optional option.
00:23:42.400 - 00:23:46.110, Speaker B: Is there any incentive for Google to promote this or someone?
00:23:46.800 - 00:24:20.660, Speaker A: No, I think the incentive should be that blockchains are going to be the place that people do this. And it's a value prop that you don't have outside of blockchain, but you can get fees, guarantees of the auction. Yeah, well, we're very far from ad auctions really being the scale. I'm impressed at this stage. Yeah, I'm not saying that's going to but any other questions? I guess launch time. Bye.
