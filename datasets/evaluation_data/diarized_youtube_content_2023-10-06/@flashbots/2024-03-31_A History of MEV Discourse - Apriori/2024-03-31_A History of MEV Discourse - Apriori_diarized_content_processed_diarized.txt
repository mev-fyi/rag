00:00:03.240 - 00:00:51.294, Speaker A: Good morning everybody. It's an honor and a privilege to be here. First, I'd just like to thank the Ethereum research community, the broader MEV community, flashbots and othermind for organizing the event, and in particular Tina Sen. The title of my talk today is going to be called path dependent topology of MeV discourse. An overview in part one we're going to talk about path dependence, kind of how we got here, and in part two, we're going to introduce a new concept, architecture topology separation. So what is path dependence? Path dependence is a concept in the social sciences, referring to the process where past events or decisions constrain later events or decisions. That is, history matters, past events or decisions affect future events or decisions in disproportionate ways.
00:00:51.294 - 00:01:58.846, Speaker A: And some MEV path dependents, such as priority gas auctions studying MEV, that is clockwork finance and the famous article Ethereum is Dark Forest, which described generalized frontrunners what do Mev Geth, Mev Boost and proposer builder separation, and then some control systems, order flow auctions, inclusion lists, and encrypted mempools. So MEV is real. The Flashpoys 2.0 paper in 2019 conducted an experiment that empirically proved the existence of MEV, and in particular, priority gas auctions were one key finding. Bots were competitively bidding up transactions, bidding up transaction fees in order to obtain priority ordering for Dex arbitrage transactions. And here's a visualization, and you can see on the y axis gas bids and guay and on the x axis time since start. But there are some negative externalities of the PGA's unnecessary peer to peer networking load, inefficient minor and searcher coordination failed.
00:01:58.846 - 00:02:29.244, Speaker A: Bids were reverting on chain, which led to a very poor user experience. I'm sure many of you in this room were familiar with that. And no granular preference expression for searchers. So what did he do about it? Studied mev. The clockwork finance paper was written by some excellent researchers at Cornell, and they attempted to define MeV and a couple of definitions you see here. I know you're probably familiar, so I won't go through them in detail. And there were a couple formalizations of MeV as well.
00:02:29.244 - 00:03:35.594, Speaker A: And then there was a great article written by the folks at paradigm called ethereum is Dark Forest, where they talked about a generalized frontrunner in the mempool and there was a rescue attempt of user funds who had sent some funds mistakenly to a uniswap contract. And so they used an obfuscation technique of sending a transaction first that was conditional and required to be executed before a second one. And the hope was there would be enough time to get that second transaction in before one of these generalized frontrunners saw it. But as it turns out, the generalized frontrunner saw the transaction and was able to claim the funding, claimed the funds that had been lost. And this became even more evident during Defi's summer in 2020, where you had high gas fees, both congestion and contention, and again, failed transactions on chain. So you walk in, see this what do example of the mempool in Budapest, Hungary. So the researchers at flashbots formed a collective, and they launched a product called MeV Geth.
00:03:35.594 - 00:04:10.084, Speaker A: And the goal was to move the PGA game out of the public mempool with the flashbots auction. And the flashbots auction introduced a new transaction type expressivity bundle merging and mega bundles. One of the challenges was it was a single client with about 90% minor adoption, and it wasn't merge ready. Also, the social contract between searchers and miners was loosely unenforceable. Now, there were complaints that were thrown in the discord at the time, and there were some folks tracking it internally, but it was very difficult to enforce these things. And here's an example of the topology. It's an imperfect picture.
00:04:10.084 - 00:04:55.458, Speaker A: Enter the MEV supply chain. The discourse advanced, and the MeV supply chain provided a new mental model on how to think about the interactions. Before we transition to proof of work, I want to hone in really clear here. The MEV supply chain describes the chain of activity, which helps users transform intentions into finalized state transitions in the presence of MEV. And I'm sure this is the meme that a lot of you guys know very well. But I think it's actually been very helpful to the broader community in understanding the network topology. It came with a warning, however, centralized dystopia, where each role in the flow would be verticalized.
00:04:55.458 - 00:05:55.924, Speaker A: So a searcher builder, proposer relay, all the same entity. And unfortunately, we are starting to see some of this verticalization today. However, really what we want is decentralized block building, or distributed building, allowing for competition at each layer in the stack. And this is one reason I think, that everybody should be very bullish on suave. This transitioned into merge ready mevboost. Some of the motivations were to wall off validators from MEv complexity, support client diversity, and introduce new actors, builders who had previously been taken the role by mining pools and relays. Some of the challenges are transaction censorship, relay attacks, missed slots and information leakage, and in particular, an unstable equilibrium such as generated by OFAC sanctions, relay dependency builder centralization, and the more recent timing games.
00:05:55.924 - 00:07:35.364, Speaker A: So there's been much discourse about proposer builder separation and much research within the community. There are many flavors of PBS single slot, two slot epbs with proposer timeliness, committees with relays, multiplicity gadgets, and also generalizations such as PEPC, PEPC Boosts, PEPC DVT, and Diet PEPC. Around the same time, more and more MEV management solutions or ideas came into the fold in the discourse, such as order flow auctions, which Nathan just talked about, encrypted mempools, which are great for front running protection and censorship resistance, and there are many different types of encrypted mempools. This is taken from Justin Drake's presentation on encrypted mempools. Check out the slides after for more details and inclusion lists again, an active area of research which allows proposers to force builders to utilize the available block space, and if they can't do so, they must use the unused space for proposer selected transactions. And again, the research community is very strong and the discourse has centered from starting with CR lists to Mevboost plus plus forward inclusion lists, no free lunch, cumulative non expiring inclusion lists, EIP 7547 concurrent block proposers and recently released last week committee enforced inclusion sets. So now we're here, we're starting to see the emergence of intents solvers and off chain marketplaces for counterparty discovery.
00:07:35.364 - 00:08:23.278, Speaker A: So what does this look like? And what is a useful mental model for this? So now I'm going to talk about how we think about intents adenoma and this concept of architecture. Topology separation sponsored by the Rainbow stakers of Ethereum. Shout out to Barnaby. So unbundle everything. So what is architecture? According to Wikipedia, network architecture is the framework for the specification of a network's physical components and their functional organization and configuration, its operational principles and procedures, as well as communication protocols used. The topology is the arrangement of elements, links, nodes of a communication network. So what's a simpler example? Imagine that you are designing a city.
00:08:23.278 - 00:09:31.974, Speaker A: The architecture is the overall plan for the city, including where everything is supposed to be and how it all works together. And the topology is how you decide to connect to everything, roads, bridges, parks, determining the best way for people to move around the city. Ethereum's architecture the architecture is like the protocol stack. It defines the core components like the EVM accounts, transactions, blocks, consensus. It specifies high level system design principles and interactions, and it includes features like smart contract languages, EVM upgrades, and eips. Ethereum's topology is how the network works in practice and describes organization interconnections of different node types, outlines roles like full nodes, light nodes, miners validators illustrates flow of data and transaction between nodes, and it's designed to support core functions like transaction propagation, consensus, and execution. So briefly, what are intents? A colloquial definition of intents are credible commitments to a preference function over a shared state space, or more mathematically, atomic flow constraints.
00:09:31.974 - 00:10:12.276, Speaker A: And here's a definition that we describe in our recent research. If you check out art dot anoma.net, you can find this in the intent machines report. We formulate intents as a pair consisting of transition function and a partially weighted predicate over state transitions. The guiding intuition for this formulation is to separate control from desire. Warning, intents are not magic there's been a lot of hype around intents in the discourse, and I just want to pose this warning that skepticism is good. Read people's specs, read the code base, be skeptical, challenge us.
00:10:12.276 - 00:11:03.844, Speaker A: Challenge folks that say they can settle your intents. So I'm going to make a claim in a sufficiently generalized intent centric system, even ethereum the game theory incentive analysis is mostly a function of the topology, not really of the architecture. If you fix the variable of the architecture, incentive structures are a function of the topology. Intents decouple architecture and topology intent centric architectures like Enoma provide a specific way of organizing subcomponents into a structure designed to serve the purpose of the overall system. A couple examples are peer to peer routing and transaction execution. So what do we mean in peer to peer routing? Traditional architectures have peer to peer routing hard coded into the mempool protocol. Tendermint mempool is like a great example of this, and you can see this today with some of the spam issues that are ongoing in testnets like barachain.
00:11:03.844 - 00:12:03.248, Speaker A: Intent centric architectures separate p two p routing into a subcomponent. It allows different implementations, prioritizing speed, programmable disclosure, and other things. We also have a paper on this, so see me after if you're interested. Transaction execution is traditionally tightly coupled with consensus and data storage decouples, counterparty discovery and settlement, which enables different execution environments like the EVM, which we all know and love, the Solana virtual machine move, or the anomaly resource machine. Intent centric roles and responsibilities, explicitly defined based on intents, allows programmable configurations with dedicated nodes for routing, solving, execution, and consensus, and promotes flexibility for different users communities to experiment with suitable topologies. So let's do a thought experiment. So we'll do MeV market conjectures and refutations.
00:12:03.248 - 00:12:45.664, Speaker A: I had to get the word market in here, so we'll go over order, flow, trust, and opacity. These were three excellent concerns put forth by Quintus and Georgios in a recent piece I believe came out around May or June this year. So this is a meme from machine from flashbots. You can see intents and solvers, MeV dystopia and centralization coming in in the trojan ores, right? So these things are cool, but they come with risks. So here's an order flow conjecture. If intent execution is permissioned and permission set is not chosen with care, the migration out of the public mempool threatens to centralize block production on Ethereum. This would be a terrible outcome.
00:12:45.664 - 00:13:33.578, Speaker A: Here's a potential refutation users monitor intent execution and switch away from bad operators by evaluating performance incredibly threatened to leave. This would be what we call the slow game or hold accountable. You can think DyDx slashing committee due to network effects, users must coordinate to collectively switch operators as needed. Operators will try to lock in users and extract MeV trust, as many solutions require trust in intermediaries. Development of new intent based architectures is hampered by high barriers to entry, implying lower rates of innovation and competition to ensure execution quality. We already see some of this today. Trust refutation topology depends on what trust relationships the protocol can model.
00:13:33.578 - 00:14:28.416, Speaker A: Noma aims to standardize the protocol to model diverse trust relations explicitly. Users to send intents initially to friends or local community pools, even before sending to the Coinbase megasolver, though they can still do that if they would like to. Configurable nodes for different roles should lower switching costs and making the long term incentives transparent. Opacity, as many antenna architectures entail, the user surrendering some control of the on chain assets, and permission mempools imply a degree of impenetrability from the outside. We risk building an opaque system in which it is unclear how or whether users expectations are met and threats to the ecosystem remain undetected. Opacity refutation intents define their own settlement conditions, controlling what routing disclosure happens within the network. Back to the user intents can require signatures from gossip nodes or encryption of data and information flow control.
00:14:28.416 - 00:15:09.082, Speaker A: Precise control over information flow is probably table stakes for intent systems going forward. It's not optional, so some conclusions from this talk the MEV discourse in decision making is path dependent. Intents decoupled protocol architecture from topology the architecture topology separation removes monolithic constraints if you fix the variable of the architecture. Incentive structures are a function of the topology. User choice, monitoring and incentivization ultimately determines system behavior. Wait, it's all architecture? Topology separation. Always has been.
00:15:09.082 - 00:15:20.354, Speaker A: And one last bonus. See, I know what you're thinking. Actually, I've been thinking this ever since I got here. Ethereum is an excellent settlement option for Noma from an architectural perspective. Thank you.
