00:00:02.640 - 00:00:52.946, Speaker A: So this talk is going to be about who wins Ethereum block building auctions and why. And this is a paper we did with Danning from flashbots and Thomas from Ethereum foundation. And today we're going to introduce you our findings and so on. So, yeah, we kind of all know that the amiibo boost market is dominated by three builders. Well, back in the days when we did the study, right now, two builders. But if you look at their profitability in terms of their profit margin from each block and their total profits, and then put this into a bubble plot, which the size of the bubble also shows their market share, we get a distribution like this, which we have Titan, Rsync and Beaver having these larger bubbles. But we also see these other builders who are these anon guys or icannas block.
00:00:52.946 - 00:01:49.234, Speaker A: And thank you for the block, which have much smaller bubbles, which indicate that they have much less market share, but they're pretty profitable. So then we know that the market, in its current shape, with these three builders dominating it, is vulnerable to censorship. And we kind of need to have to promote competition in the market or come up with these censorship resistance preserving solutions. And the point of this paper is, okay, let's try to understand how do these guys actually win the auction and how they become profitable. And we think there are different features for both of these aspects. And that's why we break the question into these two parts. And before jumping into our analysis and results, let's briefly remember how the mev boost auction was working, and how you win the auction, actually.
00:01:49.234 - 00:02:50.466, Speaker A: And what we know is that from a builder's point of view, like, let's say this is t minus twelve. So 12 seconds before the block is proposed, the guy has his mempool view, and transactions over time come into his mempool. And each transaction simply pays a transaction fee. So brings a value to this builder. And we know that this transaction fee, plus some other factors like how much profit margin the builder wants to keep, time in the slot we are, and subsidy strategies or other builders bits kind of get all put into this bidding function, which then simply outputs the bid that the builder places on the relay. And we know that over time, builders observe other bids and reflect their values because more transactions come into their mempool, maybe through exclusive channels. And at the end of the day, the proposer simply says, okay, I want to now propose this block.
00:02:50.466 - 00:03:33.148, Speaker A: So calls this get header endpoint. And this simply returns the highest value block to the proposer. Of course, to understand how the value simply increases like this, we need to understand, ok, where does this value come from? We know that this is coming from these transactions which are enumerated right now. But of course every transaction is not the same. These transactions have different objectives, potentially different transparency levels, whether they were seen in the mempool or I exclusively relate to the builder. So then we need to really identify, okay, what transactions bid for Ethereum block space today. And then it is going to show our taxonomy for different labels that we introduced.
00:03:33.148 - 00:04:18.976, Speaker A: But our main methodology for the paper is simply it has two parts. We first break down the mev boost market, so we decompose it into three parts. Like first an overview of the whole market, then looking into specific order flow labels and their significance. And then finally we identify different builder strategies. And the whole point is we try to find those features which are associated with being successful in the auction. Which means that does it have any meaning for winning the auction, like gaining market share, or does it help you with keeping profits? And yeah, this will be the final results that we will share with. So let's start with the amoeba boost decomposition.
00:04:18.976 - 00:04:50.280, Speaker A: So first we look into the builder market. And the first slide that I'm going to show is just going to be focusing on BRT or Beaver arsing and Titan. And you will see this acronym throughout. And first, let me just put out these three charts. And the first one is simply showing their market share over time. And yeah, we know that this is increasing. We find that like on a daily average they have the 80% of all blocks produced, but this is right now around 90%.
00:04:50.280 - 00:05:37.010, Speaker A: I guess what is more interesting here is potentially this cumulative profits over time. And like this green line is standing for beaver, the orange is for arsing and purple is for titan. And we see that like Rsync, although having a higher profit, higher market share than titan, seems to have less profits here. But of course, take this with a grain of salt, because this is only looking at the on chain profits. And like if you're an integrated builder, potentially profiting from your searcher, well then this is not currently accounting for that. And then the other thing is, of course, a builder may have a payment for order flow deals with providers. So then yeah, you might be making this much on chain, but you might also be paying back to the provider.
00:05:37.010 - 00:06:26.024, Speaker A: So this number may not be super accurate, but it gives us an idea. For example, you can see that Titan really just takes off from this February onwards. And Danny is going to share a chart about why that might be the case. And one interesting thing here is that if you look at their daily profit margins over time. Beaver and Rsync have this more consistent lines every day, but Titan actually has more dips, like more lows, or even days with negative profit margin overall. And we think this is because Beaverbuild and Rsync are known for running their own searchers, so they have this consistent stream of order flow coming, whereas Titan is more dependent on external providers. So the order flow may not be as consistent.
00:06:26.024 - 00:07:24.944, Speaker A: So then they might have these more fluctuating profit margin over time. And if you look at other builders as well, in our study, which covers from October 2023 to April of this year, so, like a six month period, we see that, like, ten builders overall have around 1% market share. And these ten builders build around 97.6% of all blocks, but they only actually earn around 83% of the whole profits, which means that there are builders outside this top ten which have small market shares, but they're actually good at making profits, which is also what we show in that first chart. And the rest of the charts, at least in this presentation, is mostly going to focus on the top ten builders. But actually, in the paper, in the appendix sections and so on, you can find the metrics for the other remaining builders as well. So now Danning is going to continue with our taxonomy for the order flow labels, right?
00:07:24.992 - 00:08:07.700, Speaker B: So we build a system to label out the composition of different aspects of the transaction on a transaction level. For these six months, all the blocks on Ethereum, we have two, I guess, like separate type. One is transparency labels, one is order flow labels. And so transparency label really is to indicate how private or how exclusive the transactions are. We're using basically the flashbots Mempool dumpster open source data. Whenever we see the transaction was included in one of those public mempool source, we're labeling it as a public signal. And for any transaction that was not seen ever in any of those six manpool sources, we'll label it as exclusive signal.
00:08:07.700 - 00:09:01.472, Speaker B: Caveat here is that it doesn't mean it's really exclusive. We don't know how exclusive it is. It could be private to maybe one or two searchers, or to multiple builders, but it was never seen in a public mempool. And we specifically labeled out ofa bundles aside with these two labels, because we think ofa bundles are kind of like different. They are neither a public transaction, because usually the user transaction are sent privately towards a OFA endpoints, but they were seen by some searchers, so they are somewhat public to the set of searchers who are searching on those platforms and particularly for example like map blocker, they are committed to be a permissionlessly, how to say, endpoint. So any searcher can potentially basically subscribe to their stream somewhat public. So yeah, we try to identify them separately from public and exclusive.
00:09:01.472 - 00:10:19.530, Speaker B: And so for order flow labels we have this seven big categories including mev, Telegram, bar flow solver model, sex swap, flow ofa bundle backgrounds and other. So for mev we had a breakdown. Further to identify if it's atomic arbitrage or non atomic obturation or sandwiching or liquidations combining with a few state of sources including zero math and like a few heuristic data set on dune and also our own self developed heuristics for non atomic obtrude, which primarily meaning to indicate sextext arbitrage. And for telegram bot flow, we have a data source that covers a wide list of the telegram bots on Ethereum, including for example like banana gum maestro and others. Solver model we cover one inch of fusion cow swap and you swap x. We separate them from the retail swaps because they have a different type of submission process or like how to say lifecycle compared to all the normal transaction that are submitted by the retail users through wallets and sexys are basically all the centralized exchanges who are sending deposits to their users. When the user are basically trying to deposit on chain, for example like finance and coinbases.
00:10:19.530 - 00:12:20.392, Speaker B: Swapflow includes first retail swaps which we are basically trying to identify based on the known routers for the major Dexs or Dex platforms, Dex router aggregators as well for other swaps that we are seeing potentially generically under a uniswap v. Two router or other unknown routers, we will categorize them as just like bot swap. This is potentially capturing also some meme transactions that were missing from the previous heuristics and of a bundle are identified based on the same heuristic we were labeling for the transparency labels where we basically assume how to say a set of three transactions adjacent to each other, where we see user transaction first and then followed by a searcher background and also a refund transaction. We also extended to consider the case where sometimes the searcher may add their background and refund many transactions afterwards. Mostly we're combining using map block and flashbots map share transaction on dataset on Dune and for all the other transactions that we didn't identify, we'll just simply default to the public or exclusive signal label. So yeah, so here are some results or data, um, that we observe, um, the first slide here that we are looking at is basically looking at the transparency label distribution, um, measured by uh, on the left side, the me value, which means like uh, just to define me value here quickly, uh, we're calculating basically all the gas priority fee and also the um, builder tip, which is basically forwarded through the Coinbase transfer method in mat boost. Um, so combined together, we call them mev value, which are basically the value paid out to proposer, um, this, yeah, this may not mean the whole mev value that the order flow contains, because some of them might be actually taken or populated by the builder or the app owners or other sources.
00:12:20.392 - 00:13:52.688, Speaker B: And on the right side, this is a gas share. So basically how much gas does these transactions consume or basically how much block space they take? And the interesting observation here first is it kind of follows a pareto rule where you see that the majority of the transactions who are basically labeled as public signal as the green blue, are taking up most of the block space, maybe more than 80%, while contributing much less values compared to all the exclusive signals. So basically we're seeing like exclusive signals are providing 60, 60% of all block value while only taking up 19% of all the block space. And if we look at all the across all the blocks fluctuates, they constitute 71% of all block value in more than 50% of the blocks. And of course we also see that OFA bundle overall is very much less adopted here and we barely can see them in a chart. And then the next one is to observe the transparency distribution across different order flow type across transactions or also how much acquisition in terms of like private order flow across different builder on the right side. So on the left side we're seeing that, it's interesting, from bottom to the top we're seeing that the order flow, including non atomic arp and other exclusive order flow sandwiching, atomic arb liquidation, which are all mev transactions.
00:13:52.688 - 00:15:01.320, Speaker B: They are pretty much mostly all exclusive signals. So searchers are by default sending those privately towards builders. So to not be seen in the public manpool to reveal their strategies or being attacked or by other people. Um, so uh, another big category we see here is telegram bots, um, where um, they're also showing more than 90%, um, in terms of the uh, in terms of the value are being sent um, exclusively. Um, they are able to do this because the users are sharing private, uh, private key with the telegram bots. Or basically the telegram bots generates a wallet and uh, preserving the private key for user submitting transaction for user, um, that's why they are able to basically submitting transaction for user and decide for user. And besides that we also see solver model which is when user goes to potentially uniswap one inch and Callswap, they have the options to basically settle their transaction with the solver model where a bunch of solvers are trying to compete to quote for the best price across different liquidity on dexs, amms or even private market makers.
00:15:01.320 - 00:16:19.250, Speaker B: Where we see that the submission for all these solar models are also dominantly private and among the rest of the order flow, for example like retail swap, we can also see around like 15 more than 10% adoption for private order flow, potentially because users are using private RPC to avoid some big slippage causing by the mev actions. We also see sex deposits are pretty much all public just because they're naturally, how to say, immune to any price relevant mimi strategies. On the right side, we're seeing the builder list from bottom to top ranked by their market share. So the lower they are, the higher market share there are. So beaver is the highest market share builder here and we're seeing that generally the builder with more private order flow or basically exclusive signal are going to have a higher market share. And we see that like BRT, the top three builders are receiving the highest relative value from exclusive flow, exceeding 65% of their total. And among all the remaining builders, their value can range from 1% to 91%.
00:16:19.250 - 00:17:47.212, Speaker B: So here is a next chart where I call it like order flow treasure map. I think this is an interesting chart for everyone because this is we're trying to basically break down all the transactions by order flow type how much mev value they are paying or contributing towards the proposal revenue and comparing with the chart on the right side, how much gas share actually they are consuming or basically how much block space they are consumed for user. It's interesting, basically this is how much you are paying and or potentially you might be overpaying for the apps of this might be potentially how much value you are left out on the table or for anyone or any team is basically trying to acquire more order flow to increase whatever their builder market share or any other potential value. This is the customer you would want to go after. So just to examine the charts here, we also seeing somewhat like a 80 20 divide. You see the red and the pink are basically retail swap and other public flow which constitutes around like 70% of block space, but yet they're contributing around like 30% total of mev value. Meanwhile, we're seeing that the most prominent me value from this six month data period comes from Telegram bots, which is a lighter blue on the left side of the chart.
00:17:47.212 - 00:18:46.068, Speaker B: And then the next one as a top value mev flow is sandwiching, and then next is boss swap, and then the next is non atomic arbitrage. And among them, you would see that sandwiching and non atomic arbitrage are really taking up at most 2% of the block space, while contributing around 20% each for the me value. And we see telegram botflow and MEV order flow cumulatively contribute 51% of all the block value while consuming 10% of total gas. More valuable flow is exclusive submitted and blocks are filled with less valuable public flow. And we also on the right side, we have a breakdown of all the top builders and their order flow composition, breakdown of different type. And we're pretty much seeing that everyone has a various source of order flows. A good diversity of order flow as being the top builders and the BRT.
00:18:46.068 - 00:20:11.918, Speaker B: So basically, the top three builders, they have significant, significant value coming from the valuable order flow, meaning telegram bot, sandwiching, bot swap and non atomic arp. So here is just another timeline view of the top three builders and what are the significant exclusive order flow provider for them. So basically, when Zoom into all the exclusive order flow provider, we identified this seven order flow providers as a top one of contributing the value. So Jerry from subway, which is the most famous and like the most successful by profitability, atomic searcher and banana gun, telegram bot and ofa order flow from flashbots, protect and map blocker and maestro, telegram bot and SCP's non atomic arp, and Wintermu's non atomic arp. And we can pretty much see, it's very evident that the yellow, which is the SCP flow, are only, how to say, seeing in the beaver blocks, and also contributing a quite a high amount of me value, which is around 20%. And the darker yellow, which is the winter meal flow, are only seen in the Rsync blocks, contributing around 20% to 40% of mev flow. And we also see that all these three top builders, they all have generative flow, banana gun flow, and other ofa flow.
00:20:11.918 - 00:20:41.950, Speaker B: But we observe that the orange, which is the banana gun flow, somewhat spiked up around February in Titan's block, particularly, which in correlation was their spiking up profitability charts, which is a dotted line here. Usually, cumulative time series is a chart crime. But here, I think it's interesting for us to observe this correlation. So. Yeah. And Barack will continue with more summary about the builder strategies.
00:20:43.360 - 00:21:15.130, Speaker A: I have this one. Okay. Okay. This is going to be fast. All right, so what we try to do then is that, like, after measuring the significance of the order flow labels and these builder strategies that I'm going to show, we will all tie it into like finding which ones are correlated with winning the auction and which ones are correlated with making profits. But simply to go over these builder strategies, we identified four of them. One of them is block packing.
00:21:15.130 - 00:22:15.730, Speaker A: So we look at which parts of the block provide how prominent value to builders. And we have top of block, indicating the top 10% body of block, the 80% in between. And then end of block is the bottom 10%. And we see that top of the block is providing the most significant value to all top builders except penguin. And when we look into what resides in top of block, we see that more than 50% of all exclusive transactions are residing here, providing around 88% of the all exclusive value. And we also see, interestingly, that titan gambit labs and Penguin also have a relatively significant end of block value, which could indicate that they allow searching the end of their blocks. We also see that on the subsidy profiles, some builders, like flashbots or Builder 69, are really not subsidizing, whereas some lower market share builders adopt this subsidy strategy.
00:22:15.730 - 00:23:12.030, Speaker A: But we see that profitability is usually also increasing with market share there and then. Danning already talked about exclusive order flow access, so I'm going to skip over that for now and then. We also have some metrics about latency and bidding, and specifically strategies such as cancellations. We observe them to be adopted by, again, by these more successful builders. And if we come to the results, the first result we find is that the diversity of order flow correlates with the market share. So builders who have more diverse order flows, which we calculate using Shannon entropy, also have higher market shares. And this could be potentially because these builders gets order flow from different providers, which simply make them more competitive or competitive more frequently than a builder who only gets order flow from their own searcher, or maybe from a single source, so they can't win the auction that often.
00:23:12.030 - 00:24:04.212, Speaker A: And we see that these smaller market share builders, they usually have a single order flow label, which is extremely prominent for them, and we see that this is then negatively correlated with their market share. We also find that 55% of the builders have this provider, which we call as an exclusive provider, which is a provider that is only significant for a single builder. These columns with a single color cell indicate this. We use some machine learning models to detect this. So you can see the classic beaver built SCP or Rsync winter mute here, but also other searcher and builder integrations. And we see that builders who have such kind of providers are actually more profitable in general than the builders who don't. Because the idea is that if you have order flow that the others cannot access or don't have, then you can keep profits and you can simply become more profitable.
00:24:04.212 - 00:25:02.264, Speaker A: And then finally, we use all these features that we initially identified and looked at, which ones are correlating with market share and which ones are correlating with profit margin. And we see that there are a lot of overlaps and actually there is a positive correlation between these top ten builders market share and I profit margin as well. And the result we converge into is that there is this chicken and egg problem, which also other works have highlighted that is like, if you want to be profitable, then you need to access order flow from these providers, which are usually not really providing order flow to everyone else. So it's like kind of differentiating you. But then only builders with high market share can get access to such order flow. And yeah, in the paper, we discussed some solutions for protecting ethereums, censorship, resistance and neutrality, which Mike also mentioned. And yeah, again, I'm just summarizing our contributions here, and the paper will be featured in aft this year.
00:25:02.264 - 00:25:06.940, Speaker A: And this is the archive link for the paper. And that's going to be all for now. Thank you.
00:25:12.440 - 00:25:26.594, Speaker C: I have a question. My understanding of the telegram bot arrangement is that there is some refund that happens. Do you think that your methodology is overestimating the importance of telegram bot flow because it just counts like what you can see on chain?
00:25:26.722 - 00:25:57.080, Speaker A: Exactly, exactly. That's a limitation that we also mentioned. So like the tight end profits, for example, we showed. That's for sure an overestimation because they probably pay back some amount. It's hard to, I guess, estimate like, what is the ratio there? But definitely that's like a nuance that we need to consider that like that on chain payment that is done by, say, banana gun to Titan is definitely not just python keeping all of it. So, yeah, it's definitely like an overestimation.
00:25:58.100 - 00:26:04.920, Speaker C: Do you think there's some way to maybe tease out what the actual fair value they have for the block is based on their bidding behavior or.
00:26:05.660 - 00:26:52.170, Speaker A: Good question. I think it's like we need to look at the frequency of this order flow appearing in blocks. And when it occurs, potentially this might indicate something about how much they value or what is the significance of that order flow. But yeah, I don't know. I have to look into. One thing I looked into was especially for some subsidizing searcher builders, why are they subsidizing? And we actually see that when they have their searcher flow in blocks, they subsidize much heavier than when they don't. Which then if you take the difference, you can think it as, okay, the subsidy difference could potentially be their searcher profits.
00:26:52.170 - 00:26:54.646, Speaker A: Yeah, upstream.
00:26:54.838 - 00:27:32.830, Speaker B: I think there's two layers of answers to that question. So first of all, if there's always going to be a closed door deal and the payment is happening off chain, then it's impossible for us to really identify what c value our distribution are, but also what is the fair value? I think even right now with basically the integration or the payment for order flow between this kind of arrangement, they may not paying the fair value, they might be overpaying until there might be competition between the builders who are basically handling the order flow. So I think that can be also interesting with some redistribution refunds kind of research as well. Yeah.
