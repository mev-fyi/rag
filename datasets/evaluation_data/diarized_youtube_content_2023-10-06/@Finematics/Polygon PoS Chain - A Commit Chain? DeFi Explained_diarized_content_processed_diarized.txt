00:00:00.250 - 00:00:55.390, Speaker A: So what is a commit chain, how is it different from a sidechain? And what makes polygon commit chain a commit chain rather than a sidechain? We'll answer all of these questions in this video. Before we begin, if you want to learn more about decentralized finance and the technology behind it, make sure you subscribe to my channel, hit the bell icon and enable all notifications. You can also consider supporting us on Patreon and joining our DeFi community. Let's start with understanding what exactly a sidechain is. A sidechain, in essence, is a separate blockchain that can be used as one of the ways of scaling a layer one blockchain, such as ethereum or Bitcoin. As the name suggests, a sidechain runs in parallel or on the side of the main chain. Sidechains have their own consensus mechanisms, usually in the form of proof of stake, delegated proof of stake or proof of authority.
00:00:55.390 - 00:01:48.906, Speaker A: Sidechains allow users to send their tokens from the main chain and receive them on the sidechain. Once the funds are transferred to the sidechain, they can be used within the sidechain ecosystem. Similarly, users can withdraw their tokens from a sidechain back to the main chain. The whole process is called a twoway peg or a twoway bridge. Things to note is that once the user tokens are on the sidechain, then they are completely reliant on the consensus mechanism of the sidechain. Initially, all scaling solutions such as sidechains, plasma and rollaps were classified as L2 solutions as they are built on top of layer one. After a while, the ethereum community started differentiating between scaling solutions fully secured by the ethereum main chain, L2 and other scaling options with their own consensus mechanisms.
00:01:48.906 - 00:02:46.622, Speaker A: Sidechains at the moment, pretty much all scaling solutions are classified as either one or the other. When it comes to polygon commit chain, it is worth differentiating it from a sidechain as it has a lot of extra features that rely on the security of the main ethereum layer. Let's review them one by one. Permissionless validators on Ethereum many sidechains use a consensus mechanism that limits the number of entities able to verify the chain. For example, in a delegated proof of stake there are usually 21 validators who are chosen by the token holders and only these validators are able to validate the state of the blockchain. Similarly, in a proof of authority model, the chain initiator chooses authorities to run the chain. This excludes most participants and creates a situation where only a selected few are responsible for making sure the transactions are validated correctly.
00:02:46.622 - 00:03:33.098, Speaker A: In polygon commit chain, anyone can join the network and start validating the state of the blockchain. This is important as it allows any participants to become validators and check by themselves that all transactions are processed correctly. Validators on polygon POS chain have to stake their matic tokens and run a full node. Matic tokens are staked on the ethereum main chain. This is also where the set of all validators is maintained. If a validator starts acting in a malicious way, for example by double signing or having a significant downtime, their stake is slashed. This is also a good time to introduce two core components of the polygon POS chain architecture Heimdal chain and Borchain.
00:03:33.098 - 00:04:24.430, Speaker A: Heimdal works in conjunction with the stake manager contract deployed on the Ethereum Mainnet to coordinate validator selection and updating validators. Since Staking is actually done on the Ethereum Smart contract, we don't have to rely on validator honesty and instead inherit Ethereum chain security for this key part. Even if a majority of validators collude and start acting maliciously, the community can come together and redeploy the contracts on Ethereum to fork out. For example, the malicious validators and the chain can continue to operate as intended. Heimdall is also responsible for checkpointing. More on this later in the video. Bor is the block producer layer of the POS chain architecture that is responsible for aggregating transactions into blocks.
00:04:24.430 - 00:05:03.514, Speaker A: Bor block producers are a subset of the validators that are periodically shuffled by the handle. Validators block producers are selected to validate blocks only for a set number of blocks, also called span. After this time period, the selection process is triggered again. Let's have a closer look at the process of selecting block producers. Let's suppose we have three validators in the pool, and they are Alice, Bill and Clara. Alice staked 100 matic tokens, whereas Bill and Clara staked 40 matic tokens. Each validators are given slots according to their stake.
00:05:03.514 - 00:05:47.370, Speaker A: As Alice has 100 matic tokens staked and there are 20 tokens per slot maintained by validators governance, Alice will get five slots in total. Similarly, Bill and Clara get two slots in total. All the validators are given these slots. Using the historical Ethereum blocks as a seed, we shuffle this array. After shuffling the slots using the seed, we get this array. Now, depending on the producer count maintained by validators governance, we pop validators from the top. For example, if we want to select five producers, we get the producer set as a B AAC.
00:05:47.370 - 00:06:38.726, Speaker A: Hence, the producer set for the next span is defined as the following using this validator set and tendermin's proposer selection algorithm, we choose a producer for every sprint on boar. This model allows anyone to participate in securing the network with any amount of matic tokens. It also doesn't sacrifice the speed of transactions, as not all validators have to validate blocks all the time. Let's go back to the other important function of heimdall checkpointing. Checkpoints are important as they provide finality on the Ethereum chain. Heimdall layer allows for aggregating blocks produced by Bohr into a single merkel route and periodically publishing it to the Ethereum main chain. This published state is also called a checkpoint.
00:06:38.726 - 00:07:35.178, Speaker A: Hence, the whole process is known as checkpointing. Checkpoint proposers are initially selected via tendermin's weighted round robin algorithm. A further custom check is implemented based on the success of checkpoint submission. This allows Polygon POS chain to decouple from Tendermint proposer selection and provides it with abilities like selecting a proposer only when the checkpoint transaction on the Ethereum Mainet succeeds, or submitting a checkpoint transaction for previous blocks if the checkpoint transaction failed. Submitting a checkpoint on tendermint is a two phase commit process. A proposer selected via the abovementioned algorithm sends a checkpoint with their address in the proposer field and all other proposers validate it. The next proposer then sends an acknowledgement transaction to prove that the previous checkpoint transaction has succeeded on the Ethereum mainnet.
00:07:35.178 - 00:08:30.938, Speaker A: Every validator set change will be relayed by the validator node on Hamdal, which is embedded onto the validator node. This allows Hamedal to remain in sync with the Polygon contract state on the Ethereum Mainet at all times. The Polygon POS chain contract deployed on the main chain is considered to be the ultimate source of truth, and therefore all validation is done via querying. The Ethereum Main chain contract checkpoints also provide proof of burn in the withdrawal of assets. Speaking about withdrawals, let's have a look at another important element of the POS chain the two way Ethereum bridge. Typically, twoway bridges rely on a small set of authorities which are often not even staked nor part of the sidechain's validator set. Basically, bridges are often operated, in other words, controlled by several POA signers.
00:08:30.938 - 00:09:25.738, Speaker A: This is a significant security concern. Polygon provides two separate ways for moving assets between Ethereum and Polygon plasma Bridge and the POS Bridge. Plasma Bridge provides increased security guarantees due to the plasma exit mechanism. However, there is a seven day withdrawal period associated with all exits caused by certain restrictions in the plasma architecture. The POS Bridge doesn't have this restriction, and it is secured by a robust set of validators that we discussed earlier in this video. The state of these validators is maintained on the Ethereum Main net and they are secured by all the funds staked in the system around $500 million at the time of making this video. To the best of our knowledge, the POS Bridge is the only bridge secured by the whole validator set of a breached chain.
00:09:25.738 - 00:10:01.210, Speaker A: Bridges are normally secured by a small set of POA signers, as already mentioned earlier. As we can see, Polygon POS chain offers a lot of extra security measures based on the Ethereum Main chain and is not just a mere sidechain. Perhaps a commit chain is a better name for it. So what do you think about Polygon commit chain? Do you think it's valuable to differentiate it from a sidechain? Comment down below? And as always, if you enjoyed this video, smash the like button, subscribe to my channel and check out Phinematics on Patreon. Thanks for watching you. Bye.
