00:00:11.690 - 00:00:14.814, Speaker A: Cool. I think we can kick it off here. Can everyone hear me?
00:00:14.852 - 00:00:15.440, Speaker B: Yeah.
00:00:15.810 - 00:00:33.542, Speaker A: Guys are good. All right. Welcome to the ecosystem. Wednesday call. Today we have a really special call. We're actually live from Dapcom, so I'm in person with Master Cow from the cow team. Master Cow is going to do a walkthrough today.
00:00:33.542 - 00:01:09.470, Speaker A: A demo of a recently launched feature on cowswap. Cow finds the lowest price for your trade across all exchanges and aggregators, such as Uniswap and one inch, and protects you from Mev. They recently launched the time weighted average price Twap orders. It's available now as an advanced order type in the cowswap order interface. Mastercao is going to show us the ins and outs of TWap order feature. And the feature, of course, is live on cowswap on gnosis chain right now. And a little background about cow.
00:01:09.470 - 00:01:28.620, Speaker A: Cow is no stranger to gnosis. Cow protocol was incubated by gnosis, and they've since spun off as the cow Dao, and their reputation precedes them. So no need for a long winded intro. With that, I'm going to hand it over to Master Cow. Take it away.
00:01:31.230 - 00:01:51.550, Speaker B: Thank you. Thank you, John. Glad to be here demoing at Tapcon with the nosis fan. And, yeah, let's get ready through it. Let me share my screen and please tell me if people see my screen. Okay. Yeah.
00:01:51.550 - 00:03:26.670, Speaker B: So we recently just launched TWAP orders, and as John said, TWAP orders stands for time weighted average price. And this allows you to split up your large trade, or whatever trade you want into several parts that are going to be executed through the time frame that you actually put into the UI. The benefit of this is that you can customize your order size and expectations, and it also allows you to reduce your order slippage by breaking the order into smaller ones. The one thing that we need to take into consideration is that TWAP orders are part of this new feature that we launched, which is called composable cow, which basically allows to turn your safe into an autonomous trading agent. And in order to do this type of fancy orders or fancy execution, we need to actually set up a custom safe fallback handler. And in case you don't know what a safe fallback handler is, basically a new contract that allows your safe to understand and be able to do more complex on chain logic, because the whole idea of the safe was to allow this programmability for anyone to kind of do whatever their use case applies for. But instead of using the default features, they leverage this fault to allow anyone to create this custom sign.
00:03:26.670 - 00:04:23.680, Speaker B: So TWAP is one of the first implementations of a custom fallback handler that will allow us to actually place these orders. So this is what the trading interface looked like. It's kind of similar to the normal swap market order where you have your sell token, your buy token. You have the price protection, which in this case is the protection that if the price dips, the order won't execute the number of parts that we want to break our TWAP order in the total duration of our twelve. This is how long the orders are going to be valued for and then basically breaks down the total duration by the number of parts that we have. So in this case the default is 1 hour and we have two parts. So that means that the orders are going to execute every 30 minutes.
00:04:23.680 - 00:05:01.760, Speaker B: But in order to actually use the safe, sorry, the TWap orders, we need to create a safe. So we're going to do this from scratch. And I already have my metamask connected on Nosischain and we go to the safe app safe global. Welcome. Create new safe account and let's say twap them to the top is the name. Next. Here I'm going to add another owner, which is the metal ask I have here.
00:05:01.760 - 00:05:30.306, Speaker B: Copy it. Here we have it. Perfect. One out of two signers. Well actually I'm going to add three signers so that we see the most common use cases. And what I'm doing is not really a safe practice, but just for the purpose of the demo, I'm just going to make it easy. But this is not recommended behavior.
00:05:30.306 - 00:06:09.060, Speaker B: So here we have the Mastercard and we go next. In this case, this is great because we can either choose to pay with the connector wallet, or because nonsys is sponsoring the transactions by using a relayer. This is going to cost me $0 even though it was going to cost me very few. Even better, I have to pay for it. So next. And the transaction is being executed. So just waiting for this to happen.
00:06:09.060 - 00:07:06.000, Speaker B: Okay, we now have our save deployed. Got it. So the first thing that we're going to do is copy. We can see in the nausea scan the address of our safe. And basically what I'm going to do is transfer the money that I have prepared for this demo into this account. So here we manually check and yes, it's the 200 next project and it has failed. Interesting.
00:07:06.000 - 00:08:05.660, Speaker B: It of course problems of the live demo 200 maxi. Let's go with aggressive. Okay, pending, pending, pending, confirm. So now we should see that the balance is 200 die and now we are ready to use t Wa orders. Also, I don't know if anyone has questions, but if anyone has in the meantime, just feel free to I guess I don't know the procedure on these type of calls, but maybe on mute and just ask me. And here it's important to clarify two things. You can use TWaP orders from the cowswap interface by connecting your safe via wallet connect d two.
00:08:05.660 - 00:08:49.334, Speaker B: But this is usually like the most common way. But what I personally recommend is to actually go into the apps page of the safe and go within the safe native app of cowswap. Because then everything is done in here and you don't have to kind of change all the time here and there. So then we go, we click on the twap features, which has this new icon, fancy. We see the image that we saw before. In case you actually want to learn more about TWAP orders, you can check out this blog post that we made when we launch it. It explains kind of like the order interface, everything that you can do with TWAP, the benefits and so on.
00:08:49.334 - 00:09:37.234, Speaker B: And it also has a link to a one on one like couch, one on one guide on how to trade. And it also explains more technically in depth why you are required to actually update the fallback handler. So let's do it. In this case, I guess one thing that I didn't take into consideration, let's do 200 and we're going to buy cup tokens. So one thing in here that you'll notice is that the interface automatically has forced me to trade with Wrap XDai. And this is because there is no XDI, is not kind of the ERC 20 token. So we need to actually first convert.
00:09:37.234 - 00:11:06.648, Speaker B: So what I'm going to do first is wrap 190 x die into the Wrap XDI wrap execute. So now we should be able to go back to the trade and we go to the T Wap orders and again flip this, say 190 tokens. And then basically we select the token that we want to swap into. You can think of twab sort of like a dollar cost average solution where the number of parts is the number of times that you're going to enter into the token that you want to buy, or aping, which in this case, of course is cow. And then we're going to say, okay, calculating the price. I don't know. I want to do three parts or four parts for the next hour.
00:11:06.648 - 00:12:16.828, Speaker B: Basically one trade every 15 minutes. And in here, there are two things, two messages to take into consideration the first one is that because you're using the safe wallet, there is this cool integration that you can actually bundle the trade and the swap at the same time so that you have to first execute the approval transaction and then do the swapping. Now you can do them both in a single click. But what's most important, and even though it's a warning, it's not a scary thing. It's basically telling me that I have an unsupported safe and why? Because we just deploy a new safe and because it comes with the default fallback handler, my safe is not able to actually understand the signature that we need to sign with for deploying a TWap order. So this is why we need to upgrade our fallback handler to a custom fallback handler, in this case developed by Cal team and in support with the safe, which also has been successfully added. So it's safe to test, but sorry to upgrade, but as always, use caution.
00:12:16.828 - 00:13:18.784, Speaker B: And so far I think it was $24 million stored in saves have already upgraded the fallback standard, so things are secure. And if you are actually curious on what the technical details of doing this upgrade means, we just basically clicking learn more and you have what I hope is a good explanation blog post on what it actually is happening under the hood when you upgrade your fallback handler. But in this case, another cool thing of the sales is that you can also bundle the upgrade with the swap itself. So if we check on here, we're going to do everything all at once. And basically when I click on here approve, you get the final review confirmation which tells you okay, we're going to sell 190, wrap ixtai into cow and we're going to get 3000 now the price updated. So whatever the new number is. And in here you have all the breakdown details.
00:13:18.784 - 00:13:42.490, Speaker B: You see for example, the sell per part is one fourth. This is like every part is going to buy 47 worth of XDai for cow. And this is what you're going to get. The start time, which is now, and the part duration and the total duration. So let's upgrade the price accept and we place the TwAP order. Cool. Approve access tool.
00:13:42.490 - 00:13:59.168, Speaker B: You can simulate success tenderly. Great. Yes. Execute. Estimate the feed, the relayer. Execute. And in here, one thing that I forgot that I wish I would have done is that I actually wanted to put the threshold of two out of three.
00:13:59.168 - 00:14:35.084, Speaker B: I think I left the configuration one out of three, so we can just directly execute, but if not, it's just you sign the operation and then with the other signer you basically do this step. So we sign transaction successfully added to the queue. And now the transactions is processing. We can also click here view transaction. This is what has happened. Relaying confirmations one on one successfully. Now, if we go back to the app, we should actually see in the interface that we see.
00:14:35.084 - 00:15:16.260, Speaker B: Okay, now we have an open order, and we already see that it's this order of 190 wrap XDI to get at least minimum this amount of time. This is the limit price. And then here's all the details, the four parts, right. If we click on here, we actually see the breakdown of each single order. And the cool thing is that now you've placed the t WaP order, and now you can just sit back and relax. You don't need to sign anything else because what's going to happen is that automatically in 14 minutes, this order is going to be placed. Then in 29 minutes, this second order is going to be placed, in 44 minutes, this one, and so on in the last minute.
00:15:16.260 - 00:15:50.478, Speaker B: And the cool thing is that before, for example, we already have this. I don't know if you saw the mew, you can give us feedback. How likely are you to recommend cowswap? Of course, very likely. Master cow rocks. And now we can check the details of the first order field. We saw that we traded 47 wrap extent to 719 cow tokens. In this case, it says cow protocol token from Mainet because it's the bridge version of cow token in nurses.
00:15:50.478 - 00:16:24.380, Speaker B: But this is the same token. And we saw that we got 11.1% surplus. It's pretty nice. And this is something that can only be achievable through cowsOp, because calsop leverages batch auctions to find price optimizations that other type of auctions, such as dodge auctions more particularly, can really find for your trade. And now we see that in your order kind of tab explorer, that the first part is already filled. And now we just need to chill and see that the others will 100% fill in time.
00:16:24.380 - 00:17:12.970, Speaker B: But one thing that I also want to highlight is that the cool advancement of composable cow and the reason why you need to upgrade your fallback handler is because now these four orders have already been signed. With our first interaction, we don't need to go back to the interface in each part. Right? So in 37 minutes, 42 minutes, or in 1 hour to sign the actual transaction. So this is a huge improvement in kind of trading, because now you can just simply sign as many orders as you want directly at once, and at one go. And this is pretty much it. PWAP orders. The cool thing is that if you test them on nosis chain because the gas fees are so cheap, there is no limit to per part.
00:17:12.970 - 00:18:06.768, Speaker B: Maybe, I think it's $5, but you can go lower if you want. But I don't know if someone wants to trade, break a $5 trade into two parts of $2. But this is important because on the contrary, on Ethereum, because gas fees are high, we have a limit amount so that you cannot trade below this amount. Because if not, the gas fees that your trades are going to consume are more than what you're actually going to trade and therefore it doesn't make much sense to actually execute the trade. And yeah, here is everything I have for you today. Oh, well, actually, if you haven't tried it, if you click on know perfect quote could never be better. You'll soon discover a new source of income through crypto.
00:18:06.768 - 00:18:09.310, Speaker B: That's the cowfortune cookie of the day.
00:18:12.530 - 00:18:32.114, Speaker A: Nice. Thank you. Thank you, Master Cow. And if there are questions out there, you can go ahead and unmute your mic or you can type the question in the chat over there on the right hand side and I'll read it for you. But yeah, this is a good chance to ask any questions that you might.
00:18:32.152 - 00:18:32.740, Speaker B: Have.
00:18:34.810 - 00:18:38.230, Speaker A: With the unusual appearance of Master cow himself.
00:18:49.600 - 00:18:53.660, Speaker B: It's okay, don't be shy. I don't bite.
00:18:55.360 - 00:19:13.460, Speaker A: Is there like a limit on the amount of TWap orders that you could place? To what extent can you automate this? Could I set TWap orders for a month where it buys at a certain duration?
00:19:15.000 - 00:20:08.870, Speaker B: So I think you can go custom and then decide maybe we should start a new order. You can customly select it. Although now you catch me. I know there is a limit in the UI, but this is just because we just launched it, so we're still working through what's best for the users instead of helping them define this. But I mean, from the smart contract point of view, of course there isn't a limit. It's just like if you want to skip this UI limit, you can always do this through the smart contract interface. But at the moment, yeah, I think it's one week or two weeks now you really catch me with this question.
00:20:08.870 - 00:20:12.296, Speaker B: Nice.
00:20:12.398 - 00:20:14.040, Speaker A: It's a super cool feature.
00:20:15.820 - 00:20:16.890, Speaker B: What's cool?
00:20:17.820 - 00:20:18.632, Speaker A: Go ahead.
00:20:18.766 - 00:21:12.520, Speaker B: Yes, what I was going to say is that the feature is limited in how far up in time can you schedule your order. But the cool thing about composable cow is that you can execute all these orders in parallel without needing one. Because usually the way wallets works is that you create a transaction and that has nons one, and then you create another transaction and that has nons two. And unless number one executes, two won't execute. But because composable cow is this system, with the custom fallback handler, you can actually create unlimited orders in parallel, meaning that right now, we could create three more orders, and the third or fourth or fifth order wouldn't be dependent on the first one being finalized.
00:21:19.360 - 00:21:36.550, Speaker A: Yeah, I mean, it makes total sense that cow would integrate a feature like this. It's just like, yet again, another example of how cow is prioritizing its users and giving people more agency over their swaps and just like, defi in general. So super cool.
00:21:38.120 - 00:21:42.020, Speaker B: Yeah. Thank you. Thank you, Dapps.
00:21:47.140 - 00:22:17.008, Speaker A: All right, well, yeah, if there aren't any questions, then we'll let Master Cow go. I know that you're very busy, and it's Dapcon, so thanks for making the time and excited to use this feature. Yeah. And we will see you next month. This call happens once a month, so just keep your eyes out. We'll have another team on to do another demo. And thanks for making the time, everyone, and we'll see you on chain.
00:22:17.008 - 00:22:19.620, Speaker A: Take care, everyone. Ciao.
00:22:20.440 - 00:22:21.120, Speaker B: Ciao, ciao.
