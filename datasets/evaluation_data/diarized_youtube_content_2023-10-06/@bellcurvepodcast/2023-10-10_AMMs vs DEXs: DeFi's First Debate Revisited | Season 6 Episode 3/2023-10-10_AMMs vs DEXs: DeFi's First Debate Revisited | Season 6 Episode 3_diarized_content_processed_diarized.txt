00:00:00.090 - 00:00:27.382, Speaker A: Alright everyone, welcome back to another episode of Bell Curve. Before we jump in, quick disclaimer. The views expressed by my co hosts today are their personal views and they do not represent the views of any organization with which the co hosts are associated with. Nothing in the episode is construed or relied upon as financial, technical, tax, legal, or other advice. You know the deal. Now let's jump into the episode. Hey everyone.
00:00:27.382 - 00:00:56.042, Speaker A: This episode is brought to you by Maverick Protocol, a suite of liquidity tools built around an innovative AMM. Maverick helps token projects dow, Treasuries, LPs, or basically anyone in DeFi shape their liquidity with efficiency and flexibility. How, you might ask? Stick around and you're going to be hearing about them more later. Now on with the show. Welcome back to another episode of Bell Curve. Today, Dan and I are going to be joined by Eugene Chen of Ellipsis Labs and Doug Colkett of Ambient Finance. This is going to be a really special episode.
00:00:56.042 - 00:01:50.266, Speaker A: In the first episode of this season, we talked about loss versus rebalancing and the profitability problems that LPs in DEXs are facing. In this next episode, we are going to go one layer deeper and explore some of the different design decisions that Dex designers and builders ultimately have to make outside of just LVR. Now, the reason we got Eugene and Doug on here is because Eugene represents a Central limit order book design and Doug represents an AMM design, but also they're building on different environments. So Eugene is building on Solana, where gas constraints are much less of an issue, as opposed to where Doug is building on Mainet Ethereum, where gas and gas optimization is the name of the game. So this was a very interesting, dynamic conversation from two people who are building from a very different set of perspectives and it was a ton of fun. So hope you enjoy it as much as Dan and I did. All right, everyone, welcome back to another episode of Bell Curve.
00:01:50.266 - 00:01:59.602, Speaker A: I am joined by my co host, Dan Robinson, and today we're going to be talking to Eugene Chen and Doug Colket of Ellipsis Labs and Ambient Finance. Guys, welcome.
00:01:59.656 - 00:02:00.354, Speaker B: Thanks for having us.
00:02:00.392 - 00:02:01.202, Speaker C: Excited to be here.
00:02:01.256 - 00:02:54.466, Speaker A: Yeah, we're pumped too. Guys, this should be a really fun episode and what we want to do is sort of dig into some of the differences in between AMMS and Central limit order books. And what I think also will be really fun about this conversation is that Eugene, you are building on Solana, and Doug, you are building on Ethereum. So it'll be fun to kind of poke at what are some of the differences of building those different protocols with very different constraints, but maybe to just open this up at a very high level. I think many folks who are listening to this will be familiar with these arguments and sort of debates that people would have back a couple of years ago, this sort of holy war in between AMMS and central limit order books. You don't hear many of those debates going on anymore. And I think partially that's because the line has started to blur a little bit in between a classical AMM and a central limit order book.
00:02:54.466 - 00:03:08.582, Speaker A: But I'd love to maybe we could just start at a very high level of sort of defining the sort of value prop right or sort of steelman of AMM versus central limit order book. And then if you guys think that's still an appropriate distinction or maybe we can just take it from there.
00:03:08.636 - 00:03:58.898, Speaker B: Sure, I think that's a pretty reasonable place to start. I think the debate still exists, it's just not as loud as it used to be on Twitter. And I totally agree that the lines have been blurred a little bit between two totally separate camps and now you see some of the models starting to converge towards each other a little bit. I think at a high level the AMM and the limit order book are really just different liquidity primitives designed for different environments. So the AMM is designed for ethereum mainnet originally, which has a pretty high cost to update place transactions, update your liquidity. And so it's very opinionated on the shape of the liquidity in the pool. You give market makers or liquidity providers a little bit less choice.
00:03:58.898 - 00:04:34.654, Speaker B: The XY equals K. Example. As a liquidity provider, you kind of only have two choices. You can either place liquidity or remove liquidity with concentrated liquidity. Now you can have range orders, so there is a few more parameters for a liquidity provider to play around with. And the limit order book comes from the TradFi world, centralized exchange world, which is a world where the cost to update your quotes, the cost to quote unquote, send a transaction is literally zero. And generally these transactions make it to the order book in a FIFO manner.
00:04:34.654 - 00:05:30.994, Speaker B: First in, first out, whatever makes it to the matching agent first orders are executed in that order. And sophisticated market makers compete primarily on providing better prices because you get more fills if you're closer to the top of the book. And market makers can place liquidity wherever they want. And I think there's still a lot of room to experiment on order types on top of a limit order book. But the core liquidity primitive is different because the design space is different. And so today I think the AMM is clearly still better for retail liquidity providers because there's fewer dimensions on which they can get outcompeted. You don't need to be running code, you don't need to be running like a separate AWS box to be placing your quotes, whereas limit order books really require sophisticated liquidity providers.
00:05:30.994 - 00:06:03.374, Speaker B: So different types of pairs with different levels of competitiveness. Do you need to be quoting less than one basis point wide to be able to win flow? Or can you be quoting like 1% wide. I think the AMM versus the limit order book differ a lot here. But the end game I think is probably going to look like a mix. Specifically the on chain DFI endgame is going to look like a mix because the gas cost isn't zero. So the limit order book does have some issues here. There's like so much activity happening at the top of the book.
00:06:03.374 - 00:06:14.562, Speaker B: Maybe you can reduce the number of transactions required to have close to optimal top of book liquidity. The gas cost is always going to be positive even if it is pretty close to zero.
00:06:14.616 - 00:06:58.098, Speaker C: Pushback a little bit there or maybe give a bit of an orthogonal take there. So generally I think regardless of the underlying mechanics, there's kind of this core philosophical difference or at least kind of the way we view it, is that the core philosophy of AMMS is to make liquidity provision as simple and low barrier as possible. And I think the very classical Xyk version of that is really simple, right. Everyone kind of deposits and then everyone participates. All the LPs participate together. So kind of cooperative. Even if there is a very sophisticated player, it's hard for them to kind of out earn somebody else.
00:06:58.098 - 00:07:38.314, Speaker C: And with concentrate liquidity it's a little more complicated. But I think that core philosophy still holds. If liquidity is in range, everyone kind of participates at the same time. And with order books, I think, right, kind of the core philosophy there is always they've always existed. You need specialized market makers who just do that and nothing else. So if you're not one of the best kind of market making firms out there, you're probably not going to make any money in order books. So kind of a very different philosophy where two people providing liquidity in a book can have very different results based on their skill.
00:07:38.314 - 00:08:18.502, Speaker C: And some of that does come from competition, which is good, but some of it also just comes from pure rent seeking. Well, not rent seeking necessarily, but pure winner take all. Games like who's in the Front of the Queue tends to be very profitable regardless of you're not actually improving the price, you're just competing to be the first order at a new price. So generally I think even outside the mechanical or the gas constraints, the kind of the reason that we're AMM max seizes is because we think it's very powerful to have anyone kind of participate and be able to provide liquidity.
00:08:18.566 - 00:09:34.018, Speaker D: Maybe the square of the circle I think between them. I would say I consider myself a compatibilist between central limited order books and AMMS and at times having been in my life a rabid AMM maxi, I'd say I still try and maybe I've sort of always tried not to have too much religion about it. And I think often the right you don't want to sort of be blinded to good arguments or to good compromises in implementation or good new features just because you think, oh, this wouldn't be the AMM way to do things. And I think that was certainly true with concentrated liquidity and I think has been with a lot of the other changes that we've seen. I think from my perspective, the core feature of what distinguishes AMMS from central books probably is still the gas implementation. But I think it's so overwhelming that I do think in most environments, in decentralized environments often I think on chain liquidity as an AMM is just always going to make sense, or it's likely to make sense more than central limited order books. And that's just because if there's any non zero cost to placing and canceling an order, just orders in a central limited order book are placed and canceled so often that it's just much too expensive, I think, to be able to have transactions for every one of those.
00:09:34.018 - 00:10:17.722, Speaker D: And I think the key feature to me of an AMM that actually makes it a critical gas saving is that when orders are crossed, that automatically you flip the liquidity that you place a buy order after it's been crossed. And I think if you had a central limit order book that does that, you may be able to actually overcome a lot of these costs. But if you don't, then it's just going to be kind of overwhelming to have a central limit order book with multiple liquidity providers and you're never going to have that in, in a gas constraint environment. So that would roughly be my prediction, is that I do believe it is primarily about gas, and I think you probably will still see professional liquidity providers dominating on AMMS even in the long run, ultimately. But I think it ultimately is a very adaptive one for an environment like a blockchain.
00:10:17.786 - 00:11:05.338, Speaker A: Hey, everyone wanted to take a quick second to shout out this season's partner Maverick Protocol. Now, many of you probably know Maverick as an innovative AMM, which they are, but in reality they're a lot more than that as well. Maverick is a suite of tools for DeFi users and builders that allows them to put liquidity where it will get the most work done. Since Maverick launched in March, they have been gobbling up market share. And at the time of this recording, which is the end of September, on a trailing seven day volume basis, maverick is now a top three decks by volume, and they support over 50% of the volume on the L two ZK sync era chain. Maverick enables LPs and token pairs to process higher volume with limited TVL, which allows them to support some of the highest levels of capital efficiency for LSTs like Rapsteeth. Another very cool feature is something called Maverick Boosted Positions.
00:11:05.338 - 00:11:47.338, Speaker A: So that allows protocols looking to bootstrap their token liquidity to target the shape of liquidity of any token pair with surgical precision. Maverick is backed by some of the leading institutions in crypto founders Fund, Pantera, Coinbase Ventures, Binance Labs, they are all backing Maverick in their vision to revolutionize the next generation of DeFi DApps and helping them build their liquidity in all market conditions. Click the link at the bottom of this episode. Let them know that I sent you. Thanks guys. Yeah, I'm curious. I don't know, Eugene, if you have a response there, but I think that was a helpful squaring of the circle because I had been thinking about them as two relatively separate things of kind of this idea of retail passive versus very active professional liquidity.
00:11:47.338 - 00:12:50.674, Speaker A: And I've sort of seen AMMS and Central Limit order books existing on a spectrum there with some of the more recent changes like Univ Three maybe looking more like an AMM, but like coming closer and closer to that, maybe moving a little bit more to the midpoint in between AMM and Central Limit Order book. And then obviously gas efficiency is a massive thing, so maybe we kind of attack those. And Dan, I guess you just kind of ID that maybe gas is the most important thing there. So maybe, Eugene, if you have any response to just the long term efficacy of Central Limit Order Book, which is entirely on chain and even if it's whatever the fee is on salana these days, 0.1 cents if you're placing and canceling hundreds of thousands of bids on a daily basis, that does start to stack up. And then I do want to tease out the second, maybe more minor part, which is how realistic is it that we get sort of retail passive market makers who are able to profitably make? But maybe, Eugene, if you want to respond to the gas cost thing, for sure.
00:12:50.712 - 00:14:15.754, Speaker B: So we've seen with Univ Three, the AMM moving a little bit closer to what we conceptualize as a limit order book. Some of the stuff we're experimenting with internally at Ellipsis labs is sort of going the other direction, starting from the pure limit order book implementation, which again, is designed for a world that has literally zero quote unquote gas cost, and figuring out how we can reduce the number of transactions required to place effective top of book liquidity. And this sort of looks like programmable liquidity, different order types, some that you could imagine would be, as Dan mentioned, orders that when they get filled, they sort of flip to the other side with some specified spread that you want to take. You can also imagine orders that instead of you having to cancel them explicitly, they just widen out on their own over time. You can also program in specific liquidity curves. I think the design space here is super broad and it definitely still is going to be wider in an environment where your Compute budget is just much less constrained like a solana. Of course there's other trade offs here as well, but I definitely don't think that a pure naive limit order book implementation is going to be the end state for on chain liquidity.
00:14:15.754 - 00:14:17.310, Speaker B: This seems very unlikely to me.
00:14:17.380 - 00:15:10.090, Speaker A: One question maybe just to help level set for the audience and for me as well, is when you're talking about designing and there's sort of a spectrum of let's say zero gas which doesn't really exist today, and then there's very relatively cheap gas environment, so that'd be like a Solana. And then there's an environment which is extremely gas constrained, like Ethereum main chain and then maybe roll up, sit even somewhere in between there. What is the mental framework for if gas is less expensive? Does it just widen out the scope of what you can do? Is there just a much broader design space in an environment that's cheap in terms of gas? Or is it sort of like a necessity is the mother of invention thing and actually you have to be a little bit more creative, but you can do just about everything in a very gas constrained environment like ETH main chain that you could in even a very cheap environment.
00:15:10.170 - 00:15:29.978, Speaker B: Well, I think the converse is definitely true that anything or pretty much anything you can do with Dex design on Ethereum that's viable there, you can just mindlessly port over to Solana. But the converse is just not going to be true. For example, you can't have an order book on Solana. You can't really have an efficient order book on Ethereum mainnet.
00:15:30.014 - 00:16:08.994, Speaker A: Is the design space just much more broad so you can port things directly from Solana to ETH. Maybe not the other way around. But if I'm a dev and I'm sort of building on an Ambient or Uniswap, am I like, man, there's like all this stuff that I would love to do in the world of uniswap, but I just can't do it because of the gas constraints. And maybe I know Doug and Dan, you guys are both for instance, like the Singleton contract in Uniswap and Doug, I know Ambient utilizes a single contract as well. Maybe that's an example of a way to get around some of these constraints. But I think I'm just trying to get a sense of is there stuff that's just possible on Solana that's not possible anywhere else? Or that's what I'm trying to poke at here.
00:16:09.032 - 00:16:20.920, Speaker B: Yeah, my impression is you can just do way more on Solana for like a given dollar of gas. You get so much more compute. The total throughput in terms of compute is significantly higher. So the design space is just much more wide open.
00:16:21.370 - 00:16:53.850, Speaker C: Well, I'd say it's also not just necessarily gas. The other constraint is block times. So if you have a twelve second block, that means you can't update your quotes for 12 seconds. Unfortunately, finance doesn't freeze for 12 seconds, which is challenging. Right. And kind of requires different considerations there. And then the third thing, which is actually even true, of Solana, which is not true of a traditional centralized exchange, is traditional centralized exchange.
00:16:53.850 - 00:17:32.830, Speaker C: There's an order gateway and I send my order and it gets executed atomically. In any blockchain there's a block builder, and that block builder has the ability to rearrange transactions. Now, blocks can be shorter and they can rearrange transactions over smaller periods. But that's just like a fundamental issue with decentralized systems that even Solana doesn't fix. Right? There's less of that on Salana because there's also just less of a market in general. But if you saw like 10 billion a day trading on Salana, you could bet like there'd be block builders who start playing games with how they construct the block that create problems that don't exist in a centralized exchange.
00:17:33.250 - 00:17:41.840, Speaker D: It's a problem with leaderful consensus protocols, but right to date we basically only have those. So yes, in theory, maybe there are other ways to do it.
00:17:42.930 - 00:17:47.790, Speaker C: I'm actually curious about that. What would be like an alternative?
00:17:47.870 - 00:18:24.814, Speaker D: Well, there are having people working on projects to try to do, say, batch auction. DEXes with threshold encryption. A pen number is one example of a project that does this. It's still not leaderless consensus. Sorry, maybe I take back that as the qualifier here. But the key idea being that if orders are encrypted and can't be decrypted except by the full group of the full validator set and then they're confirmed before they actually get decrypted and then all executed as a batch auction, then potentially you can avoid some of the mev that might otherwise happen. And there are caveats to that.
00:18:24.814 - 00:18:35.758, Speaker D: But I think there's designs that try to avoid this problem of having somebody who can see all the orders be responsible for arranging them all within a block. So I think there are some designs.
00:18:35.774 - 00:18:39.234, Speaker C: That you can do requires like major consensus level changes.
00:18:39.352 - 00:18:48.820, Speaker D: Yeah, okay, it would be a big change. But the current paradigm in both Ethereum and Solana, I agree, has this issue.
00:18:50.570 - 00:19:51.882, Speaker A: The block time thing is definitely something interesting as well. Maybe we can poke at this concept of latency which has come up in our earlier two episodes, actually, which is just the role of latency just being very important for our deck. So Ethereum obviously has twelve second block times. Salana has, I think Eugene has 400 milliseconds, give or take, somewhere around there. So can you just kind of just talk maybe at a high level about how you think about the role of block times? And something Dan and I were actually talking about on the last episode is in an environment like Ethereum that has twelve second block times, that just prohibitive in some instances. Obviously there is some price discovery occurring on sort of smaller pairs on the likes of uniswap or ambient, but just a little bit tougher from some of the more popular trading pairs where price discovery happens on extremely low latency sexes like finance. So we'd just love to get your thoughts on sort of like how block time fits into the overall design decisions of a Dex and the role of latency as well.
00:19:52.016 - 00:20:36.280, Speaker C: Yeah, I guess a helpful thought exercise is like imagine block times were like a day or like 24 hours or whatever, right? And I'm the block builder and I can go watch the price at finance. And wherever the price moves up or down, like 1%. So wherever the price of finance goes, I will just arbit for 1% and just do one trade, one big trade at the end of the day. And liquidity providers won't earn much fees off of that, say the pool, I don't know, like five basis point fees. They won't earn much off of that, so not great for them. And say we move down. Block times are 1 second or something where price moves about one basis point.
00:20:36.280 - 00:20:59.018, Speaker C: On average, they're going to do like 10,000 trades. They're still going to arrive at the same place, but they're going to do 10,000 trades. Right, because the price is going to move kind of bounce around during that period. So some will be up, some will be down. Even if they'd be under 24 hours, it's up arbitrage, yours will have done a lot more executions. And that's just better for liquidity providers.
00:20:59.034 - 00:20:59.166, Speaker D: Right?
00:20:59.188 - 00:21:35.110, Speaker C: Because that means they earn cumulatively a lot more fees over that period. And there's theoretical results. That okay, if you have perfect Browning in motion and block times go to zero, all the arbitrage profits go to liquidity providers. That's not really true because prices aren't Browning in motion. Like they jump discontinuously. So even if you have instant block times, there's still going to be kind of arbitrage wars who drain capital from liquidity providers. But in general, as block times get shorter, it gets better for liquidity providers.
00:21:35.110 - 00:21:53.882, Speaker C: We've done some research and basically if you had like 100 millisecond block times, like in a hypothetical world, the LVR on ETH, USDC would be, I don't know, over some period like half as much as it is on a twelve second basis. So it's pretty meaningful. Like at 12 seconds it's a pretty meaningful impact.
00:21:54.026 - 00:22:12.230, Speaker A: So basically the deal is just that overall the amount of arbitrage like move, the price is roughly the same. But if block times are smaller, then just more trading happens. So it ends up being beneficial for LPs who get to collect those trading fees and offset some of that lever.
00:22:12.570 - 00:22:24.490, Speaker C: Yeah, the block builder is basically like the dictator for the block time. So very big block or very long blocks mean a very powerful dictator who can kind of abuse the system more than a very short lived dictator.
00:22:26.030 - 00:23:00.070, Speaker B: Yes. So on these L ones like Ethereum and Salana, the first sort of thing to do to reduce the LBR is to reduce the block times. But there's also these worlds where we have the benevolent block builder, like all of the L, two S today with a single sequencer, most of them roughly just order transactions in the order they receive them. And so that looks a little bit closer to the centralized exchange world, where there's going to be significantly less LVR.
00:23:01.770 - 00:23:15.302, Speaker D: Doug, I want to get back to something you said when you're introducing the topic that you think the key feature of AMMS is that they allow for passive liquidity provision and that's independent of gas.
00:23:15.366 - 00:23:20.326, Speaker C: Right, sorry, yeah, even independent of gas.
00:23:20.358 - 00:23:35.010, Speaker D: I think that's so if you were developing, and I suppose ETH solves all its scaling problems, and now gas is near free and latency is half a second, do you think you'd still be building AMMS?
00:23:35.910 - 00:24:32.146, Speaker C: Yeah, I think so, actually, and you can see this on the long tail of tokens, it becomes very obvious, right. Market makers, professional traders, have very high cost of capital. And so, at the end of the day, like Jane Street and Citadel and whoever don't really want to be holding Harry Potter, obama sonic inu on their so right to provide liquidity on it, they're going to demand a very high return on capital. And market makers do make a very high return on capital. So I think there is an economic argument to be made that retail providers, especially to the extent they're already holding these assets to begin with, have a much lower cost of capital to provide liquidity. And that's very obvious on long tail tokens, right. Where the cost to hold some very long tail bitcoin is really high and no market maker wants to get involved in that to begin with.
00:24:32.146 - 00:24:43.906, Speaker C: So you need AMM. But I think if you can fix the economics, if you can fix the mechanism, then there's potentially a world where passive liquidity, because of its cost of capital advantage, can actually outcompete active liquidity.
00:24:44.098 - 00:25:17.298, Speaker B: So there's ways to circumvent this. Right, I agree the hurdle rate on capital is going to be much higher for sophisticated market makers than it is for retail. But you can have another model where retail sort of just lends to the market makers, rather than going through the perfect market design rigmarole, and you still just let the best liquidity providers be the one who are providing liquidity. And if retail is happy, say, making 10% on their capital and the market maker is going to make 20% or 50%, there's a trade to be made there. On the lending side, do you think.
00:25:17.304 - 00:25:29.382, Speaker D: There'S some benefit to not having the lenders have to trust the market maker? It has been known to happen that people who lend to market makers in the crypto industry have lost money.
00:25:29.516 - 00:25:32.886, Speaker C: No, I mean, there's ways to do.
00:25:32.908 - 00:25:48.570, Speaker B: It on chain, right. You can build a mechanism here. I don't think it's too complicated, where you integrate a lending or a margin engine into the exchange itself, and that can be done in a totally transparent way, unlike, I think, some of the examples you're referencing.
00:25:49.310 - 00:25:59.246, Speaker D: And so what you're saying is you have a market maker that's somehow constrained so that they're able to use lender capital but limited in how they're able to use it.
00:25:59.348 - 00:26:04.900, Speaker B: Yeah, they can only use it to place orders on the book and you have a pretty standard liquidation mechanism there.
00:26:05.430 - 00:26:48.574, Speaker C: Well, I mean, I guess maybe dovetails into something else is that the nice part about Xyk curves are like your losses are bounded, right? Like you can not charge the right fees, you can hit with LVR, but you can't lose all your money. Versus if you have a rogue market making algorithm like Night, like for example, 2012 lost 600 million. So Xyk or Xyk, like concentrated liquidity, has very nice properties around bounding losses and separating out capital from fees earned. That's also kind of a very nice property that you can use in other ways. So yeah, I think there's a lot of really nice properties that come out of I agree.
00:26:48.612 - 00:27:29.580, Speaker D: I think this is something we talked about with Alex Neslobin last week, but I think if you did build a protocol like this for lending to market makers and then they can market make with your capital, but only preserving some amount of path independence for your losses, I think you will actually end up with basically an AMM. There's an AMM where some optane agents chooses fees, which is sort of similar to the design we were discussing with Alex. Again, and this is part of my compatibilist, we're all actually just working on the same spectrum or playing with different things on different levels with these features rather than there really being one core dichotomy between AMMS and central limit order books here.
00:27:30.210 - 00:28:03.874, Speaker C: I guess the other part maybe is ideological, but it's nice for decentralized markets not to be dependent on a small handful of trading firms. And the reality is that kind of did happen with Solana after FTX collapsed as liquidity disappeared for a lot of things because those protocols were dependent on very centralized entities. Obviously that doesn't mean, right, like Clops can still compete, people are going to use whatever's cheapest. But I think it's nice to have passive liquidity from just an ecosystem perspective.
00:28:04.002 - 00:28:15.580, Speaker B: I think it's definitely nice to enable it. But realistically speaking, it's probably going to probably the most sophisticated liquidity providers are going to be the ones who make the most money. And there's some economic forces there for sure.
00:28:17.630 - 00:28:41.060, Speaker A: I guess that's just because Doug, I don't think anyone on this call would argue from an ideological standpoint that'd be a great world, right, if anyone who's just retail person could passively provide liquidity in such a way that they earned a return. But my understanding of market making is that it's actually a very difficult, highly competitive task and even some of the best.
00:28:42.630 - 00:29:27.822, Speaker C: Yes, but is it difficult because the market makers are doing very well for the end customers. Or is it difficult because it's a winner take all game where they have to outcompete each other? If you were the only market maker on Microsoft, it probably would not be that like no one else was allowed to provide liquidity on Microsoft. You were the market probably would not be that difficult to make money, right? You have competitors, right? Like maybe things get tighter but market makers also compete in other ways that don't provide anything for the end user. There are entire trading firms that do nothing. But I'm just always first at the queue. I have no signals, I don't price improve, just price changes. I'm the first order, right? I have the FPGAs, I'm the fastest.
00:29:27.822 - 00:29:39.250, Speaker C: So it is difficult in that sense. But the question is how much of that difficulty is because they're doing really well for end users. And I think that's kind of ambiguous.
00:29:39.330 - 00:30:29.622, Speaker A: You might have a point there. I think it's a difficult question that industries where there are maybe natural monopolies really struggle. Like utility providers would be a good example of this. Frankly, even like the Lido debate that's playing out in Ethereum is probably a good example where there's a market where there's a natural winner take all or win or take most market structure and then obviously no one really wants to end with a monopoly. So what ends up happening is some form of regulation or whatever and then theoretically that's supposed to mitigate the negative effects of a natural winner take all or win or take most market structure. But yeah, I guess I agree that that's not a particularly good outcome either. Although I will say I guess the way that you would measure this is right on execution quality.
00:30:29.622 - 00:30:48.666, Speaker A: And if we had to be honest about the execution quality for on chain swappers in Ethereum to date, it's like okay, sort of at best. So do you think that if there were more professional liquidity providers that there would be better execution for swappers on chain or is there another constraint that's preventing that?
00:30:48.768 - 00:31:29.766, Speaker C: I mean, I think the biggest constraint is just like going back. I'm happy to provide liquidity at Binance if I'm a very fast firm because I can move my quotes around. But I think sometimes people conflate CLOBs versus just having centralized systems where you don't have this block builder issue. CLOBs don't fix this problem, there's still going to be LVR, there's going to be sext arbitrage and whether I'm an LP in an AMM or whether I'm a market maker on a club, the guy who's building the block can hit my quotes before I can move them. It's tough to say this is one.
00:31:29.788 - 00:32:08.866, Speaker D: Of my pet peeves is when people think that putting a limit order book on chain rather than off chain, for example, is like oh, like that's a solution to mev and it's like, no, that's the cause of mev. That's exactly at the heart of what will cause mev. And I worry that it actually puts more essentially on block build. It puts more into the more problems into the core of the protocol. Right. Whereas if you have an off chain limit order book, maybe you handle those in the application layer and you have mev maybe at the application layer, however you're ordering them or canceling them. But I think if you're putting that into the block, then you're incentivizing basically the core protocol actors to get a little more involved in the application layer and you're sort of putting more pressure on that core.
00:32:08.866 - 00:32:21.442, Speaker D: So I'm curious, Eugene, with an on chain central limit order book, aren't you worried that that might just lead to pressure on Solana Validators to get more sophisticated in extracting mev?
00:32:21.586 - 00:32:41.466, Speaker B: Oh, yeah, absolutely. I think it's a huge potential problem for the future. And I think the main reason we don't see it today is because there's just not that much value to be extracted. Combined with, I guess, modifying the Solana Validator client is a pretty expensive endeavor.
00:32:41.578 - 00:33:22.326, Speaker A: Can we play with this a little bit then? Because let's maybe take the extreme here and then say actually moving some of this activity on chain would not be beneficial from a mev standpoint. Obviously, builder centralization is a concern as well. And maybe one of the recent trends also in the world of DEXs is moving some of the components of a Dex off chain. So maybe we can sort of segment like Uniswapx would be a good example of this. I would be curious. Maybe, Doug, I can pick on you as our ideological champion in the discussion thus far. I guess the benefit that you might say there is by moving things off chain, in a sense, you actually do protect users and their orders are kept more private.
00:33:22.326 - 00:33:42.718, Speaker A: But on the other hand, you can make the argument that, what are we really doing here? Right? If there's probably a relatively limited builder or solver market that takes these off chain orders, and then if it's not on chain, then what are we really doing? So how do you approach the idea of moving certain components of the deck stack off chain?
00:33:42.814 - 00:34:19.242, Speaker C: Like, one major, major advantage that really hasn't been tapped now that on chain systems have relative to off chain systems is that you can introspect, I guess not introspect look into where the order flow is coming from to a much finer degree. Like, someone sends an order to Binance, it's very hard to like, okay, what's generating that order? For example, most LVR at the end of the day is really just coming from short term dislocations on the price at binance and somebody's arbitraging it, so they're very time sensitive.
00:34:19.306 - 00:34:19.582, Speaker A: Right.
00:34:19.636 - 00:35:41.834, Speaker C: So it would be easy to put something on chain to say, okay, hypothetically, this is a T WAP order because it's a T wop order. We know it's much, much less toxic, so it can get a much better price, right? And it's going through a TWAP smart contract or whatever that's very hard to do at a centralized exchange because you can't just put smart contracts into a centralized exchange. So I think that's kind of the winning approach and I think that's how on chain systems actually beat out off chain systems in the long term. Easier said than done. Obviously, in terms of moving stuff off chain, we're very bullish on coprocessors and we think the technology is getting pretty mature where you can start doing compute not on chain, but doing it in some sort of semi trustless way, making some attestation about maybe. Okay, this address hasn't been sending toxic flow over the past month or whatever, so it should get, preferential better execution. So Red, I think that kind of solves the problem where okay, there's stuff we just can't do on chain or it's very difficult to do on chain, but anyone can run the coprocessor, you can build like VK proofs, you can.
00:35:41.834 - 00:35:47.500, Speaker C: So it still keeps that aspect of decentralization but it's definitely not a solved problem.
00:35:49.470 - 00:36:52.634, Speaker B: I think in general a lot of nuance kind of gets lost and we use the word decentralized because there's so many layers of the know. At least in my view, decentralization really is a means to an end. When I think about what is the end goal for DeFi, it's to move finance on chain. And the reason we want to do that is so we can have permissionless innovation in finance, we can have open access, we can have transparency. Now of course, bringing things on chain, we eat this massive cost in terms of performance, we have like mev considerations and whatnot and we need to build DeFi in a way that is competitive with centralized exchanges. And I think the permissionless innovation piece or as Doug says, sort of like putting smart contracts everywhere, which we can't really do on a centralized exchange today. I agree that's the biggest place to compete.
00:36:52.634 - 00:37:58.358, Speaker B: Now when I think about a uniswap X or some of these other off chain RFQs, I do worry that it attacks the on chain liquidity a little bit too much. So first of all, we're going to be moving liquidity and moving price discovery off chain. I think it is going to result in better outcomes for swappers which is necessary to be competitive with centralized exchanges. But the system itself also loses some degree of censorship, resistance and transparency and permissionless access. And then you can end up in some sort of death spiral where because the LP has now become the liquidity of last resort, they end up eating pretty much only toxic flow, right? Like the flow that the RFQ market maker didn't want to get. And yeah, that in itself seems pretty centralizing where the order flow itself becomes centralized. The RFQ likely has to be permissioned or somewhat permissioned for quite a while.
00:37:58.358 - 00:38:05.970, Speaker B: And some of that I feel like is antithetical to permissionless, innovation, open access and transparency.
00:38:06.050 - 00:39:08.262, Speaker D: I think this might be an area where both our guests agree more than they do with me. But I think maybe to make the case on this, I think we already have a lot of price discovery, including indexes and including on AMMS happening off chain. And I think the key reason to move to an intent based architecture, move toward an intent based architecture is to be able to actually incorporate a lot more of that information, I think into the price discovery process, including potentially to protect LPs and protect Texas on chain. I think what Doug was talking about before about reflecting, for example, information about where an order came from or who a buyer is, I think that's a lot easier to do with an off chain when you have more off chain components and when you have an intent based system. And that potentially, I think, can be used to potentially help protect LPs from toxic flow and to help discriminate against think. I think Boy and Doug have written a lot about this as well. I think it's potentially essential for protecting LPs.
00:39:08.262 - 00:39:25.040, Speaker D: But yes, I would also say from my perspective, the most important thing is to be able to get swappers the best price. And if you're not getting swappers the best price, certainly the best price can get on chain. But in general, I think to be competitive with someone like Binance, you're just not going to have any Dex to protect anymore. You're going to basically lose everybody.
00:39:26.050 - 00:39:41.590, Speaker C: Will it give them the best it gives them the best price. Once you turn on RFQs and you still have LP liquidity because the RFQs can only price improve. But like, long term for the ecosystem, if the LPs leave, do they still get the best price or now the RFQs can just widen up?
00:39:41.660 - 00:40:14.430, Speaker D: Well, I think what matters long term is that I think both sides, you can't actually cannibalize either side because then you'll just basically eventually lose it. So I think ultimately you actually need to find an equilibrium. But my argument is that an intent based architecture like unisoft X potentially actually protects liquidity providers more because you actually can encode into that more information about where the order comes from. And I think a lot of what we've seen just in sort of next generation designs for DEXes, I think have to incorporate to some extent more information about the swapper and more information potentially coming from off chain.
00:40:17.010 - 00:40:30.790, Speaker C: Go ahead in the existing architecture, right. What's to stop the RQS from just you can incorporate it, but if you have an RFQ system, can the RFQ provider right, like the RFQ provider can just centrally.
00:40:33.290 - 00:40:56.080, Speaker D: I'm not I'm not trying to defend the RFQ systems. And in fact, I think, again, there are better intent based architectures and ones that I think use of X is kind of designed like the use of X core protocol is not an RFQ protocol, right? It's an order for off chain signed intent protocol for signing these orders. Right? And RFQs right now are how the initial prices are set. But in my view that's not essential to what really matters about uniswap X.
00:40:58.370 - 00:41:21.558, Speaker A: I have a thought too. It's part of this like you start to see obviously it's very early days for frameworks like I mean is part of the reason here that some of this just isn't actually built out and some of the stuff that feels like an off chain RFQ system might actually eventually be able to be completely replicated in an on chain sense. We just aren't there with the technology yet.
00:41:21.724 - 00:41:54.990, Speaker D: Well, one idea I think on chain is tough, especially in a design in a system that works like Ethereum or Solana work currently where you have a dictatorial builder or dictatorial proposer sorry about for a particular period of time. I do think a decentralized RFQ system could be a very interesting system and that's something that I think it's early days on this, but something like Suave that is working on. I think one of the problems they want to try to solve with that is could we actually build a decentralized off chain RFQ system, an auction?
00:41:56.310 - 00:42:01.278, Speaker C: How would you assure priority for whoever's offering the best execution?
00:42:01.454 - 00:42:07.874, Speaker D: So if you have a consensus, I'm not describing swap here specifically, but just.
00:42:07.912 - 00:42:09.122, Speaker C: In like the general theory.
00:42:09.186 - 00:42:48.962, Speaker D: The general idea is it should be easier to do. Suppose we have a decentralized protocol where we want to guarantee just censorship resistance, but say not we don't care as much about ordering, we'll have that all solved at the execution layer. The idea would be we have some validators set and then you say, okay, we need two thirds of validators to sign off on this set. And they say the rule of the protocol is they only will if it includes the best order that they have seen. Right? And as a result you could then have basically a large multi SIG effectively of validators that are then running this auction. And this, by the way, is part of how people think about designs for Enshrining mev and the Ethereum protocol as well. But I think there's other ways to do it.
00:42:48.962 - 00:43:02.882, Speaker D: If they were to run this auction, then you potentially could have a censorship resistant auction that finds the best price off chain with a decentralized group, but doesn't have all the costs of on chain compute. You don't actually have to include all the bad bits, you only have this group come to consensus on the winner.
00:43:02.946 - 00:43:05.110, Speaker C: But you still be like a batch auction.
00:43:05.530 - 00:43:41.790, Speaker D: Well, here I'm just thinking about a regular auction, but one where just the best bit ends up getting included because just all the validators just apply this particular rule to blocks. Anyway, I don't mean to drive us too far down this rabbit hole, but my point is, if you're trying to design an off chain system to run a decentralized normal it's an auction, it's a more limited problem than the whole problem of trying to run a blockchain, a synchronous blockchain. Right. So a censorship resistant auction and a synchronous blockchain solve two different problems. And I think there's a reason maybe not to try to jam the former one into the latter.
00:43:41.950 - 00:43:47.546, Speaker C: Yeah. So it's like you want Ethereum, which is very secure consensus for settlement, and then you have some sort of parallel.
00:43:47.598 - 00:43:56.790, Speaker D: Consensus for secure and turning complete and fully composable. Whereas for this, all we actually need is a different property that we need, which is just short term censorship.
00:44:00.190 - 00:44:06.438, Speaker A: I mean, is that related to PEPC, basically? Is that something that PEPC would enable?
00:44:06.534 - 00:44:09.366, Speaker D: I'm not sure I've seen what's PEPC.
00:44:09.558 - 00:44:13.318, Speaker A: PEPC is pepsi is Barnaby.
00:44:13.414 - 00:44:14.858, Speaker D: They probably pitched us or something.
00:44:14.944 - 00:44:55.302, Speaker A: I'm right now, it's not something that's actually implemented, but Barnaby from the Ethereum Foundation. It stands for protocol. Enforce proposer commitments. And it would allow think of it sort of like a souped up version of something like inclusion lists, where ahead of time, a proposer could make certain commitments. And one of those commitments could be like, I'm going to commit to even potentially using one builder or one system, like a decentralized RFQ system, or decentralized builder like a Swab. Or maybe they could say, like, I'm going to commit to choosing the highest bid that I get for a user, or something like that. You could actually sort of build that into actually the Ethereum consensus.
00:44:55.302 - 00:44:58.700, Speaker A: So it's like one flavor of sorry.
00:44:59.870 - 00:45:01.258, Speaker D: Go ahead, Dan, go ahead.
00:45:01.424 - 00:45:12.154, Speaker C: I was going to say, you could even do that on the application layer because your intent you could say, okay, my transaction is only executable under if this builder is the one building the block.
00:45:12.202 - 00:45:12.414, Speaker A: Right.
00:45:12.452 - 00:45:25.906, Speaker C: So there's a hypothetical world where I wish it was an ambient builder, but uniswap is the one with the market share. There's a uniswap builder and all uniswap order flow goes through, or uniswap affiliated builders all go through these builders. And in order to participate, you have.
00:45:25.928 - 00:45:46.538, Speaker D: To have yes, but I wouldn't try to jam it too much again, I think, into the protocol there, because I think why bother with who the Ethereum builder is at all? Why not just say it needs to be signed off by a sequencer, effectively? Right. My order would need everyone trading on this deck needs to sign off. I don't know. There's a whole space of, well, you.
00:45:46.544 - 00:45:56.730, Speaker C: Could just do that instead of separate Ethereum transactions, just everyone submits call data and one person submits one giant transaction with the call data, all in a single payload. And then the application processes.
00:45:56.890 - 00:46:27.446, Speaker D: Yeah. So have an application specific builder, basically. And my general point is, I think just all this requires effectively, I think, getting a little bit out of the ethereum transaction modality out of that paradigm where every order has to be an ethereum transaction. Or you can just call this thing from any ethereum transaction and get a little more into, like, okay, we're working with intents. It's a little more flexible, and we can do a little more at the application layer. And in my view, that's like the spirit of uniswap x. Yeah, I want.
00:46:27.468 - 00:47:11.590, Speaker A: To end guys by maybe trying to give listeners a sense of how you see the end game for Dex design. So just to put together some of the points, because it's still a little bit murky for me. So, Eugene, I heard you say that we're probably not going to one to one copy pasta essential limit order book, which is the dominant design for exchanges in TradFi onto crypto. So that's not necessarily going to work. At the same know. I think the hope is that we still have retail passive liquidity and LP well into the future, but maybe it's safer to assume a more professional active base of LPs even within our AMMS. So I would just love to get a sense of how more concretely we see all of this shaking out.
00:47:11.590 - 00:47:30.498, Speaker A: And then I know everyone on this call is actually a big fan of hooks and the design space that that opens up as well. So I would love to understand how that innovation sort of enables maybe something that's just totally net new in terms of Dex design that we haven't even seen in TradFi.
00:47:30.694 - 00:48:34.494, Speaker B: Yeah, I can answer the second question first. I think hooks are a very interesting model and definitely open up the design space. You're going to have just, first of all, much more of like an open market where the barrier to entry to creating a new Dex design is a lot lower because you sort of just have to implement an interface as opposed to implementing the entirety of the decks itself. I think today it sort of seems like most hook based models are going to be anchored on either an AMM like uniswap V four Is or on a limit order book. Again, that's something we've been thinking about for quite some time at Ellipsis Labs. My mental model here is you have basically programmable liquidity, whether that's at the pool based level or at the order based level. Some of the stuff we were chatting about earlier on Coprocessors and whatnot you can imagine if the computations are super simple, those could even just live on chain as well.
00:48:34.494 - 00:49:06.460, Speaker B: Like some of this just in time flow discrimination could just live at the order level itself. I think the design space is super open here and there's also a lot of really thorny questions that are going to be difficult to answer. For example, like gas griefing, compute griefing. I think the security space opens up quite a bit as well, but the design space is super wide open and I'm definitely very interested to see what the uniswap hooks community is cooking up.
00:49:06.830 - 00:50:01.014, Speaker C: Yeah, no, that makes sense. I think in general you kind of need hooks or something similar to it for actually building more complex models where passive liquidity can compete with obviously if I'm a liquidity provider at Nasdaq, I'm running very sophisticated like quotas to provide liquidity. Theoretically. Imagine you could just run the best high frequency traders quota inside a hook. That'd be pretty cool. So I think the biggest low hanging fruit for AMMS right now is the price of liquidity. Or the fee model has been very simple, like pretty much just a flat fee per pool like some simple models.
00:50:01.014 - 00:50:35.442, Speaker C: But you can get really complex with either changing things based on market conditions or even more interesting, where the order flow is coming from. And we've talked about that a lot and that's really hard to do without hooks. And kind of the cool part is, right like hooks, you have this core AMM system which can be rock solid, secure, and kind of the properties we talked about before. And then you can have this separate system that can be much more on the cutting edge about setting fees and the price of liquidity, which is where you really need kind of the innovation.
00:50:35.586 - 00:50:49.354, Speaker B: And then here we really have a clear argument for why we can expect on chain DEXes to outperform decentralized exchanges where you really have this permissionless innovation. I think that's really the key here.
00:50:49.552 - 00:51:24.066, Speaker D: I hadn't thought about this way before. One way to think about hooks, maybe, is sort of building up that metaphor is that it's like colocation in the context of HFTs, is that you can basically just ship your algorithm off to the chain and just have that run before every trade, and then, yeah, you're running faster than the speed of light in some sense, because nobody can actually compete. You. And again, obviously there's still the block time to consider and I think the limited information available on chain. But I think in some sense, having your algorithm colocated with the chain potentially could help you, could help you in ways that there's just no way for an off chain market maker to compete.
00:51:24.178 - 00:51:27.254, Speaker C: Yeah, even better inside the matching engine.
00:51:27.372 - 00:51:28.780, Speaker D: Yeah, exactly right.
00:51:32.030 - 00:51:33.370, Speaker A: New narrative.
00:51:34.830 - 00:51:40.410, Speaker D: I don't know if that one will catch on much. People don't love colocating.
00:51:42.030 - 00:51:44.410, Speaker C: Half the people appreciate it are in this podcast.
00:51:47.630 - 00:52:01.378, Speaker A: Well, actually, not to go too far down this rabbit hole, but I do think now that people have heard Michael Lewis's takes on SBF, maybe they're reevaluating how harsh they really should be on HFT as a community.
00:52:01.544 - 00:52:05.780, Speaker D: There is this hilarious footnote in the book where he's like but James Street is one of the good.
00:52:07.350 - 00:53:18.058, Speaker A: Yeah, anyway, super funny. I know we're starting to wind down on time here, so maybe just if I could ask you to put on your visionary caps here a little bit and just ask how you see things playing out in broader terms, just in terms of maybe even something as high level as market structure. So the mix between let's just focus on the on chain world of AMMS versus central limit order books moving forward, obviously maybe a little bit of that depends on the growth of ethereum versus Solana or other high TPS blockchains as ecosystems. And then I actually want to close on like we're starting to get into it a little bit with hooks. But what excites me about that is something that's possible to do in an on chain environment or with a Dex that you just can't it doesn't feel like a compromise to a centralized exchange and you're just doing it because we all share these values. But something that would actually be that's actually a net new innovation, which feels really cool. So I would love to whoever wants to kind of take it like how do you feel view things shaking out from sort of a market share perspective and then are hooks the hook to bring price discovery on chain more or how do you see that happening?
00:53:18.144 - 00:53:56.150, Speaker B: I think in the next couple of years, the most clear trends to me are one, the on chain AMM and the on chain order book models are going to continue to converge to some degree. And the second is especially on the ethereum side with all of its L two S, I expect to see much more fragmentation of liquidity, which could also potentially push more of the price discovery off chain where you end up with, for example, market maker based bridges rather than tapping into the on chain liquidity itself.
00:53:56.220 - 00:54:40.354, Speaker C: That's an interesting point. I'm probably broadly aligned with that. I think roll ups are very interesting, but I think a lot of things that are being done in roll ups now can be done in coprocessors. So I'm still kind of bullish that there's going to be a lot of I don't think we're going to live in a world where all activity moves to roll ups. I think there's kind of demand for main net liquidity and people want to transact on main net, even though a lot of people will transact on roll ups as well. But I think AMMS will get a lot more sophisticated about accurately pricing liquidity and I think they'll take market share. They still have a long way to compete with finance to close that gap.
00:54:40.354 - 00:54:54.570, Speaker C: But kind of the innovation at consensus or mev or block builder layer is a lot of really interesting things. So if there's a chance for on chain world to overtake binance, I think it's in the next few years.
00:54:54.640 - 00:55:03.214, Speaker A: That's an interesting take. Could you just to poke at that a little like why do you think people won't migrate to roll ups as much? Is it a security concern? A little bit?
00:55:03.252 - 00:56:08.574, Speaker C: I think the security is fine. I just think right now if I need cheap compute kind of the only way I can do that is on a roll up in the ethereum world. But with coprocessors, you can get much cheaper in some contexts, right? You have to do a transaction. You have all that, but you can do a lot of very heavy compute off chain and only post the proof, and that's fairly simple to verify. So roll up is almost like a coprocessor, but like a very general purpose, like, large coprocessor that's running a full version of the chain. And I think what we'll see are much smaller coprocessors that just do one thing, just price the liquidity based on whatever the history, the market conditions or other things in lending protocols outside Dexis as well. And so some things that would previously have to go on a roll up because it needed very cheap compute will be able to offload some of that compute and operate on mainnet.
00:56:08.622 - 00:56:18.598, Speaker A: Eugene and Doug, thank you both so much for coming on the show. If folks want to find out more about Ambient Finance or Ellipsis or just follow the two of you, what's the best way to do that?
00:56:18.684 - 00:56:24.434, Speaker B: Yeah, you can follow me on Twitter. I'm at zero x shit trader. And you can follow ellipsis labs.
00:56:24.482 - 00:56:35.398, Speaker C: At Ellipsis Labs, visit our application at ambient. Doug Finance. Follow us at ambient underscore Finance or follow me at zero x. Doug.
00:56:35.494 - 00:56:58.962, Speaker A: I've given you the shout out many times, Doug, but the Crocswap blog, I think it's still a crocswog, right? The wealth of information if anyone wants to seriously nerd out on DEXes. And there's some great empirical studies and writing on there, so definitely check that out, too. All right, guys, thanks. This has been a super fun episode. I appreciate you both coming. Dan, great episode there. It's really unique to you.
00:56:58.962 - 00:57:47.906, Speaker A: It was cool that we got sort of the Solana and Central Limit order book perspective, and then we had a more classical AMM designer in the form of so, yeah, absolutely. Where once I start and one thing that stood out to me and you kind of actually gave your opinion there a little bit at the top of the episode, but I'd actually like to turn it over to you. Because I'm sure you've thought about this quite a bit, but where we shied away from a little, maybe everyone was being a tad too polite. Actually, on the episode. But in terms of more concretely, how you think about market structure playing out even between a central limit order book and an AMM because maybe to take the Steel man case from both sometimes I feel like I often hear this more from professional traders who are more accustomed to sexes. But it used to be very popular and I'm starting to see it even more now. It's like, central Limit Order book is the ultimate design, right? This is where we're heading towards.
00:57:47.906 - 00:58:14.842, Speaker A: And AMM is like, they're cute for now, while we're worrying about. Gas and all these other constraints, but this just doesn't make much sense. Heard something very different on this episode, which I heard you say like, I just don't really see a central limit order book because as soon as there's any cost, the traditional market making model is just not really going to play out. Probably there's a little bit of a place for both, but if you had to guess at the market structure of the next five years, how do you really see it playing out?
00:58:14.976 - 00:59:14.938, Speaker D: Yeah, so I think there are two really important spectra here, both of which we touched on some in the article. So one is about just the design space for markets in different environments. And I think one important thing, and this is something that I used to be a pretty radical pro AMM, anti central libertarian order person, at least on Twitter. And I think especially with the development of uniswap b three, I modulated on that a lot, in part because I think, oh, actually, we can keep a lot of the benefits that AMMS have, but we don't actually have to tie in this whole bundle that we thought was attached to AMMS. But we can still do it in a way where this thing is uniquely suited for the environment. Right? There's sort of a fitness for survival in this particular environment that AMMS have on blockchains. And I think then there's a sect that I would argue with a lot back then but still do, of people who say no like central limited books.
00:59:14.938 - 01:00:09.966, Speaker D: Order books are just the teleology, the end state of how markets should work. And yeah, I think that's wrong even in traditional markets. In fact, a lot of assets are actually not traded on central limit order books, right? Like options typically are more often traded with RFQs or over the counter or in other ways. And real estate is not traded in central limit order books for maybe obvious reasons but a lot of different markets just because of differences in the assets, differences in the participants treasuries what people want. Treasury is absolutely not traded on a central limit order book. A lot of different assets get traded in different ways that correspond to those characteristics and the people who are trading them. And I think central limited order books are they're popular for a certain set of equities that's like the dominant form of exchange but it's not like the universal way that we should trade everything.
01:00:09.966 - 01:00:58.910, Speaker D: And so I think people who come in and say, oh, obviously crypto should be traded on central limit order books and AMMS are just like a temporary stopgap before we hit that end state I think are actually being ahistorical even with respect to how markets work elsewhere. But I think the idea of framing this as AMMS versus central limited order books I do think it's interesting because both of them had a lot of very nuanced takes on this in part because they're practical. They're building these things for this environment. They kind of know, oh, you have to make this compromise here and this different one here. And really I think what you see with both them is, okay, they're adapted to the environment that they've been building for and I think they recognize that. So I think that's important is rather than being kind of religious about anything and I'll admit I used to have more religion, I think about this where I was like, oh, eventually the S P is going to all be traded on AMMS. And I'd say I don't think that anymore.
01:00:58.910 - 01:02:03.026, Speaker D: But I think similarly, I don't think it's at all obvious that all markets will eventually converge on some particular, at least central limit order book design. The other thing I think this touches on, and Doug talked about it a bit, is that there's a related but separate distinction between passive and active liquidity. And I think it is important for Doug, I think, and for many people and to some extent for me that passive, that it be possible for ordinary people to be able to provide liquidity on markets fairly in some sense, that they can do it kind of alongside professionals. They won't be outcompeted by professionals or maybe that they'll be able to still make money from it. He made some good points. I think. It's certainly very useful for a long tail of assets, but I think that's a view that and certainly another one that I had maybe even more strongly this was important, but I would say I think Eugene made some good points.
01:02:03.026 - 01:02:27.210, Speaker D: And I would say I think it's one of the goals, as we've talked about, that is maybe worth sacrificing potentially for other purposes in order to make sure that noncustodial exchange wins, for example, or that swappers get the best possible price. And it's one where I think I'm not as sure that we will end up with a long term future where on especially like the most liquid pairs, where it's going to make sense that you have amateurs providing liquidity.
01:02:27.950 - 01:03:11.370, Speaker A: Yeah, I've thought about this a lot and I think no one would be on the side that ideologically that wouldn't be a great outcome. I've been wondering more and more how much it makes sense and maybe to just I really like how we actually started almost chronologically, like why do AMMS exist? Because of this constraint in the form of gas. But the other constraint that we didn't necessarily talk about, and I know you've discussed this as well, with some products that required Arbitrariors to come in and prick up free money today. We can safely assume that we couldn't always assume that. There probably was a period of time where market making on chain. I mean, that was very bizarre. I don't think it was a very safe assumption to say that professionals would come in and do that.
01:03:11.370 - 01:03:25.310, Speaker A: And you probably needed to rely on a more retail base. And because it's crypto and because we are religious about everything, as soon as it works for the retail person, this is now some God given right and ordained from on high.
01:03:25.380 - 01:03:25.902, Speaker D: That's right.
01:03:25.956 - 01:03:27.566, Speaker A: I'm not 100% sure about that.
01:03:27.668 - 01:04:46.950, Speaker D: And I think it almost maybe even applies to the longer tail where you actually do have, for example, Jared from Subway, ETH is an infamous example here, but you actually do have Arbitrars and mev extractors that are taking delta risk. They're actually effectively market making some of these long tail tokens and they're going out and finding these and market making them effectively taking exposure to these tokens. And this is why I think the best theory I've heard for why, and this was from Robert Miller for why Jared from Subway could be so profitable as a searcher is he was willing to take risks that other market makers weren't. But yeah, he's functionally acting like a market maker, sort of a strange one, but in some ways playing some part of that role. And I think we would see potentially even in the longer term, maybe more mev searchers and arbitrators more sophisticated parties making markets in these long tail tokens on chain. I think the fact that token sniping basically buying up a lot of liquidity at the moment a token is launched has become this niche area of mev extraction. If you do that, you're going to end up taking on a risk that you might not be able to sell those tokens.
01:04:46.950 - 01:05:38.354, Speaker D: And so it requires a somewhat more sophisticated party to do more risk hungry for risk tolerant party to do it. But I think we might start seeing those anyway, even without sort of like the am. So you may actually end up being able to get a lot of those. And then I'll just say, I think even with off chain, even if it's not possible to have a smart contract managing your liquidity, it doesn't necessarily mean it's impossible to have retail liquidity provision. You could have just like someone like open source code for bots that do this right, that provide liquidity. So I think the idea that just because the smart contract manages you, clearly it's so much easier for you. It's like maybe crypto enables passive liquidity provision in other ways where we can give you the tools to actually do that, to follow whatever strategy you want off chain.
01:05:38.354 - 01:05:42.870, Speaker D: But again, I think it's all a little speculative, but I do think we're starting to see things move in that direction.
01:05:43.030 - 01:06:21.362, Speaker A: Yeah. And for listeners, I also read when Robert put out that thread about Jared from Subway and his particular strategy and actually we'll link it in the show notes just because it's kind of a cool story. But in general, if you're a bot, you need to manage inventory. Most people just safely want to warehouse ETH as inventory. But I think Jared's strategy if I remember this correctly, was he actually had a healthy inventory of Pepe and he was willing to take directional risk there. He got in very early to Pepe and then he basically did Backrun very profitable back runs with his Pepe inventory, which is a super interesting strategy.
01:06:21.426 - 01:06:52.094, Speaker D: This might provide a use case for long tail lending, borrowing and lending. Because if you were a market maker, professional market maker who wanted to market make these long tokens, or if you're like Jared from Subway who wants to sandwich attack them, then conceivably you could hedge that delta. You could hedge the risk that you take on your inventory risk by borrowing that token. But right now you really borrow those. And none of the long tail lending protocols have really found product market fit like Euler Fuse. It seems to be less demand for long tail borrowing, but that seems like it should provide that. So if we have that primitive really nailed down, maybe people could do that.
01:06:52.094 - 01:06:54.282, Speaker D: But it's sort of a tangent from our discussion.
01:06:54.346 - 01:07:18.146, Speaker A: That would be super cool. You know what, actually it was the writing, it was the blog post for Blend which really nailed home. There was a section in there about assuming a more sophisticated supply side for Blend and I was like, man, that is probably the right assumption. Just to see it just written out like that something that had been gestating for a little while. I was like, that probably does seem like a pretty safe, good assumption.
01:07:18.178 - 01:07:41.022, Speaker D: That's right. I bet this is something we'll talk about more in future episodes. But I do think the existence of just one side is going to be retail and the other side is going to be professionalized. That as a rule. I think you maybe even said something to this effect in a previous recent episode, but I think it's often an important compromise to make.
01:07:41.156 - 01:08:30.426, Speaker A: Yeah, maybe to go off on a little bit of a tangent, but Eugene said this, and I do feel that the need is like market makers will be bridges. So this was a big takeaway that I had when I came back from ECC this year. This was one of the takeaways that I had, which is I think there are many different incentives out there right now for market makers to provide either temporary or sort of permanent fixes to cross chain interop that are very difficult today. And the phrase that I would use is market maker is actually warehouse risk. And that's at a high level what bridges do as well. They solve inventory problems across two different ecosystems and environments. We talked about it a little bit within the context of there's still friction, obviously interoperability between different chains.
01:08:30.426 - 01:09:16.080, Speaker A: An intense based architecture is a way to get around that, but it relies on market makers or builders or solvers or whatever you want to call it, standing in there and solving that inventory problem there's. Also, I don't really want to get too far into the weeds here, but also if we end up in some sort of ZK is the end game tech for Ethereum. And we do doug was getting into this with co process signatures and aggregated signatures and sort of the fixed costs of transaction go up, which is you're going to need big builders to do that as well. But all of this kind of points, this idea of market makers standing in and solving the fragmented, liquidity and different ecosystems that exist today, are you a believer in that idea as well, or what do you think about that idea?
01:09:16.930 - 01:10:26.466, Speaker D: Yeah, absolutely. I mean, I think in general, the best way to solve a problem often is just to create an incentive for it to be solved and open up a global competition for that. I think competition doesn't solve every problem and it can often cause problems. And in many ways Mev is a problem and competition is the cause of that problem. But yeah, in general I think a lot of problems could be addressed by just trying to say, okay, what if we just assume that someone will create a profit incentive for people to do it and then see if people come in and do that? And that's going to tend to lead to professionals doing it, but ultimately that might be okay, especially if it's a competitive market. And we got into this a bit with Doug on the call, but if you assume that if the existing competitors were to drop out that someone else would come in and take their place, that might be okay, even if there's currently some that are winning this game, because if they drop out, someone else comes in. We've seen some of this, I think, with various parts in Mevin building and block building and liquidity provision, this sort of big tournament where some players may be dominant at particular times, but ultimately it's so competitive that it is actually even if someone disappears, someone else will take their place.
01:10:26.648 - 01:11:21.750, Speaker A: Yeah, I was actually listening to a podcast done by Hart Lambert recently where he was describing some of the dynamics of treasury markets and there are very few participants, but it's actually an extremely competitive market with very tight pricing. And it's like an auction that's typically run between four participants. And in future episodes we'll get deep into the sort of auction theory and some of the different designs and how auctions can be run and the design decisions there. But it's something that gets debated about how many participants you really need to run a competitive one. And I think the takeaway that at least I've had thus far could reserve the right change amount, but it could be a relatively small number. Yeah, I guess just to close out, I did want to get your thoughts on what we talked about in terms of designing in gas constrained environments. I know that was a big motivator for Univ Four.
01:11:21.750 - 01:11:44.080, Speaker A: Even the Singleton contract Doug also shifted the architecture of ambient finance to be based on a single contract. I'd love to maybe because I think that kind of got lost in the Univ Four announcement amidst the hooks. But just talk a little bit about how you think about kind of the cost of gas when you're building as a Dex and how that informed maybe V Four.
01:11:44.610 - 01:12:43.842, Speaker D: Yeah, so the first thing I'll say is I think V Four is gas optimizations. While I think it's pretty important we're all kind of in like the it's it's still in the constant factor gas optimization range and so I think unless you get orders of magnitude of improvement in know, you're shaving off some points and it's necessary for it to stay competitive. But ultimately, I think it doesn't necessarily change that much about what kinds of models are competitive. And that's why, again, I still think the AMM model is dominant on ethereum and even on ethereum roll ups. Because just like you actually, if there's any cost at all to placing orders, often it's such a limited order book is a problem and you're not going to just shave off enough gas to do that. But yeah, I think it's really important in part because it's a competitive of game on chain and reducing the gas cost is really important for getting other volume. It also fixes almost every other problem or mitigates a lot of other problems.
01:12:43.842 - 01:13:27.286, Speaker D: Lever is reduced if you reduce the gas cost the amount of obviously swappers pay less but liquidity providers make more money. Ultimately it's one of the few kind of almost truly non zero sum optimizations you can make because and you also get more volume you actually have potentially we talked about this a bit same of like dead weight loss. The protocol might even make more money even if you're burning less ETH because you have less gas because just more volume is happening and there's more room on the chain for other stuff, other positive activities to go on. So I think one reason I think we keep a harbor on it is it feels like this is an area where the tech can really advance in a way that's really winner take all but everyone wins, win, win without revealing any trade secrets.
01:13:27.318 - 01:13:37.700, Speaker A: And have you ever looked at Solana as sort of a compelling environment where obviously the gas cost is much lower. I don't know how much you've paid attention there or if the focus of sort of you and paradigm is mostly still on.
01:13:38.470 - 01:14:46.710, Speaker D: I mean, I think we've looked pretty closely at Solana. I think it makes a lot of reasonable trade offs if your goal again is to max out throughput and I think it's remarkable in fact, how high you can get throughput if you just say that's the main thing we're going to prioritize I think one in the long run. I'm not actually sure and I maybe should have argued with Eugene a little more on this. I'm not sure it really changes the fact that you're working in ultimately this constrained environment because eventually you're going to just fill up this synchronous environment and you're going to in fact, for various mev reasons, you would really expect it to happen. And we've seen this happen with L2 certainly, is that no matter how much you just scale, no matter how much you sort of turn the throughput up, it's actually in the incentive of people to basically spam your chain until it's full and so they will. And so ultimately, I think unless you completely change the model, you're going to end up having to face these issues and I think they're kind of just like pre dealing with congestion. And of course Solana had its issues with congestion at times and I think it's somewhat past those, but I think if you end up with a lot of usage on a chain, you will end up with ultimately some congestion.
01:14:46.710 - 01:14:52.134, Speaker D: I think almost as a law of nature, just because competition will happen until there is congestion.
01:14:52.182 - 01:14:56.874, Speaker A: Solana has made some interesting strides on their local fee market, but I think.
01:14:56.912 - 01:15:22.110, Speaker D: In DEXs especially, there's reasons why the hot state will actually just get congested. So no matter how you solve it, I think there's this kind of quadrilemma where if you have permissionless, access, where anyone can trade on it, you have low transaction fees, and then you're just going to actually end up with and you have censorship resistance, then you're going to end up with denial of service attack effectively on it because everyone's going to be trying to trade at the exact same time.
01:15:22.180 - 01:15:33.974, Speaker A: I do wonder if Solana ends up changing their now we're getting into discussion about salon, but I do wonder if they end up changing their fee market. They already have, I think. I forget. Maybe it's not a priority fee, but it's something like a priority fee that you can pay for.
01:15:34.012 - 01:15:44.466, Speaker D: I think the fee market where you pay, where it's like state specific, I think is great, but I think you're still going to have that problem in DEXes eventually. I think it may be impossible to avoid in a decentralized blockchain.
01:15:44.578 - 01:16:07.740, Speaker A: Yeah, you might be right, Dan. This has been a ton of fun. This next episode we're actually going this was a good lead in because we talked a little bit about the ofa design space and intense and that's what we're going to be diving into in our next episode. So I don't know if there's a lot of people out there love that, but definitely the people who do are very passionate. So if that's for you guys, definitely tune in. So we'll see you next week.
