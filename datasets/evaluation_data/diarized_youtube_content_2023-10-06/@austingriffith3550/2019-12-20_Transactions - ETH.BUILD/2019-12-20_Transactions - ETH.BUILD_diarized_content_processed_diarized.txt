00:00:01.130 - 00:00:30.066, Speaker A: Good morning. Happy bow tie Friday. Today on ETH build, we're going to talk about transactions. So up until now, we sort of have these transactions being mined into blocks. Transactions in blocks packaged in blocks, mined into a chain. Right. So we want to talk about the packaging there, or at least what incentivizes the miner other than the block reward, to pull our transaction out of the pool and put it into a block and mine it onto the chain compared to other people in the pool.
00:00:30.066 - 00:01:00.858, Speaker A: Right. Thousands of people in the pool, they're sort of bidding, right. So that bid is with this fee. Right. So I could have some fee in my transaction that says like, okay, I'm Alice and I'm sending five to Bob, right? And our nuns is one the replay protection if you watch the distributed ledger episode. But also we will let whoever mines this take a fee of a nickel too. Keep a nickel for yourself, Sonny.
00:01:00.858 - 00:01:36.474, Speaker A: So basically Alice is sending five to bub, but also paying the miner a nickel to put it into the chain. Cool. Okay, so what does a transaction look like on, we've got, we won't have Bob and Alice anymore, right. We'll have addresses and the value is actually this would be in way not in ETh. And we'll kind of COVID that in a second also. And we're going to kind of have this fee that will be not in ETh either, but in guay. Right.
00:01:36.474 - 00:02:09.350, Speaker A: So this will be guay and this is five way. We'll talk about that in a second. But let's jump in and look at this transaction and kind of start messing around with it. So I've got an account and I'm going to just drop in a mnemonic there. And I'm hooked up to the Ethereum mainnet there. And then I'm also running this little module to go get the price data from coin market cap. So now when I see that I have 0.1
00:02:09.350 - 00:02:36.960, Speaker A: e, I want to multiply that by this number. So then I can just say I have a dollar amount. Right. And that's what we get out here when I hook that up. Okay, so this account, this mnemonic, it's a twelve word seed phrase that I've dropped in here, has $23 on eat. So what I'm going to do is we want to send some of that, right? We want to create a transaction and incentivize the miner to pick it up and put it on chain. So we'll plug our private key in here.
00:02:36.960 - 00:02:58.760, Speaker A: I'm missing the address here. Let's wire up the address while we're here. Cool. Okay, so now we need to send some to someone. So I'm actually going to duplicate this part. Actually, you know what, I'm going to want to know balance and everything. Let's grab all of that.
00:02:58.760 - 00:03:12.060, Speaker A: This is going to get kind of messy. Let me move it around here. Okay. So now I'm going to have two guys. I'm going to drop in. This guy's mnemonic here. It'll be a different guy.
00:03:12.060 - 00:03:35.902, Speaker A: And he probably, I bet he doesn't have $23. Something's not wired up right here. What's going on? Oh, I forgot to do this. I need to bring in the balance function. Okay. Now there's that guy that's going to go to $0. So I've got two characters here.
00:03:35.902 - 00:04:08.714, Speaker A: We can call these Alice and Bob if you want. And Alice is going to send with her private key some value to Bob. So I want to put Bob's address in there. All right. And let's see how this is starting to take shape here. All right, so we see that there's no from address here because it's going to be, remember, we're signing and recovering with our key pair. So it will package it up and it will sign it and then that'll go across the network.
00:04:08.714 - 00:04:32.146, Speaker A: No one can tamper with it. And on the other side, someone can recover it and find that it was indeed us that signed it. And so the from address is sort of derived. So also, let's just ignore gas right now. But we've got our two, we've got our from that's being derived right now. Our value is null because I haven't put anything in. But let's just put in a Honda.
00:04:32.146 - 00:04:44.666, Speaker A: Data is empty. Let's ignore that right now. Gas, ignore that right now. That's actually a limit. But gas price is what's important here. And that's what we're talking about. And what it is is it's at 4 billion, right? 4.1
00:04:44.666 - 00:05:08.626, Speaker A: billion, which is actually a gigaway. So we're at 4.1 guay. And that's just like, it's just doing that by default. What we want to do is sort of be more strategic about it and see what's going on on chain right now. And we can see that this last block, I'll call it 242, had 78 transactions. And the gas price ranged from 35 to, I think it was five.
00:05:08.626 - 00:05:39.754, Speaker A: So basically we would need to be above five to get mined into that block. So let's go back to the gas price here and put in 5.1. Right. Just a little bit more. Okay, so what I'm noticing here is we need to do a conversion to Guay. What did I do to Guay? And what that does is just turns that 5.1. And now if we see that, it turns it into that 5 billion, and I put that into my gas price.
00:05:39.754 - 00:06:02.078, Speaker A: All right, so now I guess we should talk about way too. So I'm sending 100. What, right. And so it's actually, since you don't do decimals in, it's an unsigned integer. Right. So there's no decimals. So what we do is we sort of have this idea that there are basically 18 decimals.
00:06:02.078 - 00:06:31.162, Speaker A: And then that's where one starts. Even though the value on chain would be this giant number we call that one Eth. Right. So one gui, one way. Right. Does that make sense how that's kind of divided up? What we need to do is also, so if we look at our GUI, it's that number, but what we want to do is go to way to make the transaction. What am I doing here? We go two way.
00:06:31.162 - 00:06:57.794, Speaker A: And so if I plug that 100 in here now I'm sending 100 ETH, which actually comes out to that. Right. And so I definitely don't have 100 ETH to send. So we'll have to look at this guy's balance. What is this guy's balance in ETH is zero, homie, holding. 00:18 we're going to send zero five or zero five, right? Yeah. And that in way comes out to this.
00:06:57.794 - 00:07:20.650, Speaker A: And you can see that, so we can see that these numbers are, since we don't have decimals, we kind of multiply them. Okay, so there we go. So we got our transaction ready to go. We've got Alice's private key plugged in here. She's going to send to Bob. She has 00:18 and we're going to send zero five. And we're ignoring everything else and saying that we're going to put in a gas price of five.
00:07:20.650 - 00:07:33.794, Speaker A: And so we need to sign that. Right. So when Alice chooses to sign that, it's going to shoot out here. And so we'll grab, well, let's just sign it. Let's just sign it and look at it. Right, cool. There it is.
00:07:33.794 - 00:07:59.382, Speaker A: There's a signed transaction so that can go across a network. No one can mess with it. On the other side, someone can derive that it was Alf signed it, and it will contain all this information of who we want to send to. And our gas to go to the miner. So what do we do with that? Well, we can go over to our blockchain block over here and grab the send function and plug that in there. And plug that in there. Now we've got a.
00:07:59.382 - 00:08:13.946, Speaker A: Whoops. Hey, what did I do? What have I done? This goes in here. Okay. So now we want to send that on chain. And when I click that, there we go. So it gives us a hash. So that is the hash of the transaction.
00:08:13.946 - 00:08:40.470, Speaker A: So basically I sent it to someone on this distributed network, right. And I said, hey, here's my transaction. And they gave me back the hash, or it's calculated from the transaction. I have a transaction hash. It goes out on the network. And then what's going to happen now is basically there's this pool of all these transactions of these people all bidding to get their transaction to go through. So we can go look at the block.
00:08:40.470 - 00:08:53.690, Speaker A: Looks like 50 point. What was the smallest? Five. Oh, we probably got in. Yeah. Okay. So now we want to query the blockchain. I bet it's already happened for our transaction.
00:08:53.690 - 00:09:09.866, Speaker A: And we'll throw in this hash. Cool. Yeah. Let's just put that on a timer. Yeah. Okay. Now this should show us our transaction.
00:09:09.866 - 00:09:24.398, Speaker A: And sure enough, yes. Block number. We'll just call it 258. Throw that in here. Let's go have a look. Let's go have a look. I'm going to sort by gas price, but reversed.
00:09:24.398 - 00:09:41.128, Speaker A: Whoa, what have I done? Sort by. So I want to look at the lowest to see how close I was to the bottom of the block there. Okay, so we can see. Yeah. Five. Look at us sneaking in there at 5.1. Yeah.
00:09:41.128 - 00:10:03.712, Speaker A: So there's old Alice, there's old bob, no data, but we can see that we're in there for five gwe. So there we go. We just sent a transaction. So the next thing to look at is sort of that data field. What's going on there? So we are sending value. We're able to bid on it. We're able to kind of get our transaction recognized on chain.
00:10:03.712 - 00:10:30.060, Speaker A: You can see that we just sent, Alice just sent Bob that $6. But let's look at one last thing here. And that is this data field. So we can send stuff along with our message. Right. And it's actually going to be in hex. So what should Alice send? So she's going to send another $6 over to Bob.
00:10:30.060 - 00:10:55.060, Speaker A: And if we look at that, let's just turn that into that. And she can be like, hey, Bob, come on. No, just, hey, Bob, we're just going to go, hey Bob. So here's, hey Bob, because we're about to put this on the Ethereum main net. What are we doing? Okay, there we go. There's haybob in hash. We're going to sign that transaction.
00:10:55.060 - 00:11:16.936, Speaker A: It'll give us a, send it out to a miner, it goes out to the network. You'll give us a hash back. And now we're watching for that to get my new dual block. And there it did. Radical. So now if we go check that block, we should hopefully. Oh man, I hit enter and it reloads.
00:11:16.936 - 00:11:55.034, Speaker A: That's what's going on. Okay, so here is our block. Where's the dude rolling the 5.1? There it is. Okay, so it went again, but now check it out. We sent a little data along and let's even go a step further and let's look at the price that we paid for it for the last piece of this. So I'm going to copy Bob's address and I'm going to go to, okay, here are the two transactions on ether scan.
00:11:55.034 - 00:12:32.806, Speaker A: So from Alice to Bob, five ether, which is $6, sent for that one penny transaction fee, which was 5.1 guay. Okay, so we basically crafted a transaction. We signed it, we sent it out to the network. Within that transaction, there was this gas price that we were willing to pay and that incentivized the miner to mine it into the chain of blocks. Then we did another transaction where we sent along some input data along with this. So we sent the $6.37
00:12:32.806 - 00:13:04.920, Speaker A: from Alice to Bob, but also we said, hey Bob. Hey Bob. So we said hi to Bob. We brought some data along with the transaction. And there's all sorts of really cool stuff we can do now that we kind of have this call data coming along with it, and we'll get to smart contracts and a lot of fun stuff later. Let's look at one last transaction. So I just put this transaction from Alice to bob into the transaction pool, but with point .1
00:13:04.920 - 00:13:37.162, Speaker A: guay for my gas price. And so it's sitting there unmind, right, like it's sitting in the transaction pool. We can see that it's pending if we go look at the transaction pool. There we go. So I have a node running, a full node running, and I can talk to that locally and you can just use the TX pool in the web three section. But basically we can see where my transaction is sitting here. We can see my gas.
00:13:37.162 - 00:13:56.870, Speaker A: But if we look at this, we can see that the pool is between one and 300. But if we look at the latest blocks that are being mined, the smallest amount is like five, right? So we're just not incentivizing the miners enough. So we need to resubmit this transaction. Let's bump it up to ten. Let's go big. So that's way more than it needs to be. Probably.
00:13:56.870 - 00:14:25.402, Speaker A: But we'll resign the same transaction with the same nonce, but with a new higher gas price. And the network will say, oh, this guy's like same guy, same transaction, is willing to pay more. Let's see if we see it. Update over here on the, basically I'm signing this and putting it out on the network and say I'm willing to that transaction. Well, I'll pay some more for it. Right. And it'll speed it up hopefully.
00:14:25.402 - 00:14:41.410, Speaker A: And hopefully we'll see it get mined into the next block here. We'll see. So we're at 365. So hopefully ten was enough, right? Let's see if it got mined yet. No, not yet. So we're still waiting for it to get mined. Come on blockchain.
00:14:41.410 - 00:14:59.830, Speaker A: There it is. Okay, so it got mined into block 366. Cool. And there goes 367 already. But that was it. We sent a transaction. We paid some gas to incentivize the miner, to put it into the chain.
00:14:59.830 - 00:15:11.500, Speaker A: Fun time had by all. Happy bow tie Friday. Thanks for checking out. Eat, build. This was transactions. We'll get into some really fun smart contract stuff and some other side quests soon. Thank you.
