00:00:00.410 - 00:00:38.570, Speaker A: Welcome back. We're going to discuss now dex aggregators. While in the previous lectures we have looked at DEXes or decentralized exchanges in isolation. Now we're going to look at how to aggregate them. So how to merge them together. So what is the dex aggregator? Well, users may ask where do I get the best price for a particular trade? It so if you think of this picture here as this being a particular exchange like this one, and this is another exchange. So users could directly go there and trade assets.
00:00:38.570 - 00:01:11.218, Speaker A: But instead why don't we build here this aggregator who sources liquidity from all these different exchanges and merges them so that the user is basically going here telling to the exchange aggregator would like to exchange those assets. And then the exchange aggregator finds the best routes, finds the best liquidity, the lowest prices, the lowest commissions, et cetera. So users really are interested in the deepest liquidity in order to pay the.
00:01:11.224 - 00:01:13.810, Speaker B: Lowest slippage on their trades.
00:01:14.470 - 00:02:12.230, Speaker A: So there are overall two types of aggregators that are currently prevalent. They're so called off chain aggregators like One Inch and Paraswap. So these are websites where you can go and you have your browser wallet or your crypto wallet in your browser activated and they're quite flexible. So you can do trades across multiple chains and they're very quick also in determining your optimal trade. So the disadvantage of such aggregators is that operators can front run users because the operator is a trusted third person here, which is in the middle between the exchange and the user. And the off chain aggregation is typically performed off chain, as the name suggests. So the computation of the trade with the optimal parameters is not performed on chain and can therefore not always be optimal.
00:02:12.230 - 00:02:43.570, Speaker A: Then there are onchain aggregators like Swapswap is an example of this. They are much less famous at the moment than off chain aggregators. But they do have some key advantages. For example, they allow you to perform atomic routing and arbitrage which is provably optimal on chain. So the smart contract basically does everything for you. You don't have a middleman there. There's basically a very small likelihood of being front run, so it's technically a little bit safer.
00:02:43.570 - 00:03:33.938, Speaker A: However, they don't scale as much as the off chain variants, so they're unlikely to efficiently cover many more exchanges in parallel. So what about one inch? So One Inch here you can see a web interface here on One Inch, right? This explains to you where you can, for example, exchange Ether and I. On this particular market you basically input the amount that you would like to exchange. So in this particular example, we are asking to exchange one Ether at market order. So that's not limit order, but there's the support for some limit order. So let's look here into the market order and One Inch tells you that we are getting about 2300 die back.
00:03:34.024 - 00:03:35.810, Speaker B: For this particular trade.
00:03:36.230 - 00:03:50.646, Speaker A: Now it will also show you here a list of the various exchanges where you can perform this trade. So you, for example, have here the indicator that One Inch is apparently the.
00:03:50.668 - 00:03:53.090, Speaker B: Best source for this particular trade.
00:03:53.170 - 00:04:07.754, Speaker A: If you go to uniswap version three you get the same exact conversion rate. But if you go to uniswap version two, you do have a minus zero point 15% worth exchange rate for this.
00:04:07.792 - 00:04:11.322, Speaker B: Particular swap at this particular liquidity.
00:04:11.386 - 00:05:02.070, Speaker A: Obviously you always have to take into account the amount of coins that you want to swap. So the UI of one inch is really beautifully verbose. You can see a lot of data, you can analyze which markets might be better for you. You can also choose to go directly to these websites, right, if you want to pay less gas price, for instance. So it's quite intuitive, quite flexible, gives you a lot of power to understand what you're doing. What I also quite like about this is it actually explains you which route is taken, right? So, you know, here, for example, this is the particular route that's being taken for your swap. There might be more complicated routes that emerge depending on the swap that you're enacting.
00:05:02.070 - 00:05:32.114, Speaker A: And yeah, feel free to try it out yourself and to just play with some numbers and you will see what One Inch proposes to you. So one thing that we kind of see here is that there's no arbitrage being performed. So your trade might open up an arbitrage opportunity since you're swapping assets and you're changing liquidity on one exchange. So another exchange might open, might therefore basically create or there will be another market where there's an arbitrage opportunity created.
00:05:32.162 - 00:05:34.390, Speaker B: Due to your swap.
00:05:34.730 - 00:06:18.274, Speaker A: So this is something that you might want to take into account because you're not taking the arbitrage opportunity with you. So this aggregator does help you to do some aggregation, but it might not actually ARP everything out. So you might leave some money on the table in the stricter sense. Swap swap is a recent emerging on chain aggregator which aggregates two DEXes. So that's not much, but it's a beginning. So you have Uniswap and SushiSwap that's being aggregated, there's no particular UI change for the user. So you have here a standard uniswap UI.
00:06:18.274 - 00:07:12.770, Speaker A: So you do not really see at the moment what advantages you get, what financial advantage you get out of this aggregator. But in theory you should get better prices than on uniswap and SushiSwap since you're aggregating the liquidity together. So the beautiful thing is that it basically routes swap if there's a smart contract, if the smart contract deems this to be profitable. So the smart contract will decide on execution at execution time, whether this should be now routed or not. And it does perform arbitrage with flash loans, so it does not leave money on the table. So if profitable, it will create even a flash loan for you. On the fly, transparently in the background, and perform all this in the smart contract.
00:07:12.770 - 00:07:29.570, Speaker A: Thank you very much for your attention. So next time you hit an exchange, think about maybe visiting some aggregators, checking the prices there. Maybe they're cheaper, maybe not. And just try around a little bit, especially if you want to exchange larger amounts. Bye.
