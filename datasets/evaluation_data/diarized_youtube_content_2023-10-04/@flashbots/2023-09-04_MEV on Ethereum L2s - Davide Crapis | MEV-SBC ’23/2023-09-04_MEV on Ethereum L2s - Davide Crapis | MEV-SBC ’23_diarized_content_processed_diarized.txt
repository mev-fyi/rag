00:00:00.330 - 00:00:07.902, Speaker A: You. Hello. So I'm going to talk about mev on ethereum layer two.
00:00:07.902 - 00:00:32.710, Speaker A: So I work mainly on fee markets and mev on layer one. But lately I've been very interested on what's happening on L Two for mainly two reasons decided to talk about this. Like one, it's a very interesting design space that is different from L One and I feel that it's underexplored and two is obviously very important for ethereum scaling.
00:00:32.710 - 00:00:48.298, Speaker A: So, a rough outline. I'm first going to talk about the properties of like mature and sound roll up that I will define. Then I'm going to talk about two types of mev on layer two.
00:00:48.298 - 00:01:08.354, Speaker A: One I call macro mev and the other one micro mev for a reason that will become clear. And then I'm going to discuss some ways to mitigate both of this. So first I want to introduce this concept of safe and sound roll up.
00:01:08.354 - 00:01:29.210, Speaker A: So essentially we want some properties for these roll up systems. And the first type of properties are mainly security properties that Mm two roll up inherits for the L One. These are like reorg resistance, data availability, validity and eventual censorship resistant.
00:01:29.210 - 00:01:56.402, Speaker A: And there is mechanisms for this that different rollups are implementing. For example, Ford's inclusion gives you eventual censorship resistance but it doesn't give you the real time censorship resistance that was even discussed in a previous talk. But really we want sound roll up so we just don't want the security that they needed from L One.
00:01:56.402 - 00:02:17.154, Speaker A: We also want some other properties that initially I was going to call like economic fairness properties. But fairness is a little bit loaded term so maybe I'll call them economic equity. But essentially what you want is that one property is real time censorship resistance.
00:02:17.154 - 00:02:38.030, Speaker A: So like I'm going to define this shortly. The other one is rent resistance. So what is real time censorship resistance? So you want user transaction to get included in a timely manner compatible with the honest behavior, the honest operation of the system.
00:02:38.030 - 00:02:54.180, Speaker A: So in particular the operator cannot arbitrarily delay a transaction causing an economic harm to the user. So the other property is rent resistance. So users should pay the minimum cost compatible with efficient operation of the system.
00:02:54.180 - 00:03:20.426, Speaker A: And in particular it should be impossible for the operator or a third party to extract Sdrns. This is the usual argument for mev also another one. So before going in detail into these properties and how they relate to mev, I'm just going to introduce this stylistic model for how I think about roll up system.
00:03:20.426 - 00:03:53.330, Speaker A: So you have this system DL Two where there is a separation of roles between the operators of the system. So here we have sequencers that are responsible for building blocks or like sequencing transaction and they post the block or the data batch to L One, then proposer who's responsible for executing and updating the state route on L One. And then the provers that essentially check validity.
00:03:53.330 - 00:04:04.054, Speaker A: The proof may be optional for optimistic roll ups. Well, it's required for ZK roll ups and of course the set of smart contract on L One. But then there is other parties.
00:04:04.054 - 00:04:36.200, Speaker A: So there is governance which essentially is the structure that is designing the L Two system and upgrading potentially the L Two system. And then of course there is users that in a roll up centric world they interact with the L Two system and then they'll eventually be secured by L One. So essentially users are kind of like the key actor here in this economic flow for both.
00:04:36.200 - 00:05:04.400, Speaker A: Especially when we look at economic properties such as real time censorship resistance and rent resistance. So here essentially I'm going to break down the costs that the user incurs when he sends a transaction on the L Two. So like the user pays some L Two fees that include some operational cost that in some way will be paid to the operator of the system.
00:05:04.400 - 00:05:35.350, Speaker A: Then there is the data cost that is paid to the L One whenever data is posted. Then there is the congestion cost which is coming from the L Two congestion fee which is necessary for essentially like efficient resource allocation in the system. And then there is this thing that I call macro mev which is essentially the mev that the operator can extract from manipulating fees.
00:05:35.350 - 00:06:05.202, Speaker A: And then of course beyond the L Two fees the user may incur some additional economic cost from transaction ordering and extraction. So this micromev is like transactional ordering is like what many talks have focused on. And I believe in the next talk Ed will focus specifically on transaction ordering on L Two.
00:06:05.202 - 00:06:34.874, Speaker A: So I won't focus much on this but I just want to mention that essentially a couple of short remarks let's say. So first one is that essentially the operator that has control over the order of transaction has opportunity to extract value from user. And the way that so far these L Two systems have been instantiated is a bit different from layer one.
00:06:34.874 - 00:07:22.090, Speaker A: So like early instantiation of roll ups they enshrined time based ordering which it's a very opinionated way of ordering transaction. And it seems that now some of them are considering market mechanisms or at least hybrid market and time based mechanism that are a bit more flexible. So they reduce the incentives to engage in latency arm race to some extent not fully, then they can potentially scale better if one wants to decentralize the sequencer role and then they open the door for more flexible extraction and redistribution.
00:07:22.090 - 00:07:42.518, Speaker A: For example, there could be like a supply chain and other mechanism being deployed. But what I really want to focus on is this macro mev. So like what the operator or other parties can extract by essentially manipulating the fees.
00:07:42.518 - 00:08:03.746, Speaker A: And there are essentially three main ways that I think this can be done and we'll need to guard against. So the first one is indirect fee manipulation. So anyone can manipulate the fee by increasing the volume of transaction or decreasing the volume of transaction.
00:08:03.746 - 00:08:44.610, Speaker A: In case where there is a mechanism where a congestion fee dynamically updates and this type of manipulation can be different to attribute. So like potential solutions for this in the case of L two essentially is about the design of the congestion fee and how it gets allocated. And another interesting one that I will talk about that is not available on the L one is governance could decide some incentive compatible contracts to raise the cost of increasing or decreasing volume for the operator.
00:08:44.610 - 00:09:20.830, Speaker A: So the second one is direct fee manipulation by the sequencer. So here essentially there is like a principal agent problem between the governance and the operator. So why do I think that this is kind of relevant? In the L two case while we don't talk about this much on L one is like the L two fee is more complex than the L one base fee and usually the L two systems are less decentralized than the L one system.
00:09:20.830 - 00:09:39.490, Speaker A: So in some case they are centralized and essentially the sequencer has more power. So essentially on the complexity aspect the L two fee is essentially like two main parts. Like one is the data fee and one is the congestion fee.
00:09:39.490 - 00:10:10.250, Speaker A: So the data fee needs to be estimated in advance because usually the majority of the cost is incurred at a later time. And essentially there is algorithms or heuristic that try to estimate both the cost of the transaction in term of gas and also the price that will be paid for each unit of gas. And then the congestion fee it's also under the control of the operator.
00:10:10.250 - 00:11:06.318, Speaker A: So essentially there is a bigger surface to either manipulate the fee entirely, but this may be taken care of with some observability but there is also the potential to discriminate between user when given access to full information of how this system behaves. So potential solutions is again related to writing contract between the governance layer and the operator. Or another way is set up observability and remediation where in the case of a small operator set for example like a committee can be essentially related to governance.
00:11:06.318 - 00:11:38.422, Speaker A: Or one could try to decentralize more to have more guarantees and maybe needs to set up some incentive in a proof of stake type protocol. But again here essentially the roll up becomes tends to the L one setup. So the final type of manipulation I want to talk about is like fee market design manipulation.
00:11:38.422 - 00:12:22.090, Speaker A: So essentially this is kind of a community governance principal agent problem or like some people call this governance attack. So the governance has the ability to change the parameters of the fee market. For example, if you assume that this roll up system is using an EIP 1559 style fee, the governance could increase the target or the limit and essentially in theory they could artificially limit capacity or fail to update in response to increased demand.
00:12:22.090 - 00:13:02.238, Speaker A: So essentially this is something that can potentially raise the cost, increase the rent depending on how the fee is allocated. So potential solution for this is transparent participated and align governance and essentially like flagging fee market changes as high stakes decision that may require some increased governance process to be passed. Yeah, so essentially this is kind of a summary of the potential manipulations.
00:13:02.238 - 00:13:34.300, Speaker A: And I guess my main goal was first to essentially highlight that security and economic equity risks for roll ups are very different than the base layer and that roll ups inherit L one security. But in order to be sound, they also need to mitigate real time censorship, parent destruction, which they cannot inherit from the L one. They need to manage.
00:13:34.300 - 00:14:13.160, Speaker A: And then it seems a common principle, a common design principle is the separation of roles in this system. And then maybe like the other main message is that each problem has more than one solution path. It's a different design problem than L one because on top of market mechanisms there is also governance, there is like service agreements with operator and decentralization is, let's say a tool in the pocket to achieve these economic equity properties, but it's not the only one.
00:14:13.160 - 00:14:58.518, Speaker A: So in particular, when adapting some of this solution, there is a performance security trade off that the operator of this system need to take into account. Thank you. Hey, David.
00:14:58.694 - 00:15:14.080, Speaker B: Great talk. Do you see a role for a rollup's own token in these attacks that you described? Like does it prevent rent extraction or censorship resistance or does it prevent censorship or does it maybe enhance these things?
00:15:15.970 - 00:15:49.450, Speaker A: Yeah, I mean the roll up native token is usually used as governance token. So definitely maybe referring back to Phil's talk about power decentralization and the fact that it's kind of the most important in the hierarchy of decentralization. If there is extreme concentration in the governance token, then the type of attacks such as the governance attacks that I described maybe become more likely.
00:15:49.450 - 00:16:10.890, Speaker A: Definitely. I feel that in governance systems we are at the early stage of research. We are employing some mechanisms that seem okay, but they are not very sophisticated.
00:16:10.890 - 00:16:20.050, Speaker A: So it seems that is a theme that recurs in roll up in Staking. So probably we need to devote some more time and research to that.
00:16:20.120 - 00:16:21.700, Speaker B: Yeah, nice, thank you.
00:16:22.790 - 00:16:32.310, Speaker C: Do you have any thoughts about besides the mev attacks on governance that you mentioned? Do you have thoughts about the ways in which the activities of governance could expose mev?
00:16:36.670 - 00:16:45.450, Speaker A: Can you say more around who would be able to extract mev from these governance activities?
00:16:45.610 - 00:17:00.610, Speaker C: Yes, I'm wondering about particularly votes in which that are highly valuable. So there's this action that will be taken on chain that will expose value. In a way I'm wondering what the mev dynamics around those votes going on chain might look like.
00:17:00.680 - 00:17:30.780, Speaker A: So you are thinking about potential, even markets for votes? Yeah, I haven't thought about this much, but it's definitely like another direction that we can imagine that it will be there if this governance decision are high stakes. I just was highlighting one of them related to Fee market, but yeah, there is potentially many others and okay, thank you, David. Cool.
